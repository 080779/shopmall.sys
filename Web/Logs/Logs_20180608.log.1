2018-06-08 16:18:39,843 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:18:39,855 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-06-08 16:18:39,856 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:18:39 +08:00

2018-06-08 16:18:39,857 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:18:39,857 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:18:39,857 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:18:39 +08:00

2018-06-08 16:18:39,858 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:18:39 +08:00

2018-06-08 16:18:39,858 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:18:39,858 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:18:39,858 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '44' (Type = Int64, IsNullable = false)

2018-06-08 16:18:39,858 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:18:39 +08:00

2018-06-08 16:18:39,861 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-06-08 16:18:39,861 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:18:39,861 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:18:39 +08:00

2018-06-08 16:18:39,862 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:18:39 +08:00

2018-06-08 16:18:39,862 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:18:39,862 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:18:39,862 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '42' (Type = Int64, IsNullable = false)

2018-06-08 16:18:39,862 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:18:39 +08:00

2018-06-08 16:18:39,864 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-06-08 16:18:39,865 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:18:39,865 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:18:39 +08:00

2018-06-08 16:18:39,865 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:18:39 +08:00

2018-06-08 16:18:39,865 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:18:39,865 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:18:39,865 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-06-08 16:18:39,865 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:18:39 +08:00

2018-06-08 16:18:39,867 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:18:39,867 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:18:39,867 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:18:39 +08:00

2018-06-08 16:22:20,147 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:22:20 +08:00

2018-06-08 16:22:20,160 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：
SELECT Count(*)
FROM INFORMATION_SCHEMA.TABLES AS t
WHERE t.TABLE_SCHEMA + '.' + t.TABLE_NAME IN ('dbo.T_AdminLogs','dbo.T_Admins','dbo.T_Permissions','dbo.T_PermissionTypes','dbo.T_IntegralTypes','dbo.T_Journals','dbo.T_PlatformUsers','dbo.T_PlatformUserTypes','dbo.T_JournalTypes','dbo.T_NavBars','dbo.T_Settings','dbo.T_SettingTypes','dbo.T_States','dbo.T_TakeCashes','dbo.T_AdminPermissions')
    OR t.TABLE_NAME = 'EdmMetadata'
2018-06-08 16:22:20,160 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:22:20,160 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:22:20 +08:00

2018-06-08 16:22:20,179 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 19 ms with result: 15

2018-06-08 16:22:20,179 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:22:20,179 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:22:20 +08:00

2018-06-08 16:22:20,315 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:22:20 +08:00

2018-06-08 16:22:20,401 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[__MigrationHistory] AS [Extent1]
        WHERE [Extent1].[ContextKey] = @p__linq__0
    )  AS [GroupBy1]
2018-06-08 16:22:20,401 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:22:20,401 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'IMS.Service.MyDbContext' (Type = String, Size = 4000)

2018-06-08 16:22:20,401 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:22:20 +08:00

2018-06-08 16:22:20,485 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Failed in 83 ms with error: 对象名 'dbo.__MigrationHistory' 无效。

2018-06-08 16:22:20,485 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:22:20,486 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:22:20 +08:00

2018-06-08 16:22:20,487 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:22:20 +08:00

2018-06-08 16:22:20,488 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[__MigrationHistory] AS [Extent1]
    )  AS [GroupBy1]
2018-06-08 16:22:20,488 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:22:20,488 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:22:20 +08:00

2018-06-08 16:22:20,511 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Failed in 22 ms with error: 对象名 'dbo.__MigrationHistory' 无效。

2018-06-08 16:22:20,511 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:22:20,511 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:22:20 +08:00

2018-06-08 16:22:20,573 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:22:20 +08:00

2018-06-08 16:22:20,649 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_Admins] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-06-08 16:22:20,649 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:22:20,649 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'admin' (Type = String, Size = 4000)

2018-06-08 16:22:20,649 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:22:20 +08:00

2018-06-08 16:22:20,665 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 15 ms with result: SqlDataReader

2018-06-08 16:22:20,665 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:22:20,669 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:22:20 +08:00

2018-06-08 16:22:20,676 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:22:20 +08:00

2018-06-08 16:22:20,698 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-06-08 16:22:20,698 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:22:20,698 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'PlatformUser201805051709360001' (Type = String, Size = 4000)

2018-06-08 16:22:20,698 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:22:20 +08:00

2018-06-08 16:22:20,702 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2018-06-08 16:22:20,702 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:22:20,710 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:22:20 +08:00

2018-06-08 16:22:20,712 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:22:20 +08:00

2018-06-08 16:22:20,722 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:22:20,722 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:22:20,722 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-06-08 16:22:20,722 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:22:20 +08:00

2018-06-08 16:22:20,756 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 33 ms with result: SqlDataReader

2018-06-08 16:22:20,756 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:22:20,760 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:22:20 +08:00

2018-06-08 16:22:21,055 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:22:21 +08:00

2018-06-08 16:22:21,057 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_Admins] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2018-06-08 16:22:21,057 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:22:21,057 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '4' (Type = Int64, IsNullable = false)

2018-06-08 16:22:21,057 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:22:21 +08:00

2018-06-08 16:22:21,062 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 4 ms with result: SqlDataReader

2018-06-08 16:22:21,062 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:22:21,064 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:22:21 +08:00

2018-06-08 16:22:21,069 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:22:21 +08:00

2018-06-08 16:22:21,098 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[PermissionTypeId] AS [PermissionTypeId], 
    [Extent2].[CreateTime] AS [CreateTime], 
    [Extent2].[IsDeleted] AS [IsDeleted]
    FROM  [dbo].[T_AdminPermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[AdminId] = [Extent2].[Id]
    WHERE [Extent1].[PermissionId] = @EntityKeyValue1
2018-06-08 16:22:21,098 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:22:21,098 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '4' (Type = Int64, IsNullable = false)

2018-06-08 16:22:21,098 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:22:21 +08:00

2018-06-08 16:22:21,116 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 18 ms with result: SqlDataReader

2018-06-08 16:22:21,116 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:22:21,119 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:22:21 +08:00

2018-06-08 16:22:23,661 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:22:23 +08:00

2018-06-08 16:22:23,675 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Admins] AS [Extent1]
        WHERE 0 = [Extent1].[IsDeleted]
    )  AS [GroupBy1]
2018-06-08 16:22:23,675 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:22:23,675 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:22:23 +08:00

2018-06-08 16:22:23,676 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:22:23,676 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:22:23,684 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:22:23 +08:00

2018-06-08 16:22:23,686 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:22:23 +08:00

2018-06-08 16:22:23,688 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Filter1].[Id] AS [Id], 
    [Filter1].[Mobile] AS [Mobile], 
    [Filter1].[Description] AS [Description], 
    [Filter1].[Salt] AS [Salt], 
    [Filter1].[Password] AS [Password], 
    [Filter1].[IsEnabled] AS [IsEnabled], 
    [Filter1].[CreateTime] AS [CreateTime], 
    [Filter1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Extent1].[Id] AS [Id], [Extent1].[Mobile] AS [Mobile], [Extent1].[Description] AS [Description], [Extent1].[Salt] AS [Salt], [Extent1].[Password] AS [Password], [Extent1].[IsEnabled] AS [IsEnabled], [Extent1].[CreateTime] AS [CreateTime], [Extent1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Extent1].[CreateTime] DESC) AS [row_number]
        FROM [dbo].[T_Admins] AS [Extent1]
        WHERE 0 = [Extent1].[IsDeleted]
    )  AS [Filter1]
    WHERE [Filter1].[row_number] > 0
    ORDER BY [Filter1].[CreateTime] DESC
2018-06-08 16:22:23,688 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:22:23,688 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:22:23 +08:00

2018-06-08 16:22:23,691 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-06-08 16:22:23,691 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:22:23,691 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:22:23 +08:00

2018-06-08 16:22:23,693 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:22:23 +08:00

2018-06-08 16:22:23,693 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[PermissionTypeId] AS [PermissionTypeId], 
    [Extent2].[CreateTime] AS [CreateTime], 
    [Extent2].[IsDeleted] AS [IsDeleted]
    FROM  [dbo].[T_AdminPermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[AdminId] = [Extent2].[Id]
    WHERE [Extent1].[PermissionId] = @EntityKeyValue1
2018-06-08 16:22:23,693 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:22:23,693 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '22' (Type = Int64, IsNullable = false)

2018-06-08 16:22:23,693 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:22:23 +08:00

2018-06-08 16:22:23,713 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 20 ms with result: SqlDataReader

2018-06-08 16:22:23,713 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:22:23,714 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:22:23 +08:00

2018-06-08 16:22:23,714 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:22:23 +08:00

2018-06-08 16:22:23,714 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[PermissionTypeId] AS [PermissionTypeId], 
    [Extent2].[CreateTime] AS [CreateTime], 
    [Extent2].[IsDeleted] AS [IsDeleted]
    FROM  [dbo].[T_AdminPermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[AdminId] = [Extent2].[Id]
    WHERE [Extent1].[PermissionId] = @EntityKeyValue1
2018-06-08 16:22:23,714 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:22:23,714 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '5' (Type = Int64, IsNullable = false)

2018-06-08 16:22:23,714 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:22:23 +08:00

2018-06-08 16:22:23,727 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 13 ms with result: SqlDataReader

2018-06-08 16:22:23,727 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:22:23,728 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:22:23 +08:00

2018-06-08 16:22:23,728 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:22:23 +08:00

2018-06-08 16:22:23,728 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[PermissionTypeId] AS [PermissionTypeId], 
    [Extent2].[CreateTime] AS [CreateTime], 
    [Extent2].[IsDeleted] AS [IsDeleted]
    FROM  [dbo].[T_AdminPermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[AdminId] = [Extent2].[Id]
    WHERE [Extent1].[PermissionId] = @EntityKeyValue1
2018-06-08 16:22:23,728 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:22:23,728 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '4' (Type = Int64, IsNullable = false)

2018-06-08 16:22:23,728 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:22:23 +08:00

2018-06-08 16:22:23,747 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 19 ms with result: SqlDataReader

2018-06-08 16:22:23,747 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:22:23,748 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:22:23 +08:00

2018-06-08 16:22:23,752 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:22:23 +08:00

2018-06-08 16:22:23,760 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PermissionTypes] AS [Extent1]
    WHERE 0 = [Extent1].[IsDeleted]
2018-06-08 16:22:23,760 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:22:23,760 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:22:23 +08:00

2018-06-08 16:22:23,763 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2018-06-08 16:22:23,763 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:22:23,765 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:22:23 +08:00

2018-06-08 16:22:23,771 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:22:23 +08:00

2018-06-08 16:22:23,772 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PermissionTypeId] AS [PermissionTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_Permissions] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PermissionTypeId] = @p__linq__0)
2018-06-08 16:22:23,772 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:22:23,772 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2018-06-08 16:22:23,772 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:22:23 +08:00

2018-06-08 16:22:23,776 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2018-06-08 16:22:23,776 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:22:23,777 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:22:23 +08:00

2018-06-08 16:22:23,779 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:22:23 +08:00

2018-06-08 16:22:23,780 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PermissionTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:22:23,780 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:22:23,780 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-06-08 16:22:23,780 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:22:23 +08:00

2018-06-08 16:22:23,807 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 27 ms with result: SqlDataReader

2018-06-08 16:22:23,807 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:22:23,808 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:22:23 +08:00

2018-06-08 16:22:23,810 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:22:23 +08:00

2018-06-08 16:22:23,810 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PermissionTypeId] AS [PermissionTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_Permissions] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PermissionTypeId] = @p__linq__0)
2018-06-08 16:22:23,810 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:22:23,810 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64, IsNullable = false)

2018-06-08 16:22:23,810 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:22:23 +08:00

2018-06-08 16:22:23,812 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:22:23,812 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:22:23,813 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:22:23 +08:00

2018-06-08 16:22:23,813 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:22:23 +08:00

2018-06-08 16:22:23,813 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PermissionTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:22:23,813 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:22:23,813 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-06-08 16:22:23,813 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:22:23 +08:00

2018-06-08 16:22:23,824 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 11 ms with result: SqlDataReader

2018-06-08 16:22:23,824 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:22:23,825 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:22:23 +08:00

2018-06-08 16:22:23,825 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:22:23 +08:00

2018-06-08 16:22:23,826 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PermissionTypeId] AS [PermissionTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_Permissions] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PermissionTypeId] = @p__linq__0)
2018-06-08 16:22:23,826 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:22:23,826 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '3' (Type = Int64, IsNullable = false)

2018-06-08 16:22:23,826 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:22:23 +08:00

2018-06-08 16:22:23,827 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:22:23,827 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:22:23,828 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:22:23 +08:00

2018-06-08 16:22:23,828 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:22:23 +08:00

2018-06-08 16:22:23,828 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PermissionTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:22:23,828 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:22:23,828 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-06-08 16:22:23,828 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:22:23 +08:00

2018-06-08 16:22:23,840 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 11 ms with result: SqlDataReader

2018-06-08 16:22:23,840 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:22:23,840 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:22:23 +08:00

2018-06-08 16:22:23,841 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:22:23 +08:00

2018-06-08 16:22:23,841 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PermissionTypeId] AS [PermissionTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_Permissions] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PermissionTypeId] = @p__linq__0)
2018-06-08 16:22:23,841 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:22:23,841 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '4' (Type = Int64, IsNullable = false)

2018-06-08 16:22:23,841 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:22:23 +08:00

2018-06-08 16:22:23,843 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:22:23,843 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:22:23,843 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:22:23 +08:00

2018-06-08 16:22:23,843 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:22:23 +08:00

2018-06-08 16:22:23,843 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PermissionTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:22:23,843 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:22:23,843 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '4' (Type = Int64, IsNullable = false)

2018-06-08 16:22:23,843 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:22:23 +08:00

2018-06-08 16:22:23,856 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 12 ms with result: SqlDataReader

2018-06-08 16:22:23,856 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:22:23,856 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:22:23 +08:00

2018-06-08 16:22:23,857 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:22:23 +08:00

2018-06-08 16:22:23,858 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PermissionTypeId] AS [PermissionTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_Permissions] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PermissionTypeId] = @p__linq__0)
2018-06-08 16:22:23,858 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:22:23,858 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '5' (Type = Int64, IsNullable = false)

2018-06-08 16:22:23,858 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:22:23 +08:00

2018-06-08 16:22:23,859 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:22:23,859 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:22:23,860 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:22:23 +08:00

2018-06-08 16:22:23,860 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:22:23 +08:00

2018-06-08 16:22:23,860 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PermissionTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:22:23,860 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:22:23,860 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '5' (Type = Int64, IsNullable = false)

2018-06-08 16:22:23,860 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:22:23 +08:00

2018-06-08 16:22:23,871 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 11 ms with result: SqlDataReader

2018-06-08 16:22:23,871 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:22:23,872 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:22:23 +08:00

2018-06-08 16:22:38,094 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:22:38 +08:00

2018-06-08 16:22:38,095 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_Admins] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2018-06-08 16:22:38,095 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:22:38,095 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '4' (Type = Int64, IsNullable = false)

2018-06-08 16:22:38,095 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:22:38 +08:00

2018-06-08 16:22:38,118 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 23 ms with result: SqlDataReader

2018-06-08 16:22:38,118 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:22:38,118 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:22:38 +08:00

2018-06-08 16:22:38,119 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:22:38 +08:00

2018-06-08 16:22:38,123 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[PermissionTypeId] AS [PermissionTypeId], 
    [Extent2].[CreateTime] AS [CreateTime], 
    [Extent2].[IsDeleted] AS [IsDeleted]
    FROM  [dbo].[T_AdminPermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[AdminId] = [Extent2].[Id]
    WHERE [Extent1].[PermissionId] = @EntityKeyValue1
2018-06-08 16:22:38,123 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:22:38,123 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '4' (Type = Int64, IsNullable = false)

2018-06-08 16:22:38,123 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:22:38 +08:00

2018-06-08 16:22:38,136 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 12 ms with result: SqlDataReader

2018-06-08 16:22:38,136 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:22:38,136 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:22:38 +08:00

2018-06-08 16:22:41,680 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:22:41 +08:00

2018-06-08 16:22:41,681 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-06-08 16:22:41,681 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:22:41,681 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'admin' (Type = String, Size = 4000)

2018-06-08 16:22:41,681 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:22:41 +08:00

2018-06-08 16:22:41,684 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2018-06-08 16:22:41,684 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:22:41,703 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:22:41 +08:00

2018-06-08 16:22:41,703 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:22:41 +08:00

2018-06-08 16:22:41,703 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:22:41,703 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:22:41,703 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-06-08 16:22:41,703 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:22:41 +08:00

2018-06-08 16:22:41,717 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 13 ms with result: SqlDataReader

2018-06-08 16:22:41,717 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:22:41,717 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:22:41 +08:00

2018-06-08 16:30:19,575 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:30:19 +08:00

2018-06-08 16:30:19,586 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：
SELECT Count(*)
FROM INFORMATION_SCHEMA.TABLES AS t
WHERE t.TABLE_SCHEMA + '.' + t.TABLE_NAME IN ('dbo.T_AdminLogs','dbo.T_Admins','dbo.T_Permissions','dbo.T_PermissionTypes','dbo.T_IntegralTypes','dbo.T_Journals','dbo.T_PlatformUsers','dbo.T_PlatformUserTypes','dbo.T_JournalTypes','dbo.T_NavBars','dbo.T_Settings','dbo.T_SettingTypes','dbo.T_States','dbo.T_TakeCashes','dbo.T_AdminPermissions')
    OR t.TABLE_NAME = 'EdmMetadata'
2018-06-08 16:30:19,586 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:30:19,587 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:30:19 +08:00

2018-06-08 16:30:19,589 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: 15

2018-06-08 16:30:19,589 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:30:19,589 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:30:19 +08:00

2018-06-08 16:30:19,659 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:30:19 +08:00

2018-06-08 16:30:19,730 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[__MigrationHistory] AS [Extent1]
        WHERE [Extent1].[ContextKey] = @p__linq__0
    )  AS [GroupBy1]
2018-06-08 16:30:19,730 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:30:19,730 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'IMS.Service.MyDbContext' (Type = String, Size = 4000)

2018-06-08 16:30:19,730 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:30:19 +08:00

2018-06-08 16:30:19,733 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Failed in 3 ms with error: 对象名 'dbo.__MigrationHistory' 无效。

2018-06-08 16:30:19,733 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:30:19,734 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:30:19 +08:00

2018-06-08 16:30:19,734 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:30:19 +08:00

2018-06-08 16:30:19,736 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[__MigrationHistory] AS [Extent1]
    )  AS [GroupBy1]
2018-06-08 16:30:19,736 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:30:19,736 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:30:19 +08:00

2018-06-08 16:30:19,738 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Failed in 1 ms with error: 对象名 'dbo.__MigrationHistory' 无效。

2018-06-08 16:30:19,738 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:30:19,738 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:30:19 +08:00

2018-06-08 16:30:19,772 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:30:19 +08:00

2018-06-08 16:30:19,820 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_Admins] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-06-08 16:30:19,820 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:30:19,820 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'admin' (Type = String, Size = 4000)

2018-06-08 16:30:19,821 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:30:19 +08:00

2018-06-08 16:30:19,824 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-06-08 16:30:19,824 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:30:19,828 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:30:19 +08:00

2018-06-08 16:30:19,832 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:30:19 +08:00

2018-06-08 16:30:19,850 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-06-08 16:30:19,851 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:30:19,851 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'PlatformUser201805051709360001' (Type = String, Size = 4000)

2018-06-08 16:30:19,851 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:30:19 +08:00

2018-06-08 16:30:19,854 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2018-06-08 16:30:19,854 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:30:19,860 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:30:19 +08:00

2018-06-08 16:30:19,862 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:30:19 +08:00

2018-06-08 16:30:19,870 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:30:19,871 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:30:19,871 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-06-08 16:30:19,871 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:30:19 +08:00

2018-06-08 16:30:19,872 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:30:19,872 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:30:19,876 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:30:19 +08:00

2018-06-08 16:30:20,032 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:30:20 +08:00

2018-06-08 16:30:20,033 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_Admins] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2018-06-08 16:30:20,034 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:30:20,034 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '4' (Type = Int64, IsNullable = false)

2018-06-08 16:30:20,034 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:30:20 +08:00

2018-06-08 16:30:20,035 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:30:20,035 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:30:20,037 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:30:20 +08:00

2018-06-08 16:30:20,039 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:30:20 +08:00

2018-06-08 16:30:20,058 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[PermissionTypeId] AS [PermissionTypeId], 
    [Extent2].[CreateTime] AS [CreateTime], 
    [Extent2].[IsDeleted] AS [IsDeleted]
    FROM  [dbo].[T_AdminPermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[AdminId] = [Extent2].[Id]
    WHERE [Extent1].[PermissionId] = @EntityKeyValue1
2018-06-08 16:30:20,058 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:30:20,058 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '4' (Type = Int64, IsNullable = false)

2018-06-08 16:30:20,058 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:30:20 +08:00

2018-06-08 16:30:20,060 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-06-08 16:30:20,060 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:30:20,063 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:30:20 +08:00

2018-06-08 16:30:23,436 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:30:23 +08:00

2018-06-08 16:30:23,452 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Admins] AS [Extent1]
        WHERE 0 = [Extent1].[IsDeleted]
    )  AS [GroupBy1]
2018-06-08 16:30:23,452 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:30:23,452 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:30:23 +08:00

2018-06-08 16:30:23,453 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:30:23,453 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:30:23,467 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:30:23 +08:00

2018-06-08 16:30:23,469 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:30:23 +08:00

2018-06-08 16:30:23,471 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Filter1].[Id] AS [Id], 
    [Filter1].[Mobile] AS [Mobile], 
    [Filter1].[Description] AS [Description], 
    [Filter1].[Salt] AS [Salt], 
    [Filter1].[Password] AS [Password], 
    [Filter1].[IsEnabled] AS [IsEnabled], 
    [Filter1].[CreateTime] AS [CreateTime], 
    [Filter1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Extent1].[Id] AS [Id], [Extent1].[Mobile] AS [Mobile], [Extent1].[Description] AS [Description], [Extent1].[Salt] AS [Salt], [Extent1].[Password] AS [Password], [Extent1].[IsEnabled] AS [IsEnabled], [Extent1].[CreateTime] AS [CreateTime], [Extent1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Extent1].[CreateTime] DESC) AS [row_number]
        FROM [dbo].[T_Admins] AS [Extent1]
        WHERE 0 = [Extent1].[IsDeleted]
    )  AS [Filter1]
    WHERE [Filter1].[row_number] > 0
    ORDER BY [Filter1].[CreateTime] DESC
2018-06-08 16:30:23,471 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:30:23,471 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:30:23 +08:00

2018-06-08 16:30:23,473 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-06-08 16:30:23,473 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:30:23,473 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:30:23 +08:00

2018-06-08 16:30:23,474 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:30:23 +08:00

2018-06-08 16:30:23,474 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[PermissionTypeId] AS [PermissionTypeId], 
    [Extent2].[CreateTime] AS [CreateTime], 
    [Extent2].[IsDeleted] AS [IsDeleted]
    FROM  [dbo].[T_AdminPermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[AdminId] = [Extent2].[Id]
    WHERE [Extent1].[PermissionId] = @EntityKeyValue1
2018-06-08 16:30:23,474 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:30:23,474 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '22' (Type = Int64, IsNullable = false)

2018-06-08 16:30:23,474 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:30:23 +08:00

2018-06-08 16:30:23,476 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:30:23,476 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:30:23,476 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:30:23 +08:00

2018-06-08 16:30:23,477 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:30:23 +08:00

2018-06-08 16:30:23,477 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[PermissionTypeId] AS [PermissionTypeId], 
    [Extent2].[CreateTime] AS [CreateTime], 
    [Extent2].[IsDeleted] AS [IsDeleted]
    FROM  [dbo].[T_AdminPermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[AdminId] = [Extent2].[Id]
    WHERE [Extent1].[PermissionId] = @EntityKeyValue1
2018-06-08 16:30:23,477 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:30:23,477 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '5' (Type = Int64, IsNullable = false)

2018-06-08 16:30:23,477 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:30:23 +08:00

2018-06-08 16:30:23,478 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:30:23,478 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:30:23,479 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:30:23 +08:00

2018-06-08 16:30:23,479 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:30:23 +08:00

2018-06-08 16:30:23,479 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[PermissionTypeId] AS [PermissionTypeId], 
    [Extent2].[CreateTime] AS [CreateTime], 
    [Extent2].[IsDeleted] AS [IsDeleted]
    FROM  [dbo].[T_AdminPermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[AdminId] = [Extent2].[Id]
    WHERE [Extent1].[PermissionId] = @EntityKeyValue1
2018-06-08 16:30:23,479 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:30:23,479 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '4' (Type = Int64, IsNullable = false)

2018-06-08 16:30:23,479 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:30:23 +08:00

2018-06-08 16:30:23,481 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:30:23,481 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:30:23,482 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:30:23 +08:00

2018-06-08 16:30:23,485 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:30:23 +08:00

2018-06-08 16:30:23,493 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PermissionTypes] AS [Extent1]
    WHERE 0 = [Extent1].[IsDeleted]
2018-06-08 16:30:23,493 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:30:23,493 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:30:23 +08:00

2018-06-08 16:30:23,495 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:30:23,495 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:30:23,497 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:30:23 +08:00

2018-06-08 16:30:23,502 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:30:23 +08:00

2018-06-08 16:30:23,503 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PermissionTypeId] AS [PermissionTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_Permissions] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PermissionTypeId] = @p__linq__0)
2018-06-08 16:30:23,503 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:30:23,503 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2018-06-08 16:30:23,503 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:30:23 +08:00

2018-06-08 16:30:23,515 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 12 ms with result: SqlDataReader

2018-06-08 16:30:23,516 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:30:23,518 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:30:23 +08:00

2018-06-08 16:30:23,522 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:30:23 +08:00

2018-06-08 16:30:23,523 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PermissionTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:30:23,524 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:30:23,524 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-06-08 16:30:23,524 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:30:23 +08:00

2018-06-08 16:30:23,525 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:30:23,525 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:30:23,527 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:30:23 +08:00

2018-06-08 16:30:23,528 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:30:23 +08:00

2018-06-08 16:30:23,528 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PermissionTypeId] AS [PermissionTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_Permissions] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PermissionTypeId] = @p__linq__0)
2018-06-08 16:30:23,528 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:30:23,528 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64, IsNullable = false)

2018-06-08 16:30:23,528 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:30:23 +08:00

2018-06-08 16:30:23,530 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:30:23,530 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:30:23,530 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:30:23 +08:00

2018-06-08 16:30:23,531 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:30:23 +08:00

2018-06-08 16:30:23,531 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PermissionTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:30:23,531 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:30:23,531 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-06-08 16:30:23,531 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:30:23 +08:00

2018-06-08 16:30:23,532 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:30:23,532 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:30:23,532 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:30:23 +08:00

2018-06-08 16:30:23,533 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:30:23 +08:00

2018-06-08 16:30:23,533 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PermissionTypeId] AS [PermissionTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_Permissions] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PermissionTypeId] = @p__linq__0)
2018-06-08 16:30:23,533 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:30:23,533 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '3' (Type = Int64, IsNullable = false)

2018-06-08 16:30:23,533 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:30:23 +08:00

2018-06-08 16:30:23,544 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 10 ms with result: SqlDataReader

2018-06-08 16:30:23,544 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:30:23,544 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:30:23 +08:00

2018-06-08 16:30:23,544 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:30:23 +08:00

2018-06-08 16:30:23,544 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PermissionTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:30:23,544 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:30:23,544 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-06-08 16:30:23,544 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:30:23 +08:00

2018-06-08 16:30:23,546 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:30:23,546 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:30:23,546 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:30:23 +08:00

2018-06-08 16:30:23,547 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:30:23 +08:00

2018-06-08 16:30:23,547 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PermissionTypeId] AS [PermissionTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_Permissions] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PermissionTypeId] = @p__linq__0)
2018-06-08 16:30:23,547 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:30:23,547 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '4' (Type = Int64, IsNullable = false)

2018-06-08 16:30:23,547 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:30:23 +08:00

2018-06-08 16:30:23,556 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 8 ms with result: SqlDataReader

2018-06-08 16:30:23,556 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:30:23,557 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:30:23 +08:00

2018-06-08 16:30:23,557 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:30:23 +08:00

2018-06-08 16:30:23,557 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PermissionTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:30:23,557 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:30:23,557 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '4' (Type = Int64, IsNullable = false)

2018-06-08 16:30:23,557 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:30:23 +08:00

2018-06-08 16:30:23,559 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:30:23,559 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:30:23,559 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:30:23 +08:00

2018-06-08 16:30:23,560 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:30:23 +08:00

2018-06-08 16:30:23,560 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PermissionTypeId] AS [PermissionTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_Permissions] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PermissionTypeId] = @p__linq__0)
2018-06-08 16:30:23,560 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:30:23,560 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '5' (Type = Int64, IsNullable = false)

2018-06-08 16:30:23,560 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:30:23 +08:00

2018-06-08 16:30:23,563 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-06-08 16:30:23,563 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:30:23,563 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:30:23 +08:00

2018-06-08 16:30:23,563 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:30:23 +08:00

2018-06-08 16:30:23,563 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PermissionTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:30:23,563 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:30:23,563 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '5' (Type = Int64, IsNullable = false)

2018-06-08 16:30:23,563 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:30:23 +08:00

2018-06-08 16:30:23,565 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:30:23,565 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:30:23,565 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:30:23 +08:00

2018-06-08 16:30:24,764 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:30:24 +08:00

2018-06-08 16:30:24,764 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_Admins] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2018-06-08 16:30:24,764 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:30:24,765 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '4' (Type = Int64, IsNullable = false)

2018-06-08 16:30:24,765 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:30:24 +08:00

2018-06-08 16:30:24,766 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:30:24,766 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:30:24,767 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:30:24 +08:00

2018-06-08 16:30:24,767 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:30:24 +08:00

2018-06-08 16:30:24,767 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[PermissionTypeId] AS [PermissionTypeId], 
    [Extent2].[CreateTime] AS [CreateTime], 
    [Extent2].[IsDeleted] AS [IsDeleted]
    FROM  [dbo].[T_AdminPermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[AdminId] = [Extent2].[Id]
    WHERE [Extent1].[PermissionId] = @EntityKeyValue1
2018-06-08 16:30:24,767 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:30:24,767 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '4' (Type = Int64, IsNullable = false)

2018-06-08 16:30:24,767 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:30:24 +08:00

2018-06-08 16:30:24,769 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:30:24,769 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:30:24,770 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:30:24 +08:00

2018-06-08 16:30:24,771 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:30:24 +08:00

2018-06-08 16:30:24,771 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-06-08 16:30:24,771 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:30:24,771 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'admin' (Type = String, Size = 4000)

2018-06-08 16:30:24,771 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:30:24 +08:00

2018-06-08 16:30:24,777 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 5 ms with result: SqlDataReader

2018-06-08 16:30:24,777 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:30:24,777 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:30:24 +08:00

2018-06-08 16:30:24,777 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:30:24 +08:00

2018-06-08 16:30:24,777 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:30:24,777 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:30:24,777 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-06-08 16:30:24,777 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:30:24 +08:00

2018-06-08 16:30:24,779 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:30:24,779 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:30:24,779 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:30:24 +08:00

2018-06-08 16:30:24,788 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:30:24 +08:00

2018-06-08 16:30:24,796 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-06-08 16:30:24,796 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:30:24,796 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:30:24 +08:00

2018-06-08 16:30:24,798 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:30:24,798 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:30:24,799 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:30:24 +08:00

2018-06-08 16:30:24,799 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:30:24 +08:00

2018-06-08 16:30:24,800 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-06-08 16:30:24,800 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:30:24,800 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:30:24 +08:00

2018-06-08 16:30:24,802 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:30:24,802 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:30:24,802 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:30:24 +08:00

2018-06-08 16:30:24,815 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:30:24 +08:00

2018-06-08 16:30:24,830 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM  [dbo].[T_Journals] AS [Extent1]
        INNER JOIN [dbo].[T_IntegralTypes] AS [Extent2] ON [Extent1].[IntegralTypeId] = [Extent2].[Id]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] <> [Extent1].[ToPlatformUserId]) AND (N'平台积分' = [Extent2].[Name]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1)
    )  AS [GroupBy1]
2018-06-08 16:30:24,830 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:30:24,830 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '44' (Type = Int64)

2018-06-08 16:30:24,830 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2' (Type = Int64, IsNullable = false)

2018-06-08 16:30:24,830 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:30:24 +08:00

2018-06-08 16:30:24,837 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 7 ms with result: SqlDataReader

2018-06-08 16:30:24,837 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:30:24,845 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:30:24 +08:00

2018-06-08 16:30:24,848 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:30:24 +08:00

2018-06-08 16:30:24,850 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM  [dbo].[T_Journals] AS [Extent1]
        INNER JOIN [dbo].[T_IntegralTypes] AS [Extent2] ON [Extent1].[IntegralTypeId] = [Extent2].[Id]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] <> [Extent1].[ToPlatformUserId]) AND (N'平台积分' = [Extent2].[Name]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1)
    )  AS [GroupBy1]
2018-06-08 16:30:24,850 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:30:24,850 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '44' (Type = Int64)

2018-06-08 16:30:24,850 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '3' (Type = Int64, IsNullable = false)

2018-06-08 16:30:24,850 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:30:24 +08:00

2018-06-08 16:30:24,855 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 4 ms with result: SqlDataReader

2018-06-08 16:30:24,855 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:30:24,855 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:30:24 +08:00

2018-06-08 16:30:24,856 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:30:24 +08:00

2018-06-08 16:30:24,859 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM  [dbo].[T_Journals] AS [Extent1]
        INNER JOIN [dbo].[T_IntegralTypes] AS [Extent2] ON [Extent1].[IntegralTypeId] = [Extent2].[Id]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] <> [Extent1].[ToPlatformUserId]) AND (N'平台积分' = [Extent2].[Name]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
    )  AS [GroupBy1]
2018-06-08 16:30:24,859 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:30:24,859 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '44' (Type = Int64)

2018-06-08 16:30:24,859 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:30:24 +08:00

2018-06-08 16:30:24,861 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:30:24,861 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:30:24,861 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:30:24 +08:00

2018-06-08 16:30:24,863 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:30:24 +08:00

2018-06-08 16:30:24,905 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM  [dbo].[T_Journals] AS [Extent1]
            INNER JOIN [dbo].[T_IntegralTypes] AS [Extent2] ON [Extent1].[IntegralTypeId] = [Extent2].[Id]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] <> [Extent1].[ToPlatformUserId]) AND (N'平台积分' = [Extent2].[Name]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-06-08 16:30:24,905 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:30:24,905 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '44' (Type = Int64)

2018-06-08 16:30:24,905 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:30:24 +08:00

2018-06-08 16:30:24,909 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 4 ms with result: SqlDataReader

2018-06-08 16:30:24,909 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:30:24,921 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:30:24 +08:00

2018-06-08 16:30:24,926 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:30:24 +08:00

2018-06-08 16:30:24,936 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:30:24,936 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:30:24,936 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-06-08 16:30:24,936 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:30:24 +08:00

2018-06-08 16:30:24,938 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:30:24,938 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:30:24,942 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:30:24 +08:00

2018-06-08 16:30:24,943 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:30:24 +08:00

2018-06-08 16:30:24,945 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:30:24,945 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:30:24,945 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-06-08 16:30:24,945 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:30:24 +08:00

2018-06-08 16:30:24,947 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-06-08 16:30:24,947 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:30:24,949 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:30:24 +08:00

2018-06-08 16:30:24,950 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:30:24 +08:00

2018-06-08 16:30:24,951 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:30:24,951 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:30:24,951 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-06-08 16:30:24,951 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:30:24 +08:00

2018-06-08 16:30:24,952 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:30:24,952 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:30:24,954 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:30:24 +08:00

2018-06-08 16:30:24,955 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:30:24 +08:00

2018-06-08 16:30:24,956 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:30:24,956 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:30:24,956 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '44' (Type = Int64, IsNullable = false)

2018-06-08 16:30:24,956 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:30:24 +08:00

2018-06-08 16:30:24,958 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-06-08 16:30:24,958 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:30:24,959 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:30:24 +08:00

2018-06-08 16:30:24,960 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:30:24 +08:00

2018-06-08 16:30:24,960 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:30:24,960 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:30:24,960 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '42' (Type = Int64, IsNullable = false)

2018-06-08 16:30:24,960 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:30:24 +08:00

2018-06-08 16:30:24,962 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-06-08 16:30:24,962 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:30:24,962 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:30:24 +08:00

2018-06-08 16:30:24,963 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:30:24 +08:00

2018-06-08 16:30:24,963 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:30:24,963 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:30:24,963 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-06-08 16:30:24,963 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:30:24 +08:00

2018-06-08 16:30:24,964 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:30:24,964 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:30:24,964 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:30:24 +08:00

2018-06-08 16:30:41,994 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:30:41 +08:00

2018-06-08 16:30:41,994 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_Admins] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2018-06-08 16:30:41,994 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:30:41,994 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '22' (Type = Int64, IsNullable = false)

2018-06-08 16:30:41,994 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:30:41 +08:00

2018-06-08 16:30:42,035 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 39 ms with result: SqlDataReader

2018-06-08 16:30:42,035 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:30:42,035 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:30:42 +08:00

2018-06-08 16:30:42,035 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:30:42 +08:00

2018-06-08 16:30:42,035 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[PermissionTypeId] AS [PermissionTypeId], 
    [Extent2].[CreateTime] AS [CreateTime], 
    [Extent2].[IsDeleted] AS [IsDeleted]
    FROM  [dbo].[T_AdminPermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[AdminId] = [Extent2].[Id]
    WHERE [Extent1].[PermissionId] = @EntityKeyValue1
2018-06-08 16:30:42,035 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:30:42,035 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '22' (Type = Int64, IsNullable = false)

2018-06-08 16:30:42,035 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:30:42 +08:00

2018-06-08 16:30:42,037 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:30:42,037 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:30:42,037 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:30:42 +08:00

2018-06-08 16:30:42,038 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:30:42 +08:00

2018-06-08 16:30:42,038 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-06-08 16:30:42,038 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:30:42,038 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'admin1' (Type = String, Size = 4000)

2018-06-08 16:30:42,039 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:30:42 +08:00

2018-06-08 16:30:42,044 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 5 ms with result: SqlDataReader

2018-06-08 16:30:42,044 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:30:42,045 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:30:42 +08:00

2018-06-08 16:30:42,045 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:30:42 +08:00

2018-06-08 16:30:42,045 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:30:42,045 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:30:42,045 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-06-08 16:30:42,045 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:30:42 +08:00

2018-06-08 16:30:42,047 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:30:42,047 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:30:42,047 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:30:42 +08:00

2018-06-08 16:30:42,048 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:30:42 +08:00

2018-06-08 16:30:42,048 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-06-08 16:30:42,048 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:30:42,048 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:30:42 +08:00

2018-06-08 16:30:42,050 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:30:42,050 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:30:42,050 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:30:42 +08:00

2018-06-08 16:30:42,050 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:30:42 +08:00

2018-06-08 16:30:42,050 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-06-08 16:30:42,050 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:30:42,050 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:30:42 +08:00

2018-06-08 16:30:42,052 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:30:42,052 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:30:42,052 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:30:42 +08:00

2018-06-08 16:30:42,052 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:30:42 +08:00

2018-06-08 16:30:42,053 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM  [dbo].[T_Journals] AS [Extent1]
        INNER JOIN [dbo].[T_IntegralTypes] AS [Extent2] ON [Extent1].[IntegralTypeId] = [Extent2].[Id]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] <> [Extent1].[ToPlatformUserId]) AND (N'平台积分' = [Extent2].[Name]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1)
    )  AS [GroupBy1]
2018-06-08 16:30:42,053 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:30:42,053 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '43' (Type = Int64)

2018-06-08 16:30:42,053 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2' (Type = Int64, IsNullable = false)

2018-06-08 16:30:42,053 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:30:42 +08:00

2018-06-08 16:30:42,056 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2018-06-08 16:30:42,056 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:30:42,056 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:30:42 +08:00

2018-06-08 16:30:42,056 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:30:42 +08:00

2018-06-08 16:30:42,057 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM  [dbo].[T_Journals] AS [Extent1]
        INNER JOIN [dbo].[T_IntegralTypes] AS [Extent2] ON [Extent1].[IntegralTypeId] = [Extent2].[Id]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] <> [Extent1].[ToPlatformUserId]) AND (N'平台积分' = [Extent2].[Name]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1)
    )  AS [GroupBy1]
2018-06-08 16:30:42,057 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:30:42,057 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '43' (Type = Int64)

2018-06-08 16:30:42,057 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '3' (Type = Int64, IsNullable = false)

2018-06-08 16:30:42,057 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:30:42 +08:00

2018-06-08 16:30:42,060 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2018-06-08 16:30:42,060 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:30:42,061 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:30:42 +08:00

2018-06-08 16:30:42,061 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:30:42 +08:00

2018-06-08 16:30:42,061 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM  [dbo].[T_Journals] AS [Extent1]
        INNER JOIN [dbo].[T_IntegralTypes] AS [Extent2] ON [Extent1].[IntegralTypeId] = [Extent2].[Id]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] <> [Extent1].[ToPlatformUserId]) AND (N'平台积分' = [Extent2].[Name]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
    )  AS [GroupBy1]
2018-06-08 16:30:42,061 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:30:42,061 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '43' (Type = Int64)

2018-06-08 16:30:42,061 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:30:42 +08:00

2018-06-08 16:30:42,063 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:30:42,063 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:30:42,063 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:30:42 +08:00

2018-06-08 16:30:42,064 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:30:42 +08:00

2018-06-08 16:30:42,064 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM  [dbo].[T_Journals] AS [Extent1]
            INNER JOIN [dbo].[T_IntegralTypes] AS [Extent2] ON [Extent1].[IntegralTypeId] = [Extent2].[Id]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] <> [Extent1].[ToPlatformUserId]) AND (N'平台积分' = [Extent2].[Name]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-06-08 16:30:42,064 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:30:42,064 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '43' (Type = Int64)

2018-06-08 16:30:42,064 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:30:42 +08:00

2018-06-08 16:30:42,068 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2018-06-08 16:30:42,068 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:30:42,068 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:30:42 +08:00

2018-06-08 16:30:42,068 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:30:42 +08:00

2018-06-08 16:30:42,068 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:30:42,068 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:30:42,069 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-06-08 16:30:42,069 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:30:42 +08:00

2018-06-08 16:30:42,070 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:30:42,070 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:30:42,071 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:30:42 +08:00

2018-06-08 16:30:42,071 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:30:42 +08:00

2018-06-08 16:30:42,071 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:30:42,071 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:30:42,071 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '43' (Type = Int64, IsNullable = false)

2018-06-08 16:30:42,071 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:30:42 +08:00

2018-06-08 16:30:42,073 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-06-08 16:30:42,073 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:30:42,074 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:30:42 +08:00

2018-06-08 16:30:42,074 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:30:42 +08:00

2018-06-08 16:30:42,074 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:30:42,074 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:30:42,074 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '42' (Type = Int64, IsNullable = false)

2018-06-08 16:30:42,074 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:30:42 +08:00

2018-06-08 16:30:42,077 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-06-08 16:30:42,077 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:30:42,077 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:30:42 +08:00

2018-06-08 16:30:42,077 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:30:42 +08:00

2018-06-08 16:30:42,078 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:30:42,078 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:30:42,078 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-06-08 16:30:42,078 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:30:42 +08:00

2018-06-08 16:30:42,079 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:30:42,079 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:30:42,079 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:30:42 +08:00

2018-06-08 16:30:45,182 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:30:45 +08:00

2018-06-08 16:30:45,182 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_Admins] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2018-06-08 16:30:45,182 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:30:45,182 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '5' (Type = Int64, IsNullable = false)

2018-06-08 16:30:45,183 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:30:45 +08:00

2018-06-08 16:30:45,184 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:30:45,184 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:30:45,185 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:30:45 +08:00

2018-06-08 16:30:45,185 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:30:45 +08:00

2018-06-08 16:30:45,185 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[PermissionTypeId] AS [PermissionTypeId], 
    [Extent2].[CreateTime] AS [CreateTime], 
    [Extent2].[IsDeleted] AS [IsDeleted]
    FROM  [dbo].[T_AdminPermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[AdminId] = [Extent2].[Id]
    WHERE [Extent1].[PermissionId] = @EntityKeyValue1
2018-06-08 16:30:45,185 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:30:45,185 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '5' (Type = Int64, IsNullable = false)

2018-06-08 16:30:45,185 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:30:45 +08:00

2018-06-08 16:30:45,187 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:30:45,187 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:30:45,187 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:30:45 +08:00

2018-06-08 16:30:45,187 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:30:45 +08:00

2018-06-08 16:30:45,188 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-06-08 16:30:45,188 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:30:45,188 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'system' (Type = String, Size = 4000)

2018-06-08 16:30:45,188 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:30:45 +08:00

2018-06-08 16:30:45,190 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-06-08 16:30:45,191 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:30:45,192 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:30:45 +08:00

2018-06-08 16:30:45,195 [6] ERROR IMS.Web.App_Start.Filter.SYSExceptionFilter - 出现未处理异常：System.NullReferenceException: 未将对象引用设置到对象的实例。
   在 IMS.Web.Areas.Admin.Controllers.AdminController.<GetJournal>d__29.MoveNext() 位置 F:\201804\NN18042518\Web\Areas\Admin\Controllers\AdminController.cs:行号 165
--- 引发异常的上一位置中堆栈跟踪的末尾 ---
   在 System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   在 System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   在 System.Web.Mvc.Async.TaskAsyncActionDescriptor.EndExecute(IAsyncResult asyncResult)
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.<>c__DisplayClass37.<BeginInvokeAsynchronousActionMethod>b__36(IAsyncResult asyncResult)
   在 System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncResult`1.CallEndDelegate(IAsyncResult asyncResult)
   在 System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncResultBase`1.End()
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.EndInvokeActionMethod(IAsyncResult asyncResult)
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.AsyncInvocationWithFilters.<InvokeActionMethodFilterAsynchronouslyRecursive>b__3d()
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.AsyncInvocationWithFilters.<>c__DisplayClass46.<InvokeActionMethodFilterAsynchronouslyRecursive>b__3f()
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.AsyncInvocationWithFilters.<>c__DisplayClass46.<InvokeActionMethodFilterAsynchronouslyRecursive>b__3f()
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.<>c__DisplayClass33.<BeginInvokeActionMethodWithFilters>b__32(IAsyncResult asyncResult)
   在 System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncResult`1.CallEndDelegate(IAsyncResult asyncResult)
   在 System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncResultBase`1.End()
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.EndInvokeActionMethodWithFilters(IAsyncResult asyncResult)
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.<>c__DisplayClass21.<>c__DisplayClass2b.<BeginInvokeAction>b__1c()
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.<>c__DisplayClass21.<BeginInvokeAction>b__1e(IAsyncResult asyncResult)
2018-06-08 16:32:38,182 [15] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:32:38 +08:00

2018-06-08 16:32:38,182 [15] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Admins] AS [Extent1]
        WHERE 0 = [Extent1].[IsDeleted]
    )  AS [GroupBy1]
2018-06-08 16:32:38,182 [15] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:32:38,182 [15] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:32:38 +08:00

2018-06-08 16:32:38,185 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-06-08 16:32:38,185 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:32:38,185 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:32:38 +08:00

2018-06-08 16:32:38,185 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:32:38 +08:00

2018-06-08 16:32:38,186 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Filter1].[Id] AS [Id], 
    [Filter1].[Mobile] AS [Mobile], 
    [Filter1].[Description] AS [Description], 
    [Filter1].[Salt] AS [Salt], 
    [Filter1].[Password] AS [Password], 
    [Filter1].[IsEnabled] AS [IsEnabled], 
    [Filter1].[CreateTime] AS [CreateTime], 
    [Filter1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Extent1].[Id] AS [Id], [Extent1].[Mobile] AS [Mobile], [Extent1].[Description] AS [Description], [Extent1].[Salt] AS [Salt], [Extent1].[Password] AS [Password], [Extent1].[IsEnabled] AS [IsEnabled], [Extent1].[CreateTime] AS [CreateTime], [Extent1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Extent1].[CreateTime] DESC) AS [row_number]
        FROM [dbo].[T_Admins] AS [Extent1]
        WHERE 0 = [Extent1].[IsDeleted]
    )  AS [Filter1]
    WHERE [Filter1].[row_number] > 0
    ORDER BY [Filter1].[CreateTime] DESC
2018-06-08 16:32:38,186 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:32:38,186 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:32:38 +08:00

2018-06-08 16:32:38,188 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-06-08 16:32:38,188 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:32:38,188 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:32:38 +08:00

2018-06-08 16:32:38,189 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:32:38 +08:00

2018-06-08 16:32:38,189 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[PermissionTypeId] AS [PermissionTypeId], 
    [Extent2].[CreateTime] AS [CreateTime], 
    [Extent2].[IsDeleted] AS [IsDeleted]
    FROM  [dbo].[T_AdminPermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[AdminId] = [Extent2].[Id]
    WHERE [Extent1].[PermissionId] = @EntityKeyValue1
2018-06-08 16:32:38,189 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:32:38,189 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '22' (Type = Int64, IsNullable = false)

2018-06-08 16:32:38,189 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:32:38 +08:00

2018-06-08 16:32:38,190 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:32:38,190 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:32:38,191 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:32:38 +08:00

2018-06-08 16:32:38,191 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:32:38 +08:00

2018-06-08 16:32:38,191 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[PermissionTypeId] AS [PermissionTypeId], 
    [Extent2].[CreateTime] AS [CreateTime], 
    [Extent2].[IsDeleted] AS [IsDeleted]
    FROM  [dbo].[T_AdminPermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[AdminId] = [Extent2].[Id]
    WHERE [Extent1].[PermissionId] = @EntityKeyValue1
2018-06-08 16:32:38,191 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:32:38,191 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '5' (Type = Int64, IsNullable = false)

2018-06-08 16:32:38,191 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:32:38 +08:00

2018-06-08 16:32:38,193 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:32:38,193 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:32:38,193 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:32:38 +08:00

2018-06-08 16:32:38,193 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:32:38 +08:00

2018-06-08 16:32:38,193 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[PermissionTypeId] AS [PermissionTypeId], 
    [Extent2].[CreateTime] AS [CreateTime], 
    [Extent2].[IsDeleted] AS [IsDeleted]
    FROM  [dbo].[T_AdminPermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[AdminId] = [Extent2].[Id]
    WHERE [Extent1].[PermissionId] = @EntityKeyValue1
2018-06-08 16:32:38,193 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:32:38,193 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '4' (Type = Int64, IsNullable = false)

2018-06-08 16:32:38,193 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:32:38 +08:00

2018-06-08 16:32:38,195 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:32:38,195 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:32:38,196 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:32:38 +08:00

2018-06-08 16:32:38,196 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:32:38 +08:00

2018-06-08 16:32:38,197 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PermissionTypes] AS [Extent1]
    WHERE 0 = [Extent1].[IsDeleted]
2018-06-08 16:32:38,197 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:32:38,197 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:32:38 +08:00

2018-06-08 16:32:38,198 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:32:38,198 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:32:38,198 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:32:38 +08:00

2018-06-08 16:32:38,199 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:32:38 +08:00

2018-06-08 16:32:38,199 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PermissionTypeId] AS [PermissionTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_Permissions] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PermissionTypeId] = @p__linq__0)
2018-06-08 16:32:38,199 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:32:38,199 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2018-06-08 16:32:38,199 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:32:38 +08:00

2018-06-08 16:32:38,201 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:32:38,201 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:32:38,202 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:32:38 +08:00

2018-06-08 16:32:38,202 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:32:38 +08:00

2018-06-08 16:32:38,202 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PermissionTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:32:38,202 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:32:38,202 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-06-08 16:32:38,202 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:32:38 +08:00

2018-06-08 16:32:38,204 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:32:38,204 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:32:38,204 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:32:38 +08:00

2018-06-08 16:32:38,205 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:32:38 +08:00

2018-06-08 16:32:38,205 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PermissionTypeId] AS [PermissionTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_Permissions] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PermissionTypeId] = @p__linq__0)
2018-06-08 16:32:38,205 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:32:38,205 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64, IsNullable = false)

2018-06-08 16:32:38,205 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:32:38 +08:00

2018-06-08 16:32:38,207 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:32:38,207 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:32:38,207 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:32:38 +08:00

2018-06-08 16:32:38,208 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:32:38 +08:00

2018-06-08 16:32:38,208 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PermissionTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:32:38,208 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:32:38,208 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-06-08 16:32:38,208 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:32:38 +08:00

2018-06-08 16:32:38,209 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:32:38,209 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:32:38,209 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:32:38 +08:00

2018-06-08 16:32:38,210 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:32:38 +08:00

2018-06-08 16:32:38,210 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PermissionTypeId] AS [PermissionTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_Permissions] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PermissionTypeId] = @p__linq__0)
2018-06-08 16:32:38,210 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:32:38,210 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '3' (Type = Int64, IsNullable = false)

2018-06-08 16:32:38,210 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:32:38 +08:00

2018-06-08 16:32:38,212 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:32:38,212 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:32:38,212 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:32:38 +08:00

2018-06-08 16:32:38,212 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:32:38 +08:00

2018-06-08 16:32:38,213 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PermissionTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:32:38,213 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:32:38,213 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-06-08 16:32:38,213 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:32:38 +08:00

2018-06-08 16:32:38,215 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:32:38,215 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:32:38,215 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:32:38 +08:00

2018-06-08 16:32:38,215 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:32:38 +08:00

2018-06-08 16:32:38,216 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PermissionTypeId] AS [PermissionTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_Permissions] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PermissionTypeId] = @p__linq__0)
2018-06-08 16:32:38,216 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:32:38,216 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '4' (Type = Int64, IsNullable = false)

2018-06-08 16:32:38,216 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:32:38 +08:00

2018-06-08 16:32:38,217 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:32:38,217 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:32:38,218 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:32:38 +08:00

2018-06-08 16:32:38,218 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:32:38 +08:00

2018-06-08 16:32:38,218 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PermissionTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:32:38,218 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:32:38,218 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '4' (Type = Int64, IsNullable = false)

2018-06-08 16:32:38,218 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:32:38 +08:00

2018-06-08 16:32:38,219 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:32:38,219 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:32:38,220 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:32:38 +08:00

2018-06-08 16:32:38,220 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:32:38 +08:00

2018-06-08 16:32:38,220 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PermissionTypeId] AS [PermissionTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_Permissions] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PermissionTypeId] = @p__linq__0)
2018-06-08 16:32:38,221 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:32:38,221 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '5' (Type = Int64, IsNullable = false)

2018-06-08 16:32:38,221 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:32:38 +08:00

2018-06-08 16:32:38,223 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-06-08 16:32:38,223 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:32:38,223 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:32:38 +08:00

2018-06-08 16:32:38,223 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:32:38 +08:00

2018-06-08 16:32:38,223 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PermissionTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:32:38,223 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:32:38,223 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '5' (Type = Int64, IsNullable = false)

2018-06-08 16:32:38,223 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:32:38 +08:00

2018-06-08 16:32:38,225 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:32:38,225 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:32:38,225 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:32:38 +08:00

2018-06-08 16:32:39,355 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:32:39 +08:00

2018-06-08 16:32:39,356 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_Admins] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2018-06-08 16:32:39,356 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:32:39,356 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '4' (Type = Int64, IsNullable = false)

2018-06-08 16:32:39,356 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:32:39 +08:00

2018-06-08 16:32:39,377 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 21 ms with result: SqlDataReader

2018-06-08 16:32:39,378 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:32:39,378 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:32:39 +08:00

2018-06-08 16:32:39,378 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:32:39 +08:00

2018-06-08 16:32:39,378 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[PermissionTypeId] AS [PermissionTypeId], 
    [Extent2].[CreateTime] AS [CreateTime], 
    [Extent2].[IsDeleted] AS [IsDeleted]
    FROM  [dbo].[T_AdminPermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[AdminId] = [Extent2].[Id]
    WHERE [Extent1].[PermissionId] = @EntityKeyValue1
2018-06-08 16:32:39,378 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:32:39,378 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '4' (Type = Int64, IsNullable = false)

2018-06-08 16:32:39,378 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:32:39 +08:00

2018-06-08 16:32:39,381 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2018-06-08 16:32:39,381 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:32:39,382 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:32:39 +08:00

2018-06-08 16:32:39,383 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:32:39 +08:00

2018-06-08 16:32:39,383 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-06-08 16:32:39,383 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:32:39,383 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'admin' (Type = String, Size = 4000)

2018-06-08 16:32:39,383 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:32:39 +08:00

2018-06-08 16:32:39,398 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 14 ms with result: SqlDataReader

2018-06-08 16:32:39,398 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:32:39,398 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:32:39 +08:00

2018-06-08 16:32:39,398 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:32:39 +08:00

2018-06-08 16:32:39,399 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:32:39,399 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:32:39,399 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-06-08 16:32:39,399 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:32:39 +08:00

2018-06-08 16:32:39,400 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:32:39,400 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:32:39,401 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:32:39 +08:00

2018-06-08 16:32:39,401 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:32:39 +08:00

2018-06-08 16:32:39,401 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-06-08 16:32:39,402 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:32:39,402 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:32:39 +08:00

2018-06-08 16:32:39,403 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:32:39,403 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:32:39,403 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:32:39 +08:00

2018-06-08 16:32:39,403 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:32:39 +08:00

2018-06-08 16:32:39,404 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-06-08 16:32:39,404 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:32:39,404 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:32:39 +08:00

2018-06-08 16:32:39,405 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:32:39,405 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:32:39,405 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:32:39 +08:00

2018-06-08 16:32:39,405 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:32:39 +08:00

2018-06-08 16:32:39,406 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM  [dbo].[T_Journals] AS [Extent1]
        INNER JOIN [dbo].[T_IntegralTypes] AS [Extent2] ON [Extent1].[IntegralTypeId] = [Extent2].[Id]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] <> [Extent1].[ToPlatformUserId]) AND (N'平台积分' = [Extent2].[Name]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1)
    )  AS [GroupBy1]
2018-06-08 16:32:39,406 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:32:39,406 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '44' (Type = Int64)

2018-06-08 16:32:39,406 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2' (Type = Int64, IsNullable = false)

2018-06-08 16:32:39,406 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:32:39 +08:00

2018-06-08 16:32:39,428 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 21 ms with result: SqlDataReader

2018-06-08 16:32:39,428 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:32:39,428 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:32:39 +08:00

2018-06-08 16:32:39,428 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:32:39 +08:00

2018-06-08 16:32:39,429 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM  [dbo].[T_Journals] AS [Extent1]
        INNER JOIN [dbo].[T_IntegralTypes] AS [Extent2] ON [Extent1].[IntegralTypeId] = [Extent2].[Id]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] <> [Extent1].[ToPlatformUserId]) AND (N'平台积分' = [Extent2].[Name]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1)
    )  AS [GroupBy1]
2018-06-08 16:32:39,429 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:32:39,429 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '44' (Type = Int64)

2018-06-08 16:32:39,429 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '3' (Type = Int64, IsNullable = false)

2018-06-08 16:32:39,429 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:32:39 +08:00

2018-06-08 16:32:39,470 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 40 ms with result: SqlDataReader

2018-06-08 16:32:39,470 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:32:39,470 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:32:39 +08:00

2018-06-08 16:32:39,470 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:32:39 +08:00

2018-06-08 16:32:39,471 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM  [dbo].[T_Journals] AS [Extent1]
        INNER JOIN [dbo].[T_IntegralTypes] AS [Extent2] ON [Extent1].[IntegralTypeId] = [Extent2].[Id]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] <> [Extent1].[ToPlatformUserId]) AND (N'平台积分' = [Extent2].[Name]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
    )  AS [GroupBy1]
2018-06-08 16:32:39,471 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:32:39,471 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '44' (Type = Int64)

2018-06-08 16:32:39,471 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:32:39 +08:00

2018-06-08 16:32:39,474 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-06-08 16:32:39,474 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:32:39,474 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:32:39 +08:00

2018-06-08 16:32:39,474 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:32:39 +08:00

2018-06-08 16:32:39,475 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM  [dbo].[T_Journals] AS [Extent1]
            INNER JOIN [dbo].[T_IntegralTypes] AS [Extent2] ON [Extent1].[IntegralTypeId] = [Extent2].[Id]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] <> [Extent1].[ToPlatformUserId]) AND (N'平台积分' = [Extent2].[Name]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-06-08 16:32:39,475 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:32:39,475 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '44' (Type = Int64)

2018-06-08 16:32:39,475 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:32:39 +08:00

2018-06-08 16:32:39,490 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 15 ms with result: SqlDataReader

2018-06-08 16:32:39,490 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:32:39,491 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:32:39 +08:00

2018-06-08 16:32:39,491 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:32:39 +08:00

2018-06-08 16:32:39,491 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:32:39,491 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:32:39,491 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-06-08 16:32:39,491 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:32:39 +08:00

2018-06-08 16:32:39,493 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:32:39,493 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:32:39,493 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:32:39 +08:00

2018-06-08 16:32:39,493 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:32:39 +08:00

2018-06-08 16:32:39,493 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:32:39,493 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:32:39,493 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-06-08 16:32:39,493 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:32:39 +08:00

2018-06-08 16:32:39,495 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:32:39,495 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:32:39,496 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:32:39 +08:00

2018-06-08 16:32:39,496 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:32:39 +08:00

2018-06-08 16:32:39,496 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:32:39,496 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:32:39,496 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-06-08 16:32:39,496 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:32:39 +08:00

2018-06-08 16:32:39,497 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:32:39,497 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:32:39,498 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:32:39 +08:00

2018-06-08 16:32:39,498 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:32:39 +08:00

2018-06-08 16:32:39,498 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:32:39,498 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:32:39,498 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '44' (Type = Int64, IsNullable = false)

2018-06-08 16:32:39,498 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:32:39 +08:00

2018-06-08 16:32:39,500 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:32:39,500 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:32:39,500 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:32:39 +08:00

2018-06-08 16:32:39,500 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:32:39 +08:00

2018-06-08 16:32:39,500 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:32:39,500 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:32:39,500 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '42' (Type = Int64, IsNullable = false)

2018-06-08 16:32:39,500 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:32:39 +08:00

2018-06-08 16:32:39,502 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-06-08 16:32:39,503 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:32:39,503 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:32:39 +08:00

2018-06-08 16:32:39,503 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:32:39 +08:00

2018-06-08 16:32:39,503 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:32:39,503 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:32:39,503 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-06-08 16:32:39,503 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:32:39 +08:00

2018-06-08 16:32:39,505 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:32:39,505 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:32:39,506 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:32:39 +08:00

2018-06-08 16:33:33,374 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:33:33 +08:00

2018-06-08 16:33:33,374 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Admins] AS [Extent1]
        WHERE 0 = [Extent1].[IsDeleted]
    )  AS [GroupBy1]
2018-06-08 16:33:33,374 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:33:33,374 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:33:33 +08:00

2018-06-08 16:33:33,376 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:33:33,376 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:33:33,376 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:33:33 +08:00

2018-06-08 16:33:33,376 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:33:33 +08:00

2018-06-08 16:33:33,377 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Filter1].[Id] AS [Id], 
    [Filter1].[Mobile] AS [Mobile], 
    [Filter1].[Description] AS [Description], 
    [Filter1].[Salt] AS [Salt], 
    [Filter1].[Password] AS [Password], 
    [Filter1].[IsEnabled] AS [IsEnabled], 
    [Filter1].[CreateTime] AS [CreateTime], 
    [Filter1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Extent1].[Id] AS [Id], [Extent1].[Mobile] AS [Mobile], [Extent1].[Description] AS [Description], [Extent1].[Salt] AS [Salt], [Extent1].[Password] AS [Password], [Extent1].[IsEnabled] AS [IsEnabled], [Extent1].[CreateTime] AS [CreateTime], [Extent1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Extent1].[CreateTime] DESC) AS [row_number]
        FROM [dbo].[T_Admins] AS [Extent1]
        WHERE 0 = [Extent1].[IsDeleted]
    )  AS [Filter1]
    WHERE [Filter1].[row_number] > 0
    ORDER BY [Filter1].[CreateTime] DESC
2018-06-08 16:33:33,377 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:33:33,377 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:33:33 +08:00

2018-06-08 16:33:33,379 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-06-08 16:33:33,379 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:33:33,379 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:33:33 +08:00

2018-06-08 16:33:33,380 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:33:33 +08:00

2018-06-08 16:33:33,380 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[PermissionTypeId] AS [PermissionTypeId], 
    [Extent2].[CreateTime] AS [CreateTime], 
    [Extent2].[IsDeleted] AS [IsDeleted]
    FROM  [dbo].[T_AdminPermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[AdminId] = [Extent2].[Id]
    WHERE [Extent1].[PermissionId] = @EntityKeyValue1
2018-06-08 16:33:33,380 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:33:33,380 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '22' (Type = Int64, IsNullable = false)

2018-06-08 16:33:33,380 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:33:33 +08:00

2018-06-08 16:33:33,382 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:33:33,382 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:33:33,382 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:33:33 +08:00

2018-06-08 16:33:33,382 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:33:33 +08:00

2018-06-08 16:33:33,382 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[PermissionTypeId] AS [PermissionTypeId], 
    [Extent2].[CreateTime] AS [CreateTime], 
    [Extent2].[IsDeleted] AS [IsDeleted]
    FROM  [dbo].[T_AdminPermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[AdminId] = [Extent2].[Id]
    WHERE [Extent1].[PermissionId] = @EntityKeyValue1
2018-06-08 16:33:33,382 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:33:33,382 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '5' (Type = Int64, IsNullable = false)

2018-06-08 16:33:33,382 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:33:33 +08:00

2018-06-08 16:33:33,385 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-06-08 16:33:33,385 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:33:33,385 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:33:33 +08:00

2018-06-08 16:33:33,386 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:33:33 +08:00

2018-06-08 16:33:33,386 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[PermissionTypeId] AS [PermissionTypeId], 
    [Extent2].[CreateTime] AS [CreateTime], 
    [Extent2].[IsDeleted] AS [IsDeleted]
    FROM  [dbo].[T_AdminPermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[AdminId] = [Extent2].[Id]
    WHERE [Extent1].[PermissionId] = @EntityKeyValue1
2018-06-08 16:33:33,386 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:33:33,386 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '4' (Type = Int64, IsNullable = false)

2018-06-08 16:33:33,386 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:33:33 +08:00

2018-06-08 16:33:33,388 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:33:33,388 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:33:33,388 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:33:33 +08:00

2018-06-08 16:33:33,389 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:33:33 +08:00

2018-06-08 16:33:33,390 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PermissionTypes] AS [Extent1]
    WHERE 0 = [Extent1].[IsDeleted]
2018-06-08 16:33:33,390 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:33:33,390 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:33:33 +08:00

2018-06-08 16:33:33,391 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:33:33,391 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:33:33,391 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:33:33 +08:00

2018-06-08 16:33:33,392 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:33:33 +08:00

2018-06-08 16:33:33,392 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PermissionTypeId] AS [PermissionTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_Permissions] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PermissionTypeId] = @p__linq__0)
2018-06-08 16:33:33,392 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:33:33,392 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2018-06-08 16:33:33,392 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:33:33 +08:00

2018-06-08 16:33:33,394 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:33:33,394 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:33:33,394 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:33:33 +08:00

2018-06-08 16:33:33,396 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:33:33 +08:00

2018-06-08 16:33:33,396 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PermissionTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:33:33,396 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:33:33,396 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-06-08 16:33:33,396 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:33:33 +08:00

2018-06-08 16:33:33,398 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:33:33,398 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:33:33,398 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:33:33 +08:00

2018-06-08 16:33:33,399 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:33:33 +08:00

2018-06-08 16:33:33,399 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PermissionTypeId] AS [PermissionTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_Permissions] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PermissionTypeId] = @p__linq__0)
2018-06-08 16:33:33,399 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:33:33,399 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64, IsNullable = false)

2018-06-08 16:33:33,399 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:33:33 +08:00

2018-06-08 16:33:33,402 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-06-08 16:33:33,402 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:33:33,402 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:33:33 +08:00

2018-06-08 16:33:33,402 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:33:33 +08:00

2018-06-08 16:33:33,402 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PermissionTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:33:33,402 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:33:33,402 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-06-08 16:33:33,402 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:33:33 +08:00

2018-06-08 16:33:33,404 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:33:33,404 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:33:33,404 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:33:33 +08:00

2018-06-08 16:33:33,405 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:33:33 +08:00

2018-06-08 16:33:33,405 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PermissionTypeId] AS [PermissionTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_Permissions] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PermissionTypeId] = @p__linq__0)
2018-06-08 16:33:33,405 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:33:33,405 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '3' (Type = Int64, IsNullable = false)

2018-06-08 16:33:33,405 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:33:33 +08:00

2018-06-08 16:33:33,410 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 5 ms with result: SqlDataReader

2018-06-08 16:33:33,411 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:33:33,411 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:33:33 +08:00

2018-06-08 16:33:33,411 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:33:33 +08:00

2018-06-08 16:33:33,411 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PermissionTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:33:33,411 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:33:33,411 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-06-08 16:33:33,411 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:33:33 +08:00

2018-06-08 16:33:33,413 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:33:33,413 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:33:33,413 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:33:33 +08:00

2018-06-08 16:33:33,413 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:33:33 +08:00

2018-06-08 16:33:33,414 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PermissionTypeId] AS [PermissionTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_Permissions] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PermissionTypeId] = @p__linq__0)
2018-06-08 16:33:33,414 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:33:33,414 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '4' (Type = Int64, IsNullable = false)

2018-06-08 16:33:33,414 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:33:33 +08:00

2018-06-08 16:33:33,416 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:33:33,416 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:33:33,416 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:33:33 +08:00

2018-06-08 16:33:33,416 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:33:33 +08:00

2018-06-08 16:33:33,416 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PermissionTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:33:33,416 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:33:33,416 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '4' (Type = Int64, IsNullable = false)

2018-06-08 16:33:33,416 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:33:33 +08:00

2018-06-08 16:33:33,418 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:33:33,418 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:33:33,418 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:33:33 +08:00

2018-06-08 16:33:33,419 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:33:33 +08:00

2018-06-08 16:33:33,419 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PermissionTypeId] AS [PermissionTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_Permissions] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PermissionTypeId] = @p__linq__0)
2018-06-08 16:33:33,419 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:33:33,419 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '5' (Type = Int64, IsNullable = false)

2018-06-08 16:33:33,419 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:33:33 +08:00

2018-06-08 16:33:33,421 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:33:33,421 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:33:33,421 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:33:33 +08:00

2018-06-08 16:33:33,421 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:33:33 +08:00

2018-06-08 16:33:33,421 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PermissionTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:33:33,421 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:33:33,421 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '5' (Type = Int64, IsNullable = false)

2018-06-08 16:33:33,421 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:33:33 +08:00

2018-06-08 16:33:33,423 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:33:33,423 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:33:33,423 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:33:33 +08:00

2018-06-08 16:33:34,217 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:33:34 +08:00

2018-06-08 16:33:34,219 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_Admins] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2018-06-08 16:33:34,219 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:33:34,219 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '4' (Type = Int64, IsNullable = false)

2018-06-08 16:33:34,219 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:33:34 +08:00

2018-06-08 16:33:34,272 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 53 ms with result: SqlDataReader

2018-06-08 16:33:34,272 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:33:34,272 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:33:34 +08:00

2018-06-08 16:33:34,273 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:33:34 +08:00

2018-06-08 16:33:34,273 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[PermissionTypeId] AS [PermissionTypeId], 
    [Extent2].[CreateTime] AS [CreateTime], 
    [Extent2].[IsDeleted] AS [IsDeleted]
    FROM  [dbo].[T_AdminPermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[AdminId] = [Extent2].[Id]
    WHERE [Extent1].[PermissionId] = @EntityKeyValue1
2018-06-08 16:33:34,273 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:33:34,273 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '4' (Type = Int64, IsNullable = false)

2018-06-08 16:33:34,273 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:33:34 +08:00

2018-06-08 16:33:34,275 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:33:34,275 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:33:34,275 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:33:34 +08:00

2018-06-08 16:33:34,276 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:33:34 +08:00

2018-06-08 16:33:34,276 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-06-08 16:33:34,276 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:33:34,276 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'admin' (Type = String, Size = 4000)

2018-06-08 16:33:34,276 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:33:34 +08:00

2018-06-08 16:33:34,289 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 12 ms with result: SqlDataReader

2018-06-08 16:33:34,289 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:33:34,290 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:33:34 +08:00

2018-06-08 16:33:34,290 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:33:34 +08:00

2018-06-08 16:33:34,290 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:33:34,290 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:33:34,290 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-06-08 16:33:34,290 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:33:34 +08:00

2018-06-08 16:33:34,292 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:33:34,292 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:33:34,292 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:33:34 +08:00

2018-06-08 16:33:34,293 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:33:34 +08:00

2018-06-08 16:33:34,293 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-06-08 16:33:34,293 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:33:34,293 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:33:34 +08:00

2018-06-08 16:33:34,294 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:33:34,294 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:33:34,294 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:33:34 +08:00

2018-06-08 16:33:34,295 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:33:34 +08:00

2018-06-08 16:33:34,295 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-06-08 16:33:34,295 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:33:34,295 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:33:34 +08:00

2018-06-08 16:33:34,296 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:33:34,296 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:33:34,296 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:33:34 +08:00

2018-06-08 16:33:34,297 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:33:34 +08:00

2018-06-08 16:33:34,297 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM  [dbo].[T_Journals] AS [Extent1]
        INNER JOIN [dbo].[T_IntegralTypes] AS [Extent2] ON [Extent1].[IntegralTypeId] = [Extent2].[Id]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] <> [Extent1].[ToPlatformUserId]) AND (N'平台积分' = [Extent2].[Name]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1)
    )  AS [GroupBy1]
2018-06-08 16:33:34,297 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:33:34,297 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '44' (Type = Int64)

2018-06-08 16:33:34,297 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2' (Type = Int64, IsNullable = false)

2018-06-08 16:33:34,297 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:33:34 +08:00

2018-06-08 16:33:34,300 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-06-08 16:33:34,300 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:33:34,300 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:33:34 +08:00

2018-06-08 16:33:34,305 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:33:34 +08:00

2018-06-08 16:33:34,306 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM  [dbo].[T_Journals] AS [Extent1]
        INNER JOIN [dbo].[T_IntegralTypes] AS [Extent2] ON [Extent1].[IntegralTypeId] = [Extent2].[Id]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] <> [Extent1].[ToPlatformUserId]) AND (N'平台积分' = [Extent2].[Name]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1)
    )  AS [GroupBy1]
2018-06-08 16:33:34,306 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:33:34,306 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '44' (Type = Int64)

2018-06-08 16:33:34,306 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '3' (Type = Int64, IsNullable = false)

2018-06-08 16:33:34,306 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:33:34 +08:00

2018-06-08 16:33:34,308 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-06-08 16:33:34,308 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:33:34,309 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:33:34 +08:00

2018-06-08 16:33:34,309 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:33:34 +08:00

2018-06-08 16:33:34,309 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM  [dbo].[T_Journals] AS [Extent1]
        INNER JOIN [dbo].[T_IntegralTypes] AS [Extent2] ON [Extent1].[IntegralTypeId] = [Extent2].[Id]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] <> [Extent1].[ToPlatformUserId]) AND (N'平台积分' = [Extent2].[Name]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
    )  AS [GroupBy1]
2018-06-08 16:33:34,309 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:33:34,309 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '44' (Type = Int64)

2018-06-08 16:33:34,309 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:33:34 +08:00

2018-06-08 16:33:34,314 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 4 ms with result: SqlDataReader

2018-06-08 16:33:34,314 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:33:34,314 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:33:34 +08:00

2018-06-08 16:33:34,314 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:33:34 +08:00

2018-06-08 16:33:34,315 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM  [dbo].[T_Journals] AS [Extent1]
            INNER JOIN [dbo].[T_IntegralTypes] AS [Extent2] ON [Extent1].[IntegralTypeId] = [Extent2].[Id]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] <> [Extent1].[ToPlatformUserId]) AND (N'平台积分' = [Extent2].[Name]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-06-08 16:33:34,315 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:33:34,315 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '44' (Type = Int64)

2018-06-08 16:33:34,315 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:33:34 +08:00

2018-06-08 16:33:34,323 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 7 ms with result: SqlDataReader

2018-06-08 16:33:34,323 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:33:34,323 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:33:34 +08:00

2018-06-08 16:33:34,324 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:33:34 +08:00

2018-06-08 16:33:34,324 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:33:34,324 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:33:34,324 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-06-08 16:33:34,324 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:33:34 +08:00

2018-06-08 16:33:34,326 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-06-08 16:33:34,326 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:33:34,326 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:33:34 +08:00

2018-06-08 16:33:34,327 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:33:34 +08:00

2018-06-08 16:33:34,327 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:33:34,327 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:33:34,327 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-06-08 16:33:34,327 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:33:34 +08:00

2018-06-08 16:33:34,329 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:33:34,329 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:33:34,329 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:33:34 +08:00

2018-06-08 16:33:34,329 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:33:34 +08:00

2018-06-08 16:33:34,329 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:33:34,329 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:33:34,329 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-06-08 16:33:34,329 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:33:34 +08:00

2018-06-08 16:33:34,331 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:33:34,331 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:33:34,331 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:33:34 +08:00

2018-06-08 16:33:34,331 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:33:34 +08:00

2018-06-08 16:33:34,331 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:33:34,331 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:33:34,331 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '44' (Type = Int64, IsNullable = false)

2018-06-08 16:33:34,331 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:33:34 +08:00

2018-06-08 16:33:34,333 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:33:34,334 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:33:34,334 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:33:34 +08:00

2018-06-08 16:33:34,334 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:33:34 +08:00

2018-06-08 16:33:34,334 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:33:34,334 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:33:34,334 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '42' (Type = Int64, IsNullable = false)

2018-06-08 16:33:34,334 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:33:34 +08:00

2018-06-08 16:33:34,337 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-06-08 16:33:34,337 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:33:34,337 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:33:34 +08:00

2018-06-08 16:33:34,337 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:33:34 +08:00

2018-06-08 16:33:34,337 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:33:34,337 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:33:34,337 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-06-08 16:33:34,337 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:33:34 +08:00

2018-06-08 16:33:34,339 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:33:34,339 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:33:34,339 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:33:34 +08:00

2018-06-08 16:33:56,655 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:33:56 +08:00

2018-06-08 16:33:56,655 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Admins] AS [Extent1]
        WHERE 0 = [Extent1].[IsDeleted]
    )  AS [GroupBy1]
2018-06-08 16:33:56,655 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:33:56,655 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:33:56 +08:00

2018-06-08 16:33:56,669 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 13 ms with result: SqlDataReader

2018-06-08 16:33:56,669 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:33:56,669 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:33:56 +08:00

2018-06-08 16:33:56,669 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:33:56 +08:00

2018-06-08 16:33:56,669 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Filter1].[Id] AS [Id], 
    [Filter1].[Mobile] AS [Mobile], 
    [Filter1].[Description] AS [Description], 
    [Filter1].[Salt] AS [Salt], 
    [Filter1].[Password] AS [Password], 
    [Filter1].[IsEnabled] AS [IsEnabled], 
    [Filter1].[CreateTime] AS [CreateTime], 
    [Filter1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Extent1].[Id] AS [Id], [Extent1].[Mobile] AS [Mobile], [Extent1].[Description] AS [Description], [Extent1].[Salt] AS [Salt], [Extent1].[Password] AS [Password], [Extent1].[IsEnabled] AS [IsEnabled], [Extent1].[CreateTime] AS [CreateTime], [Extent1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Extent1].[CreateTime] DESC) AS [row_number]
        FROM [dbo].[T_Admins] AS [Extent1]
        WHERE 0 = [Extent1].[IsDeleted]
    )  AS [Filter1]
    WHERE [Filter1].[row_number] > 0
    ORDER BY [Filter1].[CreateTime] DESC
2018-06-08 16:33:56,670 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:33:56,670 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:33:56 +08:00

2018-06-08 16:33:56,695 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 25 ms with result: SqlDataReader

2018-06-08 16:33:56,695 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:33:56,695 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:33:56 +08:00

2018-06-08 16:33:56,695 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:33:56 +08:00

2018-06-08 16:33:56,695 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[PermissionTypeId] AS [PermissionTypeId], 
    [Extent2].[CreateTime] AS [CreateTime], 
    [Extent2].[IsDeleted] AS [IsDeleted]
    FROM  [dbo].[T_AdminPermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[AdminId] = [Extent2].[Id]
    WHERE [Extent1].[PermissionId] = @EntityKeyValue1
2018-06-08 16:33:56,695 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:33:56,695 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '22' (Type = Int64, IsNullable = false)

2018-06-08 16:33:56,695 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:33:56 +08:00

2018-06-08 16:33:56,697 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:33:56,697 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:33:56,698 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:33:56 +08:00

2018-06-08 16:33:56,698 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:33:56 +08:00

2018-06-08 16:33:56,698 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[PermissionTypeId] AS [PermissionTypeId], 
    [Extent2].[CreateTime] AS [CreateTime], 
    [Extent2].[IsDeleted] AS [IsDeleted]
    FROM  [dbo].[T_AdminPermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[AdminId] = [Extent2].[Id]
    WHERE [Extent1].[PermissionId] = @EntityKeyValue1
2018-06-08 16:33:56,698 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:33:56,698 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '5' (Type = Int64, IsNullable = false)

2018-06-08 16:33:56,698 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:33:56 +08:00

2018-06-08 16:33:56,700 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:33:56,700 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:33:56,700 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:33:56 +08:00

2018-06-08 16:33:56,700 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:33:56 +08:00

2018-06-08 16:33:56,700 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[PermissionTypeId] AS [PermissionTypeId], 
    [Extent2].[CreateTime] AS [CreateTime], 
    [Extent2].[IsDeleted] AS [IsDeleted]
    FROM  [dbo].[T_AdminPermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[AdminId] = [Extent2].[Id]
    WHERE [Extent1].[PermissionId] = @EntityKeyValue1
2018-06-08 16:33:56,700 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:33:56,700 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '4' (Type = Int64, IsNullable = false)

2018-06-08 16:33:56,700 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:33:56 +08:00

2018-06-08 16:33:56,702 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:33:56,702 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:33:56,703 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:33:56 +08:00

2018-06-08 16:33:56,704 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:33:56 +08:00

2018-06-08 16:33:56,704 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PermissionTypes] AS [Extent1]
    WHERE 0 = [Extent1].[IsDeleted]
2018-06-08 16:33:56,704 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:33:56,704 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:33:56 +08:00

2018-06-08 16:33:56,715 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 10 ms with result: SqlDataReader

2018-06-08 16:33:56,715 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:33:56,715 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:33:56 +08:00

2018-06-08 16:33:56,716 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:33:56 +08:00

2018-06-08 16:33:56,716 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PermissionTypeId] AS [PermissionTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_Permissions] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PermissionTypeId] = @p__linq__0)
2018-06-08 16:33:56,716 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:33:56,716 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2018-06-08 16:33:56,716 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:33:56 +08:00

2018-06-08 16:33:56,727 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 10 ms with result: SqlDataReader

2018-06-08 16:33:56,727 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:33:56,728 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:33:56 +08:00

2018-06-08 16:33:56,728 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:33:56 +08:00

2018-06-08 16:33:56,728 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PermissionTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:33:56,728 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:33:56,728 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-06-08 16:33:56,728 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:33:56 +08:00

2018-06-08 16:33:56,730 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:33:56,730 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:33:56,730 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:33:56 +08:00

2018-06-08 16:33:56,731 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:33:56 +08:00

2018-06-08 16:33:56,731 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PermissionTypeId] AS [PermissionTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_Permissions] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PermissionTypeId] = @p__linq__0)
2018-06-08 16:33:56,731 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:33:56,731 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64, IsNullable = false)

2018-06-08 16:33:56,731 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:33:56 +08:00

2018-06-08 16:33:56,741 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 9 ms with result: SqlDataReader

2018-06-08 16:33:56,741 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:33:56,741 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:33:56 +08:00

2018-06-08 16:33:56,741 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:33:56 +08:00

2018-06-08 16:33:56,741 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PermissionTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:33:56,741 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:33:56,741 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-06-08 16:33:56,742 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:33:56 +08:00

2018-06-08 16:33:56,743 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:33:56,743 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:33:56,743 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:33:56 +08:00

2018-06-08 16:33:56,744 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:33:56 +08:00

2018-06-08 16:33:56,744 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PermissionTypeId] AS [PermissionTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_Permissions] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PermissionTypeId] = @p__linq__0)
2018-06-08 16:33:56,744 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:33:56,744 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '3' (Type = Int64, IsNullable = false)

2018-06-08 16:33:56,744 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:33:56 +08:00

2018-06-08 16:33:56,756 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 12 ms with result: SqlDataReader

2018-06-08 16:33:56,757 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:33:56,757 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:33:56 +08:00

2018-06-08 16:33:56,757 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:33:56 +08:00

2018-06-08 16:33:56,757 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PermissionTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:33:56,757 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:33:56,757 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-06-08 16:33:56,757 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:33:56 +08:00

2018-06-08 16:33:56,759 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:33:56,759 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:33:56,759 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:33:56 +08:00

2018-06-08 16:33:56,760 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:33:56 +08:00

2018-06-08 16:33:56,760 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PermissionTypeId] AS [PermissionTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_Permissions] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PermissionTypeId] = @p__linq__0)
2018-06-08 16:33:56,760 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:33:56,760 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '4' (Type = Int64, IsNullable = false)

2018-06-08 16:33:56,760 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:33:56 +08:00

2018-06-08 16:33:56,762 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:33:56,762 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:33:56,763 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:33:56 +08:00

2018-06-08 16:33:56,763 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:33:56 +08:00

2018-06-08 16:33:56,763 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PermissionTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:33:56,763 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:33:56,763 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '4' (Type = Int64, IsNullable = false)

2018-06-08 16:33:56,763 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:33:56 +08:00

2018-06-08 16:33:56,765 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:33:56,765 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:33:56,765 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:33:56 +08:00

2018-06-08 16:33:56,765 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:33:56 +08:00

2018-06-08 16:33:56,766 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PermissionTypeId] AS [PermissionTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_Permissions] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PermissionTypeId] = @p__linq__0)
2018-06-08 16:33:56,766 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:33:56,766 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '5' (Type = Int64, IsNullable = false)

2018-06-08 16:33:56,766 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:33:56 +08:00

2018-06-08 16:33:56,791 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 25 ms with result: SqlDataReader

2018-06-08 16:33:56,791 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:33:56,792 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:33:56 +08:00

2018-06-08 16:33:56,792 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:33:56 +08:00

2018-06-08 16:33:56,792 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PermissionTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:33:56,792 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:33:56,792 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '5' (Type = Int64, IsNullable = false)

2018-06-08 16:33:56,792 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:33:56 +08:00

2018-06-08 16:33:56,794 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:33:56,794 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:33:56,794 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:33:56 +08:00

2018-06-08 16:33:57,957 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:33:57 +08:00

2018-06-08 16:33:57,957 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_Admins] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2018-06-08 16:33:57,958 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:33:57,958 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '4' (Type = Int64, IsNullable = false)

2018-06-08 16:33:57,958 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:33:57 +08:00

2018-06-08 16:33:57,960 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-06-08 16:33:57,960 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:33:57,960 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:33:57 +08:00

2018-06-08 16:33:57,960 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:33:57 +08:00

2018-06-08 16:33:57,960 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[PermissionTypeId] AS [PermissionTypeId], 
    [Extent2].[CreateTime] AS [CreateTime], 
    [Extent2].[IsDeleted] AS [IsDeleted]
    FROM  [dbo].[T_AdminPermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[AdminId] = [Extent2].[Id]
    WHERE [Extent1].[PermissionId] = @EntityKeyValue1
2018-06-08 16:33:57,960 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:33:57,961 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '4' (Type = Int64, IsNullable = false)

2018-06-08 16:33:57,961 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:33:57 +08:00

2018-06-08 16:33:57,963 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:33:57,963 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:33:57,963 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:33:57 +08:00

2018-06-08 16:33:57,964 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:33:57 +08:00

2018-06-08 16:33:57,964 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-06-08 16:33:57,964 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:33:57,964 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'admin' (Type = String, Size = 4000)

2018-06-08 16:33:57,965 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:33:57 +08:00

2018-06-08 16:33:57,967 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-06-08 16:33:57,967 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:33:57,968 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:33:57 +08:00

2018-06-08 16:33:57,968 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:33:57 +08:00

2018-06-08 16:33:57,968 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:33:57,968 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:33:57,968 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-06-08 16:33:57,968 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:33:57 +08:00

2018-06-08 16:33:57,970 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-06-08 16:33:57,970 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:33:57,971 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:33:57 +08:00

2018-06-08 16:33:57,971 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:33:57 +08:00

2018-06-08 16:33:57,971 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-06-08 16:33:57,971 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:33:57,972 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:33:57 +08:00

2018-06-08 16:33:57,973 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:33:57,973 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:33:57,973 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:33:57 +08:00

2018-06-08 16:33:57,973 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:33:57 +08:00

2018-06-08 16:33:57,973 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-06-08 16:33:57,974 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:33:57,974 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:33:57 +08:00

2018-06-08 16:33:57,975 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:33:57,975 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:33:57,975 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:33:57 +08:00

2018-06-08 16:33:57,975 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:33:57 +08:00

2018-06-08 16:33:57,976 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM  [dbo].[T_Journals] AS [Extent1]
        INNER JOIN [dbo].[T_IntegralTypes] AS [Extent2] ON [Extent1].[IntegralTypeId] = [Extent2].[Id]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] <> [Extent1].[ToPlatformUserId]) AND (N'平台积分' = [Extent2].[Name]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1)
    )  AS [GroupBy1]
2018-06-08 16:33:57,976 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:33:57,976 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '44' (Type = Int64)

2018-06-08 16:33:57,976 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2' (Type = Int64, IsNullable = false)

2018-06-08 16:33:57,976 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:33:57 +08:00

2018-06-08 16:33:57,978 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:33:57,978 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:33:57,978 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:33:57 +08:00

2018-06-08 16:33:57,979 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:33:57 +08:00

2018-06-08 16:33:57,980 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM  [dbo].[T_Journals] AS [Extent1]
        INNER JOIN [dbo].[T_IntegralTypes] AS [Extent2] ON [Extent1].[IntegralTypeId] = [Extent2].[Id]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] <> [Extent1].[ToPlatformUserId]) AND (N'平台积分' = [Extent2].[Name]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1)
    )  AS [GroupBy1]
2018-06-08 16:33:57,980 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:33:57,980 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '44' (Type = Int64)

2018-06-08 16:33:57,980 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '3' (Type = Int64, IsNullable = false)

2018-06-08 16:33:57,980 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:33:57 +08:00

2018-06-08 16:33:57,982 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:33:57,982 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:33:57,982 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:33:57 +08:00

2018-06-08 16:33:57,982 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:33:57 +08:00

2018-06-08 16:33:57,984 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM  [dbo].[T_Journals] AS [Extent1]
        INNER JOIN [dbo].[T_IntegralTypes] AS [Extent2] ON [Extent1].[IntegralTypeId] = [Extent2].[Id]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] <> [Extent1].[ToPlatformUserId]) AND (N'平台积分' = [Extent2].[Name]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
    )  AS [GroupBy1]
2018-06-08 16:33:57,984 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:33:57,984 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '44' (Type = Int64)

2018-06-08 16:33:57,984 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:33:57 +08:00

2018-06-08 16:33:58,019 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 34 ms with result: SqlDataReader

2018-06-08 16:33:58,019 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:33:58,019 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:33:58 +08:00

2018-06-08 16:33:58,020 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:33:58 +08:00

2018-06-08 16:33:58,021 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM  [dbo].[T_Journals] AS [Extent1]
            INNER JOIN [dbo].[T_IntegralTypes] AS [Extent2] ON [Extent1].[IntegralTypeId] = [Extent2].[Id]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] <> [Extent1].[ToPlatformUserId]) AND (N'平台积分' = [Extent2].[Name]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-06-08 16:33:58,021 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:33:58,021 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '44' (Type = Int64)

2018-06-08 16:33:58,021 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:33:58 +08:00

2018-06-08 16:33:58,036 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 14 ms with result: SqlDataReader

2018-06-08 16:33:58,036 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:33:58,037 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:33:58 +08:00

2018-06-08 16:33:58,037 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:33:58 +08:00

2018-06-08 16:33:58,037 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:33:58,037 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:33:58,037 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-06-08 16:33:58,037 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:33:58 +08:00

2018-06-08 16:33:58,038 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:33:58,038 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:33:58,039 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:33:58 +08:00

2018-06-08 16:33:58,039 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:33:58 +08:00

2018-06-08 16:33:58,039 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:33:58,039 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:33:58,039 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-06-08 16:33:58,039 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:33:58 +08:00

2018-06-08 16:33:58,041 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-06-08 16:33:58,041 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:33:58,042 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:33:58 +08:00

2018-06-08 16:33:58,042 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:33:58 +08:00

2018-06-08 16:33:58,042 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:33:58,042 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:33:58,042 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-06-08 16:33:58,042 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:33:58 +08:00

2018-06-08 16:33:58,044 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:33:58,044 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:33:58,044 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:33:58 +08:00

2018-06-08 16:33:58,044 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:33:58 +08:00

2018-06-08 16:33:58,044 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:33:58,044 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:33:58,044 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '44' (Type = Int64, IsNullable = false)

2018-06-08 16:33:58,044 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:33:58 +08:00

2018-06-08 16:33:58,046 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-06-08 16:33:58,047 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:33:58,047 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:33:58 +08:00

2018-06-08 16:33:58,047 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:33:58 +08:00

2018-06-08 16:33:58,047 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:33:58,047 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:33:58,047 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '42' (Type = Int64, IsNullable = false)

2018-06-08 16:33:58,047 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:33:58 +08:00

2018-06-08 16:33:58,049 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-06-08 16:33:58,049 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:33:58,050 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:33:58 +08:00

2018-06-08 16:33:58,050 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:33:58 +08:00

2018-06-08 16:33:58,050 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:33:58,050 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:33:58,050 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-06-08 16:33:58,050 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:33:58 +08:00

2018-06-08 16:33:58,052 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:33:58,052 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:33:58,053 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:33:58 +08:00

2018-06-08 16:34:01,850 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:34:01 +08:00

2018-06-08 16:34:01,850 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_Admins] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2018-06-08 16:34:01,850 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:01,850 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '5' (Type = Int64, IsNullable = false)

2018-06-08 16:34:01,850 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:34:01 +08:00

2018-06-08 16:34:01,891 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 40 ms with result: SqlDataReader

2018-06-08 16:34:01,891 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:01,891 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:34:01 +08:00

2018-06-08 16:34:01,891 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:34:01 +08:00

2018-06-08 16:34:01,891 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[PermissionTypeId] AS [PermissionTypeId], 
    [Extent2].[CreateTime] AS [CreateTime], 
    [Extent2].[IsDeleted] AS [IsDeleted]
    FROM  [dbo].[T_AdminPermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[AdminId] = [Extent2].[Id]
    WHERE [Extent1].[PermissionId] = @EntityKeyValue1
2018-06-08 16:34:01,891 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:01,891 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '5' (Type = Int64, IsNullable = false)

2018-06-08 16:34:01,891 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:34:01 +08:00

2018-06-08 16:34:01,893 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:34:01,893 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:01,893 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:34:01 +08:00

2018-06-08 16:34:01,894 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:34:01 +08:00

2018-06-08 16:34:01,894 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-06-08 16:34:01,894 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:01,894 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'system' (Type = String, Size = 4000)

2018-06-08 16:34:01,894 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:34:01 +08:00

2018-06-08 16:34:01,921 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 26 ms with result: SqlDataReader

2018-06-08 16:34:01,921 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:01,921 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:34:01 +08:00

2018-06-08 16:34:01,921 [21] ERROR IMS.Web.App_Start.Filter.SYSExceptionFilter - 出现未处理异常：System.NullReferenceException: 未将对象引用设置到对象的实例。
   在 IMS.Web.Areas.Admin.Controllers.AdminController.<GetJournal>d__29.MoveNext() 位置 F:\201804\NN18042518\Web\Areas\Admin\Controllers\AdminController.cs:行号 165
--- 引发异常的上一位置中堆栈跟踪的末尾 ---
   在 System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   在 System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   在 System.Web.Mvc.Async.TaskAsyncActionDescriptor.EndExecute(IAsyncResult asyncResult)
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.<>c__DisplayClass37.<BeginInvokeAsynchronousActionMethod>b__36(IAsyncResult asyncResult)
   在 System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncResult`1.CallEndDelegate(IAsyncResult asyncResult)
   在 System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncResultBase`1.End()
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.EndInvokeActionMethod(IAsyncResult asyncResult)
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.AsyncInvocationWithFilters.<InvokeActionMethodFilterAsynchronouslyRecursive>b__3d()
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.AsyncInvocationWithFilters.<>c__DisplayClass46.<InvokeActionMethodFilterAsynchronouslyRecursive>b__3f()
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.AsyncInvocationWithFilters.<>c__DisplayClass46.<InvokeActionMethodFilterAsynchronouslyRecursive>b__3f()
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.<>c__DisplayClass33.<BeginInvokeActionMethodWithFilters>b__32(IAsyncResult asyncResult)
   在 System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncResult`1.CallEndDelegate(IAsyncResult asyncResult)
   在 System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncResultBase`1.End()
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.EndInvokeActionMethodWithFilters(IAsyncResult asyncResult)
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.<>c__DisplayClass21.<>c__DisplayClass2b.<BeginInvokeAction>b__1c()
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.<>c__DisplayClass21.<BeginInvokeAction>b__1e(IAsyncResult asyncResult)
2018-06-08 16:34:04,686 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:34:04 +08:00

2018-06-08 16:34:04,687 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_Admins] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2018-06-08 16:34:04,687 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:04,687 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '5' (Type = Int64, IsNullable = false)

2018-06-08 16:34:04,687 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:34:04 +08:00

2018-06-08 16:34:04,737 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 50 ms with result: SqlDataReader

2018-06-08 16:34:04,737 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:04,738 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:34:04 +08:00

2018-06-08 16:34:04,738 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:34:04 +08:00

2018-06-08 16:34:04,738 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[PermissionTypeId] AS [PermissionTypeId], 
    [Extent2].[CreateTime] AS [CreateTime], 
    [Extent2].[IsDeleted] AS [IsDeleted]
    FROM  [dbo].[T_AdminPermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[AdminId] = [Extent2].[Id]
    WHERE [Extent1].[PermissionId] = @EntityKeyValue1
2018-06-08 16:34:04,738 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:04,738 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '5' (Type = Int64, IsNullable = false)

2018-06-08 16:34:04,738 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:34:04 +08:00

2018-06-08 16:34:04,740 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:34:04,740 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:04,740 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:34:04 +08:00

2018-06-08 16:34:04,741 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:34:04 +08:00

2018-06-08 16:34:04,741 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-06-08 16:34:04,741 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:04,741 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'system' (Type = String, Size = 4000)

2018-06-08 16:34:04,741 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:34:04 +08:00

2018-06-08 16:34:04,743 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-06-08 16:34:04,744 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:04,744 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:34:04 +08:00

2018-06-08 16:34:04,744 [16] ERROR IMS.Web.App_Start.Filter.SYSExceptionFilter - 出现未处理异常：System.NullReferenceException: 未将对象引用设置到对象的实例。
   在 IMS.Web.Areas.Admin.Controllers.AdminController.<GetJournal>d__29.MoveNext() 位置 F:\201804\NN18042518\Web\Areas\Admin\Controllers\AdminController.cs:行号 165
--- 引发异常的上一位置中堆栈跟踪的末尾 ---
   在 System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   在 System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   在 System.Web.Mvc.Async.TaskAsyncActionDescriptor.EndExecute(IAsyncResult asyncResult)
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.<>c__DisplayClass37.<BeginInvokeAsynchronousActionMethod>b__36(IAsyncResult asyncResult)
   在 System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncResult`1.CallEndDelegate(IAsyncResult asyncResult)
   在 System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncResultBase`1.End()
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.EndInvokeActionMethod(IAsyncResult asyncResult)
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.AsyncInvocationWithFilters.<InvokeActionMethodFilterAsynchronouslyRecursive>b__3d()
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.AsyncInvocationWithFilters.<>c__DisplayClass46.<InvokeActionMethodFilterAsynchronouslyRecursive>b__3f()
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.AsyncInvocationWithFilters.<>c__DisplayClass46.<InvokeActionMethodFilterAsynchronouslyRecursive>b__3f()
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.<>c__DisplayClass33.<BeginInvokeActionMethodWithFilters>b__32(IAsyncResult asyncResult)
   在 System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncResult`1.CallEndDelegate(IAsyncResult asyncResult)
   在 System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncResultBase`1.End()
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.EndInvokeActionMethodWithFilters(IAsyncResult asyncResult)
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.<>c__DisplayClass21.<>c__DisplayClass2b.<BeginInvokeAction>b__1c()
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.<>c__DisplayClass21.<BeginInvokeAction>b__1e(IAsyncResult asyncResult)
2018-06-08 16:34:08,466 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:34:08 +08:00

2018-06-08 16:34:08,466 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_Admins] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2018-06-08 16:34:08,466 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:08,466 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '22' (Type = Int64, IsNullable = false)

2018-06-08 16:34:08,466 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:34:08 +08:00

2018-06-08 16:34:08,468 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:34:08,468 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:08,468 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:34:08 +08:00

2018-06-08 16:34:08,468 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:34:08 +08:00

2018-06-08 16:34:08,468 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[PermissionTypeId] AS [PermissionTypeId], 
    [Extent2].[CreateTime] AS [CreateTime], 
    [Extent2].[IsDeleted] AS [IsDeleted]
    FROM  [dbo].[T_AdminPermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[AdminId] = [Extent2].[Id]
    WHERE [Extent1].[PermissionId] = @EntityKeyValue1
2018-06-08 16:34:08,468 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:08,468 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '22' (Type = Int64, IsNullable = false)

2018-06-08 16:34:08,469 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:34:08 +08:00

2018-06-08 16:34:08,470 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:34:08,470 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:08,470 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:34:08 +08:00

2018-06-08 16:34:08,471 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:34:08 +08:00

2018-06-08 16:34:08,471 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-06-08 16:34:08,471 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:08,471 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'admin1' (Type = String, Size = 4000)

2018-06-08 16:34:08,471 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:34:08 +08:00

2018-06-08 16:34:08,473 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-06-08 16:34:08,474 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:08,474 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:34:08 +08:00

2018-06-08 16:34:08,474 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:34:08 +08:00

2018-06-08 16:34:08,474 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:34:08,474 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:08,475 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-06-08 16:34:08,475 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:34:08 +08:00

2018-06-08 16:34:08,476 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:34:08,476 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:08,476 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:34:08 +08:00

2018-06-08 16:34:08,477 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:34:08 +08:00

2018-06-08 16:34:08,477 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-06-08 16:34:08,477 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:08,477 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:34:08 +08:00

2018-06-08 16:34:08,479 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:34:08,479 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:08,479 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:34:08 +08:00

2018-06-08 16:34:08,479 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:34:08 +08:00

2018-06-08 16:34:08,479 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-06-08 16:34:08,479 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:08,479 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:34:08 +08:00

2018-06-08 16:34:08,481 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:34:08,481 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:08,481 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:34:08 +08:00

2018-06-08 16:34:08,481 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:34:08 +08:00

2018-06-08 16:34:08,482 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM  [dbo].[T_Journals] AS [Extent1]
        INNER JOIN [dbo].[T_IntegralTypes] AS [Extent2] ON [Extent1].[IntegralTypeId] = [Extent2].[Id]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] <> [Extent1].[ToPlatformUserId]) AND (N'平台积分' = [Extent2].[Name]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1)
    )  AS [GroupBy1]
2018-06-08 16:34:08,482 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:08,482 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '43' (Type = Int64)

2018-06-08 16:34:08,482 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2' (Type = Int64, IsNullable = false)

2018-06-08 16:34:08,482 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:34:08 +08:00

2018-06-08 16:34:08,485 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2018-06-08 16:34:08,485 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:08,485 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:34:08 +08:00

2018-06-08 16:34:08,486 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:34:08 +08:00

2018-06-08 16:34:08,486 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM  [dbo].[T_Journals] AS [Extent1]
        INNER JOIN [dbo].[T_IntegralTypes] AS [Extent2] ON [Extent1].[IntegralTypeId] = [Extent2].[Id]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] <> [Extent1].[ToPlatformUserId]) AND (N'平台积分' = [Extent2].[Name]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1)
    )  AS [GroupBy1]
2018-06-08 16:34:08,486 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:08,486 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '43' (Type = Int64)

2018-06-08 16:34:08,486 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '3' (Type = Int64, IsNullable = false)

2018-06-08 16:34:08,486 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:34:08 +08:00

2018-06-08 16:34:08,488 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:34:08,488 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:08,488 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:34:08 +08:00

2018-06-08 16:34:08,488 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:34:08 +08:00

2018-06-08 16:34:08,489 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM  [dbo].[T_Journals] AS [Extent1]
        INNER JOIN [dbo].[T_IntegralTypes] AS [Extent2] ON [Extent1].[IntegralTypeId] = [Extent2].[Id]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] <> [Extent1].[ToPlatformUserId]) AND (N'平台积分' = [Extent2].[Name]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
    )  AS [GroupBy1]
2018-06-08 16:34:08,489 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:08,489 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '43' (Type = Int64)

2018-06-08 16:34:08,489 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:34:08 +08:00

2018-06-08 16:34:08,490 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:34:08,490 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:08,490 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:34:08 +08:00

2018-06-08 16:34:08,491 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:34:08 +08:00

2018-06-08 16:34:08,491 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM  [dbo].[T_Journals] AS [Extent1]
            INNER JOIN [dbo].[T_IntegralTypes] AS [Extent2] ON [Extent1].[IntegralTypeId] = [Extent2].[Id]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] <> [Extent1].[ToPlatformUserId]) AND (N'平台积分' = [Extent2].[Name]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-06-08 16:34:08,491 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:08,491 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '43' (Type = Int64)

2018-06-08 16:34:08,491 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:34:08 +08:00

2018-06-08 16:34:08,495 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2018-06-08 16:34:08,495 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:08,496 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:34:08 +08:00

2018-06-08 16:34:08,496 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:34:08 +08:00

2018-06-08 16:34:08,496 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:34:08,496 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:08,496 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-06-08 16:34:08,496 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:34:08 +08:00

2018-06-08 16:34:08,498 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:34:08,498 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:08,498 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:34:08 +08:00

2018-06-08 16:34:08,498 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:34:08 +08:00

2018-06-08 16:34:08,498 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:34:08,498 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:08,498 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '43' (Type = Int64, IsNullable = false)

2018-06-08 16:34:08,498 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:34:08 +08:00

2018-06-08 16:34:08,500 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-06-08 16:34:08,500 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:08,501 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:34:08 +08:00

2018-06-08 16:34:08,501 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:34:08 +08:00

2018-06-08 16:34:08,501 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:34:08,501 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:08,501 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '42' (Type = Int64, IsNullable = false)

2018-06-08 16:34:08,501 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:34:08 +08:00

2018-06-08 16:34:08,503 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-06-08 16:34:08,503 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:08,504 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:34:08 +08:00

2018-06-08 16:34:08,504 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:34:08 +08:00

2018-06-08 16:34:08,504 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:34:08,504 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:08,504 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-06-08 16:34:08,504 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:34:08 +08:00

2018-06-08 16:34:08,505 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:34:08,505 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:08,506 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:34:08 +08:00

2018-06-08 16:34:12,055 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:34:12 +08:00

2018-06-08 16:34:12,055 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_Admins] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2018-06-08 16:34:12,055 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:12,055 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '5' (Type = Int64, IsNullable = false)

2018-06-08 16:34:12,055 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:34:12 +08:00

2018-06-08 16:34:12,095 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 39 ms with result: SqlDataReader

2018-06-08 16:34:12,095 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:12,096 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:34:12 +08:00

2018-06-08 16:34:12,096 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:34:12 +08:00

2018-06-08 16:34:12,096 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[PermissionTypeId] AS [PermissionTypeId], 
    [Extent2].[CreateTime] AS [CreateTime], 
    [Extent2].[IsDeleted] AS [IsDeleted]
    FROM  [dbo].[T_AdminPermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[AdminId] = [Extent2].[Id]
    WHERE [Extent1].[PermissionId] = @EntityKeyValue1
2018-06-08 16:34:12,096 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:12,096 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '5' (Type = Int64, IsNullable = false)

2018-06-08 16:34:12,096 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:34:12 +08:00

2018-06-08 16:34:12,098 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:34:12,098 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:12,098 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:34:12 +08:00

2018-06-08 16:34:12,099 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:34:12 +08:00

2018-06-08 16:34:12,099 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-06-08 16:34:12,099 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:12,099 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'system' (Type = String, Size = 4000)

2018-06-08 16:34:12,099 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:34:12 +08:00

2018-06-08 16:34:12,102 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-06-08 16:34:12,102 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:12,102 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:34:12 +08:00

2018-06-08 16:34:12,107 [25] ERROR IMS.Web.App_Start.Filter.SYSExceptionFilter - 出现未处理异常：System.NullReferenceException: 未将对象引用设置到对象的实例。
   在 IMS.Web.Areas.Admin.Controllers.AdminController.<GetJournal>d__29.MoveNext() 位置 F:\201804\NN18042518\Web\Areas\Admin\Controllers\AdminController.cs:行号 165
--- 引发异常的上一位置中堆栈跟踪的末尾 ---
   在 System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   在 System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   在 System.Web.Mvc.Async.TaskAsyncActionDescriptor.EndExecute(IAsyncResult asyncResult)
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.<>c__DisplayClass37.<BeginInvokeAsynchronousActionMethod>b__36(IAsyncResult asyncResult)
   在 System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncResult`1.CallEndDelegate(IAsyncResult asyncResult)
   在 System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncResultBase`1.End()
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.EndInvokeActionMethod(IAsyncResult asyncResult)
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.AsyncInvocationWithFilters.<InvokeActionMethodFilterAsynchronouslyRecursive>b__3d()
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.AsyncInvocationWithFilters.<>c__DisplayClass46.<InvokeActionMethodFilterAsynchronouslyRecursive>b__3f()
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.AsyncInvocationWithFilters.<>c__DisplayClass46.<InvokeActionMethodFilterAsynchronouslyRecursive>b__3f()
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.<>c__DisplayClass33.<BeginInvokeActionMethodWithFilters>b__32(IAsyncResult asyncResult)
   在 System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncResult`1.CallEndDelegate(IAsyncResult asyncResult)
   在 System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncResultBase`1.End()
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.EndInvokeActionMethodWithFilters(IAsyncResult asyncResult)
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.<>c__DisplayClass21.<>c__DisplayClass2b.<BeginInvokeAction>b__1c()
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.<>c__DisplayClass21.<BeginInvokeAction>b__1e(IAsyncResult asyncResult)
2018-06-08 16:34:15,083 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:34:15 +08:00

2018-06-08 16:34:15,083 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_Admins] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2018-06-08 16:34:15,083 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:15,083 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '5' (Type = Int64, IsNullable = false)

2018-06-08 16:34:15,083 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:34:15 +08:00

2018-06-08 16:34:15,085 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:34:15,085 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:15,085 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:34:15 +08:00

2018-06-08 16:34:15,086 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:34:15 +08:00

2018-06-08 16:34:15,086 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[PermissionTypeId] AS [PermissionTypeId], 
    [Extent2].[CreateTime] AS [CreateTime], 
    [Extent2].[IsDeleted] AS [IsDeleted]
    FROM  [dbo].[T_AdminPermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[AdminId] = [Extent2].[Id]
    WHERE [Extent1].[PermissionId] = @EntityKeyValue1
2018-06-08 16:34:15,086 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:15,086 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '5' (Type = Int64, IsNullable = false)

2018-06-08 16:34:15,086 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:34:15 +08:00

2018-06-08 16:34:15,088 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:34:15,088 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:15,088 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:34:15 +08:00

2018-06-08 16:34:15,089 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:34:15 +08:00

2018-06-08 16:34:15,089 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-06-08 16:34:15,089 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:15,089 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'system' (Type = String, Size = 4000)

2018-06-08 16:34:15,089 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:34:15 +08:00

2018-06-08 16:34:15,091 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-06-08 16:34:15,091 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:15,092 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:34:15 +08:00

2018-06-08 16:34:15,092 [25] ERROR IMS.Web.App_Start.Filter.SYSExceptionFilter - 出现未处理异常：System.NullReferenceException: 未将对象引用设置到对象的实例。
   在 IMS.Web.Areas.Admin.Controllers.AdminController.<GetJournal>d__29.MoveNext() 位置 F:\201804\NN18042518\Web\Areas\Admin\Controllers\AdminController.cs:行号 165
--- 引发异常的上一位置中堆栈跟踪的末尾 ---
   在 System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   在 System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   在 System.Web.Mvc.Async.TaskAsyncActionDescriptor.EndExecute(IAsyncResult asyncResult)
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.<>c__DisplayClass37.<BeginInvokeAsynchronousActionMethod>b__36(IAsyncResult asyncResult)
   在 System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncResult`1.CallEndDelegate(IAsyncResult asyncResult)
   在 System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncResultBase`1.End()
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.EndInvokeActionMethod(IAsyncResult asyncResult)
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.AsyncInvocationWithFilters.<InvokeActionMethodFilterAsynchronouslyRecursive>b__3d()
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.AsyncInvocationWithFilters.<>c__DisplayClass46.<InvokeActionMethodFilterAsynchronouslyRecursive>b__3f()
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.AsyncInvocationWithFilters.<>c__DisplayClass46.<InvokeActionMethodFilterAsynchronouslyRecursive>b__3f()
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.<>c__DisplayClass33.<BeginInvokeActionMethodWithFilters>b__32(IAsyncResult asyncResult)
   在 System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncResult`1.CallEndDelegate(IAsyncResult asyncResult)
   在 System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncResultBase`1.End()
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.EndInvokeActionMethodWithFilters(IAsyncResult asyncResult)
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.<>c__DisplayClass21.<>c__DisplayClass2b.<BeginInvokeAction>b__1c()
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.<>c__DisplayClass21.<BeginInvokeAction>b__1e(IAsyncResult asyncResult)
2018-06-08 16:34:17,838 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:34:17 +08:00

2018-06-08 16:34:17,839 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_Admins] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2018-06-08 16:34:17,839 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:17,839 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '22' (Type = Int64, IsNullable = false)

2018-06-08 16:34:17,839 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:34:17 +08:00

2018-06-08 16:34:17,841 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-06-08 16:34:17,841 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:17,841 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:34:17 +08:00

2018-06-08 16:34:17,842 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:34:17 +08:00

2018-06-08 16:34:17,842 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[PermissionTypeId] AS [PermissionTypeId], 
    [Extent2].[CreateTime] AS [CreateTime], 
    [Extent2].[IsDeleted] AS [IsDeleted]
    FROM  [dbo].[T_AdminPermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[AdminId] = [Extent2].[Id]
    WHERE [Extent1].[PermissionId] = @EntityKeyValue1
2018-06-08 16:34:17,842 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:17,842 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '22' (Type = Int64, IsNullable = false)

2018-06-08 16:34:17,842 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:34:17 +08:00

2018-06-08 16:34:17,843 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:34:17,843 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:17,844 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:34:17 +08:00

2018-06-08 16:34:17,844 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:34:17 +08:00

2018-06-08 16:34:17,845 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-06-08 16:34:17,845 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:17,845 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'admin1' (Type = String, Size = 4000)

2018-06-08 16:34:17,845 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:34:17 +08:00

2018-06-08 16:34:17,847 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-06-08 16:34:17,847 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:17,847 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:34:17 +08:00

2018-06-08 16:34:17,847 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:34:17 +08:00

2018-06-08 16:34:17,847 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:34:17,848 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:17,848 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-06-08 16:34:17,848 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:34:17 +08:00

2018-06-08 16:34:17,849 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:34:17,849 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:17,850 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:34:17 +08:00

2018-06-08 16:34:17,850 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:34:17 +08:00

2018-06-08 16:34:17,850 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-06-08 16:34:17,851 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:17,851 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:34:17 +08:00

2018-06-08 16:34:17,852 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:34:17,852 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:17,852 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:34:17 +08:00

2018-06-08 16:34:17,853 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:34:17 +08:00

2018-06-08 16:34:17,853 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-06-08 16:34:17,853 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:17,853 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:34:17 +08:00

2018-06-08 16:34:17,854 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:34:17,854 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:17,855 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:34:17 +08:00

2018-06-08 16:34:17,855 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:34:17 +08:00

2018-06-08 16:34:17,855 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM  [dbo].[T_Journals] AS [Extent1]
        INNER JOIN [dbo].[T_IntegralTypes] AS [Extent2] ON [Extent1].[IntegralTypeId] = [Extent2].[Id]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] <> [Extent1].[ToPlatformUserId]) AND (N'平台积分' = [Extent2].[Name]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1)
    )  AS [GroupBy1]
2018-06-08 16:34:17,855 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:17,855 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '43' (Type = Int64)

2018-06-08 16:34:17,855 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2' (Type = Int64, IsNullable = false)

2018-06-08 16:34:17,856 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:34:17 +08:00

2018-06-08 16:34:17,857 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:34:17,857 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:17,857 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:34:17 +08:00

2018-06-08 16:34:17,857 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:34:17 +08:00

2018-06-08 16:34:17,858 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM  [dbo].[T_Journals] AS [Extent1]
        INNER JOIN [dbo].[T_IntegralTypes] AS [Extent2] ON [Extent1].[IntegralTypeId] = [Extent2].[Id]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] <> [Extent1].[ToPlatformUserId]) AND (N'平台积分' = [Extent2].[Name]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1)
    )  AS [GroupBy1]
2018-06-08 16:34:17,858 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:17,858 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '43' (Type = Int64)

2018-06-08 16:34:17,858 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '3' (Type = Int64, IsNullable = false)

2018-06-08 16:34:17,858 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:34:17 +08:00

2018-06-08 16:34:17,860 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:34:17,860 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:17,860 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:34:17 +08:00

2018-06-08 16:34:17,860 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:34:17 +08:00

2018-06-08 16:34:17,860 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM  [dbo].[T_Journals] AS [Extent1]
        INNER JOIN [dbo].[T_IntegralTypes] AS [Extent2] ON [Extent1].[IntegralTypeId] = [Extent2].[Id]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] <> [Extent1].[ToPlatformUserId]) AND (N'平台积分' = [Extent2].[Name]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
    )  AS [GroupBy1]
2018-06-08 16:34:17,860 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:17,860 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '43' (Type = Int64)

2018-06-08 16:34:17,860 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:34:17 +08:00

2018-06-08 16:34:17,862 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:34:17,862 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:17,862 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:34:17 +08:00

2018-06-08 16:34:17,862 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:34:17 +08:00

2018-06-08 16:34:17,863 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM  [dbo].[T_Journals] AS [Extent1]
            INNER JOIN [dbo].[T_IntegralTypes] AS [Extent2] ON [Extent1].[IntegralTypeId] = [Extent2].[Id]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] <> [Extent1].[ToPlatformUserId]) AND (N'平台积分' = [Extent2].[Name]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-06-08 16:34:17,863 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:17,863 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '43' (Type = Int64)

2018-06-08 16:34:17,863 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:34:17 +08:00

2018-06-08 16:34:17,866 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-06-08 16:34:17,866 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:17,866 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:34:17 +08:00

2018-06-08 16:34:17,866 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:34:17 +08:00

2018-06-08 16:34:17,866 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:34:17,866 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:17,866 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-06-08 16:34:17,866 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:34:17 +08:00

2018-06-08 16:34:17,868 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:34:17,868 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:17,868 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:34:17 +08:00

2018-06-08 16:34:17,868 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:34:17 +08:00

2018-06-08 16:34:17,868 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:34:17,869 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:17,869 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '43' (Type = Int64, IsNullable = false)

2018-06-08 16:34:17,869 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:34:17 +08:00

2018-06-08 16:34:17,871 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:34:17,871 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:17,871 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:34:17 +08:00

2018-06-08 16:34:17,871 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:34:17 +08:00

2018-06-08 16:34:17,871 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:34:17,871 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:17,871 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '42' (Type = Int64, IsNullable = false)

2018-06-08 16:34:17,872 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:34:17 +08:00

2018-06-08 16:34:17,874 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-06-08 16:34:17,874 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:17,874 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:34:17 +08:00

2018-06-08 16:34:17,874 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:34:17 +08:00

2018-06-08 16:34:17,874 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:34:17,874 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:17,874 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-06-08 16:34:17,874 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:34:17 +08:00

2018-06-08 16:34:17,877 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-06-08 16:34:17,877 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:17,877 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:34:17 +08:00

2018-06-08 16:34:26,012 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:34:26 +08:00

2018-06-08 16:34:26,012 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_Admins] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2018-06-08 16:34:26,012 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:26,012 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '4' (Type = Int64, IsNullable = false)

2018-06-08 16:34:26,012 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:34:26 +08:00

2018-06-08 16:34:26,014 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:34:26,014 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:26,015 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:34:26 +08:00

2018-06-08 16:34:26,015 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:34:26 +08:00

2018-06-08 16:34:26,015 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[PermissionTypeId] AS [PermissionTypeId], 
    [Extent2].[CreateTime] AS [CreateTime], 
    [Extent2].[IsDeleted] AS [IsDeleted]
    FROM  [dbo].[T_AdminPermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[AdminId] = [Extent2].[Id]
    WHERE [Extent1].[PermissionId] = @EntityKeyValue1
2018-06-08 16:34:26,015 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:26,015 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '4' (Type = Int64, IsNullable = false)

2018-06-08 16:34:26,015 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:34:26 +08:00

2018-06-08 16:34:26,017 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:34:26,017 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:26,018 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:34:26 +08:00

2018-06-08 16:34:26,019 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:34:26 +08:00

2018-06-08 16:34:26,019 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-06-08 16:34:26,019 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:26,019 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'admin' (Type = String, Size = 4000)

2018-06-08 16:34:26,019 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:34:26 +08:00

2018-06-08 16:34:26,022 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-06-08 16:34:26,022 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:26,022 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:34:26 +08:00

2018-06-08 16:34:26,022 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:34:26 +08:00

2018-06-08 16:34:26,023 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:34:26,023 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:26,023 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-06-08 16:34:26,023 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:34:26 +08:00

2018-06-08 16:34:26,024 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:34:26,024 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:26,024 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:34:26 +08:00

2018-06-08 16:34:26,025 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:34:26 +08:00

2018-06-08 16:34:26,025 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-06-08 16:34:26,025 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:26,025 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:34:26 +08:00

2018-06-08 16:34:26,027 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:34:26,027 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:26,027 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:34:26 +08:00

2018-06-08 16:34:26,027 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:34:26 +08:00

2018-06-08 16:34:26,027 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-06-08 16:34:26,027 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:26,028 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:34:26 +08:00

2018-06-08 16:34:26,029 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:34:26,029 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:26,029 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:34:26 +08:00

2018-06-08 16:34:26,029 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:34:26 +08:00

2018-06-08 16:34:26,030 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM  [dbo].[T_Journals] AS [Extent1]
        INNER JOIN [dbo].[T_IntegralTypes] AS [Extent2] ON [Extent1].[IntegralTypeId] = [Extent2].[Id]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] <> [Extent1].[ToPlatformUserId]) AND (N'平台积分' = [Extent2].[Name]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1)
    )  AS [GroupBy1]
2018-06-08 16:34:26,030 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:26,030 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '44' (Type = Int64)

2018-06-08 16:34:26,030 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2' (Type = Int64, IsNullable = false)

2018-06-08 16:34:26,030 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:34:26 +08:00

2018-06-08 16:34:26,031 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:34:26,031 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:26,032 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:34:26 +08:00

2018-06-08 16:34:26,032 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:34:26 +08:00

2018-06-08 16:34:26,032 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM  [dbo].[T_Journals] AS [Extent1]
        INNER JOIN [dbo].[T_IntegralTypes] AS [Extent2] ON [Extent1].[IntegralTypeId] = [Extent2].[Id]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] <> [Extent1].[ToPlatformUserId]) AND (N'平台积分' = [Extent2].[Name]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1)
    )  AS [GroupBy1]
2018-06-08 16:34:26,032 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:26,032 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '44' (Type = Int64)

2018-06-08 16:34:26,032 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '3' (Type = Int64, IsNullable = false)

2018-06-08 16:34:26,032 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:34:26 +08:00

2018-06-08 16:34:26,034 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:34:26,034 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:26,034 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:34:26 +08:00

2018-06-08 16:34:26,034 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:34:26 +08:00

2018-06-08 16:34:26,035 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM  [dbo].[T_Journals] AS [Extent1]
        INNER JOIN [dbo].[T_IntegralTypes] AS [Extent2] ON [Extent1].[IntegralTypeId] = [Extent2].[Id]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] <> [Extent1].[ToPlatformUserId]) AND (N'平台积分' = [Extent2].[Name]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
    )  AS [GroupBy1]
2018-06-08 16:34:26,035 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:26,035 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '44' (Type = Int64)

2018-06-08 16:34:26,035 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:34:26 +08:00

2018-06-08 16:34:26,036 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:34:26,036 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:26,037 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:34:26 +08:00

2018-06-08 16:34:26,037 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:34:26 +08:00

2018-06-08 16:34:26,037 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM  [dbo].[T_Journals] AS [Extent1]
            INNER JOIN [dbo].[T_IntegralTypes] AS [Extent2] ON [Extent1].[IntegralTypeId] = [Extent2].[Id]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] <> [Extent1].[ToPlatformUserId]) AND (N'平台积分' = [Extent2].[Name]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-06-08 16:34:26,037 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:26,038 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '44' (Type = Int64)

2018-06-08 16:34:26,038 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:34:26 +08:00

2018-06-08 16:34:26,041 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2018-06-08 16:34:26,041 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:26,042 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:34:26 +08:00

2018-06-08 16:34:26,042 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:34:26 +08:00

2018-06-08 16:34:26,042 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:34:26,042 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:26,043 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-06-08 16:34:26,043 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:34:26 +08:00

2018-06-08 16:34:26,044 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:34:26,044 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:26,044 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:34:26 +08:00

2018-06-08 16:34:26,045 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:34:26 +08:00

2018-06-08 16:34:26,045 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:34:26,045 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:26,045 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-06-08 16:34:26,045 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:34:26 +08:00

2018-06-08 16:34:26,047 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-06-08 16:34:26,047 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:26,047 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:34:26 +08:00

2018-06-08 16:34:26,048 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:34:26 +08:00

2018-06-08 16:34:26,048 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:34:26,048 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:26,048 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-06-08 16:34:26,048 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:34:26 +08:00

2018-06-08 16:34:26,049 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:34:26,049 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:26,050 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:34:26 +08:00

2018-06-08 16:34:26,050 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:34:26 +08:00

2018-06-08 16:34:26,050 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:34:26,050 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:26,050 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '44' (Type = Int64, IsNullable = false)

2018-06-08 16:34:26,050 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:34:26 +08:00

2018-06-08 16:34:26,052 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-06-08 16:34:26,052 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:26,053 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:34:26 +08:00

2018-06-08 16:34:26,053 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:34:26 +08:00

2018-06-08 16:34:26,053 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:34:26,053 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:26,053 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '42' (Type = Int64, IsNullable = false)

2018-06-08 16:34:26,053 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:34:26 +08:00

2018-06-08 16:34:26,055 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-06-08 16:34:26,055 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:26,056 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:34:26 +08:00

2018-06-08 16:34:26,056 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:34:26 +08:00

2018-06-08 16:34:26,056 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:34:26,056 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:26,056 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-06-08 16:34:26,056 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:34:26 +08:00

2018-06-08 16:34:26,057 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:34:26,057 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:26,058 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:34:26 +08:00

2018-06-08 16:34:28,898 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:34:28 +08:00

2018-06-08 16:34:28,899 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_Admins] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2018-06-08 16:34:28,899 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:28,899 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '5' (Type = Int64, IsNullable = false)

2018-06-08 16:34:28,899 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:34:28 +08:00

2018-06-08 16:34:28,901 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:34:28,901 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:28,901 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:34:28 +08:00

2018-06-08 16:34:28,901 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:34:28 +08:00

2018-06-08 16:34:28,901 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[PermissionTypeId] AS [PermissionTypeId], 
    [Extent2].[CreateTime] AS [CreateTime], 
    [Extent2].[IsDeleted] AS [IsDeleted]
    FROM  [dbo].[T_AdminPermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[AdminId] = [Extent2].[Id]
    WHERE [Extent1].[PermissionId] = @EntityKeyValue1
2018-06-08 16:34:28,901 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:28,901 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '5' (Type = Int64, IsNullable = false)

2018-06-08 16:34:28,901 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:34:28 +08:00

2018-06-08 16:34:28,903 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:34:28,903 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:28,903 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:34:28 +08:00

2018-06-08 16:34:28,904 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:34:28 +08:00

2018-06-08 16:34:28,904 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-06-08 16:34:28,904 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:28,904 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'system' (Type = String, Size = 4000)

2018-06-08 16:34:28,904 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:34:28 +08:00

2018-06-08 16:34:28,906 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-06-08 16:34:28,906 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:28,906 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:34:28 +08:00

2018-06-08 16:34:28,907 [11] ERROR IMS.Web.App_Start.Filter.SYSExceptionFilter - 出现未处理异常：System.NullReferenceException: 未将对象引用设置到对象的实例。
   在 IMS.Web.Areas.Admin.Controllers.AdminController.<GetJournal>d__29.MoveNext() 位置 F:\201804\NN18042518\Web\Areas\Admin\Controllers\AdminController.cs:行号 165
--- 引发异常的上一位置中堆栈跟踪的末尾 ---
   在 System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   在 System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   在 System.Web.Mvc.Async.TaskAsyncActionDescriptor.EndExecute(IAsyncResult asyncResult)
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.<>c__DisplayClass37.<BeginInvokeAsynchronousActionMethod>b__36(IAsyncResult asyncResult)
   在 System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncResult`1.CallEndDelegate(IAsyncResult asyncResult)
   在 System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncResultBase`1.End()
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.EndInvokeActionMethod(IAsyncResult asyncResult)
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.AsyncInvocationWithFilters.<InvokeActionMethodFilterAsynchronouslyRecursive>b__3d()
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.AsyncInvocationWithFilters.<>c__DisplayClass46.<InvokeActionMethodFilterAsynchronouslyRecursive>b__3f()
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.AsyncInvocationWithFilters.<>c__DisplayClass46.<InvokeActionMethodFilterAsynchronouslyRecursive>b__3f()
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.<>c__DisplayClass33.<BeginInvokeActionMethodWithFilters>b__32(IAsyncResult asyncResult)
   在 System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncResult`1.CallEndDelegate(IAsyncResult asyncResult)
   在 System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncResultBase`1.End()
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.EndInvokeActionMethodWithFilters(IAsyncResult asyncResult)
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.<>c__DisplayClass21.<>c__DisplayClass2b.<BeginInvokeAction>b__1c()
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.<>c__DisplayClass21.<BeginInvokeAction>b__1e(IAsyncResult asyncResult)
2018-06-08 16:34:32,982 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:34:32 +08:00

2018-06-08 16:34:32,982 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_Admins] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2018-06-08 16:34:32,982 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:32,982 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '4' (Type = Int64, IsNullable = false)

2018-06-08 16:34:32,982 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:34:32 +08:00

2018-06-08 16:34:32,984 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:34:32,984 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:32,985 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:34:32 +08:00

2018-06-08 16:34:32,985 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:34:32 +08:00

2018-06-08 16:34:32,985 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[PermissionTypeId] AS [PermissionTypeId], 
    [Extent2].[CreateTime] AS [CreateTime], 
    [Extent2].[IsDeleted] AS [IsDeleted]
    FROM  [dbo].[T_AdminPermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[AdminId] = [Extent2].[Id]
    WHERE [Extent1].[PermissionId] = @EntityKeyValue1
2018-06-08 16:34:32,985 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:32,985 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '4' (Type = Int64, IsNullable = false)

2018-06-08 16:34:32,985 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:34:32 +08:00

2018-06-08 16:34:32,987 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:34:32,987 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:32,988 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:34:32 +08:00

2018-06-08 16:34:32,988 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:34:32 +08:00

2018-06-08 16:34:32,989 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-06-08 16:34:32,989 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:32,989 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'admin' (Type = String, Size = 4000)

2018-06-08 16:34:32,989 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:34:32 +08:00

2018-06-08 16:34:32,992 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2018-06-08 16:34:32,992 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:32,992 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:34:32 +08:00

2018-06-08 16:34:32,992 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:34:32 +08:00

2018-06-08 16:34:32,993 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:34:32,993 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:32,993 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-06-08 16:34:32,993 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:34:32 +08:00

2018-06-08 16:34:32,994 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:34:32,994 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:32,994 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:34:32 +08:00

2018-06-08 16:34:32,995 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:34:32 +08:00

2018-06-08 16:34:32,995 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-06-08 16:34:32,995 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:32,995 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:34:32 +08:00

2018-06-08 16:34:32,997 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:34:32,997 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:32,997 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:34:32 +08:00

2018-06-08 16:34:32,997 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:34:32 +08:00

2018-06-08 16:34:32,998 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-06-08 16:34:32,998 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:32,998 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:34:32 +08:00

2018-06-08 16:34:32,999 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:34:32,999 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:32,999 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:34:32 +08:00

2018-06-08 16:34:33,000 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:34:33 +08:00

2018-06-08 16:34:33,000 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM  [dbo].[T_Journals] AS [Extent1]
        INNER JOIN [dbo].[T_IntegralTypes] AS [Extent2] ON [Extent1].[IntegralTypeId] = [Extent2].[Id]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] <> [Extent1].[ToPlatformUserId]) AND (N'平台积分' = [Extent2].[Name]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1)
    )  AS [GroupBy1]
2018-06-08 16:34:33,000 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:33,000 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '44' (Type = Int64)

2018-06-08 16:34:33,000 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2' (Type = Int64, IsNullable = false)

2018-06-08 16:34:33,000 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:34:33 +08:00

2018-06-08 16:34:33,002 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:34:33,002 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:33,002 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:34:33 +08:00

2018-06-08 16:34:33,002 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:34:33 +08:00

2018-06-08 16:34:33,003 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM  [dbo].[T_Journals] AS [Extent1]
        INNER JOIN [dbo].[T_IntegralTypes] AS [Extent2] ON [Extent1].[IntegralTypeId] = [Extent2].[Id]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] <> [Extent1].[ToPlatformUserId]) AND (N'平台积分' = [Extent2].[Name]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1)
    )  AS [GroupBy1]
2018-06-08 16:34:33,003 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:33,003 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '44' (Type = Int64)

2018-06-08 16:34:33,003 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '3' (Type = Int64, IsNullable = false)

2018-06-08 16:34:33,003 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:34:33 +08:00

2018-06-08 16:34:33,004 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:34:33,005 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:33,005 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:34:33 +08:00

2018-06-08 16:34:33,005 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:34:33 +08:00

2018-06-08 16:34:33,005 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM  [dbo].[T_Journals] AS [Extent1]
        INNER JOIN [dbo].[T_IntegralTypes] AS [Extent2] ON [Extent1].[IntegralTypeId] = [Extent2].[Id]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] <> [Extent1].[ToPlatformUserId]) AND (N'平台积分' = [Extent2].[Name]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
    )  AS [GroupBy1]
2018-06-08 16:34:33,005 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:33,005 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '44' (Type = Int64)

2018-06-08 16:34:33,005 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:34:33 +08:00

2018-06-08 16:34:33,007 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:34:33,007 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:33,007 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:34:33 +08:00

2018-06-08 16:34:33,007 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:34:33 +08:00

2018-06-08 16:34:33,008 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM  [dbo].[T_Journals] AS [Extent1]
            INNER JOIN [dbo].[T_IntegralTypes] AS [Extent2] ON [Extent1].[IntegralTypeId] = [Extent2].[Id]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] <> [Extent1].[ToPlatformUserId]) AND (N'平台积分' = [Extent2].[Name]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-06-08 16:34:33,008 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:33,008 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '44' (Type = Int64)

2018-06-08 16:34:33,008 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:34:33 +08:00

2018-06-08 16:34:33,011 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-06-08 16:34:33,011 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:33,011 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:34:33 +08:00

2018-06-08 16:34:33,012 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:34:33 +08:00

2018-06-08 16:34:33,012 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:34:33,012 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:33,012 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-06-08 16:34:33,012 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:34:33 +08:00

2018-06-08 16:34:33,013 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:34:33,013 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:33,014 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:34:33 +08:00

2018-06-08 16:34:33,014 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:34:33 +08:00

2018-06-08 16:34:33,014 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:34:33,014 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:33,014 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-06-08 16:34:33,014 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:34:33 +08:00

2018-06-08 16:34:33,017 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-06-08 16:34:33,017 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:33,017 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:34:33 +08:00

2018-06-08 16:34:33,017 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:34:33 +08:00

2018-06-08 16:34:33,017 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:34:33,017 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:33,017 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-06-08 16:34:33,017 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:34:33 +08:00

2018-06-08 16:34:33,019 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:34:33,019 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:33,019 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:34:33 +08:00

2018-06-08 16:34:33,019 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:34:33 +08:00

2018-06-08 16:34:33,020 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:34:33,020 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:33,020 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '44' (Type = Int64, IsNullable = false)

2018-06-08 16:34:33,020 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:34:33 +08:00

2018-06-08 16:34:33,022 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-06-08 16:34:33,022 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:33,022 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:34:33 +08:00

2018-06-08 16:34:33,023 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:34:33 +08:00

2018-06-08 16:34:33,023 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:34:33,023 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:33,023 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '42' (Type = Int64, IsNullable = false)

2018-06-08 16:34:33,023 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:34:33 +08:00

2018-06-08 16:34:33,025 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-06-08 16:34:33,025 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:33,025 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:34:33 +08:00

2018-06-08 16:34:33,025 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:34:33 +08:00

2018-06-08 16:34:33,025 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:34:33,025 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:33,025 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-06-08 16:34:33,025 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:34:33 +08:00

2018-06-08 16:34:33,027 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:34:33,027 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:33,027 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:34:33 +08:00

2018-06-08 16:34:35,996 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:34:35 +08:00

2018-06-08 16:34:35,996 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_Admins] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2018-06-08 16:34:35,996 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:35,996 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '5' (Type = Int64, IsNullable = false)

2018-06-08 16:34:35,996 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:34:35 +08:00

2018-06-08 16:34:35,998 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:34:35,998 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:35,998 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:34:35 +08:00

2018-06-08 16:34:35,998 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:34:35 +08:00

2018-06-08 16:34:35,998 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[PermissionTypeId] AS [PermissionTypeId], 
    [Extent2].[CreateTime] AS [CreateTime], 
    [Extent2].[IsDeleted] AS [IsDeleted]
    FROM  [dbo].[T_AdminPermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[AdminId] = [Extent2].[Id]
    WHERE [Extent1].[PermissionId] = @EntityKeyValue1
2018-06-08 16:34:35,998 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:35,998 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '5' (Type = Int64, IsNullable = false)

2018-06-08 16:34:35,998 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:34:35 +08:00

2018-06-08 16:34:36,000 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:34:36,000 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:36,000 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:34:36 +08:00

2018-06-08 16:34:36,001 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:34:36 +08:00

2018-06-08 16:34:36,001 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-06-08 16:34:36,001 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:36,001 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'system' (Type = String, Size = 4000)

2018-06-08 16:34:36,001 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:34:36 +08:00

2018-06-08 16:34:36,003 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-06-08 16:34:36,004 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:36,004 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:34:36 +08:00

2018-06-08 16:34:36,005 [16] ERROR IMS.Web.App_Start.Filter.SYSExceptionFilter - 出现未处理异常：System.NullReferenceException: 未将对象引用设置到对象的实例。
   在 IMS.Web.Areas.Admin.Controllers.AdminController.<GetJournal>d__29.MoveNext() 位置 F:\201804\NN18042518\Web\Areas\Admin\Controllers\AdminController.cs:行号 165
--- 引发异常的上一位置中堆栈跟踪的末尾 ---
   在 System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   在 System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   在 System.Web.Mvc.Async.TaskAsyncActionDescriptor.EndExecute(IAsyncResult asyncResult)
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.<>c__DisplayClass37.<BeginInvokeAsynchronousActionMethod>b__36(IAsyncResult asyncResult)
   在 System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncResult`1.CallEndDelegate(IAsyncResult asyncResult)
   在 System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncResultBase`1.End()
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.EndInvokeActionMethod(IAsyncResult asyncResult)
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.AsyncInvocationWithFilters.<InvokeActionMethodFilterAsynchronouslyRecursive>b__3d()
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.AsyncInvocationWithFilters.<>c__DisplayClass46.<InvokeActionMethodFilterAsynchronouslyRecursive>b__3f()
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.AsyncInvocationWithFilters.<>c__DisplayClass46.<InvokeActionMethodFilterAsynchronouslyRecursive>b__3f()
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.<>c__DisplayClass33.<BeginInvokeActionMethodWithFilters>b__32(IAsyncResult asyncResult)
   在 System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncResult`1.CallEndDelegate(IAsyncResult asyncResult)
   在 System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncResultBase`1.End()
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.EndInvokeActionMethodWithFilters(IAsyncResult asyncResult)
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.<>c__DisplayClass21.<>c__DisplayClass2b.<BeginInvokeAction>b__1c()
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.<>c__DisplayClass21.<BeginInvokeAction>b__1e(IAsyncResult asyncResult)
2018-06-08 16:34:39,251 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:34:39 +08:00

2018-06-08 16:34:39,252 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_Admins] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2018-06-08 16:34:39,252 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:39,252 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '22' (Type = Int64, IsNullable = false)

2018-06-08 16:34:39,252 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:34:39 +08:00

2018-06-08 16:34:39,254 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-06-08 16:34:39,254 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:39,255 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:34:39 +08:00

2018-06-08 16:34:39,255 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:34:39 +08:00

2018-06-08 16:34:39,255 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[PermissionTypeId] AS [PermissionTypeId], 
    [Extent2].[CreateTime] AS [CreateTime], 
    [Extent2].[IsDeleted] AS [IsDeleted]
    FROM  [dbo].[T_AdminPermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[AdminId] = [Extent2].[Id]
    WHERE [Extent1].[PermissionId] = @EntityKeyValue1
2018-06-08 16:34:39,255 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:39,255 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '22' (Type = Int64, IsNullable = false)

2018-06-08 16:34:39,255 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:34:39 +08:00

2018-06-08 16:34:39,257 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-06-08 16:34:39,257 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:39,258 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:34:39 +08:00

2018-06-08 16:34:39,259 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:34:39 +08:00

2018-06-08 16:34:39,259 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-06-08 16:34:39,259 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:39,259 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'admin1' (Type = String, Size = 4000)

2018-06-08 16:34:39,259 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:34:39 +08:00

2018-06-08 16:34:39,266 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 6 ms with result: SqlDataReader

2018-06-08 16:34:39,266 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:39,266 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:34:39 +08:00

2018-06-08 16:34:39,266 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:34:39 +08:00

2018-06-08 16:34:39,266 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:34:39,266 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:39,266 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-06-08 16:34:39,266 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:34:39 +08:00

2018-06-08 16:34:39,292 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 26 ms with result: SqlDataReader

2018-06-08 16:34:39,292 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:39,293 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:34:39 +08:00

2018-06-08 16:34:39,293 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:34:39 +08:00

2018-06-08 16:34:39,294 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-06-08 16:34:39,294 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:39,294 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:34:39 +08:00

2018-06-08 16:34:39,295 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:34:39,295 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:39,295 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:34:39 +08:00

2018-06-08 16:34:39,295 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:34:39 +08:00

2018-06-08 16:34:39,296 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-06-08 16:34:39,296 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:39,296 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:34:39 +08:00

2018-06-08 16:34:39,297 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:34:39,297 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:39,297 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:34:39 +08:00

2018-06-08 16:34:39,297 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:34:39 +08:00

2018-06-08 16:34:39,298 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM  [dbo].[T_Journals] AS [Extent1]
        INNER JOIN [dbo].[T_IntegralTypes] AS [Extent2] ON [Extent1].[IntegralTypeId] = [Extent2].[Id]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] <> [Extent1].[ToPlatformUserId]) AND (N'平台积分' = [Extent2].[Name]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1)
    )  AS [GroupBy1]
2018-06-08 16:34:39,298 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:39,298 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '43' (Type = Int64)

2018-06-08 16:34:39,298 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2' (Type = Int64, IsNullable = false)

2018-06-08 16:34:39,298 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:34:39 +08:00

2018-06-08 16:34:39,305 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 6 ms with result: SqlDataReader

2018-06-08 16:34:39,305 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:39,305 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:34:39 +08:00

2018-06-08 16:34:39,305 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:34:39 +08:00

2018-06-08 16:34:39,306 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM  [dbo].[T_Journals] AS [Extent1]
        INNER JOIN [dbo].[T_IntegralTypes] AS [Extent2] ON [Extent1].[IntegralTypeId] = [Extent2].[Id]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] <> [Extent1].[ToPlatformUserId]) AND (N'平台积分' = [Extent2].[Name]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1)
    )  AS [GroupBy1]
2018-06-08 16:34:39,306 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:39,306 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '43' (Type = Int64)

2018-06-08 16:34:39,306 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '3' (Type = Int64, IsNullable = false)

2018-06-08 16:34:39,306 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:34:39 +08:00

2018-06-08 16:34:39,314 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 7 ms with result: SqlDataReader

2018-06-08 16:34:39,314 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:39,314 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:34:39 +08:00

2018-06-08 16:34:39,314 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:34:39 +08:00

2018-06-08 16:34:39,315 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM  [dbo].[T_Journals] AS [Extent1]
        INNER JOIN [dbo].[T_IntegralTypes] AS [Extent2] ON [Extent1].[IntegralTypeId] = [Extent2].[Id]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] <> [Extent1].[ToPlatformUserId]) AND (N'平台积分' = [Extent2].[Name]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
    )  AS [GroupBy1]
2018-06-08 16:34:39,315 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:39,315 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '43' (Type = Int64)

2018-06-08 16:34:39,315 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:34:39 +08:00

2018-06-08 16:34:39,323 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 7 ms with result: SqlDataReader

2018-06-08 16:34:39,323 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:39,324 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:34:39 +08:00

2018-06-08 16:34:39,325 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:34:39 +08:00

2018-06-08 16:34:39,325 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM  [dbo].[T_Journals] AS [Extent1]
            INNER JOIN [dbo].[T_IntegralTypes] AS [Extent2] ON [Extent1].[IntegralTypeId] = [Extent2].[Id]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] <> [Extent1].[ToPlatformUserId]) AND (N'平台积分' = [Extent2].[Name]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-06-08 16:34:39,325 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:39,325 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '43' (Type = Int64)

2018-06-08 16:34:39,325 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:34:39 +08:00

2018-06-08 16:34:39,330 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 4 ms with result: SqlDataReader

2018-06-08 16:34:39,330 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:39,331 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:34:39 +08:00

2018-06-08 16:34:39,331 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:34:39 +08:00

2018-06-08 16:34:39,331 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:34:39,331 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:39,331 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-06-08 16:34:39,331 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:34:39 +08:00

2018-06-08 16:34:39,333 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:34:39,333 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:39,333 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:34:39 +08:00

2018-06-08 16:34:39,333 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:34:39 +08:00

2018-06-08 16:34:39,333 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:34:39,333 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:39,333 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '43' (Type = Int64, IsNullable = false)

2018-06-08 16:34:39,333 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:34:39 +08:00

2018-06-08 16:34:39,335 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-06-08 16:34:39,336 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:39,336 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:34:39 +08:00

2018-06-08 16:34:39,336 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:34:39 +08:00

2018-06-08 16:34:39,336 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:34:39,336 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:39,336 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '42' (Type = Int64, IsNullable = false)

2018-06-08 16:34:39,336 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:34:39 +08:00

2018-06-08 16:34:39,338 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-06-08 16:34:39,338 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:39,339 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:34:39 +08:00

2018-06-08 16:34:39,339 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:34:39 +08:00

2018-06-08 16:34:39,339 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:34:39,339 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:39,339 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-06-08 16:34:39,339 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:34:39 +08:00

2018-06-08 16:34:39,340 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:34:39,341 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:34:39,341 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:34:39 +08:00

2018-06-08 16:35:40,281 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:35:40 +08:00

2018-06-08 16:35:40,281 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Admins] AS [Extent1]
        WHERE 0 = [Extent1].[IsDeleted]
    )  AS [GroupBy1]
2018-06-08 16:35:40,281 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:40,281 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:35:40 +08:00

2018-06-08 16:35:40,284 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2018-06-08 16:35:40,285 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:40,285 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:35:40 +08:00

2018-06-08 16:35:40,285 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:35:40 +08:00

2018-06-08 16:35:40,285 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Filter1].[Id] AS [Id], 
    [Filter1].[Mobile] AS [Mobile], 
    [Filter1].[Description] AS [Description], 
    [Filter1].[Salt] AS [Salt], 
    [Filter1].[Password] AS [Password], 
    [Filter1].[IsEnabled] AS [IsEnabled], 
    [Filter1].[CreateTime] AS [CreateTime], 
    [Filter1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Extent1].[Id] AS [Id], [Extent1].[Mobile] AS [Mobile], [Extent1].[Description] AS [Description], [Extent1].[Salt] AS [Salt], [Extent1].[Password] AS [Password], [Extent1].[IsEnabled] AS [IsEnabled], [Extent1].[CreateTime] AS [CreateTime], [Extent1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Extent1].[CreateTime] DESC) AS [row_number]
        FROM [dbo].[T_Admins] AS [Extent1]
        WHERE 0 = [Extent1].[IsDeleted]
    )  AS [Filter1]
    WHERE [Filter1].[row_number] > 0
    ORDER BY [Filter1].[CreateTime] DESC
2018-06-08 16:35:40,285 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:40,285 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:35:40 +08:00

2018-06-08 16:35:40,288 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-06-08 16:35:40,288 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:40,288 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:35:40 +08:00

2018-06-08 16:35:40,288 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:35:40 +08:00

2018-06-08 16:35:40,288 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[PermissionTypeId] AS [PermissionTypeId], 
    [Extent2].[CreateTime] AS [CreateTime], 
    [Extent2].[IsDeleted] AS [IsDeleted]
    FROM  [dbo].[T_AdminPermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[AdminId] = [Extent2].[Id]
    WHERE [Extent1].[PermissionId] = @EntityKeyValue1
2018-06-08 16:35:40,288 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:40,288 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '22' (Type = Int64, IsNullable = false)

2018-06-08 16:35:40,288 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:35:40 +08:00

2018-06-08 16:35:40,290 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:35:40,290 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:40,290 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:35:40 +08:00

2018-06-08 16:35:40,290 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:35:40 +08:00

2018-06-08 16:35:40,290 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[PermissionTypeId] AS [PermissionTypeId], 
    [Extent2].[CreateTime] AS [CreateTime], 
    [Extent2].[IsDeleted] AS [IsDeleted]
    FROM  [dbo].[T_AdminPermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[AdminId] = [Extent2].[Id]
    WHERE [Extent1].[PermissionId] = @EntityKeyValue1
2018-06-08 16:35:40,291 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:40,291 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '5' (Type = Int64, IsNullable = false)

2018-06-08 16:35:40,291 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:35:40 +08:00

2018-06-08 16:35:40,292 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:35:40,292 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:40,293 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:35:40 +08:00

2018-06-08 16:35:40,293 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:35:40 +08:00

2018-06-08 16:35:40,293 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[PermissionTypeId] AS [PermissionTypeId], 
    [Extent2].[CreateTime] AS [CreateTime], 
    [Extent2].[IsDeleted] AS [IsDeleted]
    FROM  [dbo].[T_AdminPermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[AdminId] = [Extent2].[Id]
    WHERE [Extent1].[PermissionId] = @EntityKeyValue1
2018-06-08 16:35:40,293 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:40,293 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '4' (Type = Int64, IsNullable = false)

2018-06-08 16:35:40,293 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:35:40 +08:00

2018-06-08 16:35:40,295 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-06-08 16:35:40,295 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:40,296 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:35:40 +08:00

2018-06-08 16:35:40,297 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:35:40 +08:00

2018-06-08 16:35:40,297 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PermissionTypes] AS [Extent1]
    WHERE 0 = [Extent1].[IsDeleted]
2018-06-08 16:35:40,297 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:40,297 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:35:40 +08:00

2018-06-08 16:35:40,298 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:35:40,298 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:40,299 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:35:40 +08:00

2018-06-08 16:35:40,301 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:35:40 +08:00

2018-06-08 16:35:40,302 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PermissionTypeId] AS [PermissionTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_Permissions] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PermissionTypeId] = @p__linq__0)
2018-06-08 16:35:40,302 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:40,302 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2018-06-08 16:35:40,302 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:35:40 +08:00

2018-06-08 16:35:40,305 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2018-06-08 16:35:40,305 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:40,306 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:35:40 +08:00

2018-06-08 16:35:40,306 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:35:40 +08:00

2018-06-08 16:35:40,306 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PermissionTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:35:40,306 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:40,306 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-06-08 16:35:40,306 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:35:40 +08:00

2018-06-08 16:35:40,308 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:35:40,308 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:40,308 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:35:40 +08:00

2018-06-08 16:35:40,308 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:35:40 +08:00

2018-06-08 16:35:40,309 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PermissionTypeId] AS [PermissionTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_Permissions] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PermissionTypeId] = @p__linq__0)
2018-06-08 16:35:40,309 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:40,309 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64, IsNullable = false)

2018-06-08 16:35:40,309 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:35:40 +08:00

2018-06-08 16:35:40,311 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:35:40,311 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:40,311 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:35:40 +08:00

2018-06-08 16:35:40,311 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:35:40 +08:00

2018-06-08 16:35:40,311 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PermissionTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:35:40,311 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:40,311 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-06-08 16:35:40,311 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:35:40 +08:00

2018-06-08 16:35:40,313 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:35:40,313 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:40,313 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:35:40 +08:00

2018-06-08 16:35:40,314 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:35:40 +08:00

2018-06-08 16:35:40,314 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PermissionTypeId] AS [PermissionTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_Permissions] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PermissionTypeId] = @p__linq__0)
2018-06-08 16:35:40,314 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:40,314 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '3' (Type = Int64, IsNullable = false)

2018-06-08 16:35:40,314 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:35:40 +08:00

2018-06-08 16:35:40,316 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:35:40,316 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:40,319 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:35:40 +08:00

2018-06-08 16:35:40,319 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:35:40 +08:00

2018-06-08 16:35:40,319 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PermissionTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:35:40,319 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:40,319 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-06-08 16:35:40,319 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:35:40 +08:00

2018-06-08 16:35:40,321 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:35:40,321 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:40,321 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:35:40 +08:00

2018-06-08 16:35:40,322 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:35:40 +08:00

2018-06-08 16:35:40,322 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PermissionTypeId] AS [PermissionTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_Permissions] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PermissionTypeId] = @p__linq__0)
2018-06-08 16:35:40,322 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:40,322 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '4' (Type = Int64, IsNullable = false)

2018-06-08 16:35:40,322 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:35:40 +08:00

2018-06-08 16:35:40,324 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:35:40,324 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:40,324 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:35:40 +08:00

2018-06-08 16:35:40,324 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:35:40 +08:00

2018-06-08 16:35:40,324 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PermissionTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:35:40,324 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:40,325 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '4' (Type = Int64, IsNullable = false)

2018-06-08 16:35:40,325 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:35:40 +08:00

2018-06-08 16:35:40,326 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:35:40,326 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:40,326 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:35:40 +08:00

2018-06-08 16:35:40,327 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:35:40 +08:00

2018-06-08 16:35:40,327 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PermissionTypeId] AS [PermissionTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_Permissions] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PermissionTypeId] = @p__linq__0)
2018-06-08 16:35:40,327 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:40,327 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '5' (Type = Int64, IsNullable = false)

2018-06-08 16:35:40,327 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:35:40 +08:00

2018-06-08 16:35:40,330 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-06-08 16:35:40,330 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:40,330 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:35:40 +08:00

2018-06-08 16:35:40,330 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:35:40 +08:00

2018-06-08 16:35:40,330 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PermissionTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:35:40,330 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:40,330 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '5' (Type = Int64, IsNullable = false)

2018-06-08 16:35:40,330 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:35:40 +08:00

2018-06-08 16:35:40,332 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:35:40,332 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:40,332 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:35:40 +08:00

2018-06-08 16:35:41,887 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:35:41 +08:00

2018-06-08 16:35:41,901 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_Admins] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2018-06-08 16:35:41,901 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:41,901 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '5' (Type = Int64, IsNullable = false)

2018-06-08 16:35:41,901 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:35:41 +08:00

2018-06-08 16:35:41,940 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 38 ms with result: SqlDataReader

2018-06-08 16:35:41,940 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:41,940 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:35:41 +08:00

2018-06-08 16:35:41,940 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:35:41 +08:00

2018-06-08 16:35:41,940 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[PermissionTypeId] AS [PermissionTypeId], 
    [Extent2].[CreateTime] AS [CreateTime], 
    [Extent2].[IsDeleted] AS [IsDeleted]
    FROM  [dbo].[T_AdminPermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[AdminId] = [Extent2].[Id]
    WHERE [Extent1].[PermissionId] = @EntityKeyValue1
2018-06-08 16:35:41,940 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:41,940 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '5' (Type = Int64, IsNullable = false)

2018-06-08 16:35:41,941 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:35:41 +08:00

2018-06-08 16:35:41,942 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:35:41,942 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:41,942 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:35:41 +08:00

2018-06-08 16:35:41,943 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:35:41 +08:00

2018-06-08 16:35:41,943 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-06-08 16:35:41,943 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:41,943 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'system' (Type = String, Size = 4000)

2018-06-08 16:35:41,943 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:35:41 +08:00

2018-06-08 16:35:41,972 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 29 ms with result: SqlDataReader

2018-06-08 16:35:41,973 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:41,973 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:35:41 +08:00

2018-06-08 16:35:41,973 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:35:41 +08:00

2018-06-08 16:35:41,973 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:35:41,977 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:41,977 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-06-08 16:35:41,977 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:35:41 +08:00

2018-06-08 16:35:41,985 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 7 ms with result: SqlDataReader

2018-06-08 16:35:41,985 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:41,985 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:35:41 +08:00

2018-06-08 16:35:41,986 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:35:41 +08:00

2018-06-08 16:35:41,986 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-06-08 16:35:41,986 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:41,986 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:35:41 +08:00

2018-06-08 16:35:41,987 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:35:41,988 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:41,988 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:35:41 +08:00

2018-06-08 16:35:41,988 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:35:41 +08:00

2018-06-08 16:35:41,988 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-06-08 16:35:41,988 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:41,988 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:35:41 +08:00

2018-06-08 16:35:41,990 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:35:41,990 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:41,990 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:35:41 +08:00

2018-06-08 16:35:41,990 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:35:41 +08:00

2018-06-08 16:35:41,991 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM  [dbo].[T_Journals] AS [Extent1]
        INNER JOIN [dbo].[T_IntegralTypes] AS [Extent2] ON [Extent1].[IntegralTypeId] = [Extent2].[Id]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] <> [Extent1].[ToPlatformUserId]) AND (N'平台积分' = [Extent2].[Name]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1)
    )  AS [GroupBy1]
2018-06-08 16:35:41,991 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:41,991 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '45' (Type = Int64)

2018-06-08 16:35:41,991 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2' (Type = Int64, IsNullable = false)

2018-06-08 16:35:41,991 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:35:41 +08:00

2018-06-08 16:35:41,997 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 6 ms with result: SqlDataReader

2018-06-08 16:35:41,998 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:41,998 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:35:41 +08:00

2018-06-08 16:35:41,998 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:35:41 +08:00

2018-06-08 16:35:41,999 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM  [dbo].[T_Journals] AS [Extent1]
        INNER JOIN [dbo].[T_IntegralTypes] AS [Extent2] ON [Extent1].[IntegralTypeId] = [Extent2].[Id]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] <> [Extent1].[ToPlatformUserId]) AND (N'平台积分' = [Extent2].[Name]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1)
    )  AS [GroupBy1]
2018-06-08 16:35:41,999 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:41,999 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '45' (Type = Int64)

2018-06-08 16:35:41,999 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '3' (Type = Int64, IsNullable = false)

2018-06-08 16:35:41,999 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:35:41 +08:00

2018-06-08 16:35:42,005 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 6 ms with result: SqlDataReader

2018-06-08 16:35:42,005 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:42,005 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:35:42 +08:00

2018-06-08 16:35:42,006 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:35:42 +08:00

2018-06-08 16:35:42,006 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM  [dbo].[T_Journals] AS [Extent1]
        INNER JOIN [dbo].[T_IntegralTypes] AS [Extent2] ON [Extent1].[IntegralTypeId] = [Extent2].[Id]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] <> [Extent1].[ToPlatformUserId]) AND (N'平台积分' = [Extent2].[Name]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
    )  AS [GroupBy1]
2018-06-08 16:35:42,006 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:42,006 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '45' (Type = Int64)

2018-06-08 16:35:42,006 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:35:42 +08:00

2018-06-08 16:35:42,010 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2018-06-08 16:35:42,010 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:42,010 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:35:42 +08:00

2018-06-08 16:35:42,012 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:35:42 +08:00

2018-06-08 16:35:42,012 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM  [dbo].[T_Journals] AS [Extent1]
            INNER JOIN [dbo].[T_IntegralTypes] AS [Extent2] ON [Extent1].[IntegralTypeId] = [Extent2].[Id]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] <> [Extent1].[ToPlatformUserId]) AND (N'平台积分' = [Extent2].[Name]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-06-08 16:35:42,012 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:42,012 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '45' (Type = Int64)

2018-06-08 16:35:42,012 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:35:42 +08:00

2018-06-08 16:35:42,016 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2018-06-08 16:35:42,016 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:42,016 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:35:42 +08:00

2018-06-08 16:35:46,662 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:35:46 +08:00

2018-06-08 16:35:46,662 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_Admins] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2018-06-08 16:35:46,662 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:46,662 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '4' (Type = Int64, IsNullable = false)

2018-06-08 16:35:46,662 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:35:46 +08:00

2018-06-08 16:35:46,664 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:35:46,664 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:46,664 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:35:46 +08:00

2018-06-08 16:35:46,665 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:35:46 +08:00

2018-06-08 16:35:46,665 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[PermissionTypeId] AS [PermissionTypeId], 
    [Extent2].[CreateTime] AS [CreateTime], 
    [Extent2].[IsDeleted] AS [IsDeleted]
    FROM  [dbo].[T_AdminPermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[AdminId] = [Extent2].[Id]
    WHERE [Extent1].[PermissionId] = @EntityKeyValue1
2018-06-08 16:35:46,665 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:46,665 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '4' (Type = Int64, IsNullable = false)

2018-06-08 16:35:46,665 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:35:46 +08:00

2018-06-08 16:35:46,667 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:35:46,667 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:46,668 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:35:46 +08:00

2018-06-08 16:35:46,669 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:35:46 +08:00

2018-06-08 16:35:46,669 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-06-08 16:35:46,669 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:46,669 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'admin' (Type = String, Size = 4000)

2018-06-08 16:35:46,669 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:35:46 +08:00

2018-06-08 16:35:46,671 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-06-08 16:35:46,672 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:46,672 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:35:46 +08:00

2018-06-08 16:35:46,672 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:35:46 +08:00

2018-06-08 16:35:46,672 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:35:46,673 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:46,673 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-06-08 16:35:46,673 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:35:46 +08:00

2018-06-08 16:35:46,674 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:35:46,674 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:46,675 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:35:46 +08:00

2018-06-08 16:35:46,675 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:35:46 +08:00

2018-06-08 16:35:46,675 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-06-08 16:35:46,675 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:46,675 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:35:46 +08:00

2018-06-08 16:35:46,677 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:35:46,677 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:46,677 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:35:46 +08:00

2018-06-08 16:35:46,677 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:35:46 +08:00

2018-06-08 16:35:46,678 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-06-08 16:35:46,678 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:46,678 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:35:46 +08:00

2018-06-08 16:35:46,679 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:35:46,679 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:46,679 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:35:46 +08:00

2018-06-08 16:35:46,679 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:35:46 +08:00

2018-06-08 16:35:46,680 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM  [dbo].[T_Journals] AS [Extent1]
        INNER JOIN [dbo].[T_IntegralTypes] AS [Extent2] ON [Extent1].[IntegralTypeId] = [Extent2].[Id]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] <> [Extent1].[ToPlatformUserId]) AND (N'平台积分' = [Extent2].[Name]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1)
    )  AS [GroupBy1]
2018-06-08 16:35:46,680 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:46,680 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '44' (Type = Int64)

2018-06-08 16:35:46,680 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2' (Type = Int64, IsNullable = false)

2018-06-08 16:35:46,680 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:35:46 +08:00

2018-06-08 16:35:46,681 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:35:46,681 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:46,681 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:35:46 +08:00

2018-06-08 16:35:46,682 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:35:46 +08:00

2018-06-08 16:35:46,682 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM  [dbo].[T_Journals] AS [Extent1]
        INNER JOIN [dbo].[T_IntegralTypes] AS [Extent2] ON [Extent1].[IntegralTypeId] = [Extent2].[Id]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] <> [Extent1].[ToPlatformUserId]) AND (N'平台积分' = [Extent2].[Name]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1)
    )  AS [GroupBy1]
2018-06-08 16:35:46,682 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:46,682 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '44' (Type = Int64)

2018-06-08 16:35:46,682 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '3' (Type = Int64, IsNullable = false)

2018-06-08 16:35:46,682 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:35:46 +08:00

2018-06-08 16:35:46,684 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:35:46,684 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:46,684 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:35:46 +08:00

2018-06-08 16:35:46,685 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:35:46 +08:00

2018-06-08 16:35:46,685 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM  [dbo].[T_Journals] AS [Extent1]
        INNER JOIN [dbo].[T_IntegralTypes] AS [Extent2] ON [Extent1].[IntegralTypeId] = [Extent2].[Id]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] <> [Extent1].[ToPlatformUserId]) AND (N'平台积分' = [Extent2].[Name]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
    )  AS [GroupBy1]
2018-06-08 16:35:46,685 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:46,685 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '44' (Type = Int64)

2018-06-08 16:35:46,685 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:35:46 +08:00

2018-06-08 16:35:46,687 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:35:46,687 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:46,687 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:35:46 +08:00

2018-06-08 16:35:46,687 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:35:46 +08:00

2018-06-08 16:35:46,688 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM  [dbo].[T_Journals] AS [Extent1]
            INNER JOIN [dbo].[T_IntegralTypes] AS [Extent2] ON [Extent1].[IntegralTypeId] = [Extent2].[Id]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] <> [Extent1].[ToPlatformUserId]) AND (N'平台积分' = [Extent2].[Name]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-06-08 16:35:46,688 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:46,688 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '44' (Type = Int64)

2018-06-08 16:35:46,688 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:35:46 +08:00

2018-06-08 16:35:46,691 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-06-08 16:35:46,691 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:46,691 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:35:46 +08:00

2018-06-08 16:35:46,692 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:35:46 +08:00

2018-06-08 16:35:46,692 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:35:46,692 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:46,692 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-06-08 16:35:46,692 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:35:46 +08:00

2018-06-08 16:35:46,694 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:35:46,694 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:46,694 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:35:46 +08:00

2018-06-08 16:35:46,694 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:35:46 +08:00

2018-06-08 16:35:46,694 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:35:46,694 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:46,694 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-06-08 16:35:46,694 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:35:46 +08:00

2018-06-08 16:35:46,696 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:35:46,696 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:46,697 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:35:46 +08:00

2018-06-08 16:35:46,697 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:35:46 +08:00

2018-06-08 16:35:46,697 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:35:46,697 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:46,697 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-06-08 16:35:46,697 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:35:46 +08:00

2018-06-08 16:35:46,698 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:35:46,698 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:46,699 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:35:46 +08:00

2018-06-08 16:35:46,699 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:35:46 +08:00

2018-06-08 16:35:46,699 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:35:46,699 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:46,699 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '44' (Type = Int64, IsNullable = false)

2018-06-08 16:35:46,699 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:35:46 +08:00

2018-06-08 16:35:46,701 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-06-08 16:35:46,701 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:46,702 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:35:46 +08:00

2018-06-08 16:35:46,702 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:35:46 +08:00

2018-06-08 16:35:46,702 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:35:46,702 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:46,702 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '42' (Type = Int64, IsNullable = false)

2018-06-08 16:35:46,702 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:35:46 +08:00

2018-06-08 16:35:46,704 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-06-08 16:35:46,704 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:46,704 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:35:46 +08:00

2018-06-08 16:35:46,705 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:35:46 +08:00

2018-06-08 16:35:46,705 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:35:46,705 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:46,705 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-06-08 16:35:46,705 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:35:46 +08:00

2018-06-08 16:35:46,706 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:35:46,707 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:46,707 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:35:46 +08:00

2018-06-08 16:35:49,116 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:35:49 +08:00

2018-06-08 16:35:49,116 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_Admins] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2018-06-08 16:35:49,116 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:49,116 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '22' (Type = Int64, IsNullable = false)

2018-06-08 16:35:49,117 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:35:49 +08:00

2018-06-08 16:35:49,119 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:35:49,119 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:49,119 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:35:49 +08:00

2018-06-08 16:35:49,119 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:35:49 +08:00

2018-06-08 16:35:49,119 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[PermissionTypeId] AS [PermissionTypeId], 
    [Extent2].[CreateTime] AS [CreateTime], 
    [Extent2].[IsDeleted] AS [IsDeleted]
    FROM  [dbo].[T_AdminPermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[AdminId] = [Extent2].[Id]
    WHERE [Extent1].[PermissionId] = @EntityKeyValue1
2018-06-08 16:35:49,119 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:49,119 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '22' (Type = Int64, IsNullable = false)

2018-06-08 16:35:49,119 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:35:49 +08:00

2018-06-08 16:35:49,121 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:35:49,121 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:49,121 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:35:49 +08:00

2018-06-08 16:35:49,122 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:35:49 +08:00

2018-06-08 16:35:49,122 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-06-08 16:35:49,122 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:49,122 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'admin1' (Type = String, Size = 4000)

2018-06-08 16:35:49,122 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:35:49 +08:00

2018-06-08 16:35:49,124 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-06-08 16:35:49,124 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:49,125 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:35:49 +08:00

2018-06-08 16:35:49,125 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:35:49 +08:00

2018-06-08 16:35:49,125 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:35:49,125 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:49,125 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-06-08 16:35:49,125 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:35:49 +08:00

2018-06-08 16:35:49,126 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:35:49,127 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:49,127 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:35:49 +08:00

2018-06-08 16:35:49,127 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:35:49 +08:00

2018-06-08 16:35:49,128 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-06-08 16:35:49,128 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:49,128 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:35:49 +08:00

2018-06-08 16:35:49,129 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:35:49,129 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:49,129 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:35:49 +08:00

2018-06-08 16:35:49,130 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:35:49 +08:00

2018-06-08 16:35:49,130 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-06-08 16:35:49,130 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:49,130 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:35:49 +08:00

2018-06-08 16:35:49,132 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:35:49,132 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:49,132 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:35:49 +08:00

2018-06-08 16:35:49,132 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:35:49 +08:00

2018-06-08 16:35:49,133 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM  [dbo].[T_Journals] AS [Extent1]
        INNER JOIN [dbo].[T_IntegralTypes] AS [Extent2] ON [Extent1].[IntegralTypeId] = [Extent2].[Id]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] <> [Extent1].[ToPlatformUserId]) AND (N'平台积分' = [Extent2].[Name]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1)
    )  AS [GroupBy1]
2018-06-08 16:35:49,133 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:49,133 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '43' (Type = Int64)

2018-06-08 16:35:49,133 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2' (Type = Int64, IsNullable = false)

2018-06-08 16:35:49,133 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:35:49 +08:00

2018-06-08 16:35:49,134 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:35:49,134 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:49,135 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:35:49 +08:00

2018-06-08 16:35:49,135 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:35:49 +08:00

2018-06-08 16:35:49,135 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM  [dbo].[T_Journals] AS [Extent1]
        INNER JOIN [dbo].[T_IntegralTypes] AS [Extent2] ON [Extent1].[IntegralTypeId] = [Extent2].[Id]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] <> [Extent1].[ToPlatformUserId]) AND (N'平台积分' = [Extent2].[Name]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1)
    )  AS [GroupBy1]
2018-06-08 16:35:49,135 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:49,135 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '43' (Type = Int64)

2018-06-08 16:35:49,135 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '3' (Type = Int64, IsNullable = false)

2018-06-08 16:35:49,136 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:35:49 +08:00

2018-06-08 16:35:49,137 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:35:49,137 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:49,137 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:35:49 +08:00

2018-06-08 16:35:49,138 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:35:49 +08:00

2018-06-08 16:35:49,138 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM  [dbo].[T_Journals] AS [Extent1]
        INNER JOIN [dbo].[T_IntegralTypes] AS [Extent2] ON [Extent1].[IntegralTypeId] = [Extent2].[Id]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] <> [Extent1].[ToPlatformUserId]) AND (N'平台积分' = [Extent2].[Name]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
    )  AS [GroupBy1]
2018-06-08 16:35:49,138 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:49,138 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '43' (Type = Int64)

2018-06-08 16:35:49,138 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:35:49 +08:00

2018-06-08 16:35:49,140 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:35:49,140 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:49,140 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:35:49 +08:00

2018-06-08 16:35:49,140 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:35:49 +08:00

2018-06-08 16:35:49,141 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM  [dbo].[T_Journals] AS [Extent1]
            INNER JOIN [dbo].[T_IntegralTypes] AS [Extent2] ON [Extent1].[IntegralTypeId] = [Extent2].[Id]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] <> [Extent1].[ToPlatformUserId]) AND (N'平台积分' = [Extent2].[Name]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-06-08 16:35:49,141 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:49,141 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '43' (Type = Int64)

2018-06-08 16:35:49,141 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:35:49 +08:00

2018-06-08 16:35:49,144 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-06-08 16:35:49,144 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:49,144 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:35:49 +08:00

2018-06-08 16:35:49,144 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:35:49 +08:00

2018-06-08 16:35:49,144 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:35:49,144 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:49,144 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-06-08 16:35:49,144 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:35:49 +08:00

2018-06-08 16:35:49,146 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:35:49,146 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:49,146 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:35:49 +08:00

2018-06-08 16:35:49,146 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:35:49 +08:00

2018-06-08 16:35:49,146 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:35:49,146 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:49,147 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '43' (Type = Int64, IsNullable = false)

2018-06-08 16:35:49,147 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:35:49 +08:00

2018-06-08 16:35:49,149 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-06-08 16:35:49,149 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:49,149 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:35:49 +08:00

2018-06-08 16:35:49,149 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:35:49 +08:00

2018-06-08 16:35:49,149 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:35:49,149 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:49,149 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '42' (Type = Int64, IsNullable = false)

2018-06-08 16:35:49,149 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:35:49 +08:00

2018-06-08 16:35:49,152 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-06-08 16:35:49,152 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:49,152 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:35:49 +08:00

2018-06-08 16:35:49,153 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:35:49 +08:00

2018-06-08 16:35:49,153 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:35:49,153 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:49,153 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-06-08 16:35:49,153 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:35:49 +08:00

2018-06-08 16:35:49,154 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:35:49,154 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:49,154 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:35:49 +08:00

2018-06-08 16:35:54,512 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:35:54 +08:00

2018-06-08 16:35:54,513 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_Admins] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2018-06-08 16:35:54,513 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:54,513 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '22' (Type = Int64, IsNullable = false)

2018-06-08 16:35:54,513 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:35:54 +08:00

2018-06-08 16:35:54,515 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-06-08 16:35:54,515 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:54,515 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:35:54 +08:00

2018-06-08 16:35:54,515 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:35:54 +08:00

2018-06-08 16:35:54,515 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[PermissionTypeId] AS [PermissionTypeId], 
    [Extent2].[CreateTime] AS [CreateTime], 
    [Extent2].[IsDeleted] AS [IsDeleted]
    FROM  [dbo].[T_AdminPermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[AdminId] = [Extent2].[Id]
    WHERE [Extent1].[PermissionId] = @EntityKeyValue1
2018-06-08 16:35:54,515 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:54,516 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '22' (Type = Int64, IsNullable = false)

2018-06-08 16:35:54,516 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:35:54 +08:00

2018-06-08 16:35:54,517 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:35:54,517 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:54,517 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:35:54 +08:00

2018-06-08 16:35:54,518 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:35:54 +08:00

2018-06-08 16:35:54,518 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-06-08 16:35:54,518 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:54,518 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'admin1' (Type = String, Size = 4000)

2018-06-08 16:35:54,518 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:35:54 +08:00

2018-06-08 16:35:54,526 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 7 ms with result: SqlDataReader

2018-06-08 16:35:54,526 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:54,526 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:35:54 +08:00

2018-06-08 16:35:54,526 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:35:54 +08:00

2018-06-08 16:35:54,526 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:35:54,526 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:54,526 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-06-08 16:35:54,526 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:35:54 +08:00

2018-06-08 16:35:54,528 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:35:54,528 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:54,528 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:35:54 +08:00

2018-06-08 16:35:54,528 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:35:54 +08:00

2018-06-08 16:35:54,529 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-06-08 16:35:54,529 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:54,529 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:35:54 +08:00

2018-06-08 16:35:54,531 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:35:54,531 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:54,531 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:35:54 +08:00

2018-06-08 16:35:54,531 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:35:54 +08:00

2018-06-08 16:35:54,531 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-06-08 16:35:54,532 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:54,532 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:35:54 +08:00

2018-06-08 16:35:54,533 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:35:54,533 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:54,533 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:35:54 +08:00

2018-06-08 16:35:54,534 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:35:54 +08:00

2018-06-08 16:35:54,534 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM  [dbo].[T_Journals] AS [Extent1]
        INNER JOIN [dbo].[T_IntegralTypes] AS [Extent2] ON [Extent1].[IntegralTypeId] = [Extent2].[Id]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] <> [Extent1].[ToPlatformUserId]) AND (N'平台积分' = [Extent2].[Name]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1)
    )  AS [GroupBy1]
2018-06-08 16:35:54,534 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:54,534 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '43' (Type = Int64)

2018-06-08 16:35:54,534 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2' (Type = Int64, IsNullable = false)

2018-06-08 16:35:54,534 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:35:54 +08:00

2018-06-08 16:35:54,543 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 8 ms with result: SqlDataReader

2018-06-08 16:35:54,543 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:54,543 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:35:54 +08:00

2018-06-08 16:35:54,543 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:35:54 +08:00

2018-06-08 16:35:54,544 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM  [dbo].[T_Journals] AS [Extent1]
        INNER JOIN [dbo].[T_IntegralTypes] AS [Extent2] ON [Extent1].[IntegralTypeId] = [Extent2].[Id]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] <> [Extent1].[ToPlatformUserId]) AND (N'平台积分' = [Extent2].[Name]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1)
    )  AS [GroupBy1]
2018-06-08 16:35:54,544 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:54,544 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '43' (Type = Int64)

2018-06-08 16:35:54,544 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '3' (Type = Int64, IsNullable = false)

2018-06-08 16:35:54,544 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:35:54 +08:00

2018-06-08 16:35:54,551 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 7 ms with result: SqlDataReader

2018-06-08 16:35:54,551 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:54,551 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:35:54 +08:00

2018-06-08 16:35:54,553 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:35:54 +08:00

2018-06-08 16:35:54,553 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM  [dbo].[T_Journals] AS [Extent1]
        INNER JOIN [dbo].[T_IntegralTypes] AS [Extent2] ON [Extent1].[IntegralTypeId] = [Extent2].[Id]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] <> [Extent1].[ToPlatformUserId]) AND (N'平台积分' = [Extent2].[Name]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
    )  AS [GroupBy1]
2018-06-08 16:35:54,553 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:54,553 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '43' (Type = Int64)

2018-06-08 16:35:54,553 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:35:54 +08:00

2018-06-08 16:35:54,558 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 4 ms with result: SqlDataReader

2018-06-08 16:35:54,558 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:54,559 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:35:54 +08:00

2018-06-08 16:35:54,559 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:35:54 +08:00

2018-06-08 16:35:54,559 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM  [dbo].[T_Journals] AS [Extent1]
            INNER JOIN [dbo].[T_IntegralTypes] AS [Extent2] ON [Extent1].[IntegralTypeId] = [Extent2].[Id]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] <> [Extent1].[ToPlatformUserId]) AND (N'平台积分' = [Extent2].[Name]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-06-08 16:35:54,559 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:54,559 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '43' (Type = Int64)

2018-06-08 16:35:54,560 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:35:54 +08:00

2018-06-08 16:35:54,591 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 31 ms with result: SqlDataReader

2018-06-08 16:35:54,591 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:54,591 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:35:54 +08:00

2018-06-08 16:35:54,591 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:35:54 +08:00

2018-06-08 16:35:54,591 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:35:54,591 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:54,591 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-06-08 16:35:54,591 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:35:54 +08:00

2018-06-08 16:35:54,593 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:35:54,593 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:54,593 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:35:54 +08:00

2018-06-08 16:35:54,593 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:35:54 +08:00

2018-06-08 16:35:54,593 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:35:54,593 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:54,594 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '43' (Type = Int64, IsNullable = false)

2018-06-08 16:35:54,594 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:35:54 +08:00

2018-06-08 16:35:54,596 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-06-08 16:35:54,596 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:54,596 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:35:54 +08:00

2018-06-08 16:35:54,596 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:35:54 +08:00

2018-06-08 16:35:54,596 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:35:54,596 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:54,596 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '42' (Type = Int64, IsNullable = false)

2018-06-08 16:35:54,596 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:35:54 +08:00

2018-06-08 16:35:54,598 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:35:54,598 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:54,599 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:35:54 +08:00

2018-06-08 16:35:54,599 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:35:54 +08:00

2018-06-08 16:35:54,599 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:35:54,599 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:54,599 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-06-08 16:35:54,599 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:35:54 +08:00

2018-06-08 16:35:54,601 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:35:54,601 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:54,601 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:35:54 +08:00

2018-06-08 16:35:56,985 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:35:56 +08:00

2018-06-08 16:35:56,985 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_Admins] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2018-06-08 16:35:56,985 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:56,985 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '5' (Type = Int64, IsNullable = false)

2018-06-08 16:35:56,985 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:35:56 +08:00

2018-06-08 16:35:56,987 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:35:56,987 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:56,987 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:35:56 +08:00

2018-06-08 16:35:56,987 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:35:56 +08:00

2018-06-08 16:35:56,988 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[PermissionTypeId] AS [PermissionTypeId], 
    [Extent2].[CreateTime] AS [CreateTime], 
    [Extent2].[IsDeleted] AS [IsDeleted]
    FROM  [dbo].[T_AdminPermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[AdminId] = [Extent2].[Id]
    WHERE [Extent1].[PermissionId] = @EntityKeyValue1
2018-06-08 16:35:56,988 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:56,988 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '5' (Type = Int64, IsNullable = false)

2018-06-08 16:35:56,988 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:35:56 +08:00

2018-06-08 16:35:56,989 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:35:56,989 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:56,989 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:35:56 +08:00

2018-06-08 16:35:56,990 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:35:56 +08:00

2018-06-08 16:35:56,990 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-06-08 16:35:56,990 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:56,990 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'system' (Type = String, Size = 4000)

2018-06-08 16:35:56,990 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:35:56 +08:00

2018-06-08 16:35:56,993 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-06-08 16:35:56,993 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:56,993 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:35:56 +08:00

2018-06-08 16:35:56,993 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:35:56 +08:00

2018-06-08 16:35:56,993 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:35:56,993 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:56,993 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-06-08 16:35:56,993 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:35:56 +08:00

2018-06-08 16:35:56,995 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:35:56,995 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:56,995 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:35:56 +08:00

2018-06-08 16:35:56,996 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:35:56 +08:00

2018-06-08 16:35:56,996 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-06-08 16:35:56,996 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:56,996 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:35:56 +08:00

2018-06-08 16:35:56,997 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:35:56,997 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:56,998 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:35:56 +08:00

2018-06-08 16:35:56,998 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:35:56 +08:00

2018-06-08 16:35:56,998 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-06-08 16:35:56,998 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:56,998 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:35:56 +08:00

2018-06-08 16:35:56,999 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:35:57,000 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:57,000 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:35:57 +08:00

2018-06-08 16:35:57,000 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:35:57 +08:00

2018-06-08 16:35:57,000 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM  [dbo].[T_Journals] AS [Extent1]
        INNER JOIN [dbo].[T_IntegralTypes] AS [Extent2] ON [Extent1].[IntegralTypeId] = [Extent2].[Id]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] <> [Extent1].[ToPlatformUserId]) AND (N'平台积分' = [Extent2].[Name]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1)
    )  AS [GroupBy1]
2018-06-08 16:35:57,000 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:57,001 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '45' (Type = Int64)

2018-06-08 16:35:57,001 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2' (Type = Int64, IsNullable = false)

2018-06-08 16:35:57,001 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:35:57 +08:00

2018-06-08 16:35:57,003 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-06-08 16:35:57,003 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:57,004 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:35:57 +08:00

2018-06-08 16:35:57,004 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:35:57 +08:00

2018-06-08 16:35:57,004 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM  [dbo].[T_Journals] AS [Extent1]
        INNER JOIN [dbo].[T_IntegralTypes] AS [Extent2] ON [Extent1].[IntegralTypeId] = [Extent2].[Id]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] <> [Extent1].[ToPlatformUserId]) AND (N'平台积分' = [Extent2].[Name]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1)
    )  AS [GroupBy1]
2018-06-08 16:35:57,004 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:57,004 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '45' (Type = Int64)

2018-06-08 16:35:57,004 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '3' (Type = Int64, IsNullable = false)

2018-06-08 16:35:57,004 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:35:57 +08:00

2018-06-08 16:35:57,006 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:35:57,006 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:57,006 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:35:57 +08:00

2018-06-08 16:35:57,006 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:35:57 +08:00

2018-06-08 16:35:57,007 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM  [dbo].[T_Journals] AS [Extent1]
        INNER JOIN [dbo].[T_IntegralTypes] AS [Extent2] ON [Extent1].[IntegralTypeId] = [Extent2].[Id]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] <> [Extent1].[ToPlatformUserId]) AND (N'平台积分' = [Extent2].[Name]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
    )  AS [GroupBy1]
2018-06-08 16:35:57,007 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:57,007 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '45' (Type = Int64)

2018-06-08 16:35:57,007 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:35:57 +08:00

2018-06-08 16:35:57,009 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:35:57,009 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:57,009 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:35:57 +08:00

2018-06-08 16:35:57,009 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:35:57 +08:00

2018-06-08 16:35:57,010 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM  [dbo].[T_Journals] AS [Extent1]
            INNER JOIN [dbo].[T_IntegralTypes] AS [Extent2] ON [Extent1].[IntegralTypeId] = [Extent2].[Id]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] <> [Extent1].[ToPlatformUserId]) AND (N'平台积分' = [Extent2].[Name]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-06-08 16:35:57,010 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:57,010 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '45' (Type = Int64)

2018-06-08 16:35:57,010 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:35:57 +08:00

2018-06-08 16:35:57,013 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2018-06-08 16:35:57,013 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:57,013 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:35:57 +08:00

2018-06-08 16:35:59,573 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:35:59 +08:00

2018-06-08 16:35:59,573 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_Admins] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2018-06-08 16:35:59,573 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:59,573 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '4' (Type = Int64, IsNullable = false)

2018-06-08 16:35:59,573 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:35:59 +08:00

2018-06-08 16:35:59,575 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:35:59,575 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:59,575 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:35:59 +08:00

2018-06-08 16:35:59,575 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:35:59 +08:00

2018-06-08 16:35:59,576 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[PermissionTypeId] AS [PermissionTypeId], 
    [Extent2].[CreateTime] AS [CreateTime], 
    [Extent2].[IsDeleted] AS [IsDeleted]
    FROM  [dbo].[T_AdminPermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[AdminId] = [Extent2].[Id]
    WHERE [Extent1].[PermissionId] = @EntityKeyValue1
2018-06-08 16:35:59,576 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:59,576 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '4' (Type = Int64, IsNullable = false)

2018-06-08 16:35:59,576 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:35:59 +08:00

2018-06-08 16:35:59,578 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:35:59,578 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:59,578 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:35:59 +08:00

2018-06-08 16:35:59,579 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:35:59 +08:00

2018-06-08 16:35:59,579 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-06-08 16:35:59,579 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:59,580 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'admin' (Type = String, Size = 4000)

2018-06-08 16:35:59,580 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:35:59 +08:00

2018-06-08 16:35:59,583 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2018-06-08 16:35:59,583 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:59,583 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:35:59 +08:00

2018-06-08 16:35:59,583 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:35:59 +08:00

2018-06-08 16:35:59,583 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:35:59,583 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:59,583 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-06-08 16:35:59,583 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:35:59 +08:00

2018-06-08 16:35:59,585 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:35:59,585 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:59,585 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:35:59 +08:00

2018-06-08 16:35:59,586 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:35:59 +08:00

2018-06-08 16:35:59,586 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-06-08 16:35:59,586 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:59,586 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:35:59 +08:00

2018-06-08 16:35:59,587 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:35:59,587 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:59,588 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:35:59 +08:00

2018-06-08 16:35:59,588 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:35:59 +08:00

2018-06-08 16:35:59,588 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-06-08 16:35:59,588 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:59,588 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:35:59 +08:00

2018-06-08 16:35:59,590 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:35:59,590 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:59,590 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:35:59 +08:00

2018-06-08 16:35:59,590 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:35:59 +08:00

2018-06-08 16:35:59,590 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM  [dbo].[T_Journals] AS [Extent1]
        INNER JOIN [dbo].[T_IntegralTypes] AS [Extent2] ON [Extent1].[IntegralTypeId] = [Extent2].[Id]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] <> [Extent1].[ToPlatformUserId]) AND (N'平台积分' = [Extent2].[Name]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1)
    )  AS [GroupBy1]
2018-06-08 16:35:59,590 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:59,590 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '44' (Type = Int64)

2018-06-08 16:35:59,591 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2' (Type = Int64, IsNullable = false)

2018-06-08 16:35:59,591 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:35:59 +08:00

2018-06-08 16:35:59,597 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 6 ms with result: SqlDataReader

2018-06-08 16:35:59,597 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:59,597 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:35:59 +08:00

2018-06-08 16:35:59,598 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:35:59 +08:00

2018-06-08 16:35:59,598 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM  [dbo].[T_Journals] AS [Extent1]
        INNER JOIN [dbo].[T_IntegralTypes] AS [Extent2] ON [Extent1].[IntegralTypeId] = [Extent2].[Id]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] <> [Extent1].[ToPlatformUserId]) AND (N'平台积分' = [Extent2].[Name]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1)
    )  AS [GroupBy1]
2018-06-08 16:35:59,598 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:59,598 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '44' (Type = Int64)

2018-06-08 16:35:59,598 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '3' (Type = Int64, IsNullable = false)

2018-06-08 16:35:59,598 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:35:59 +08:00

2018-06-08 16:35:59,601 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-06-08 16:35:59,601 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:59,601 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:35:59 +08:00

2018-06-08 16:35:59,601 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:35:59 +08:00

2018-06-08 16:35:59,601 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM  [dbo].[T_Journals] AS [Extent1]
        INNER JOIN [dbo].[T_IntegralTypes] AS [Extent2] ON [Extent1].[IntegralTypeId] = [Extent2].[Id]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] <> [Extent1].[ToPlatformUserId]) AND (N'平台积分' = [Extent2].[Name]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
    )  AS [GroupBy1]
2018-06-08 16:35:59,602 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:59,602 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '44' (Type = Int64)

2018-06-08 16:35:59,602 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:35:59 +08:00

2018-06-08 16:35:59,603 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:35:59,603 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:59,603 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:35:59 +08:00

2018-06-08 16:35:59,604 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:35:59 +08:00

2018-06-08 16:35:59,604 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM  [dbo].[T_Journals] AS [Extent1]
            INNER JOIN [dbo].[T_IntegralTypes] AS [Extent2] ON [Extent1].[IntegralTypeId] = [Extent2].[Id]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] <> [Extent1].[ToPlatformUserId]) AND (N'平台积分' = [Extent2].[Name]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-06-08 16:35:59,604 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:59,604 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '44' (Type = Int64)

2018-06-08 16:35:59,604 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:35:59 +08:00

2018-06-08 16:35:59,607 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-06-08 16:35:59,607 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:59,608 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:35:59 +08:00

2018-06-08 16:35:59,608 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:35:59 +08:00

2018-06-08 16:35:59,608 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:35:59,608 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:59,608 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-06-08 16:35:59,608 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:35:59 +08:00

2018-06-08 16:35:59,609 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:35:59,609 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:59,610 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:35:59 +08:00

2018-06-08 16:35:59,610 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:35:59 +08:00

2018-06-08 16:35:59,610 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:35:59,610 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:59,610 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-06-08 16:35:59,610 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:35:59 +08:00

2018-06-08 16:35:59,612 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:35:59,612 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:59,612 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:35:59 +08:00

2018-06-08 16:35:59,612 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:35:59 +08:00

2018-06-08 16:35:59,612 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:35:59,612 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:59,612 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-06-08 16:35:59,612 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:35:59 +08:00

2018-06-08 16:35:59,614 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:35:59,614 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:59,614 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:35:59 +08:00

2018-06-08 16:35:59,614 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:35:59 +08:00

2018-06-08 16:35:59,614 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:35:59,614 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:59,614 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '44' (Type = Int64, IsNullable = false)

2018-06-08 16:35:59,614 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:35:59 +08:00

2018-06-08 16:35:59,616 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-06-08 16:35:59,616 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:59,617 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:35:59 +08:00

2018-06-08 16:35:59,617 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:35:59 +08:00

2018-06-08 16:35:59,617 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:35:59,617 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:59,617 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '42' (Type = Int64, IsNullable = false)

2018-06-08 16:35:59,617 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:35:59 +08:00

2018-06-08 16:35:59,619 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-06-08 16:35:59,619 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:59,620 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:35:59 +08:00

2018-06-08 16:35:59,620 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:35:59 +08:00

2018-06-08 16:35:59,620 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:35:59,620 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:59,620 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-06-08 16:35:59,620 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:35:59 +08:00

2018-06-08 16:35:59,622 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:35:59,622 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:35:59,622 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:35:59 +08:00

2018-06-08 16:38:10,449 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:38:10 +08:00

2018-06-08 16:38:10,460 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：
SELECT Count(*)
FROM INFORMATION_SCHEMA.TABLES AS t
WHERE t.TABLE_SCHEMA + '.' + t.TABLE_NAME IN ('dbo.T_AdminLogs','dbo.T_Admins','dbo.T_Permissions','dbo.T_PermissionTypes','dbo.T_IntegralTypes','dbo.T_Journals','dbo.T_PlatformUsers','dbo.T_PlatformUserTypes','dbo.T_JournalTypes','dbo.T_NavBars','dbo.T_Settings','dbo.T_SettingTypes','dbo.T_States','dbo.T_TakeCashes','dbo.T_AdminPermissions')
    OR t.TABLE_NAME = 'EdmMetadata'
2018-06-08 16:38:10,460 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:10,461 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:38:10 +08:00

2018-06-08 16:38:10,464 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: 15

2018-06-08 16:38:10,464 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:10,464 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:10 +08:00

2018-06-08 16:38:10,562 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:38:10 +08:00

2018-06-08 16:38:11,545 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[__MigrationHistory] AS [Extent1]
        WHERE [Extent1].[ContextKey] = @p__linq__0
    )  AS [GroupBy1]
2018-06-08 16:38:11,545 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:11,547 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'IMS.Service.MyDbContext' (Type = String, Size = 4000)

2018-06-08 16:38:11,547 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:38:11 +08:00

2018-06-08 16:38:11,550 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Failed in 2 ms with error: 对象名 'dbo.__MigrationHistory' 无效。

2018-06-08 16:38:11,550 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:11,551 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:11 +08:00

2018-06-08 16:38:11,553 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:38:11 +08:00

2018-06-08 16:38:11,554 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[__MigrationHistory] AS [Extent1]
    )  AS [GroupBy1]
2018-06-08 16:38:11,555 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:11,555 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:38:11 +08:00

2018-06-08 16:38:11,557 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Failed in 1 ms with error: 对象名 'dbo.__MigrationHistory' 无效。

2018-06-08 16:38:11,557 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:11,557 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:11 +08:00

2018-06-08 16:38:11,745 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:38:11 +08:00

2018-06-08 16:38:11,899 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_Admins] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-06-08 16:38:11,899 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:11,899 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'admin' (Type = String, Size = 4000)

2018-06-08 16:38:11,899 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:38:11 +08:00

2018-06-08 16:38:11,910 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 10 ms with result: SqlDataReader

2018-06-08 16:38:11,910 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:11,970 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:11 +08:00

2018-06-08 16:38:11,978 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:38:11 +08:00

2018-06-08 16:38:12,000 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-06-08 16:38:12,000 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:12,000 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'PlatformUser201805051709360001' (Type = String, Size = 4000)

2018-06-08 16:38:12,000 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:38:12 +08:00

2018-06-08 16:38:12,003 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2018-06-08 16:38:12,003 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:12,033 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:12 +08:00

2018-06-08 16:38:12,048 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:38:12 +08:00

2018-06-08 16:38:12,088 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:38:12,088 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:12,088 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-06-08 16:38:12,088 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:38:12 +08:00

2018-06-08 16:38:12,090 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:38:12,090 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:12,136 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:12 +08:00

2018-06-08 16:38:12,334 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:38:12 +08:00

2018-06-08 16:38:12,336 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_Admins] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2018-06-08 16:38:12,336 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:12,336 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '4' (Type = Int64, IsNullable = false)

2018-06-08 16:38:12,336 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:38:12 +08:00

2018-06-08 16:38:12,340 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2018-06-08 16:38:12,340 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:12,340 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:12 +08:00

2018-06-08 16:38:12,347 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:38:12 +08:00

2018-06-08 16:38:12,469 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[PermissionTypeId] AS [PermissionTypeId], 
    [Extent2].[CreateTime] AS [CreateTime], 
    [Extent2].[IsDeleted] AS [IsDeleted]
    FROM  [dbo].[T_AdminPermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[AdminId] = [Extent2].[Id]
    WHERE [Extent1].[PermissionId] = @EntityKeyValue1
2018-06-08 16:38:12,470 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:12,470 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '4' (Type = Int64, IsNullable = false)

2018-06-08 16:38:12,470 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:38:12 +08:00

2018-06-08 16:38:12,472 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-06-08 16:38:12,472 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:12,474 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:12 +08:00

2018-06-08 16:38:15,342 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:38:15 +08:00

2018-06-08 16:38:15,354 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Admins] AS [Extent1]
        WHERE 0 = [Extent1].[IsDeleted]
    )  AS [GroupBy1]
2018-06-08 16:38:15,354 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:15,354 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:38:15 +08:00

2018-06-08 16:38:15,356 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:38:15,356 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:15,365 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:15 +08:00

2018-06-08 16:38:15,374 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:38:15 +08:00

2018-06-08 16:38:15,391 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Filter1].[Id] AS [Id], 
    [Filter1].[Mobile] AS [Mobile], 
    [Filter1].[Description] AS [Description], 
    [Filter1].[Salt] AS [Salt], 
    [Filter1].[Password] AS [Password], 
    [Filter1].[IsEnabled] AS [IsEnabled], 
    [Filter1].[CreateTime] AS [CreateTime], 
    [Filter1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Extent1].[Id] AS [Id], [Extent1].[Mobile] AS [Mobile], [Extent1].[Description] AS [Description], [Extent1].[Salt] AS [Salt], [Extent1].[Password] AS [Password], [Extent1].[IsEnabled] AS [IsEnabled], [Extent1].[CreateTime] AS [CreateTime], [Extent1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Extent1].[CreateTime] DESC) AS [row_number]
        FROM [dbo].[T_Admins] AS [Extent1]
        WHERE 0 = [Extent1].[IsDeleted]
    )  AS [Filter1]
    WHERE [Filter1].[row_number] > 0
    ORDER BY [Filter1].[CreateTime] DESC
2018-06-08 16:38:15,391 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:15,391 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:38:15 +08:00

2018-06-08 16:38:15,394 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-06-08 16:38:15,394 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:15,394 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:15 +08:00

2018-06-08 16:38:15,397 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:38:15 +08:00

2018-06-08 16:38:15,397 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[PermissionTypeId] AS [PermissionTypeId], 
    [Extent2].[CreateTime] AS [CreateTime], 
    [Extent2].[IsDeleted] AS [IsDeleted]
    FROM  [dbo].[T_AdminPermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[AdminId] = [Extent2].[Id]
    WHERE [Extent1].[PermissionId] = @EntityKeyValue1
2018-06-08 16:38:15,397 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:15,397 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '22' (Type = Int64, IsNullable = false)

2018-06-08 16:38:15,397 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:38:15 +08:00

2018-06-08 16:38:15,399 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:38:15,399 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:15,399 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:15 +08:00

2018-06-08 16:38:15,399 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:38:15 +08:00

2018-06-08 16:38:15,400 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[PermissionTypeId] AS [PermissionTypeId], 
    [Extent2].[CreateTime] AS [CreateTime], 
    [Extent2].[IsDeleted] AS [IsDeleted]
    FROM  [dbo].[T_AdminPermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[AdminId] = [Extent2].[Id]
    WHERE [Extent1].[PermissionId] = @EntityKeyValue1
2018-06-08 16:38:15,400 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:15,400 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '5' (Type = Int64, IsNullable = false)

2018-06-08 16:38:15,400 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:38:15 +08:00

2018-06-08 16:38:15,401 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:38:15,401 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:15,401 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:15 +08:00

2018-06-08 16:38:15,402 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:38:15 +08:00

2018-06-08 16:38:15,402 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[PermissionTypeId] AS [PermissionTypeId], 
    [Extent2].[CreateTime] AS [CreateTime], 
    [Extent2].[IsDeleted] AS [IsDeleted]
    FROM  [dbo].[T_AdminPermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[AdminId] = [Extent2].[Id]
    WHERE [Extent1].[PermissionId] = @EntityKeyValue1
2018-06-08 16:38:15,402 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:15,402 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '4' (Type = Int64, IsNullable = false)

2018-06-08 16:38:15,402 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:38:15 +08:00

2018-06-08 16:38:15,404 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-06-08 16:38:15,404 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:15,405 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:15 +08:00

2018-06-08 16:38:15,408 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:38:15 +08:00

2018-06-08 16:38:15,416 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PermissionTypes] AS [Extent1]
    WHERE 0 = [Extent1].[IsDeleted]
2018-06-08 16:38:15,416 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:15,417 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:38:15 +08:00

2018-06-08 16:38:15,445 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 28 ms with result: SqlDataReader

2018-06-08 16:38:15,445 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:15,447 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:15 +08:00

2018-06-08 16:38:15,457 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:38:15 +08:00

2018-06-08 16:38:15,459 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PermissionTypeId] AS [PermissionTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_Permissions] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PermissionTypeId] = @p__linq__0)
2018-06-08 16:38:15,459 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:15,459 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2018-06-08 16:38:15,459 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:38:15 +08:00

2018-06-08 16:38:15,460 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:38:15,460 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:15,461 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:15 +08:00

2018-06-08 16:38:15,463 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:38:15 +08:00

2018-06-08 16:38:15,464 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PermissionTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:38:15,464 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:15,464 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-06-08 16:38:15,464 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:38:15 +08:00

2018-06-08 16:38:15,466 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:38:15,466 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:15,467 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:15 +08:00

2018-06-08 16:38:15,469 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:38:15 +08:00

2018-06-08 16:38:15,470 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PermissionTypeId] AS [PermissionTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_Permissions] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PermissionTypeId] = @p__linq__0)
2018-06-08 16:38:15,470 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:15,470 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64, IsNullable = false)

2018-06-08 16:38:15,470 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:38:15 +08:00

2018-06-08 16:38:15,471 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:38:15,471 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:15,472 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:15 +08:00

2018-06-08 16:38:15,472 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:38:15 +08:00

2018-06-08 16:38:15,472 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PermissionTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:38:15,472 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:15,472 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-06-08 16:38:15,472 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:38:15 +08:00

2018-06-08 16:38:15,473 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:38:15,473 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:15,474 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:15 +08:00

2018-06-08 16:38:15,474 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:38:15 +08:00

2018-06-08 16:38:15,474 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PermissionTypeId] AS [PermissionTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_Permissions] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PermissionTypeId] = @p__linq__0)
2018-06-08 16:38:15,474 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:15,474 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '3' (Type = Int64, IsNullable = false)

2018-06-08 16:38:15,474 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:38:15 +08:00

2018-06-08 16:38:15,476 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:38:15,476 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:15,476 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:15 +08:00

2018-06-08 16:38:15,476 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:38:15 +08:00

2018-06-08 16:38:15,476 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PermissionTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:38:15,477 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:15,477 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-06-08 16:38:15,477 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:38:15 +08:00

2018-06-08 16:38:15,478 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:38:15,478 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:15,478 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:15 +08:00

2018-06-08 16:38:15,478 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:38:15 +08:00

2018-06-08 16:38:15,479 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PermissionTypeId] AS [PermissionTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_Permissions] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PermissionTypeId] = @p__linq__0)
2018-06-08 16:38:15,479 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:15,479 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '4' (Type = Int64, IsNullable = false)

2018-06-08 16:38:15,479 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:38:15 +08:00

2018-06-08 16:38:15,480 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:38:15,480 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:15,481 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:15 +08:00

2018-06-08 16:38:15,481 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:38:15 +08:00

2018-06-08 16:38:15,481 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PermissionTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:38:15,481 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:15,481 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '4' (Type = Int64, IsNullable = false)

2018-06-08 16:38:15,481 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:38:15 +08:00

2018-06-08 16:38:15,482 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:38:15,482 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:15,483 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:15 +08:00

2018-06-08 16:38:15,483 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:38:15 +08:00

2018-06-08 16:38:15,483 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PermissionTypeId] AS [PermissionTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_Permissions] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PermissionTypeId] = @p__linq__0)
2018-06-08 16:38:15,484 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:15,484 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '5' (Type = Int64, IsNullable = false)

2018-06-08 16:38:15,484 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:38:15 +08:00

2018-06-08 16:38:15,485 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:38:15,485 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:15,485 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:15 +08:00

2018-06-08 16:38:15,486 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:38:15 +08:00

2018-06-08 16:38:15,486 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PermissionTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:38:15,486 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:15,486 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '5' (Type = Int64, IsNullable = false)

2018-06-08 16:38:15,486 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:38:15 +08:00

2018-06-08 16:38:15,487 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:38:15,487 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:15,487 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:15 +08:00

2018-06-08 16:38:17,178 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:38:17 +08:00

2018-06-08 16:38:17,178 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_Admins] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2018-06-08 16:38:17,178 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:17,178 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '22' (Type = Int64, IsNullable = false)

2018-06-08 16:38:17,178 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:38:17 +08:00

2018-06-08 16:38:17,180 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:38:17,180 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:17,180 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:17 +08:00

2018-06-08 16:38:17,180 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:38:17 +08:00

2018-06-08 16:38:17,180 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[PermissionTypeId] AS [PermissionTypeId], 
    [Extent2].[CreateTime] AS [CreateTime], 
    [Extent2].[IsDeleted] AS [IsDeleted]
    FROM  [dbo].[T_AdminPermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[AdminId] = [Extent2].[Id]
    WHERE [Extent1].[PermissionId] = @EntityKeyValue1
2018-06-08 16:38:17,180 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:17,180 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '22' (Type = Int64, IsNullable = false)

2018-06-08 16:38:17,181 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:38:17 +08:00

2018-06-08 16:38:17,182 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:38:17,182 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:17,182 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:17 +08:00

2018-06-08 16:38:17,183 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:38:17 +08:00

2018-06-08 16:38:17,183 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-06-08 16:38:17,183 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:17,183 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'admin1' (Type = String, Size = 4000)

2018-06-08 16:38:17,183 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:38:17 +08:00

2018-06-08 16:38:17,188 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 4 ms with result: SqlDataReader

2018-06-08 16:38:17,188 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:17,188 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:17 +08:00

2018-06-08 16:38:17,188 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:38:17 +08:00

2018-06-08 16:38:17,188 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:38:17,188 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:17,189 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-06-08 16:38:17,189 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:38:17 +08:00

2018-06-08 16:38:17,190 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:38:17,190 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:17,190 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:17 +08:00

2018-06-08 16:38:17,199 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:38:17 +08:00

2018-06-08 16:38:17,207 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-06-08 16:38:17,207 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:17,207 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:38:17 +08:00

2018-06-08 16:38:17,209 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:38:17,209 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:17,211 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:17 +08:00

2018-06-08 16:38:17,211 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:38:17 +08:00

2018-06-08 16:38:17,212 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-06-08 16:38:17,212 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:17,212 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:38:17 +08:00

2018-06-08 16:38:17,214 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:38:17,214 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:17,214 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:17 +08:00

2018-06-08 16:38:17,227 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:38:17 +08:00

2018-06-08 16:38:17,312 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM  [dbo].[T_Journals] AS [Extent1]
        INNER JOIN [dbo].[T_IntegralTypes] AS [Extent2] ON [Extent1].[IntegralTypeId] = [Extent2].[Id]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] <> [Extent1].[ToPlatformUserId]) AND (N'平台积分' = [Extent2].[Name]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1)
    )  AS [GroupBy1]
2018-06-08 16:38:17,312 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:17,312 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '43' (Type = Int64)

2018-06-08 16:38:17,312 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2' (Type = Int64, IsNullable = false)

2018-06-08 16:38:17,312 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:38:17 +08:00

2018-06-08 16:38:17,314 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:38:17,314 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:17,327 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:17 +08:00

2018-06-08 16:38:17,328 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:38:17 +08:00

2018-06-08 16:38:17,328 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM  [dbo].[T_Journals] AS [Extent1]
        INNER JOIN [dbo].[T_IntegralTypes] AS [Extent2] ON [Extent1].[IntegralTypeId] = [Extent2].[Id]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] <> [Extent1].[ToPlatformUserId]) AND (N'平台积分' = [Extent2].[Name]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1)
    )  AS [GroupBy1]
2018-06-08 16:38:17,328 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:17,328 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '43' (Type = Int64)

2018-06-08 16:38:17,328 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '3' (Type = Int64, IsNullable = false)

2018-06-08 16:38:17,328 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:38:17 +08:00

2018-06-08 16:38:17,330 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:38:17,330 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:17,330 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:17 +08:00

2018-06-08 16:38:17,330 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:38:17 +08:00

2018-06-08 16:38:17,335 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM  [dbo].[T_Journals] AS [Extent1]
        INNER JOIN [dbo].[T_IntegralTypes] AS [Extent2] ON [Extent1].[IntegralTypeId] = [Extent2].[Id]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] <> [Extent1].[ToPlatformUserId]) AND (N'平台积分' = [Extent2].[Name]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
    )  AS [GroupBy1]
2018-06-08 16:38:17,335 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:17,335 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '43' (Type = Int64)

2018-06-08 16:38:17,335 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:38:17 +08:00

2018-06-08 16:38:17,337 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-06-08 16:38:17,337 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:17,337 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:17 +08:00

2018-06-08 16:38:17,340 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:38:17 +08:00

2018-06-08 16:38:17,370 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM  [dbo].[T_Journals] AS [Extent1]
            INNER JOIN [dbo].[T_IntegralTypes] AS [Extent2] ON [Extent1].[IntegralTypeId] = [Extent2].[Id]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] <> [Extent1].[ToPlatformUserId]) AND (N'平台积分' = [Extent2].[Name]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-06-08 16:38:17,370 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:17,370 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '43' (Type = Int64)

2018-06-08 16:38:17,370 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:38:17 +08:00

2018-06-08 16:38:17,373 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-06-08 16:38:17,373 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:17,380 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:17 +08:00

2018-06-08 16:38:17,383 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:38:17 +08:00

2018-06-08 16:38:17,393 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:38:17,393 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:17,393 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-06-08 16:38:17,393 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:38:17 +08:00

2018-06-08 16:38:17,394 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:38:17,394 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:17,397 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:17 +08:00

2018-06-08 16:38:17,398 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:38:17 +08:00

2018-06-08 16:38:17,400 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:38:17,400 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:17,400 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '43' (Type = Int64, IsNullable = false)

2018-06-08 16:38:17,400 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:38:17 +08:00

2018-06-08 16:38:17,403 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-06-08 16:38:17,403 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:17,405 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:17 +08:00

2018-06-08 16:38:17,405 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:38:17 +08:00

2018-06-08 16:38:17,405 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:38:17,405 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:17,406 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '42' (Type = Int64, IsNullable = false)

2018-06-08 16:38:17,406 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:38:17 +08:00

2018-06-08 16:38:17,408 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:38:17,408 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:17,408 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:17 +08:00

2018-06-08 16:38:17,409 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:38:17 +08:00

2018-06-08 16:38:17,410 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:38:17,410 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:17,410 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-06-08 16:38:17,410 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:38:17 +08:00

2018-06-08 16:38:17,411 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:38:17,411 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:17,412 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:17 +08:00

2018-06-08 16:38:21,057 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:38:21 +08:00

2018-06-08 16:38:21,057 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_Admins] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2018-06-08 16:38:21,057 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:21,057 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '5' (Type = Int64, IsNullable = false)

2018-06-08 16:38:21,057 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:38:21 +08:00

2018-06-08 16:38:21,060 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-06-08 16:38:21,060 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:21,060 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:21 +08:00

2018-06-08 16:38:21,060 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:38:21 +08:00

2018-06-08 16:38:21,060 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[PermissionTypeId] AS [PermissionTypeId], 
    [Extent2].[CreateTime] AS [CreateTime], 
    [Extent2].[IsDeleted] AS [IsDeleted]
    FROM  [dbo].[T_AdminPermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[AdminId] = [Extent2].[Id]
    WHERE [Extent1].[PermissionId] = @EntityKeyValue1
2018-06-08 16:38:21,060 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:21,060 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '5' (Type = Int64, IsNullable = false)

2018-06-08 16:38:21,060 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:38:21 +08:00

2018-06-08 16:38:21,062 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:38:21,062 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:21,062 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:21 +08:00

2018-06-08 16:38:21,063 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:38:21 +08:00

2018-06-08 16:38:21,063 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-06-08 16:38:21,063 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:21,063 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'system' (Type = String, Size = 4000)

2018-06-08 16:38:21,063 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:38:21 +08:00

2018-06-08 16:38:21,072 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 8 ms with result: SqlDataReader

2018-06-08 16:38:21,072 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:21,072 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:21 +08:00

2018-06-08 16:38:21,072 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:38:21 +08:00

2018-06-08 16:38:21,072 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:38:21,072 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:21,072 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-06-08 16:38:21,073 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:38:21 +08:00

2018-06-08 16:38:21,074 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:38:21,074 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:21,074 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:21 +08:00

2018-06-08 16:38:21,075 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:38:21 +08:00

2018-06-08 16:38:21,075 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-06-08 16:38:21,075 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:21,075 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:38:21 +08:00

2018-06-08 16:38:21,077 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:38:21,077 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:21,077 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:21 +08:00

2018-06-08 16:38:21,077 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:38:21 +08:00

2018-06-08 16:38:21,077 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-06-08 16:38:21,077 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:21,077 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:38:21 +08:00

2018-06-08 16:38:21,079 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:38:21,079 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:21,079 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:21 +08:00

2018-06-08 16:38:21,079 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:38:21 +08:00

2018-06-08 16:38:21,080 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM  [dbo].[T_Journals] AS [Extent1]
        INNER JOIN [dbo].[T_IntegralTypes] AS [Extent2] ON [Extent1].[IntegralTypeId] = [Extent2].[Id]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] <> [Extent1].[ToPlatformUserId]) AND (N'平台积分' = [Extent2].[Name]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1)
    )  AS [GroupBy1]
2018-06-08 16:38:21,080 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:21,080 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '45' (Type = Int64)

2018-06-08 16:38:21,080 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2' (Type = Int64, IsNullable = false)

2018-06-08 16:38:21,080 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:38:21 +08:00

2018-06-08 16:38:21,082 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:38:21,088 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:21,088 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:21 +08:00

2018-06-08 16:38:21,089 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:38:21 +08:00

2018-06-08 16:38:21,089 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM  [dbo].[T_Journals] AS [Extent1]
        INNER JOIN [dbo].[T_IntegralTypes] AS [Extent2] ON [Extent1].[IntegralTypeId] = [Extent2].[Id]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] <> [Extent1].[ToPlatformUserId]) AND (N'平台积分' = [Extent2].[Name]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1)
    )  AS [GroupBy1]
2018-06-08 16:38:21,089 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:21,089 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '45' (Type = Int64)

2018-06-08 16:38:21,089 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '3' (Type = Int64, IsNullable = false)

2018-06-08 16:38:21,089 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:38:21 +08:00

2018-06-08 16:38:21,091 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:38:21,091 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:21,091 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:21 +08:00

2018-06-08 16:38:21,092 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:38:21 +08:00

2018-06-08 16:38:21,092 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM  [dbo].[T_Journals] AS [Extent1]
        INNER JOIN [dbo].[T_IntegralTypes] AS [Extent2] ON [Extent1].[IntegralTypeId] = [Extent2].[Id]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] <> [Extent1].[ToPlatformUserId]) AND (N'平台积分' = [Extent2].[Name]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
    )  AS [GroupBy1]
2018-06-08 16:38:21,092 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:21,092 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '45' (Type = Int64)

2018-06-08 16:38:21,092 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:38:21 +08:00

2018-06-08 16:38:21,094 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:38:21,094 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:21,094 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:21 +08:00

2018-06-08 16:38:21,094 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:38:21 +08:00

2018-06-08 16:38:21,095 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM  [dbo].[T_Journals] AS [Extent1]
            INNER JOIN [dbo].[T_IntegralTypes] AS [Extent2] ON [Extent1].[IntegralTypeId] = [Extent2].[Id]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] <> [Extent1].[ToPlatformUserId]) AND (N'平台积分' = [Extent2].[Name]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-06-08 16:38:21,095 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:21,095 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '45' (Type = Int64)

2018-06-08 16:38:21,095 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:38:21 +08:00

2018-06-08 16:38:21,098 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2018-06-08 16:38:21,098 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:21,098 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:21 +08:00

2018-06-08 16:38:24,158 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:38:24 +08:00

2018-06-08 16:38:24,158 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_Admins] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2018-06-08 16:38:24,158 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:24,158 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '4' (Type = Int64, IsNullable = false)

2018-06-08 16:38:24,158 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:38:24 +08:00

2018-06-08 16:38:24,160 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:38:24,160 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:24,160 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:24 +08:00

2018-06-08 16:38:24,160 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:38:24 +08:00

2018-06-08 16:38:24,160 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[PermissionTypeId] AS [PermissionTypeId], 
    [Extent2].[CreateTime] AS [CreateTime], 
    [Extent2].[IsDeleted] AS [IsDeleted]
    FROM  [dbo].[T_AdminPermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[AdminId] = [Extent2].[Id]
    WHERE [Extent1].[PermissionId] = @EntityKeyValue1
2018-06-08 16:38:24,160 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:24,161 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '4' (Type = Int64, IsNullable = false)

2018-06-08 16:38:24,161 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:38:24 +08:00

2018-06-08 16:38:24,162 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:38:24,163 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:24,163 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:24 +08:00

2018-06-08 16:38:24,164 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:38:24 +08:00

2018-06-08 16:38:24,164 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-06-08 16:38:24,164 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:24,164 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'admin' (Type = String, Size = 4000)

2018-06-08 16:38:24,164 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:38:24 +08:00

2018-06-08 16:38:24,166 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-06-08 16:38:24,166 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:24,167 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:24 +08:00

2018-06-08 16:38:24,168 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:38:24 +08:00

2018-06-08 16:38:24,168 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:38:24,168 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:24,168 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-06-08 16:38:24,168 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:38:24 +08:00

2018-06-08 16:38:24,169 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:38:24,169 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:24,170 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:24 +08:00

2018-06-08 16:38:24,170 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:38:24 +08:00

2018-06-08 16:38:24,170 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-06-08 16:38:24,170 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:24,170 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:38:24 +08:00

2018-06-08 16:38:24,172 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:38:24,172 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:24,172 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:24 +08:00

2018-06-08 16:38:24,172 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:38:24 +08:00

2018-06-08 16:38:24,172 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-06-08 16:38:24,172 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:24,172 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:38:24 +08:00

2018-06-08 16:38:24,174 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:38:24,174 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:24,174 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:24 +08:00

2018-06-08 16:38:24,174 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:38:24 +08:00

2018-06-08 16:38:24,175 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM  [dbo].[T_Journals] AS [Extent1]
        INNER JOIN [dbo].[T_IntegralTypes] AS [Extent2] ON [Extent1].[IntegralTypeId] = [Extent2].[Id]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] <> [Extent1].[ToPlatformUserId]) AND (N'平台积分' = [Extent2].[Name]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1)
    )  AS [GroupBy1]
2018-06-08 16:38:24,175 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:24,175 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '44' (Type = Int64)

2018-06-08 16:38:24,175 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2' (Type = Int64, IsNullable = false)

2018-06-08 16:38:24,175 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:38:24 +08:00

2018-06-08 16:38:24,176 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:38:24,176 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:24,177 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:24 +08:00

2018-06-08 16:38:24,177 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:38:24 +08:00

2018-06-08 16:38:24,177 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM  [dbo].[T_Journals] AS [Extent1]
        INNER JOIN [dbo].[T_IntegralTypes] AS [Extent2] ON [Extent1].[IntegralTypeId] = [Extent2].[Id]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] <> [Extent1].[ToPlatformUserId]) AND (N'平台积分' = [Extent2].[Name]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1)
    )  AS [GroupBy1]
2018-06-08 16:38:24,177 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:24,177 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '44' (Type = Int64)

2018-06-08 16:38:24,177 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '3' (Type = Int64, IsNullable = false)

2018-06-08 16:38:24,177 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:38:24 +08:00

2018-06-08 16:38:24,179 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:38:24,179 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:24,179 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:24 +08:00

2018-06-08 16:38:24,179 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:38:24 +08:00

2018-06-08 16:38:24,180 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM  [dbo].[T_Journals] AS [Extent1]
        INNER JOIN [dbo].[T_IntegralTypes] AS [Extent2] ON [Extent1].[IntegralTypeId] = [Extent2].[Id]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] <> [Extent1].[ToPlatformUserId]) AND (N'平台积分' = [Extent2].[Name]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
    )  AS [GroupBy1]
2018-06-08 16:38:24,180 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:24,180 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '44' (Type = Int64)

2018-06-08 16:38:24,180 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:38:24 +08:00

2018-06-08 16:38:24,181 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:38:24,181 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:24,181 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:24 +08:00

2018-06-08 16:38:24,182 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:38:24 +08:00

2018-06-08 16:38:24,182 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM  [dbo].[T_Journals] AS [Extent1]
            INNER JOIN [dbo].[T_IntegralTypes] AS [Extent2] ON [Extent1].[IntegralTypeId] = [Extent2].[Id]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] <> [Extent1].[ToPlatformUserId]) AND (N'平台积分' = [Extent2].[Name]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-06-08 16:38:24,182 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:24,182 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '44' (Type = Int64)

2018-06-08 16:38:24,182 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:38:24 +08:00

2018-06-08 16:38:24,185 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-06-08 16:38:24,185 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:24,186 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:24 +08:00

2018-06-08 16:38:24,186 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:38:24 +08:00

2018-06-08 16:38:24,186 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:38:24,186 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:24,186 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-06-08 16:38:24,186 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:38:24 +08:00

2018-06-08 16:38:24,188 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:38:24,188 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:24,188 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:24 +08:00

2018-06-08 16:38:24,188 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:38:24 +08:00

2018-06-08 16:38:24,188 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:38:24,188 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:24,188 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-06-08 16:38:24,188 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:38:24 +08:00

2018-06-08 16:38:24,191 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-06-08 16:38:24,191 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:24,191 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:24 +08:00

2018-06-08 16:38:24,191 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:38:24 +08:00

2018-06-08 16:38:24,191 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:38:24,191 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:24,191 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-06-08 16:38:24,191 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:38:24 +08:00

2018-06-08 16:38:24,193 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:38:24,193 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:24,193 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:24 +08:00

2018-06-08 16:38:24,193 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:38:24 +08:00

2018-06-08 16:38:24,193 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:38:24,193 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:24,193 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '44' (Type = Int64, IsNullable = false)

2018-06-08 16:38:24,193 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:38:24 +08:00

2018-06-08 16:38:24,196 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-06-08 16:38:24,196 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:24,196 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:24 +08:00

2018-06-08 16:38:24,196 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:38:24 +08:00

2018-06-08 16:38:24,196 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:38:24,196 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:24,196 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '42' (Type = Int64, IsNullable = false)

2018-06-08 16:38:24,196 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:38:24 +08:00

2018-06-08 16:38:24,198 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-06-08 16:38:24,198 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:24,199 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:24 +08:00

2018-06-08 16:38:24,199 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:38:24 +08:00

2018-06-08 16:38:24,199 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:38:24,199 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:24,199 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-06-08 16:38:24,199 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:38:24 +08:00

2018-06-08 16:38:24,201 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:38:24,201 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:24,201 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:24 +08:00

2018-06-08 16:38:35,137 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:38:35 +08:00

2018-06-08 16:38:35,137 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Admins] AS [Extent1]
        WHERE 0 = [Extent1].[IsDeleted]
    )  AS [GroupBy1]
2018-06-08 16:38:35,137 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:35,137 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:38:35 +08:00

2018-06-08 16:38:35,138 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:38:35,138 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:35,139 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:35 +08:00

2018-06-08 16:38:35,139 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:38:35 +08:00

2018-06-08 16:38:35,139 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Filter1].[Id] AS [Id], 
    [Filter1].[Mobile] AS [Mobile], 
    [Filter1].[Description] AS [Description], 
    [Filter1].[Salt] AS [Salt], 
    [Filter1].[Password] AS [Password], 
    [Filter1].[IsEnabled] AS [IsEnabled], 
    [Filter1].[CreateTime] AS [CreateTime], 
    [Filter1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Extent1].[Id] AS [Id], [Extent1].[Mobile] AS [Mobile], [Extent1].[Description] AS [Description], [Extent1].[Salt] AS [Salt], [Extent1].[Password] AS [Password], [Extent1].[IsEnabled] AS [IsEnabled], [Extent1].[CreateTime] AS [CreateTime], [Extent1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Extent1].[CreateTime] DESC) AS [row_number]
        FROM [dbo].[T_Admins] AS [Extent1]
        WHERE 0 = [Extent1].[IsDeleted]
    )  AS [Filter1]
    WHERE [Filter1].[row_number] > 0
    ORDER BY [Filter1].[CreateTime] DESC
2018-06-08 16:38:35,139 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:35,139 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:38:35 +08:00

2018-06-08 16:38:35,141 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-06-08 16:38:35,141 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:35,142 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:35 +08:00

2018-06-08 16:38:35,142 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:38:35 +08:00

2018-06-08 16:38:35,142 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[PermissionTypeId] AS [PermissionTypeId], 
    [Extent2].[CreateTime] AS [CreateTime], 
    [Extent2].[IsDeleted] AS [IsDeleted]
    FROM  [dbo].[T_AdminPermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[AdminId] = [Extent2].[Id]
    WHERE [Extent1].[PermissionId] = @EntityKeyValue1
2018-06-08 16:38:35,142 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:35,142 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '22' (Type = Int64, IsNullable = false)

2018-06-08 16:38:35,142 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:38:35 +08:00

2018-06-08 16:38:35,143 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:38:35,143 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:35,144 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:35 +08:00

2018-06-08 16:38:35,144 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:38:35 +08:00

2018-06-08 16:38:35,144 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[PermissionTypeId] AS [PermissionTypeId], 
    [Extent2].[CreateTime] AS [CreateTime], 
    [Extent2].[IsDeleted] AS [IsDeleted]
    FROM  [dbo].[T_AdminPermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[AdminId] = [Extent2].[Id]
    WHERE [Extent1].[PermissionId] = @EntityKeyValue1
2018-06-08 16:38:35,144 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:35,144 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '5' (Type = Int64, IsNullable = false)

2018-06-08 16:38:35,144 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:38:35 +08:00

2018-06-08 16:38:35,145 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:38:35,145 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:35,145 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:35 +08:00

2018-06-08 16:38:35,146 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:38:35 +08:00

2018-06-08 16:38:35,146 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[PermissionTypeId] AS [PermissionTypeId], 
    [Extent2].[CreateTime] AS [CreateTime], 
    [Extent2].[IsDeleted] AS [IsDeleted]
    FROM  [dbo].[T_AdminPermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[AdminId] = [Extent2].[Id]
    WHERE [Extent1].[PermissionId] = @EntityKeyValue1
2018-06-08 16:38:35,146 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:35,146 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '4' (Type = Int64, IsNullable = false)

2018-06-08 16:38:35,146 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:38:35 +08:00

2018-06-08 16:38:35,148 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:38:35,148 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:35,148 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:35 +08:00

2018-06-08 16:38:35,150 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:38:35 +08:00

2018-06-08 16:38:35,150 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PermissionTypes] AS [Extent1]
    WHERE 0 = [Extent1].[IsDeleted]
2018-06-08 16:38:35,150 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:35,150 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:38:35 +08:00

2018-06-08 16:38:35,151 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:38:35,151 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:35,152 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:35 +08:00

2018-06-08 16:38:35,152 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:38:35 +08:00

2018-06-08 16:38:35,152 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PermissionTypeId] AS [PermissionTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_Permissions] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PermissionTypeId] = @p__linq__0)
2018-06-08 16:38:35,152 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:35,152 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2018-06-08 16:38:35,152 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:38:35 +08:00

2018-06-08 16:38:35,154 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:38:35,154 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:35,154 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:35 +08:00

2018-06-08 16:38:35,155 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:38:35 +08:00

2018-06-08 16:38:35,155 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PermissionTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:38:35,155 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:35,155 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-06-08 16:38:35,155 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:38:35 +08:00

2018-06-08 16:38:35,156 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:38:35,156 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:35,156 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:35 +08:00

2018-06-08 16:38:35,157 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:38:35 +08:00

2018-06-08 16:38:35,157 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PermissionTypeId] AS [PermissionTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_Permissions] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PermissionTypeId] = @p__linq__0)
2018-06-08 16:38:35,157 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:35,157 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64, IsNullable = false)

2018-06-08 16:38:35,157 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:38:35 +08:00

2018-06-08 16:38:35,159 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:38:35,159 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:35,159 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:35 +08:00

2018-06-08 16:38:35,159 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:38:35 +08:00

2018-06-08 16:38:35,159 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PermissionTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:38:35,159 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:35,159 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-06-08 16:38:35,159 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:38:35 +08:00

2018-06-08 16:38:35,161 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:38:35,161 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:35,161 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:35 +08:00

2018-06-08 16:38:35,161 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:38:35 +08:00

2018-06-08 16:38:35,162 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PermissionTypeId] AS [PermissionTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_Permissions] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PermissionTypeId] = @p__linq__0)
2018-06-08 16:38:35,162 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:35,162 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '3' (Type = Int64, IsNullable = false)

2018-06-08 16:38:35,162 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:38:35 +08:00

2018-06-08 16:38:35,164 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:38:35,164 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:35,164 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:35 +08:00

2018-06-08 16:38:35,164 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:38:35 +08:00

2018-06-08 16:38:35,164 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PermissionTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:38:35,164 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:35,164 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-06-08 16:38:35,164 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:38:35 +08:00

2018-06-08 16:38:35,166 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:38:35,166 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:35,166 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:35 +08:00

2018-06-08 16:38:35,167 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:38:35 +08:00

2018-06-08 16:38:35,167 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PermissionTypeId] AS [PermissionTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_Permissions] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PermissionTypeId] = @p__linq__0)
2018-06-08 16:38:35,167 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:35,167 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '4' (Type = Int64, IsNullable = false)

2018-06-08 16:38:35,167 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:38:35 +08:00

2018-06-08 16:38:35,169 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:38:35,169 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:35,169 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:35 +08:00

2018-06-08 16:38:35,169 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:38:35 +08:00

2018-06-08 16:38:35,169 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PermissionTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:38:35,169 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:35,169 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '4' (Type = Int64, IsNullable = false)

2018-06-08 16:38:35,169 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:38:35 +08:00

2018-06-08 16:38:35,171 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:38:35,171 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:35,171 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:35 +08:00

2018-06-08 16:38:35,171 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:38:35 +08:00

2018-06-08 16:38:35,172 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PermissionTypeId] AS [PermissionTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_Permissions] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PermissionTypeId] = @p__linq__0)
2018-06-08 16:38:35,172 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:35,172 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '5' (Type = Int64, IsNullable = false)

2018-06-08 16:38:35,172 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:38:35 +08:00

2018-06-08 16:38:35,173 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:38:35,173 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:35,174 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:35 +08:00

2018-06-08 16:38:35,174 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:38:35 +08:00

2018-06-08 16:38:35,174 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PermissionTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:38:35,174 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:35,174 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '5' (Type = Int64, IsNullable = false)

2018-06-08 16:38:35,174 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:38:35 +08:00

2018-06-08 16:38:35,175 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:38:35,175 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:35,176 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:35 +08:00

2018-06-08 16:38:36,984 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:38:36 +08:00

2018-06-08 16:38:36,994 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM  [dbo].[T_PlatformUsers] AS [Extent1]
        INNER JOIN [dbo].[T_PlatformUserTypes] AS [Extent2] ON [Extent1].[PlatformUserTypeId] = [Extent2].[Id]
        WHERE (0 = [Extent1].[IsDeleted]) AND (([Extent2].[Name] = @p__linq__0) OR (1 = 0))
    )  AS [GroupBy1]
2018-06-08 16:38:36,994 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:36,994 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '商家' (Type = String, Size = 4000)

2018-06-08 16:38:36,994 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:38:36 +08:00

2018-06-08 16:38:36,996 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:38:36,996 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:36,997 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:36 +08:00

2018-06-08 16:38:36,998 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:38:36 +08:00

2018-06-08 16:38:37,000 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Code] AS [Code], 
    [Project1].[Description] AS [Description], 
    [Project1].[PlatformIntegral] AS [PlatformIntegral], 
    [Project1].[GivingIntegral] AS [GivingIntegral], 
    [Project1].[UseIntegral] AS [UseIntegral], 
    [Project1].[Salt] AS [Salt], 
    [Project1].[Password] AS [Password], 
    [Project1].[TradePassword] AS [TradePassword], 
    [Project1].[ErrorCount] AS [ErrorCount], 
    [Project1].[ErrorTime] AS [ErrorTime], 
    [Project1].[IsEnabled] AS [IsEnabled], 
    [Project1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Mobile] AS [Mobile], [Project1].[Code] AS [Code], [Project1].[Description] AS [Description], [Project1].[PlatformIntegral] AS [PlatformIntegral], [Project1].[GivingIntegral] AS [GivingIntegral], [Project1].[UseIntegral] AS [UseIntegral], [Project1].[Salt] AS [Salt], [Project1].[Password] AS [Password], [Project1].[TradePassword] AS [TradePassword], [Project1].[ErrorCount] AS [ErrorCount], [Project1].[ErrorTime] AS [ErrorTime], [Project1].[IsEnabled] AS [IsEnabled], [Project1].[PlatformUserTypeId] AS [PlatformUserTypeId], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Code] AS [Code], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
            [Extent1].[GivingIntegral] AS [GivingIntegral], 
            [Extent1].[UseIntegral] AS [UseIntegral], 
            [Extent1].[Salt] AS [Salt], 
            [Extent1].[Password] AS [Password], 
            [Extent1].[TradePassword] AS [TradePassword], 
            [Extent1].[ErrorCount] AS [ErrorCount], 
            [Extent1].[ErrorTime] AS [ErrorTime], 
            [Extent1].[IsEnabled] AS [IsEnabled], 
            [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM  [dbo].[T_PlatformUsers] AS [Extent1]
            INNER JOIN [dbo].[T_PlatformUserTypes] AS [Extent2] ON [Extent1].[PlatformUserTypeId] = [Extent2].[Id]
            WHERE (0 = [Extent1].[IsDeleted]) AND (([Extent2].[Name] = @p__linq__0) OR (1 = 0))
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-06-08 16:38:37,001 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:37,001 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '商家' (Type = String, Size = 4000)

2018-06-08 16:38:37,001 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:38:37 +08:00

2018-06-08 16:38:37,004 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-06-08 16:38:37,004 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:37,004 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:37 +08:00

2018-06-08 16:38:37,005 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:38:37 +08:00

2018-06-08 16:38:37,005 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:38:37,005 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:37,005 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-06-08 16:38:37,005 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:38:37 +08:00

2018-06-08 16:38:37,006 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:38:37,006 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:37,006 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:37 +08:00

2018-06-08 16:38:37,008 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:38:37 +08:00

2018-06-08 16:38:37,010 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2018-06-08 16:38:37,010 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:37,010 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2018-06-08 16:38:37,010 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:38:37 +08:00

2018-06-08 16:38:37,013 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-06-08 16:38:37,013 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:37,013 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:37 +08:00

2018-06-08 16:38:37,013 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:38:37 +08:00

2018-06-08 16:38:37,013 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:38:37,013 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:37,013 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-06-08 16:38:37,013 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:38:37 +08:00

2018-06-08 16:38:37,015 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:38:37,015 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:37,015 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:37 +08:00

2018-06-08 16:38:40,613 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:38:40 +08:00

2018-06-08 16:38:40,614 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_Admins] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2018-06-08 16:38:40,614 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:40,614 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '4' (Type = Int64, IsNullable = false)

2018-06-08 16:38:40,614 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:38:40 +08:00

2018-06-08 16:38:40,616 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:38:40,616 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:40,616 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:40 +08:00

2018-06-08 16:38:40,617 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:38:40 +08:00

2018-06-08 16:38:40,617 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[PermissionTypeId] AS [PermissionTypeId], 
    [Extent2].[CreateTime] AS [CreateTime], 
    [Extent2].[IsDeleted] AS [IsDeleted]
    FROM  [dbo].[T_AdminPermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[AdminId] = [Extent2].[Id]
    WHERE [Extent1].[PermissionId] = @EntityKeyValue1
2018-06-08 16:38:40,617 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:40,617 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '4' (Type = Int64, IsNullable = false)

2018-06-08 16:38:40,617 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:38:40 +08:00

2018-06-08 16:38:40,619 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-06-08 16:38:40,619 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:40,620 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:40 +08:00

2018-06-08 16:38:40,623 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:38:40 +08:00

2018-06-08 16:38:40,624 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PermissionTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Name] = @p__linq__0)
2018-06-08 16:38:40,624 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:40,624 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '商家管理' (Type = String, Size = 4000)

2018-06-08 16:38:40,624 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:38:40 +08:00

2018-06-08 16:38:40,626 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:38:40,626 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:40,626 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:40 +08:00

2018-06-08 16:38:40,702 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:38:40 +08:00

2018-06-08 16:38:40,711 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Started transaction at 2018/6/8 16:38:40 +08:00

2018-06-08 16:38:40,834 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：INSERT [dbo].[T_AdminLogs]([IpAddress], [Description], [Tip], [PermissionTypeId], [AdminId], [CreateTime], [IsDeleted])
VALUES (@0, @1, @2, @3, @4, @5, @6)
SELECT [Id]
FROM [dbo].[T_AdminLogs]
WHERE @@ROWCOUNT > 0 AND [Id] = scope_identity()
2018-06-08 16:38:40,834 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:40,834 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @0: '::1' (Type = String, Size = 50)

2018-06-08 16:38:40,834 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @1: '发放积分' (Type = String, Size = 500)

2018-06-08 16:38:40,834 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @2: '' (Type = String, Size = 500)

2018-06-08 16:38:40,834 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @3: '2' (Type = Int64)

2018-06-08 16:38:40,834 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @4: '4' (Type = Int64)

2018-06-08 16:38:40,834 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @5: '2018/6/8 16:38:40' (Type = DateTime2)

2018-06-08 16:38:40,834 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @6: 'False' (Type = Boolean)

2018-06-08 16:38:40,834 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:38:40 +08:00

2018-06-08 16:38:40,836 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:38:40,836 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:40,852 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Committed transaction at 2018/6/8 16:38:40 +08:00

2018-06-08 16:38:40,852 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:40 +08:00

2018-06-08 16:38:40,874 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:38:40 +08:00

2018-06-08 16:38:40,874 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_Admins] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2018-06-08 16:38:40,874 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:40,875 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '4' (Type = Int64, IsNullable = false)

2018-06-08 16:38:40,875 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:38:40 +08:00

2018-06-08 16:38:40,876 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:38:40,876 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:40,876 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:40 +08:00

2018-06-08 16:38:40,877 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:38:40 +08:00

2018-06-08 16:38:40,877 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[PermissionTypeId] AS [PermissionTypeId], 
    [Extent2].[CreateTime] AS [CreateTime], 
    [Extent2].[IsDeleted] AS [IsDeleted]
    FROM  [dbo].[T_AdminPermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[AdminId] = [Extent2].[Id]
    WHERE [Extent1].[PermissionId] = @EntityKeyValue1
2018-06-08 16:38:40,877 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:40,877 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '4' (Type = Int64, IsNullable = false)

2018-06-08 16:38:40,877 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:38:40 +08:00

2018-06-08 16:38:40,879 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:38:40,879 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:40,879 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:40 +08:00

2018-06-08 16:38:40,880 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:38:40 +08:00

2018-06-08 16:38:40,880 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-06-08 16:38:40,880 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:40,880 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'admin' (Type = String, Size = 4000)

2018-06-08 16:38:40,880 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:38:40 +08:00

2018-06-08 16:38:40,883 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-06-08 16:38:40,883 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:40,884 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:40 +08:00

2018-06-08 16:38:40,884 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:38:40 +08:00

2018-06-08 16:38:40,884 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:38:40,884 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:40,884 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-06-08 16:38:40,884 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:38:40 +08:00

2018-06-08 16:38:40,885 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:38:40,885 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:40,886 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:40 +08:00

2018-06-08 16:38:40,886 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:38:40 +08:00

2018-06-08 16:38:40,886 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2018-06-08 16:38:40,886 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:40,886 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64, IsNullable = false)

2018-06-08 16:38:40,886 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:38:40 +08:00

2018-06-08 16:38:40,889 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-06-08 16:38:40,889 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:40,889 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:40 +08:00

2018-06-08 16:38:40,889 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:38:40 +08:00

2018-06-08 16:38:40,889 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:38:40,889 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:40,889 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-06-08 16:38:40,889 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:38:40 +08:00

2018-06-08 16:38:40,890 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:38:40,890 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:40,891 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:40 +08:00

2018-06-08 16:38:40,903 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:38:40 +08:00

2018-06-08 16:38:40,904 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Name] = @p__linq__0)
2018-06-08 16:38:40,904 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:40,904 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '平台积分' (Type = String, Size = 4000)

2018-06-08 16:38:40,904 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:38:40 +08:00

2018-06-08 16:38:40,906 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:38:40,906 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:40,906 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:40 +08:00

2018-06-08 16:38:40,906 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:38:40 +08:00

2018-06-08 16:38:40,907 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Name] = @p__linq__0)
2018-06-08 16:38:40,907 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:40,907 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '商家积分' (Type = String, Size = 4000)

2018-06-08 16:38:40,907 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:38:40 +08:00

2018-06-08 16:38:40,908 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:38:40,908 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:40,908 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:40 +08:00

2018-06-08 16:38:40,909 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:38:40 +08:00

2018-06-08 16:38:40,910 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-06-08 16:38:40,910 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:40,910 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:38:40 +08:00

2018-06-08 16:38:40,912 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-06-08 16:38:40,912 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:40,912 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:40 +08:00

2018-06-08 16:38:40,912 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:38:40 +08:00

2018-06-08 16:38:40,913 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2018-06-08 16:38:40,913 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:40,913 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '44' (Type = Int64, IsNullable = false)

2018-06-08 16:38:40,913 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:38:40 +08:00

2018-06-08 16:38:40,915 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-06-08 16:38:40,915 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:40,916 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:40 +08:00

2018-06-08 16:38:40,916 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:38:40 +08:00

2018-06-08 16:38:40,916 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2018-06-08 16:38:40,916 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:40,916 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64, IsNullable = false)

2018-06-08 16:38:40,916 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:38:40 +08:00

2018-06-08 16:38:40,919 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-06-08 16:38:40,919 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:40,920 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:40 +08:00

2018-06-08 16:38:40,920 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:38:40 +08:00

2018-06-08 16:38:40,920 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:38:40,920 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:40,920 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-06-08 16:38:40,920 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:38:40 +08:00

2018-06-08 16:38:40,921 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:38:40,921 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:40,921 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:40 +08:00

2018-06-08 16:38:40,921 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:38:40 +08:00

2018-06-08 16:38:40,922 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:38:40,922 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:40,922 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-06-08 16:38:40,922 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:38:40 +08:00

2018-06-08 16:38:40,923 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:38:40,923 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:40,923 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:40 +08:00

2018-06-08 16:38:40,924 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:38:40 +08:00

2018-06-08 16:38:40,927 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (([Extent1].[Description] = @p__linq__0) OR (([Extent1].[Description] IS NULL) AND (@p__linq__0 IS NULL)))
2018-06-08 16:38:40,927 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:40,927 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '平台发放' (Type = String, Size = 4000)

2018-06-08 16:38:40,927 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:38:40 +08:00

2018-06-08 16:38:40,929 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:38:40,929 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:40,929 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:40 +08:00

2018-06-08 16:38:40,931 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:38:40 +08:00

2018-06-08 16:38:40,931 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (([Extent1].[Description] = @p__linq__0) OR (([Extent1].[Description] IS NULL) AND (@p__linq__0 IS NULL)))
2018-06-08 16:38:40,931 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:40,932 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '平台发放' (Type = String, Size = 4000)

2018-06-08 16:38:40,932 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:38:40 +08:00

2018-06-08 16:38:40,933 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:38:40,933 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:40,934 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:40 +08:00

2018-06-08 16:38:40,950 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:38:40 +08:00

2018-06-08 16:38:40,952 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Started transaction at 2018/6/8 16:38:40 +08:00

2018-06-08 16:38:40,974 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：UPDATE [dbo].[T_PlatformUsers]
SET [PlatformIntegral] = @0
WHERE ([Id] = @1)

2018-06-08 16:38:40,976 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @0: '5778' (Type = Int64)

2018-06-08 16:38:40,976 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @1: '1' (Type = Int64)

2018-06-08 16:38:40,976 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:38:40 +08:00

2018-06-08 16:38:40,989 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 11 ms with result: 1

2018-06-08 16:38:40,989 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:40,990 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：UPDATE [dbo].[T_PlatformUsers]
SET [GivingIntegral] = @0
WHERE ([Id] = @1)

2018-06-08 16:38:40,990 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @0: '20' (Type = Int64)

2018-06-08 16:38:40,990 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @1: '2' (Type = Int64)

2018-06-08 16:38:40,990 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:38:40 +08:00

2018-06-08 16:38:40,992 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: 1

2018-06-08 16:38:40,992 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:40,993 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：INSERT [dbo].[T_Journals]([PlatformUserId], [ToPlatformUserId], [FormPlatformUserId], [JournalTypeId], [IntegralTypeId], [ToIntegralTypeId], [Journal01], [Description], [InIntegral], [OutIntegral], [Integral], [Amount], [Tip], [CreateTime], [IsDeleted])
VALUES (@0, @1, @2, @3, @4, @5, NULL, @6, NULL, @7, @8, NULL, @9, @10, @11)
SELECT [Id]
FROM [dbo].[T_Journals]
WHERE @@ROWCOUNT > 0 AND [Id] = scope_identity()
2018-06-08 16:38:40,993 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:40,993 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @0: '44' (Type = Int64)

2018-06-08 16:38:40,993 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @1: '2' (Type = Int64)

2018-06-08 16:38:40,993 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @2: '44' (Type = Int64)

2018-06-08 16:38:40,993 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @3: '1' (Type = Int64)

2018-06-08 16:38:40,993 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @4: '1' (Type = Int64)

2018-06-08 16:38:40,993 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @5: '2' (Type = Int64)

2018-06-08 16:38:40,993 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @6: '平台发放' (Type = String, Size = 100)

2018-06-08 16:38:40,993 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @7: '1' (Type = Int64)

2018-06-08 16:38:40,993 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @8: '0' (Type = Int64)

2018-06-08 16:38:40,993 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @9: '1' (Type = String, Size = 100)

2018-06-08 16:38:40,993 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @10: '2018/6/8 16:38:40' (Type = DateTime2)

2018-06-08 16:38:40,993 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @11: 'False' (Type = Boolean)

2018-06-08 16:38:40,993 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:38:40 +08:00

2018-06-08 16:38:40,995 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:38:40,995 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:40,998 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：INSERT [dbo].[T_Journals]([PlatformUserId], [ToPlatformUserId], [FormPlatformUserId], [JournalTypeId], [IntegralTypeId], [ToIntegralTypeId], [Journal01], [Description], [InIntegral], [OutIntegral], [Integral], [Amount], [Tip], [CreateTime], [IsDeleted])
VALUES (@0, @1, @2, @3, @4, @5, NULL, @6, @7, NULL, @8, NULL, @9, @10, @11)
SELECT [Id]
FROM [dbo].[T_Journals]
WHERE @@ROWCOUNT > 0 AND [Id] = scope_identity()
2018-06-08 16:38:40,998 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:40,998 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @0: '2' (Type = Int64)

2018-06-08 16:38:40,998 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @1: '2' (Type = Int64)

2018-06-08 16:38:40,999 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @2: '44' (Type = Int64)

2018-06-08 16:38:40,999 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @3: '1' (Type = Int64)

2018-06-08 16:38:40,999 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @4: '1' (Type = Int64)

2018-06-08 16:38:40,999 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @5: '2' (Type = Int64)

2018-06-08 16:38:40,999 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @6: '平台发放' (Type = String, Size = 100)

2018-06-08 16:38:40,999 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @7: '1' (Type = Int64)

2018-06-08 16:38:40,999 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @8: '20' (Type = Int64)

2018-06-08 16:38:40,999 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @9: '1' (Type = String, Size = 100)

2018-06-08 16:38:40,999 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @10: '2018/6/8 16:38:40' (Type = DateTime2)

2018-06-08 16:38:40,999 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @11: 'False' (Type = Boolean)

2018-06-08 16:38:40,999 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:38:40 +08:00

2018-06-08 16:38:41,001 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-06-08 16:38:41,001 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:41,003 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Committed transaction at 2018/6/8 16:38:41 +08:00

2018-06-08 16:38:41,003 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:41 +08:00

2018-06-08 16:38:41,093 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:38:41 +08:00

2018-06-08 16:38:41,093 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM  [dbo].[T_PlatformUsers] AS [Extent1]
        INNER JOIN [dbo].[T_PlatformUserTypes] AS [Extent2] ON [Extent1].[PlatformUserTypeId] = [Extent2].[Id]
        WHERE (0 = [Extent1].[IsDeleted]) AND (([Extent2].[Name] = @p__linq__0) OR (1 = 0))
    )  AS [GroupBy1]
2018-06-08 16:38:41,093 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:41,093 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '商家' (Type = String, Size = 4000)

2018-06-08 16:38:41,093 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:38:41 +08:00

2018-06-08 16:38:41,095 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-06-08 16:38:41,095 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:41,095 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:41 +08:00

2018-06-08 16:38:41,096 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:38:41 +08:00

2018-06-08 16:38:41,096 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Code] AS [Code], 
    [Project1].[Description] AS [Description], 
    [Project1].[PlatformIntegral] AS [PlatformIntegral], 
    [Project1].[GivingIntegral] AS [GivingIntegral], 
    [Project1].[UseIntegral] AS [UseIntegral], 
    [Project1].[Salt] AS [Salt], 
    [Project1].[Password] AS [Password], 
    [Project1].[TradePassword] AS [TradePassword], 
    [Project1].[ErrorCount] AS [ErrorCount], 
    [Project1].[ErrorTime] AS [ErrorTime], 
    [Project1].[IsEnabled] AS [IsEnabled], 
    [Project1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Mobile] AS [Mobile], [Project1].[Code] AS [Code], [Project1].[Description] AS [Description], [Project1].[PlatformIntegral] AS [PlatformIntegral], [Project1].[GivingIntegral] AS [GivingIntegral], [Project1].[UseIntegral] AS [UseIntegral], [Project1].[Salt] AS [Salt], [Project1].[Password] AS [Password], [Project1].[TradePassword] AS [TradePassword], [Project1].[ErrorCount] AS [ErrorCount], [Project1].[ErrorTime] AS [ErrorTime], [Project1].[IsEnabled] AS [IsEnabled], [Project1].[PlatformUserTypeId] AS [PlatformUserTypeId], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Code] AS [Code], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
            [Extent1].[GivingIntegral] AS [GivingIntegral], 
            [Extent1].[UseIntegral] AS [UseIntegral], 
            [Extent1].[Salt] AS [Salt], 
            [Extent1].[Password] AS [Password], 
            [Extent1].[TradePassword] AS [TradePassword], 
            [Extent1].[ErrorCount] AS [ErrorCount], 
            [Extent1].[ErrorTime] AS [ErrorTime], 
            [Extent1].[IsEnabled] AS [IsEnabled], 
            [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM  [dbo].[T_PlatformUsers] AS [Extent1]
            INNER JOIN [dbo].[T_PlatformUserTypes] AS [Extent2] ON [Extent1].[PlatformUserTypeId] = [Extent2].[Id]
            WHERE (0 = [Extent1].[IsDeleted]) AND (([Extent2].[Name] = @p__linq__0) OR (1 = 0))
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-06-08 16:38:41,096 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:41,096 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '商家' (Type = String, Size = 4000)

2018-06-08 16:38:41,096 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:38:41 +08:00

2018-06-08 16:38:41,101 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 4 ms with result: SqlDataReader

2018-06-08 16:38:41,101 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:41,101 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:41 +08:00

2018-06-08 16:38:41,101 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:38:41 +08:00

2018-06-08 16:38:41,101 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:38:41,101 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:41,101 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-06-08 16:38:41,101 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:38:41 +08:00

2018-06-08 16:38:41,103 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:38:41,103 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:41,103 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:41 +08:00

2018-06-08 16:38:41,104 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:38:41 +08:00

2018-06-08 16:38:41,104 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2018-06-08 16:38:41,104 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:41,104 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2018-06-08 16:38:41,104 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:38:41 +08:00

2018-06-08 16:38:41,107 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-06-08 16:38:41,107 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:41,107 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:41 +08:00

2018-06-08 16:38:41,107 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:38:41 +08:00

2018-06-08 16:38:41,107 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:38:41,107 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:41,107 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-06-08 16:38:41,107 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:38:41 +08:00

2018-06-08 16:38:41,109 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:38:41,109 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:41,109 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:41 +08:00

2018-06-08 16:38:44,945 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:38:44 +08:00

2018-06-08 16:38:44,945 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_Admins] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2018-06-08 16:38:44,945 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:44,945 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '4' (Type = Int64, IsNullable = false)

2018-06-08 16:38:44,946 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:38:44 +08:00

2018-06-08 16:38:44,947 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:38:44,947 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:44,947 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:44 +08:00

2018-06-08 16:38:44,948 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:38:44 +08:00

2018-06-08 16:38:44,948 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[PermissionTypeId] AS [PermissionTypeId], 
    [Extent2].[CreateTime] AS [CreateTime], 
    [Extent2].[IsDeleted] AS [IsDeleted]
    FROM  [dbo].[T_AdminPermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[AdminId] = [Extent2].[Id]
    WHERE [Extent1].[PermissionId] = @EntityKeyValue1
2018-06-08 16:38:44,948 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:44,948 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '4' (Type = Int64, IsNullable = false)

2018-06-08 16:38:44,948 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:38:44 +08:00

2018-06-08 16:38:44,950 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:38:44,950 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:44,950 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:44 +08:00

2018-06-08 16:38:44,951 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:38:44 +08:00

2018-06-08 16:38:44,951 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PermissionTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Name] = @p__linq__0)
2018-06-08 16:38:44,951 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:44,951 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '商家管理' (Type = String, Size = 4000)

2018-06-08 16:38:44,951 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:38:44 +08:00

2018-06-08 16:38:44,953 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:38:44,953 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:44,953 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:44 +08:00

2018-06-08 16:38:44,954 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:38:44 +08:00

2018-06-08 16:38:44,955 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Started transaction at 2018/6/8 16:38:44 +08:00

2018-06-08 16:38:44,956 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：INSERT [dbo].[T_AdminLogs]([IpAddress], [Description], [Tip], [PermissionTypeId], [AdminId], [CreateTime], [IsDeleted])
VALUES (@0, @1, @2, @3, @4, @5, @6)
SELECT [Id]
FROM [dbo].[T_AdminLogs]
WHERE @@ROWCOUNT > 0 AND [Id] = scope_identity()
2018-06-08 16:38:44,956 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:44,956 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @0: '::1' (Type = String, Size = 50)

2018-06-08 16:38:44,956 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @1: '发放积分' (Type = String, Size = 500)

2018-06-08 16:38:44,956 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @2: '' (Type = String, Size = 500)

2018-06-08 16:38:44,956 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @3: '2' (Type = Int64)

2018-06-08 16:38:44,956 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @4: '4' (Type = Int64)

2018-06-08 16:38:44,956 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @5: '2018/6/8 16:38:44' (Type = DateTime2)

2018-06-08 16:38:44,956 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @6: 'False' (Type = Boolean)

2018-06-08 16:38:44,956 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:38:44 +08:00

2018-06-08 16:38:44,958 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:38:44,958 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:44,959 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Committed transaction at 2018/6/8 16:38:44 +08:00

2018-06-08 16:38:44,959 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:44 +08:00

2018-06-08 16:38:44,960 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:38:44 +08:00

2018-06-08 16:38:44,960 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_Admins] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2018-06-08 16:38:44,960 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:44,960 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '4' (Type = Int64, IsNullable = false)

2018-06-08 16:38:44,960 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:38:44 +08:00

2018-06-08 16:38:44,962 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:38:44,962 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:44,962 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:44 +08:00

2018-06-08 16:38:44,962 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:38:44 +08:00

2018-06-08 16:38:44,962 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[PermissionTypeId] AS [PermissionTypeId], 
    [Extent2].[CreateTime] AS [CreateTime], 
    [Extent2].[IsDeleted] AS [IsDeleted]
    FROM  [dbo].[T_AdminPermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[AdminId] = [Extent2].[Id]
    WHERE [Extent1].[PermissionId] = @EntityKeyValue1
2018-06-08 16:38:44,962 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:44,962 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '4' (Type = Int64, IsNullable = false)

2018-06-08 16:38:44,962 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:38:44 +08:00

2018-06-08 16:38:44,964 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:38:44,964 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:44,965 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:44 +08:00

2018-06-08 16:38:44,966 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:38:44 +08:00

2018-06-08 16:38:44,967 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-06-08 16:38:44,967 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:44,967 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'admin' (Type = String, Size = 4000)

2018-06-08 16:38:44,967 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:38:44 +08:00

2018-06-08 16:38:44,969 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-06-08 16:38:44,969 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:44,969 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:44 +08:00

2018-06-08 16:38:44,969 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:38:44 +08:00

2018-06-08 16:38:44,970 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:38:44,970 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:44,970 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-06-08 16:38:44,970 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:38:44 +08:00

2018-06-08 16:38:44,971 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:38:44,971 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:44,971 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:44 +08:00

2018-06-08 16:38:44,972 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:38:44 +08:00

2018-06-08 16:38:44,972 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2018-06-08 16:38:44,972 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:44,972 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64, IsNullable = false)

2018-06-08 16:38:44,972 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:38:44 +08:00

2018-06-08 16:38:44,975 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-06-08 16:38:44,975 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:44,975 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:44 +08:00

2018-06-08 16:38:44,975 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:38:44 +08:00

2018-06-08 16:38:44,975 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:38:44,975 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:44,975 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-06-08 16:38:44,975 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:38:44 +08:00

2018-06-08 16:38:44,977 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:38:44,977 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:44,977 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:44 +08:00

2018-06-08 16:38:44,978 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:38:44 +08:00

2018-06-08 16:38:44,978 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Name] = @p__linq__0)
2018-06-08 16:38:44,978 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:44,978 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '平台积分' (Type = String, Size = 4000)

2018-06-08 16:38:44,978 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:38:44 +08:00

2018-06-08 16:38:44,979 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:38:44,979 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:44,980 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:44 +08:00

2018-06-08 16:38:44,980 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:38:44 +08:00

2018-06-08 16:38:44,980 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Name] = @p__linq__0)
2018-06-08 16:38:44,980 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:44,980 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '商家积分' (Type = String, Size = 4000)

2018-06-08 16:38:44,980 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:38:44 +08:00

2018-06-08 16:38:44,982 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:38:44,982 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:44,982 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:44 +08:00

2018-06-08 16:38:44,983 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:38:44 +08:00

2018-06-08 16:38:44,983 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-06-08 16:38:44,983 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:44,983 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:38:44 +08:00

2018-06-08 16:38:44,985 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-06-08 16:38:44,985 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:44,985 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:44 +08:00

2018-06-08 16:38:44,986 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:38:44 +08:00

2018-06-08 16:38:44,986 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2018-06-08 16:38:44,986 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:44,986 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '44' (Type = Int64, IsNullable = false)

2018-06-08 16:38:44,986 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:38:44 +08:00

2018-06-08 16:38:44,989 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-06-08 16:38:44,989 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:44,989 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:44 +08:00

2018-06-08 16:38:44,989 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:38:44 +08:00

2018-06-08 16:38:44,990 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2018-06-08 16:38:44,990 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:44,990 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64, IsNullable = false)

2018-06-08 16:38:44,990 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:38:44 +08:00

2018-06-08 16:38:44,992 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-06-08 16:38:44,992 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:44,992 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:44 +08:00

2018-06-08 16:38:44,992 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:38:44 +08:00

2018-06-08 16:38:44,993 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:38:44,993 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:44,993 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-06-08 16:38:44,993 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:38:44 +08:00

2018-06-08 16:38:44,994 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:38:44,994 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:44,994 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:44 +08:00

2018-06-08 16:38:44,994 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:38:44 +08:00

2018-06-08 16:38:44,994 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:38:44,994 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:44,994 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-06-08 16:38:44,994 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:38:44 +08:00

2018-06-08 16:38:44,996 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:38:44,996 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:44,996 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:44 +08:00

2018-06-08 16:38:44,997 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:38:44 +08:00

2018-06-08 16:38:44,997 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (([Extent1].[Description] = @p__linq__0) OR (([Extent1].[Description] IS NULL) AND (@p__linq__0 IS NULL)))
2018-06-08 16:38:44,997 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:44,997 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '平台发放' (Type = String, Size = 4000)

2018-06-08 16:38:44,997 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:38:44 +08:00

2018-06-08 16:38:44,999 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:38:44,999 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:44,999 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:44 +08:00

2018-06-08 16:38:44,999 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:38:44 +08:00

2018-06-08 16:38:45,000 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (([Extent1].[Description] = @p__linq__0) OR (([Extent1].[Description] IS NULL) AND (@p__linq__0 IS NULL)))
2018-06-08 16:38:45,000 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:45,000 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '平台发放' (Type = String, Size = 4000)

2018-06-08 16:38:45,000 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:38:45 +08:00

2018-06-08 16:38:45,001 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:38:45,001 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:45,001 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:45 +08:00

2018-06-08 16:38:45,002 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:38:45 +08:00

2018-06-08 16:38:45,004 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Started transaction at 2018/6/8 16:38:45 +08:00

2018-06-08 16:38:45,004 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：UPDATE [dbo].[T_PlatformUsers]
SET [PlatformIntegral] = @0
WHERE ([Id] = @1)

2018-06-08 16:38:45,005 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @0: '5777' (Type = Int64)

2018-06-08 16:38:45,005 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @1: '1' (Type = Int64)

2018-06-08 16:38:45,005 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:38:45 +08:00

2018-06-08 16:38:45,006 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: 1

2018-06-08 16:38:45,006 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:45,006 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：UPDATE [dbo].[T_PlatformUsers]
SET [GivingIntegral] = @0
WHERE ([Id] = @1)

2018-06-08 16:38:45,006 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @0: '21' (Type = Int64)

2018-06-08 16:38:45,006 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @1: '2' (Type = Int64)

2018-06-08 16:38:45,006 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:38:45 +08:00

2018-06-08 16:38:45,008 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: 1

2018-06-08 16:38:45,008 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:45,008 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：INSERT [dbo].[T_Journals]([PlatformUserId], [ToPlatformUserId], [FormPlatformUserId], [JournalTypeId], [IntegralTypeId], [ToIntegralTypeId], [Journal01], [Description], [InIntegral], [OutIntegral], [Integral], [Amount], [Tip], [CreateTime], [IsDeleted])
VALUES (@0, @1, @2, @3, @4, @5, NULL, @6, NULL, @7, @8, NULL, @9, @10, @11)
SELECT [Id]
FROM [dbo].[T_Journals]
WHERE @@ROWCOUNT > 0 AND [Id] = scope_identity()
2018-06-08 16:38:45,008 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:45,008 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @0: '44' (Type = Int64)

2018-06-08 16:38:45,008 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @1: '2' (Type = Int64)

2018-06-08 16:38:45,008 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @2: '44' (Type = Int64)

2018-06-08 16:38:45,008 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @3: '1' (Type = Int64)

2018-06-08 16:38:45,008 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @4: '1' (Type = Int64)

2018-06-08 16:38:45,008 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @5: '2' (Type = Int64)

2018-06-08 16:38:45,008 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @6: '平台发放' (Type = String, Size = 100)

2018-06-08 16:38:45,008 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @7: '1' (Type = Int64)

2018-06-08 16:38:45,008 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @8: '0' (Type = Int64)

2018-06-08 16:38:45,008 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @9: '1' (Type = String, Size = 100)

2018-06-08 16:38:45,008 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @10: '2018/6/8 16:38:44' (Type = DateTime2)

2018-06-08 16:38:45,008 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @11: 'False' (Type = Boolean)

2018-06-08 16:38:45,008 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:38:45 +08:00

2018-06-08 16:38:45,010 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:38:45,010 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:45,010 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：INSERT [dbo].[T_Journals]([PlatformUserId], [ToPlatformUserId], [FormPlatformUserId], [JournalTypeId], [IntegralTypeId], [ToIntegralTypeId], [Journal01], [Description], [InIntegral], [OutIntegral], [Integral], [Amount], [Tip], [CreateTime], [IsDeleted])
VALUES (@0, @1, @2, @3, @4, @5, NULL, @6, @7, NULL, @8, NULL, @9, @10, @11)
SELECT [Id]
FROM [dbo].[T_Journals]
WHERE @@ROWCOUNT > 0 AND [Id] = scope_identity()
2018-06-08 16:38:45,010 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:45,010 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @0: '2' (Type = Int64)

2018-06-08 16:38:45,010 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @1: '2' (Type = Int64)

2018-06-08 16:38:45,010 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @2: '44' (Type = Int64)

2018-06-08 16:38:45,010 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @3: '1' (Type = Int64)

2018-06-08 16:38:45,010 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @4: '1' (Type = Int64)

2018-06-08 16:38:45,010 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @5: '2' (Type = Int64)

2018-06-08 16:38:45,010 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @6: '平台发放' (Type = String, Size = 100)

2018-06-08 16:38:45,010 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @7: '1' (Type = Int64)

2018-06-08 16:38:45,010 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @8: '21' (Type = Int64)

2018-06-08 16:38:45,010 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @9: '1' (Type = String, Size = 100)

2018-06-08 16:38:45,010 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @10: '2018/6/8 16:38:44' (Type = DateTime2)

2018-06-08 16:38:45,010 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @11: 'False' (Type = Boolean)

2018-06-08 16:38:45,010 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:38:45 +08:00

2018-06-08 16:38:45,012 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:38:45,012 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:45,014 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Committed transaction at 2018/6/8 16:38:45 +08:00

2018-06-08 16:38:45,014 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:45 +08:00

2018-06-08 16:38:45,039 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:38:45 +08:00

2018-06-08 16:38:45,039 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM  [dbo].[T_PlatformUsers] AS [Extent1]
        INNER JOIN [dbo].[T_PlatformUserTypes] AS [Extent2] ON [Extent1].[PlatformUserTypeId] = [Extent2].[Id]
        WHERE (0 = [Extent1].[IsDeleted]) AND (([Extent2].[Name] = @p__linq__0) OR (1 = 0))
    )  AS [GroupBy1]
2018-06-08 16:38:45,039 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:45,039 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '商家' (Type = String, Size = 4000)

2018-06-08 16:38:45,040 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:38:45 +08:00

2018-06-08 16:38:45,041 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:38:45,041 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:45,041 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:45 +08:00

2018-06-08 16:38:45,041 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:38:45 +08:00

2018-06-08 16:38:45,042 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Code] AS [Code], 
    [Project1].[Description] AS [Description], 
    [Project1].[PlatformIntegral] AS [PlatformIntegral], 
    [Project1].[GivingIntegral] AS [GivingIntegral], 
    [Project1].[UseIntegral] AS [UseIntegral], 
    [Project1].[Salt] AS [Salt], 
    [Project1].[Password] AS [Password], 
    [Project1].[TradePassword] AS [TradePassword], 
    [Project1].[ErrorCount] AS [ErrorCount], 
    [Project1].[ErrorTime] AS [ErrorTime], 
    [Project1].[IsEnabled] AS [IsEnabled], 
    [Project1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Mobile] AS [Mobile], [Project1].[Code] AS [Code], [Project1].[Description] AS [Description], [Project1].[PlatformIntegral] AS [PlatformIntegral], [Project1].[GivingIntegral] AS [GivingIntegral], [Project1].[UseIntegral] AS [UseIntegral], [Project1].[Salt] AS [Salt], [Project1].[Password] AS [Password], [Project1].[TradePassword] AS [TradePassword], [Project1].[ErrorCount] AS [ErrorCount], [Project1].[ErrorTime] AS [ErrorTime], [Project1].[IsEnabled] AS [IsEnabled], [Project1].[PlatformUserTypeId] AS [PlatformUserTypeId], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Code] AS [Code], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
            [Extent1].[GivingIntegral] AS [GivingIntegral], 
            [Extent1].[UseIntegral] AS [UseIntegral], 
            [Extent1].[Salt] AS [Salt], 
            [Extent1].[Password] AS [Password], 
            [Extent1].[TradePassword] AS [TradePassword], 
            [Extent1].[ErrorCount] AS [ErrorCount], 
            [Extent1].[ErrorTime] AS [ErrorTime], 
            [Extent1].[IsEnabled] AS [IsEnabled], 
            [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM  [dbo].[T_PlatformUsers] AS [Extent1]
            INNER JOIN [dbo].[T_PlatformUserTypes] AS [Extent2] ON [Extent1].[PlatformUserTypeId] = [Extent2].[Id]
            WHERE (0 = [Extent1].[IsDeleted]) AND (([Extent2].[Name] = @p__linq__0) OR (1 = 0))
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-06-08 16:38:45,042 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:45,042 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '商家' (Type = String, Size = 4000)

2018-06-08 16:38:45,042 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:38:45 +08:00

2018-06-08 16:38:45,045 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2018-06-08 16:38:45,045 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:45,045 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:45 +08:00

2018-06-08 16:38:45,045 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:38:45 +08:00

2018-06-08 16:38:45,045 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:38:45,045 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:45,045 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-06-08 16:38:45,045 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:38:45 +08:00

2018-06-08 16:38:45,047 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:38:45,047 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:45,047 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:45 +08:00

2018-06-08 16:38:45,047 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:38:45 +08:00

2018-06-08 16:38:45,048 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2018-06-08 16:38:45,048 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:45,048 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2018-06-08 16:38:45,048 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:38:45 +08:00

2018-06-08 16:38:45,050 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-06-08 16:38:45,050 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:45,051 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:45 +08:00

2018-06-08 16:38:45,051 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:38:45 +08:00

2018-06-08 16:38:45,051 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:38:45,051 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:45,051 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-06-08 16:38:45,051 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:38:45 +08:00

2018-06-08 16:38:45,053 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:38:45,053 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:45,053 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:45 +08:00

2018-06-08 16:38:50,141 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:38:50 +08:00

2018-06-08 16:38:50,141 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_Admins] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2018-06-08 16:38:50,141 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:50,141 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '4' (Type = Int64, IsNullable = false)

2018-06-08 16:38:50,141 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:38:50 +08:00

2018-06-08 16:38:50,143 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:38:50,143 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:50,144 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:50 +08:00

2018-06-08 16:38:50,144 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:38:50 +08:00

2018-06-08 16:38:50,144 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[PermissionTypeId] AS [PermissionTypeId], 
    [Extent2].[CreateTime] AS [CreateTime], 
    [Extent2].[IsDeleted] AS [IsDeleted]
    FROM  [dbo].[T_AdminPermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[AdminId] = [Extent2].[Id]
    WHERE [Extent1].[PermissionId] = @EntityKeyValue1
2018-06-08 16:38:50,144 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:50,144 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '4' (Type = Int64, IsNullable = false)

2018-06-08 16:38:50,144 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:38:50 +08:00

2018-06-08 16:38:50,146 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:38:50,146 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:50,146 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:50 +08:00

2018-06-08 16:38:50,147 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:38:50 +08:00

2018-06-08 16:38:50,148 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PermissionTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Name] = @p__linq__0)
2018-06-08 16:38:50,148 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:50,148 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '商家管理' (Type = String, Size = 4000)

2018-06-08 16:38:50,148 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:38:50 +08:00

2018-06-08 16:38:50,149 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:38:50,150 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:50,150 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:50 +08:00

2018-06-08 16:38:50,150 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:38:50 +08:00

2018-06-08 16:38:50,151 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Started transaction at 2018/6/8 16:38:50 +08:00

2018-06-08 16:38:50,152 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：INSERT [dbo].[T_AdminLogs]([IpAddress], [Description], [Tip], [PermissionTypeId], [AdminId], [CreateTime], [IsDeleted])
VALUES (@0, @1, @2, @3, @4, @5, @6)
SELECT [Id]
FROM [dbo].[T_AdminLogs]
WHERE @@ROWCOUNT > 0 AND [Id] = scope_identity()
2018-06-08 16:38:50,152 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:50,152 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @0: '::1' (Type = String, Size = 50)

2018-06-08 16:38:50,152 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @1: '发放积分' (Type = String, Size = 500)

2018-06-08 16:38:50,152 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @2: '' (Type = String, Size = 500)

2018-06-08 16:38:50,152 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @3: '2' (Type = Int64)

2018-06-08 16:38:50,152 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @4: '4' (Type = Int64)

2018-06-08 16:38:50,152 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @5: '2018/6/8 16:38:50' (Type = DateTime2)

2018-06-08 16:38:50,152 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @6: 'False' (Type = Boolean)

2018-06-08 16:38:50,152 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:38:50 +08:00

2018-06-08 16:38:50,153 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:38:50,154 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:50,155 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Committed transaction at 2018/6/8 16:38:50 +08:00

2018-06-08 16:38:50,155 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:50 +08:00

2018-06-08 16:38:50,156 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:38:50 +08:00

2018-06-08 16:38:50,156 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_Admins] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2018-06-08 16:38:50,156 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:50,156 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '4' (Type = Int64, IsNullable = false)

2018-06-08 16:38:50,156 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:38:50 +08:00

2018-06-08 16:38:50,158 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:38:50,158 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:50,158 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:50 +08:00

2018-06-08 16:38:50,158 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:38:50 +08:00

2018-06-08 16:38:50,158 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[PermissionTypeId] AS [PermissionTypeId], 
    [Extent2].[CreateTime] AS [CreateTime], 
    [Extent2].[IsDeleted] AS [IsDeleted]
    FROM  [dbo].[T_AdminPermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[AdminId] = [Extent2].[Id]
    WHERE [Extent1].[PermissionId] = @EntityKeyValue1
2018-06-08 16:38:50,158 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:50,158 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '4' (Type = Int64, IsNullable = false)

2018-06-08 16:38:50,158 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:38:50 +08:00

2018-06-08 16:38:50,160 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-06-08 16:38:50,161 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:50,161 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:50 +08:00

2018-06-08 16:38:50,162 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:38:50 +08:00

2018-06-08 16:38:50,162 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-06-08 16:38:50,162 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:50,162 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'admin' (Type = String, Size = 4000)

2018-06-08 16:38:50,162 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:38:50 +08:00

2018-06-08 16:38:50,164 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-06-08 16:38:50,165 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:50,166 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:50 +08:00

2018-06-08 16:38:50,166 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:38:50 +08:00

2018-06-08 16:38:50,166 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:38:50,166 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:50,166 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-06-08 16:38:50,166 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:38:50 +08:00

2018-06-08 16:38:50,168 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:38:50,168 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:50,168 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:50 +08:00

2018-06-08 16:38:50,168 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:38:50 +08:00

2018-06-08 16:38:50,169 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2018-06-08 16:38:50,169 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:50,169 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64, IsNullable = false)

2018-06-08 16:38:50,169 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:38:50 +08:00

2018-06-08 16:38:50,171 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-06-08 16:38:50,171 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:50,171 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:50 +08:00

2018-06-08 16:38:50,171 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:38:50 +08:00

2018-06-08 16:38:50,171 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:38:50,171 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:50,171 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-06-08 16:38:50,171 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:38:50 +08:00

2018-06-08 16:38:50,173 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:38:50,173 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:50,173 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:50 +08:00

2018-06-08 16:38:50,173 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:38:50 +08:00

2018-06-08 16:38:50,173 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Name] = @p__linq__0)
2018-06-08 16:38:50,173 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:50,174 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '平台积分' (Type = String, Size = 4000)

2018-06-08 16:38:50,174 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:38:50 +08:00

2018-06-08 16:38:50,175 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:38:50,175 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:50,175 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:50 +08:00

2018-06-08 16:38:50,175 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:38:50 +08:00

2018-06-08 16:38:50,176 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Name] = @p__linq__0)
2018-06-08 16:38:50,176 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:50,176 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '商家积分' (Type = String, Size = 4000)

2018-06-08 16:38:50,176 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:38:50 +08:00

2018-06-08 16:38:50,177 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:38:50,177 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:50,178 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:50 +08:00

2018-06-08 16:38:50,178 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:38:50 +08:00

2018-06-08 16:38:50,178 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-06-08 16:38:50,178 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:50,178 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:38:50 +08:00

2018-06-08 16:38:50,180 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-06-08 16:38:50,180 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:50,181 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:50 +08:00

2018-06-08 16:38:50,181 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:38:50 +08:00

2018-06-08 16:38:50,181 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2018-06-08 16:38:50,181 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:50,181 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '44' (Type = Int64, IsNullable = false)

2018-06-08 16:38:50,181 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:38:50 +08:00

2018-06-08 16:38:50,183 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-06-08 16:38:50,183 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:50,183 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:50 +08:00

2018-06-08 16:38:50,184 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:38:50 +08:00

2018-06-08 16:38:50,184 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2018-06-08 16:38:50,184 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:50,184 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64, IsNullable = false)

2018-06-08 16:38:50,184 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:38:50 +08:00

2018-06-08 16:38:50,186 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-06-08 16:38:50,186 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:50,186 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:50 +08:00

2018-06-08 16:38:50,187 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:38:50 +08:00

2018-06-08 16:38:50,187 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:38:50,187 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:50,187 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-06-08 16:38:50,187 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:38:50 +08:00

2018-06-08 16:38:50,188 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:38:50,188 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:50,188 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:50 +08:00

2018-06-08 16:38:50,188 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:38:50 +08:00

2018-06-08 16:38:50,188 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:38:50,188 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:50,188 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-06-08 16:38:50,188 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:38:50 +08:00

2018-06-08 16:38:50,190 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:38:50,190 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:50,190 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:50 +08:00

2018-06-08 16:38:50,190 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:38:50 +08:00

2018-06-08 16:38:50,191 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (([Extent1].[Description] = @p__linq__0) OR (([Extent1].[Description] IS NULL) AND (@p__linq__0 IS NULL)))
2018-06-08 16:38:50,191 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:50,191 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '平台发放' (Type = String, Size = 4000)

2018-06-08 16:38:50,191 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:38:50 +08:00

2018-06-08 16:38:50,192 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:38:50,192 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:50,192 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:50 +08:00

2018-06-08 16:38:50,193 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:38:50 +08:00

2018-06-08 16:38:50,193 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (([Extent1].[Description] = @p__linq__0) OR (([Extent1].[Description] IS NULL) AND (@p__linq__0 IS NULL)))
2018-06-08 16:38:50,193 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:50,193 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '平台发放' (Type = String, Size = 4000)

2018-06-08 16:38:50,193 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:38:50 +08:00

2018-06-08 16:38:50,195 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:38:50,195 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:50,195 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:50 +08:00

2018-06-08 16:38:50,196 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:38:50 +08:00

2018-06-08 16:38:50,197 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Started transaction at 2018/6/8 16:38:50 +08:00

2018-06-08 16:38:50,198 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：UPDATE [dbo].[T_PlatformUsers]
SET [PlatformIntegral] = @0
WHERE ([Id] = @1)

2018-06-08 16:38:50,198 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @0: '5776' (Type = Int64)

2018-06-08 16:38:50,198 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @1: '1' (Type = Int64)

2018-06-08 16:38:50,198 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:38:50 +08:00

2018-06-08 16:38:50,200 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: 1

2018-06-08 16:38:50,200 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:50,200 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：UPDATE [dbo].[T_PlatformUsers]
SET [GivingIntegral] = @0
WHERE ([Id] = @1)

2018-06-08 16:38:50,200 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @0: '22' (Type = Int64)

2018-06-08 16:38:50,200 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @1: '2' (Type = Int64)

2018-06-08 16:38:50,200 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:38:50 +08:00

2018-06-08 16:38:50,201 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: 1

2018-06-08 16:38:50,201 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:50,201 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：INSERT [dbo].[T_Journals]([PlatformUserId], [ToPlatformUserId], [FormPlatformUserId], [JournalTypeId], [IntegralTypeId], [ToIntegralTypeId], [Journal01], [Description], [InIntegral], [OutIntegral], [Integral], [Amount], [Tip], [CreateTime], [IsDeleted])
VALUES (@0, @1, @2, @3, @4, @5, NULL, @6, NULL, @7, @8, NULL, @9, @10, @11)
SELECT [Id]
FROM [dbo].[T_Journals]
WHERE @@ROWCOUNT > 0 AND [Id] = scope_identity()
2018-06-08 16:38:50,201 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:50,202 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @0: '44' (Type = Int64)

2018-06-08 16:38:50,202 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @1: '2' (Type = Int64)

2018-06-08 16:38:50,202 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @2: '44' (Type = Int64)

2018-06-08 16:38:50,202 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @3: '1' (Type = Int64)

2018-06-08 16:38:50,202 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @4: '1' (Type = Int64)

2018-06-08 16:38:50,202 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @5: '2' (Type = Int64)

2018-06-08 16:38:50,202 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @6: '平台发放' (Type = String, Size = 100)

2018-06-08 16:38:50,202 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @7: '1' (Type = Int64)

2018-06-08 16:38:50,202 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @8: '0' (Type = Int64)

2018-06-08 16:38:50,202 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @9: '1' (Type = String, Size = 100)

2018-06-08 16:38:50,202 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @10: '2018/6/8 16:38:50' (Type = DateTime2)

2018-06-08 16:38:50,202 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @11: 'False' (Type = Boolean)

2018-06-08 16:38:50,202 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:38:50 +08:00

2018-06-08 16:38:50,203 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:38:50,203 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:50,204 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：INSERT [dbo].[T_Journals]([PlatformUserId], [ToPlatformUserId], [FormPlatformUserId], [JournalTypeId], [IntegralTypeId], [ToIntegralTypeId], [Journal01], [Description], [InIntegral], [OutIntegral], [Integral], [Amount], [Tip], [CreateTime], [IsDeleted])
VALUES (@0, @1, @2, @3, @4, @5, NULL, @6, @7, NULL, @8, NULL, @9, @10, @11)
SELECT [Id]
FROM [dbo].[T_Journals]
WHERE @@ROWCOUNT > 0 AND [Id] = scope_identity()
2018-06-08 16:38:50,204 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:50,204 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @0: '2' (Type = Int64)

2018-06-08 16:38:50,204 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @1: '2' (Type = Int64)

2018-06-08 16:38:50,204 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @2: '44' (Type = Int64)

2018-06-08 16:38:50,204 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @3: '1' (Type = Int64)

2018-06-08 16:38:50,204 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @4: '1' (Type = Int64)

2018-06-08 16:38:50,204 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @5: '2' (Type = Int64)

2018-06-08 16:38:50,204 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @6: '平台发放' (Type = String, Size = 100)

2018-06-08 16:38:50,204 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @7: '1' (Type = Int64)

2018-06-08 16:38:50,204 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @8: '22' (Type = Int64)

2018-06-08 16:38:50,204 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @9: '1' (Type = String, Size = 100)

2018-06-08 16:38:50,204 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @10: '2018/6/8 16:38:50' (Type = DateTime2)

2018-06-08 16:38:50,204 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @11: 'False' (Type = Boolean)

2018-06-08 16:38:50,204 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:38:50 +08:00

2018-06-08 16:38:50,206 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:38:50,206 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:50,208 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Committed transaction at 2018/6/8 16:38:50 +08:00

2018-06-08 16:38:50,208 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:50 +08:00

2018-06-08 16:38:50,239 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:38:50 +08:00

2018-06-08 16:38:50,239 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM  [dbo].[T_PlatformUsers] AS [Extent1]
        INNER JOIN [dbo].[T_PlatformUserTypes] AS [Extent2] ON [Extent1].[PlatformUserTypeId] = [Extent2].[Id]
        WHERE (0 = [Extent1].[IsDeleted]) AND (([Extent2].[Name] = @p__linq__0) OR (1 = 0))
    )  AS [GroupBy1]
2018-06-08 16:38:50,239 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:50,239 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '商家' (Type = String, Size = 4000)

2018-06-08 16:38:50,239 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:38:50 +08:00

2018-06-08 16:38:50,268 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 28 ms with result: SqlDataReader

2018-06-08 16:38:50,269 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:50,270 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:50 +08:00

2018-06-08 16:38:50,270 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:38:50 +08:00

2018-06-08 16:38:50,270 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Code] AS [Code], 
    [Project1].[Description] AS [Description], 
    [Project1].[PlatformIntegral] AS [PlatformIntegral], 
    [Project1].[GivingIntegral] AS [GivingIntegral], 
    [Project1].[UseIntegral] AS [UseIntegral], 
    [Project1].[Salt] AS [Salt], 
    [Project1].[Password] AS [Password], 
    [Project1].[TradePassword] AS [TradePassword], 
    [Project1].[ErrorCount] AS [ErrorCount], 
    [Project1].[ErrorTime] AS [ErrorTime], 
    [Project1].[IsEnabled] AS [IsEnabled], 
    [Project1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Mobile] AS [Mobile], [Project1].[Code] AS [Code], [Project1].[Description] AS [Description], [Project1].[PlatformIntegral] AS [PlatformIntegral], [Project1].[GivingIntegral] AS [GivingIntegral], [Project1].[UseIntegral] AS [UseIntegral], [Project1].[Salt] AS [Salt], [Project1].[Password] AS [Password], [Project1].[TradePassword] AS [TradePassword], [Project1].[ErrorCount] AS [ErrorCount], [Project1].[ErrorTime] AS [ErrorTime], [Project1].[IsEnabled] AS [IsEnabled], [Project1].[PlatformUserTypeId] AS [PlatformUserTypeId], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Code] AS [Code], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
            [Extent1].[GivingIntegral] AS [GivingIntegral], 
            [Extent1].[UseIntegral] AS [UseIntegral], 
            [Extent1].[Salt] AS [Salt], 
            [Extent1].[Password] AS [Password], 
            [Extent1].[TradePassword] AS [TradePassword], 
            [Extent1].[ErrorCount] AS [ErrorCount], 
            [Extent1].[ErrorTime] AS [ErrorTime], 
            [Extent1].[IsEnabled] AS [IsEnabled], 
            [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM  [dbo].[T_PlatformUsers] AS [Extent1]
            INNER JOIN [dbo].[T_PlatformUserTypes] AS [Extent2] ON [Extent1].[PlatformUserTypeId] = [Extent2].[Id]
            WHERE (0 = [Extent1].[IsDeleted]) AND (([Extent2].[Name] = @p__linq__0) OR (1 = 0))
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-06-08 16:38:50,271 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:50,271 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '商家' (Type = String, Size = 4000)

2018-06-08 16:38:50,271 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:38:50 +08:00

2018-06-08 16:38:50,274 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2018-06-08 16:38:50,274 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:50,274 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:50 +08:00

2018-06-08 16:38:50,274 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:38:50 +08:00

2018-06-08 16:38:50,275 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:38:50,275 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:50,275 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-06-08 16:38:50,275 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:38:50 +08:00

2018-06-08 16:38:50,278 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:38:50,278 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:50,278 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:50 +08:00

2018-06-08 16:38:50,279 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:38:50 +08:00

2018-06-08 16:38:50,279 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2018-06-08 16:38:50,279 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:50,279 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2018-06-08 16:38:50,279 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:38:50 +08:00

2018-06-08 16:38:50,282 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2018-06-08 16:38:50,282 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:50,283 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:50 +08:00

2018-06-08 16:38:50,283 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:38:50 +08:00

2018-06-08 16:38:50,283 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:38:50,283 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:50,283 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-06-08 16:38:50,283 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:38:50 +08:00

2018-06-08 16:38:50,285 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:38:50,285 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:50,285 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:50 +08:00

2018-06-08 16:38:54,321 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:38:54 +08:00

2018-06-08 16:38:54,321 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_Admins] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2018-06-08 16:38:54,321 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:54,321 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '4' (Type = Int64, IsNullable = false)

2018-06-08 16:38:54,321 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:38:54 +08:00

2018-06-08 16:38:54,323 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:38:54,323 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:54,323 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:54 +08:00

2018-06-08 16:38:54,323 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:38:54 +08:00

2018-06-08 16:38:54,323 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[PermissionTypeId] AS [PermissionTypeId], 
    [Extent2].[CreateTime] AS [CreateTime], 
    [Extent2].[IsDeleted] AS [IsDeleted]
    FROM  [dbo].[T_AdminPermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[AdminId] = [Extent2].[Id]
    WHERE [Extent1].[PermissionId] = @EntityKeyValue1
2018-06-08 16:38:54,323 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:54,323 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '4' (Type = Int64, IsNullable = false)

2018-06-08 16:38:54,323 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:38:54 +08:00

2018-06-08 16:38:54,326 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:38:54,326 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:54,326 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:54 +08:00

2018-06-08 16:38:54,327 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:38:54 +08:00

2018-06-08 16:38:54,327 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PermissionTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Name] = @p__linq__0)
2018-06-08 16:38:54,327 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:54,327 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '商家管理' (Type = String, Size = 4000)

2018-06-08 16:38:54,327 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:38:54 +08:00

2018-06-08 16:38:54,338 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 11 ms with result: SqlDataReader

2018-06-08 16:38:54,338 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:54,339 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:54 +08:00

2018-06-08 16:38:54,339 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:38:54 +08:00

2018-06-08 16:38:54,340 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Started transaction at 2018/6/8 16:38:54 +08:00

2018-06-08 16:38:54,341 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：INSERT [dbo].[T_AdminLogs]([IpAddress], [Description], [Tip], [PermissionTypeId], [AdminId], [CreateTime], [IsDeleted])
VALUES (@0, @1, @2, @3, @4, @5, @6)
SELECT [Id]
FROM [dbo].[T_AdminLogs]
WHERE @@ROWCOUNT > 0 AND [Id] = scope_identity()
2018-06-08 16:38:54,341 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:54,341 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @0: '::1' (Type = String, Size = 50)

2018-06-08 16:38:54,341 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @1: '发放积分' (Type = String, Size = 500)

2018-06-08 16:38:54,341 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @2: '' (Type = String, Size = 500)

2018-06-08 16:38:54,341 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @3: '2' (Type = Int64)

2018-06-08 16:38:54,341 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @4: '4' (Type = Int64)

2018-06-08 16:38:54,341 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @5: '2018/6/8 16:38:54' (Type = DateTime2)

2018-06-08 16:38:54,341 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @6: 'False' (Type = Boolean)

2018-06-08 16:38:54,341 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:38:54 +08:00

2018-06-08 16:38:54,342 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:38:54,343 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:54,344 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Committed transaction at 2018/6/8 16:38:54 +08:00

2018-06-08 16:38:54,344 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:54 +08:00

2018-06-08 16:38:54,345 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:38:54 +08:00

2018-06-08 16:38:54,345 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_Admins] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2018-06-08 16:38:54,345 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:54,345 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '4' (Type = Int64, IsNullable = false)

2018-06-08 16:38:54,345 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:38:54 +08:00

2018-06-08 16:38:54,347 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:38:54,347 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:54,347 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:54 +08:00

2018-06-08 16:38:54,347 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:38:54 +08:00

2018-06-08 16:38:54,347 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[PermissionTypeId] AS [PermissionTypeId], 
    [Extent2].[CreateTime] AS [CreateTime], 
    [Extent2].[IsDeleted] AS [IsDeleted]
    FROM  [dbo].[T_AdminPermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[AdminId] = [Extent2].[Id]
    WHERE [Extent1].[PermissionId] = @EntityKeyValue1
2018-06-08 16:38:54,347 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:54,347 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '4' (Type = Int64, IsNullable = false)

2018-06-08 16:38:54,347 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:38:54 +08:00

2018-06-08 16:38:54,349 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-06-08 16:38:54,350 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:54,350 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:54 +08:00

2018-06-08 16:38:54,351 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:38:54 +08:00

2018-06-08 16:38:54,351 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-06-08 16:38:54,351 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:54,351 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'admin' (Type = String, Size = 4000)

2018-06-08 16:38:54,351 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:38:54 +08:00

2018-06-08 16:38:54,354 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-06-08 16:38:54,354 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:54,354 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:54 +08:00

2018-06-08 16:38:54,354 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:38:54 +08:00

2018-06-08 16:38:54,354 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:38:54,354 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:54,354 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-06-08 16:38:54,354 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:38:54 +08:00

2018-06-08 16:38:54,356 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:38:54,356 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:54,356 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:54 +08:00

2018-06-08 16:38:54,356 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:38:54 +08:00

2018-06-08 16:38:54,356 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2018-06-08 16:38:54,356 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:54,356 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64, IsNullable = false)

2018-06-08 16:38:54,357 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:38:54 +08:00

2018-06-08 16:38:54,359 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-06-08 16:38:54,359 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:54,359 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:54 +08:00

2018-06-08 16:38:54,359 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:38:54 +08:00

2018-06-08 16:38:54,359 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:38:54,359 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:54,359 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-06-08 16:38:54,359 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:38:54 +08:00

2018-06-08 16:38:54,360 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:38:54,360 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:54,361 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:54 +08:00

2018-06-08 16:38:54,361 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:38:54 +08:00

2018-06-08 16:38:54,361 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Name] = @p__linq__0)
2018-06-08 16:38:54,361 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:54,361 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '平台积分' (Type = String, Size = 4000)

2018-06-08 16:38:54,361 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:38:54 +08:00

2018-06-08 16:38:54,363 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-06-08 16:38:54,363 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:54,364 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:54 +08:00

2018-06-08 16:38:54,364 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:38:54 +08:00

2018-06-08 16:38:54,364 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Name] = @p__linq__0)
2018-06-08 16:38:54,364 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:54,364 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '商家积分' (Type = String, Size = 4000)

2018-06-08 16:38:54,364 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:38:54 +08:00

2018-06-08 16:38:54,366 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:38:54,366 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:54,367 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:54 +08:00

2018-06-08 16:38:54,367 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:38:54 +08:00

2018-06-08 16:38:54,367 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-06-08 16:38:54,367 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:54,367 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:38:54 +08:00

2018-06-08 16:38:54,369 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-06-08 16:38:54,369 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:54,369 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:54 +08:00

2018-06-08 16:38:54,370 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:38:54 +08:00

2018-06-08 16:38:54,370 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2018-06-08 16:38:54,370 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:54,370 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '44' (Type = Int64, IsNullable = false)

2018-06-08 16:38:54,370 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:38:54 +08:00

2018-06-08 16:38:54,372 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-06-08 16:38:54,372 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:54,372 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:54 +08:00

2018-06-08 16:38:54,372 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:38:54 +08:00

2018-06-08 16:38:54,373 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2018-06-08 16:38:54,373 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:54,373 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64, IsNullable = false)

2018-06-08 16:38:54,373 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:38:54 +08:00

2018-06-08 16:38:54,376 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-06-08 16:38:54,376 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:54,376 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:54 +08:00

2018-06-08 16:38:54,376 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:38:54 +08:00

2018-06-08 16:38:54,376 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:38:54,376 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:54,376 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-06-08 16:38:54,376 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:38:54 +08:00

2018-06-08 16:38:54,377 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:38:54,377 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:54,378 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:54 +08:00

2018-06-08 16:38:54,378 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:38:54 +08:00

2018-06-08 16:38:54,378 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:38:54,378 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:54,378 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-06-08 16:38:54,378 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:38:54 +08:00

2018-06-08 16:38:54,379 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:38:54,379 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:54,379 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:54 +08:00

2018-06-08 16:38:54,379 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:38:54 +08:00

2018-06-08 16:38:54,380 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (([Extent1].[Description] = @p__linq__0) OR (([Extent1].[Description] IS NULL) AND (@p__linq__0 IS NULL)))
2018-06-08 16:38:54,380 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:54,380 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '平台发放' (Type = String, Size = 4000)

2018-06-08 16:38:54,380 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:38:54 +08:00

2018-06-08 16:38:54,381 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:38:54,381 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:54,381 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:54 +08:00

2018-06-08 16:38:54,382 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:38:54 +08:00

2018-06-08 16:38:54,382 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (([Extent1].[Description] = @p__linq__0) OR (([Extent1].[Description] IS NULL) AND (@p__linq__0 IS NULL)))
2018-06-08 16:38:54,382 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:54,382 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '平台发放' (Type = String, Size = 4000)

2018-06-08 16:38:54,382 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:38:54 +08:00

2018-06-08 16:38:54,384 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:38:54,384 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:54,384 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:54 +08:00

2018-06-08 16:38:54,385 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:38:54 +08:00

2018-06-08 16:38:54,386 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Started transaction at 2018/6/8 16:38:54 +08:00

2018-06-08 16:38:54,387 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：UPDATE [dbo].[T_PlatformUsers]
SET [PlatformIntegral] = @0
WHERE ([Id] = @1)

2018-06-08 16:38:54,387 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @0: '5775' (Type = Int64)

2018-06-08 16:38:54,387 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @1: '1' (Type = Int64)

2018-06-08 16:38:54,387 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:38:54 +08:00

2018-06-08 16:38:54,388 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: 1

2018-06-08 16:38:54,388 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:54,388 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：UPDATE [dbo].[T_PlatformUsers]
SET [GivingIntegral] = @0
WHERE ([Id] = @1)

2018-06-08 16:38:54,388 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @0: '23' (Type = Int64)

2018-06-08 16:38:54,389 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @1: '2' (Type = Int64)

2018-06-08 16:38:54,389 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:38:54 +08:00

2018-06-08 16:38:54,390 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: 1

2018-06-08 16:38:54,390 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:54,390 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：INSERT [dbo].[T_Journals]([PlatformUserId], [ToPlatformUserId], [FormPlatformUserId], [JournalTypeId], [IntegralTypeId], [ToIntegralTypeId], [Journal01], [Description], [InIntegral], [OutIntegral], [Integral], [Amount], [Tip], [CreateTime], [IsDeleted])
VALUES (@0, @1, @2, @3, @4, @5, NULL, @6, NULL, @7, @8, NULL, @9, @10, @11)
SELECT [Id]
FROM [dbo].[T_Journals]
WHERE @@ROWCOUNT > 0 AND [Id] = scope_identity()
2018-06-08 16:38:54,390 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:54,390 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @0: '44' (Type = Int64)

2018-06-08 16:38:54,390 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @1: '2' (Type = Int64)

2018-06-08 16:38:54,390 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @2: '44' (Type = Int64)

2018-06-08 16:38:54,390 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @3: '1' (Type = Int64)

2018-06-08 16:38:54,390 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @4: '1' (Type = Int64)

2018-06-08 16:38:54,390 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @5: '2' (Type = Int64)

2018-06-08 16:38:54,390 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @6: '平台发放' (Type = String, Size = 100)

2018-06-08 16:38:54,390 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @7: '1' (Type = Int64)

2018-06-08 16:38:54,390 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @8: '0' (Type = Int64)

2018-06-08 16:38:54,390 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @9: '1' (Type = String, Size = 100)

2018-06-08 16:38:54,390 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @10: '2018/6/8 16:38:54' (Type = DateTime2)

2018-06-08 16:38:54,390 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @11: 'False' (Type = Boolean)

2018-06-08 16:38:54,390 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:38:54 +08:00

2018-06-08 16:38:54,392 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:38:54,392 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:54,392 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：INSERT [dbo].[T_Journals]([PlatformUserId], [ToPlatformUserId], [FormPlatformUserId], [JournalTypeId], [IntegralTypeId], [ToIntegralTypeId], [Journal01], [Description], [InIntegral], [OutIntegral], [Integral], [Amount], [Tip], [CreateTime], [IsDeleted])
VALUES (@0, @1, @2, @3, @4, @5, NULL, @6, @7, NULL, @8, NULL, @9, @10, @11)
SELECT [Id]
FROM [dbo].[T_Journals]
WHERE @@ROWCOUNT > 0 AND [Id] = scope_identity()
2018-06-08 16:38:54,392 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:54,392 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @0: '2' (Type = Int64)

2018-06-08 16:38:54,392 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @1: '2' (Type = Int64)

2018-06-08 16:38:54,392 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @2: '44' (Type = Int64)

2018-06-08 16:38:54,392 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @3: '1' (Type = Int64)

2018-06-08 16:38:54,392 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @4: '1' (Type = Int64)

2018-06-08 16:38:54,392 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @5: '2' (Type = Int64)

2018-06-08 16:38:54,392 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @6: '平台发放' (Type = String, Size = 100)

2018-06-08 16:38:54,392 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @7: '1' (Type = Int64)

2018-06-08 16:38:54,392 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @8: '23' (Type = Int64)

2018-06-08 16:38:54,392 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @9: '1' (Type = String, Size = 100)

2018-06-08 16:38:54,392 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @10: '2018/6/8 16:38:54' (Type = DateTime2)

2018-06-08 16:38:54,392 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @11: 'False' (Type = Boolean)

2018-06-08 16:38:54,392 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:38:54 +08:00

2018-06-08 16:38:54,394 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:38:54,394 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:54,396 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Committed transaction at 2018/6/8 16:38:54 +08:00

2018-06-08 16:38:54,396 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:54 +08:00

2018-06-08 16:38:54,422 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:38:54 +08:00

2018-06-08 16:38:54,423 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM  [dbo].[T_PlatformUsers] AS [Extent1]
        INNER JOIN [dbo].[T_PlatformUserTypes] AS [Extent2] ON [Extent1].[PlatformUserTypeId] = [Extent2].[Id]
        WHERE (0 = [Extent1].[IsDeleted]) AND (([Extent2].[Name] = @p__linq__0) OR (1 = 0))
    )  AS [GroupBy1]
2018-06-08 16:38:54,423 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:54,423 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '商家' (Type = String, Size = 4000)

2018-06-08 16:38:54,423 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:38:54 +08:00

2018-06-08 16:38:54,425 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:38:54,425 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:54,425 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:54 +08:00

2018-06-08 16:38:54,425 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:38:54 +08:00

2018-06-08 16:38:54,426 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Code] AS [Code], 
    [Project1].[Description] AS [Description], 
    [Project1].[PlatformIntegral] AS [PlatformIntegral], 
    [Project1].[GivingIntegral] AS [GivingIntegral], 
    [Project1].[UseIntegral] AS [UseIntegral], 
    [Project1].[Salt] AS [Salt], 
    [Project1].[Password] AS [Password], 
    [Project1].[TradePassword] AS [TradePassword], 
    [Project1].[ErrorCount] AS [ErrorCount], 
    [Project1].[ErrorTime] AS [ErrorTime], 
    [Project1].[IsEnabled] AS [IsEnabled], 
    [Project1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Mobile] AS [Mobile], [Project1].[Code] AS [Code], [Project1].[Description] AS [Description], [Project1].[PlatformIntegral] AS [PlatformIntegral], [Project1].[GivingIntegral] AS [GivingIntegral], [Project1].[UseIntegral] AS [UseIntegral], [Project1].[Salt] AS [Salt], [Project1].[Password] AS [Password], [Project1].[TradePassword] AS [TradePassword], [Project1].[ErrorCount] AS [ErrorCount], [Project1].[ErrorTime] AS [ErrorTime], [Project1].[IsEnabled] AS [IsEnabled], [Project1].[PlatformUserTypeId] AS [PlatformUserTypeId], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Code] AS [Code], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
            [Extent1].[GivingIntegral] AS [GivingIntegral], 
            [Extent1].[UseIntegral] AS [UseIntegral], 
            [Extent1].[Salt] AS [Salt], 
            [Extent1].[Password] AS [Password], 
            [Extent1].[TradePassword] AS [TradePassword], 
            [Extent1].[ErrorCount] AS [ErrorCount], 
            [Extent1].[ErrorTime] AS [ErrorTime], 
            [Extent1].[IsEnabled] AS [IsEnabled], 
            [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM  [dbo].[T_PlatformUsers] AS [Extent1]
            INNER JOIN [dbo].[T_PlatformUserTypes] AS [Extent2] ON [Extent1].[PlatformUserTypeId] = [Extent2].[Id]
            WHERE (0 = [Extent1].[IsDeleted]) AND (([Extent2].[Name] = @p__linq__0) OR (1 = 0))
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-06-08 16:38:54,426 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:54,426 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '商家' (Type = String, Size = 4000)

2018-06-08 16:38:54,426 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:38:54 +08:00

2018-06-08 16:38:54,451 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 25 ms with result: SqlDataReader

2018-06-08 16:38:54,452 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:54,452 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:54 +08:00

2018-06-08 16:38:54,452 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:38:54 +08:00

2018-06-08 16:38:54,452 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:38:54,452 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:54,452 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-06-08 16:38:54,452 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:38:54 +08:00

2018-06-08 16:38:54,454 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:38:54,454 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:54,454 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:54 +08:00

2018-06-08 16:38:54,455 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:38:54 +08:00

2018-06-08 16:38:54,455 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2018-06-08 16:38:54,455 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:54,455 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2018-06-08 16:38:54,455 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:38:54 +08:00

2018-06-08 16:38:54,457 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-06-08 16:38:54,458 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:54,458 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:54 +08:00

2018-06-08 16:38:54,460 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:38:54 +08:00

2018-06-08 16:38:54,460 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:38:54,460 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:54,460 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-06-08 16:38:54,460 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:38:54 +08:00

2018-06-08 16:38:54,462 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:38:54,462 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:54,462 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:54 +08:00

2018-06-08 16:38:58,034 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:38:58 +08:00

2018-06-08 16:38:58,035 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Admins] AS [Extent1]
        WHERE 0 = [Extent1].[IsDeleted]
    )  AS [GroupBy1]
2018-06-08 16:38:58,035 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:58,035 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:38:58 +08:00

2018-06-08 16:38:58,036 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:38:58,036 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:58,036 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:58 +08:00

2018-06-08 16:38:58,037 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:38:58 +08:00

2018-06-08 16:38:58,037 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Filter1].[Id] AS [Id], 
    [Filter1].[Mobile] AS [Mobile], 
    [Filter1].[Description] AS [Description], 
    [Filter1].[Salt] AS [Salt], 
    [Filter1].[Password] AS [Password], 
    [Filter1].[IsEnabled] AS [IsEnabled], 
    [Filter1].[CreateTime] AS [CreateTime], 
    [Filter1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Extent1].[Id] AS [Id], [Extent1].[Mobile] AS [Mobile], [Extent1].[Description] AS [Description], [Extent1].[Salt] AS [Salt], [Extent1].[Password] AS [Password], [Extent1].[IsEnabled] AS [IsEnabled], [Extent1].[CreateTime] AS [CreateTime], [Extent1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Extent1].[CreateTime] DESC) AS [row_number]
        FROM [dbo].[T_Admins] AS [Extent1]
        WHERE 0 = [Extent1].[IsDeleted]
    )  AS [Filter1]
    WHERE [Filter1].[row_number] > 0
    ORDER BY [Filter1].[CreateTime] DESC
2018-06-08 16:38:58,037 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:58,037 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:38:58 +08:00

2018-06-08 16:38:58,041 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2018-06-08 16:38:58,041 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:58,041 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:58 +08:00

2018-06-08 16:38:58,041 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:38:58 +08:00

2018-06-08 16:38:58,041 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[PermissionTypeId] AS [PermissionTypeId], 
    [Extent2].[CreateTime] AS [CreateTime], 
    [Extent2].[IsDeleted] AS [IsDeleted]
    FROM  [dbo].[T_AdminPermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[AdminId] = [Extent2].[Id]
    WHERE [Extent1].[PermissionId] = @EntityKeyValue1
2018-06-08 16:38:58,041 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:58,041 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '22' (Type = Int64, IsNullable = false)

2018-06-08 16:38:58,041 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:38:58 +08:00

2018-06-08 16:38:58,043 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:38:58,043 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:58,043 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:58 +08:00

2018-06-08 16:38:58,043 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:38:58 +08:00

2018-06-08 16:38:58,043 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[PermissionTypeId] AS [PermissionTypeId], 
    [Extent2].[CreateTime] AS [CreateTime], 
    [Extent2].[IsDeleted] AS [IsDeleted]
    FROM  [dbo].[T_AdminPermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[AdminId] = [Extent2].[Id]
    WHERE [Extent1].[PermissionId] = @EntityKeyValue1
2018-06-08 16:38:58,043 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:58,043 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '5' (Type = Int64, IsNullable = false)

2018-06-08 16:38:58,044 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:38:58 +08:00

2018-06-08 16:38:58,045 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:38:58,045 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:58,045 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:58 +08:00

2018-06-08 16:38:58,045 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:38:58 +08:00

2018-06-08 16:38:58,045 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[PermissionTypeId] AS [PermissionTypeId], 
    [Extent2].[CreateTime] AS [CreateTime], 
    [Extent2].[IsDeleted] AS [IsDeleted]
    FROM  [dbo].[T_AdminPermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[AdminId] = [Extent2].[Id]
    WHERE [Extent1].[PermissionId] = @EntityKeyValue1
2018-06-08 16:38:58,045 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:58,045 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '4' (Type = Int64, IsNullable = false)

2018-06-08 16:38:58,046 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:38:58 +08:00

2018-06-08 16:38:58,048 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:38:58,049 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:58,049 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:58 +08:00

2018-06-08 16:38:58,050 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:38:58 +08:00

2018-06-08 16:38:58,050 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PermissionTypes] AS [Extent1]
    WHERE 0 = [Extent1].[IsDeleted]
2018-06-08 16:38:58,050 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:58,050 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:38:58 +08:00

2018-06-08 16:38:58,052 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:38:58,052 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:58,052 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:58 +08:00

2018-06-08 16:38:58,053 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:38:58 +08:00

2018-06-08 16:38:58,053 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PermissionTypeId] AS [PermissionTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_Permissions] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PermissionTypeId] = @p__linq__0)
2018-06-08 16:38:58,053 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:58,053 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2018-06-08 16:38:58,053 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:38:58 +08:00

2018-06-08 16:38:58,055 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-06-08 16:38:58,055 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:58,056 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:58 +08:00

2018-06-08 16:38:58,056 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:38:58 +08:00

2018-06-08 16:38:58,056 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PermissionTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:38:58,056 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:58,056 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-06-08 16:38:58,056 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:38:58 +08:00

2018-06-08 16:38:58,058 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:38:58,058 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:58,058 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:58 +08:00

2018-06-08 16:38:58,058 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:38:58 +08:00

2018-06-08 16:38:58,059 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PermissionTypeId] AS [PermissionTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_Permissions] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PermissionTypeId] = @p__linq__0)
2018-06-08 16:38:58,059 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:58,059 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64, IsNullable = false)

2018-06-08 16:38:58,059 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:38:58 +08:00

2018-06-08 16:38:58,062 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2018-06-08 16:38:58,062 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:58,062 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:58 +08:00

2018-06-08 16:38:58,063 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:38:58 +08:00

2018-06-08 16:38:58,063 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PermissionTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:38:58,063 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:58,063 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-06-08 16:38:58,063 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:38:58 +08:00

2018-06-08 16:38:58,064 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:38:58,064 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:58,064 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:58 +08:00

2018-06-08 16:38:58,065 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:38:58 +08:00

2018-06-08 16:38:58,066 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PermissionTypeId] AS [PermissionTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_Permissions] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PermissionTypeId] = @p__linq__0)
2018-06-08 16:38:58,066 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:58,066 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '3' (Type = Int64, IsNullable = false)

2018-06-08 16:38:58,066 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:38:58 +08:00

2018-06-08 16:38:58,068 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:38:58,068 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:58,068 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:58 +08:00

2018-06-08 16:38:58,068 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:38:58 +08:00

2018-06-08 16:38:58,068 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PermissionTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:38:58,068 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:58,068 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-06-08 16:38:58,068 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:38:58 +08:00

2018-06-08 16:38:58,070 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:38:58,070 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:58,070 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:58 +08:00

2018-06-08 16:38:58,071 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:38:58 +08:00

2018-06-08 16:38:58,071 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PermissionTypeId] AS [PermissionTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_Permissions] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PermissionTypeId] = @p__linq__0)
2018-06-08 16:38:58,071 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:58,071 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '4' (Type = Int64, IsNullable = false)

2018-06-08 16:38:58,071 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:38:58 +08:00

2018-06-08 16:38:58,073 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:38:58,073 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:58,073 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:58 +08:00

2018-06-08 16:38:58,073 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:38:58 +08:00

2018-06-08 16:38:58,074 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PermissionTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:38:58,074 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:58,074 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '4' (Type = Int64, IsNullable = false)

2018-06-08 16:38:58,074 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:38:58 +08:00

2018-06-08 16:38:58,076 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-06-08 16:38:58,076 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:58,077 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:58 +08:00

2018-06-08 16:38:58,077 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:38:58 +08:00

2018-06-08 16:38:58,077 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PermissionTypeId] AS [PermissionTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_Permissions] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PermissionTypeId] = @p__linq__0)
2018-06-08 16:38:58,077 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:58,077 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '5' (Type = Int64, IsNullable = false)

2018-06-08 16:38:58,077 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:38:58 +08:00

2018-06-08 16:38:58,079 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:38:58,079 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:58,079 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:58 +08:00

2018-06-08 16:38:58,079 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:38:58 +08:00

2018-06-08 16:38:58,079 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PermissionTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:38:58,079 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:58,080 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '5' (Type = Int64, IsNullable = false)

2018-06-08 16:38:58,080 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:38:58 +08:00

2018-06-08 16:38:58,081 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:38:58,081 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:58,081 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:58 +08:00

2018-06-08 16:38:59,001 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:38:59 +08:00

2018-06-08 16:38:59,001 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_Admins] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2018-06-08 16:38:59,001 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:59,001 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '4' (Type = Int64, IsNullable = false)

2018-06-08 16:38:59,001 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:38:59 +08:00

2018-06-08 16:38:59,003 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:38:59,003 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:59,003 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:59 +08:00

2018-06-08 16:38:59,004 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:38:59 +08:00

2018-06-08 16:38:59,004 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[PermissionTypeId] AS [PermissionTypeId], 
    [Extent2].[CreateTime] AS [CreateTime], 
    [Extent2].[IsDeleted] AS [IsDeleted]
    FROM  [dbo].[T_AdminPermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[AdminId] = [Extent2].[Id]
    WHERE [Extent1].[PermissionId] = @EntityKeyValue1
2018-06-08 16:38:59,004 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:59,004 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '4' (Type = Int64, IsNullable = false)

2018-06-08 16:38:59,004 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:38:59 +08:00

2018-06-08 16:38:59,006 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:38:59,006 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:59,006 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:59 +08:00

2018-06-08 16:38:59,007 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:38:59 +08:00

2018-06-08 16:38:59,007 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-06-08 16:38:59,007 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:59,007 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'admin' (Type = String, Size = 4000)

2018-06-08 16:38:59,007 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:38:59 +08:00

2018-06-08 16:38:59,010 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-06-08 16:38:59,010 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:59,010 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:59 +08:00

2018-06-08 16:38:59,010 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:38:59 +08:00

2018-06-08 16:38:59,010 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:38:59,010 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:59,010 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-06-08 16:38:59,010 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:38:59 +08:00

2018-06-08 16:38:59,012 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:38:59,012 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:59,012 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:59 +08:00

2018-06-08 16:38:59,012 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:38:59 +08:00

2018-06-08 16:38:59,013 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-06-08 16:38:59,013 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:59,013 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:38:59 +08:00

2018-06-08 16:38:59,014 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:38:59,014 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:59,014 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:59 +08:00

2018-06-08 16:38:59,014 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:38:59 +08:00

2018-06-08 16:38:59,015 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-06-08 16:38:59,015 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:59,015 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:38:59 +08:00

2018-06-08 16:38:59,016 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:38:59,016 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:59,016 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:59 +08:00

2018-06-08 16:38:59,017 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:38:59 +08:00

2018-06-08 16:38:59,017 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM  [dbo].[T_Journals] AS [Extent1]
        INNER JOIN [dbo].[T_IntegralTypes] AS [Extent2] ON [Extent1].[IntegralTypeId] = [Extent2].[Id]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] <> [Extent1].[ToPlatformUserId]) AND (N'平台积分' = [Extent2].[Name]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1)
    )  AS [GroupBy1]
2018-06-08 16:38:59,017 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:59,017 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '44' (Type = Int64)

2018-06-08 16:38:59,017 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2' (Type = Int64, IsNullable = false)

2018-06-08 16:38:59,017 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:38:59 +08:00

2018-06-08 16:38:59,019 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:38:59,019 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:59,019 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:59 +08:00

2018-06-08 16:38:59,019 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:38:59 +08:00

2018-06-08 16:38:59,021 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM  [dbo].[T_Journals] AS [Extent1]
        INNER JOIN [dbo].[T_IntegralTypes] AS [Extent2] ON [Extent1].[IntegralTypeId] = [Extent2].[Id]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] <> [Extent1].[ToPlatformUserId]) AND (N'平台积分' = [Extent2].[Name]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1)
    )  AS [GroupBy1]
2018-06-08 16:38:59,021 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:59,021 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '44' (Type = Int64)

2018-06-08 16:38:59,021 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '3' (Type = Int64, IsNullable = false)

2018-06-08 16:38:59,021 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:38:59 +08:00

2018-06-08 16:38:59,023 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:38:59,023 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:59,023 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:59 +08:00

2018-06-08 16:38:59,023 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:38:59 +08:00

2018-06-08 16:38:59,024 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM  [dbo].[T_Journals] AS [Extent1]
        INNER JOIN [dbo].[T_IntegralTypes] AS [Extent2] ON [Extent1].[IntegralTypeId] = [Extent2].[Id]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] <> [Extent1].[ToPlatformUserId]) AND (N'平台积分' = [Extent2].[Name]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
    )  AS [GroupBy1]
2018-06-08 16:38:59,024 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:59,024 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '44' (Type = Int64)

2018-06-08 16:38:59,024 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:38:59 +08:00

2018-06-08 16:38:59,025 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:38:59,025 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:59,027 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:59 +08:00

2018-06-08 16:38:59,027 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:38:59 +08:00

2018-06-08 16:38:59,027 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM  [dbo].[T_Journals] AS [Extent1]
            INNER JOIN [dbo].[T_IntegralTypes] AS [Extent2] ON [Extent1].[IntegralTypeId] = [Extent2].[Id]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] <> [Extent1].[ToPlatformUserId]) AND (N'平台积分' = [Extent2].[Name]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-06-08 16:38:59,027 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:59,028 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '44' (Type = Int64)

2018-06-08 16:38:59,028 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:38:59 +08:00

2018-06-08 16:38:59,031 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-06-08 16:38:59,031 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:59,031 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:59 +08:00

2018-06-08 16:38:59,032 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:38:59 +08:00

2018-06-08 16:38:59,032 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:38:59,032 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:59,032 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-06-08 16:38:59,032 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:38:59 +08:00

2018-06-08 16:38:59,034 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:38:59,034 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:59,034 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:59 +08:00

2018-06-08 16:38:59,034 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:38:59 +08:00

2018-06-08 16:38:59,034 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:38:59,034 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:59,034 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '44' (Type = Int64, IsNullable = false)

2018-06-08 16:38:59,034 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:38:59 +08:00

2018-06-08 16:38:59,036 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-06-08 16:38:59,036 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:59,037 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:59 +08:00

2018-06-08 16:38:59,037 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:38:59 +08:00

2018-06-08 16:38:59,037 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:38:59,037 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:59,037 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-06-08 16:38:59,037 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:38:59 +08:00

2018-06-08 16:38:59,039 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-06-08 16:38:59,039 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:59,039 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:59 +08:00

2018-06-08 16:38:59,040 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:38:59 +08:00

2018-06-08 16:38:59,040 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:38:59,040 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:59,040 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-06-08 16:38:59,040 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:38:59 +08:00

2018-06-08 16:38:59,041 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:38:59,041 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:59,042 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:59 +08:00

2018-06-08 16:38:59,042 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:38:59 +08:00

2018-06-08 16:38:59,042 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:38:59,042 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:59,042 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-06-08 16:38:59,042 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:38:59 +08:00

2018-06-08 16:38:59,043 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:38:59,043 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:59,044 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:59 +08:00

2018-06-08 16:38:59,044 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:38:59 +08:00

2018-06-08 16:38:59,044 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:38:59,044 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:59,044 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '42' (Type = Int64, IsNullable = false)

2018-06-08 16:38:59,044 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:38:59 +08:00

2018-06-08 16:38:59,046 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:38:59,046 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:38:59,046 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:38:59 +08:00

2018-06-08 16:39:15,846 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:39:15 +08:00

2018-06-08 16:39:15,847 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Admins] AS [Extent1]
        WHERE 0 = [Extent1].[IsDeleted]
    )  AS [GroupBy1]
2018-06-08 16:39:15,847 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:15,847 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:39:15 +08:00

2018-06-08 16:39:15,850 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2018-06-08 16:39:15,850 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:15,850 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:39:15 +08:00

2018-06-08 16:39:15,850 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:39:15 +08:00

2018-06-08 16:39:15,851 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Filter1].[Id] AS [Id], 
    [Filter1].[Mobile] AS [Mobile], 
    [Filter1].[Description] AS [Description], 
    [Filter1].[Salt] AS [Salt], 
    [Filter1].[Password] AS [Password], 
    [Filter1].[IsEnabled] AS [IsEnabled], 
    [Filter1].[CreateTime] AS [CreateTime], 
    [Filter1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Extent1].[Id] AS [Id], [Extent1].[Mobile] AS [Mobile], [Extent1].[Description] AS [Description], [Extent1].[Salt] AS [Salt], [Extent1].[Password] AS [Password], [Extent1].[IsEnabled] AS [IsEnabled], [Extent1].[CreateTime] AS [CreateTime], [Extent1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Extent1].[CreateTime] DESC) AS [row_number]
        FROM [dbo].[T_Admins] AS [Extent1]
        WHERE 0 = [Extent1].[IsDeleted]
    )  AS [Filter1]
    WHERE [Filter1].[row_number] > 0
    ORDER BY [Filter1].[CreateTime] DESC
2018-06-08 16:39:15,851 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:15,851 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:39:15 +08:00

2018-06-08 16:39:15,853 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-06-08 16:39:15,853 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:15,853 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:39:15 +08:00

2018-06-08 16:39:15,853 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:39:15 +08:00

2018-06-08 16:39:15,853 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[PermissionTypeId] AS [PermissionTypeId], 
    [Extent2].[CreateTime] AS [CreateTime], 
    [Extent2].[IsDeleted] AS [IsDeleted]
    FROM  [dbo].[T_AdminPermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[AdminId] = [Extent2].[Id]
    WHERE [Extent1].[PermissionId] = @EntityKeyValue1
2018-06-08 16:39:15,853 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:15,853 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '22' (Type = Int64, IsNullable = false)

2018-06-08 16:39:15,853 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:39:15 +08:00

2018-06-08 16:39:15,855 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:39:15,855 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:15,855 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:39:15 +08:00

2018-06-08 16:39:15,855 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:39:15 +08:00

2018-06-08 16:39:15,856 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[PermissionTypeId] AS [PermissionTypeId], 
    [Extent2].[CreateTime] AS [CreateTime], 
    [Extent2].[IsDeleted] AS [IsDeleted]
    FROM  [dbo].[T_AdminPermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[AdminId] = [Extent2].[Id]
    WHERE [Extent1].[PermissionId] = @EntityKeyValue1
2018-06-08 16:39:15,856 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:15,856 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '5' (Type = Int64, IsNullable = false)

2018-06-08 16:39:15,856 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:39:15 +08:00

2018-06-08 16:39:15,857 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:39:15,857 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:15,857 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:39:15 +08:00

2018-06-08 16:39:15,857 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:39:15 +08:00

2018-06-08 16:39:15,857 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[PermissionTypeId] AS [PermissionTypeId], 
    [Extent2].[CreateTime] AS [CreateTime], 
    [Extent2].[IsDeleted] AS [IsDeleted]
    FROM  [dbo].[T_AdminPermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[AdminId] = [Extent2].[Id]
    WHERE [Extent1].[PermissionId] = @EntityKeyValue1
2018-06-08 16:39:15,857 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:15,858 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '4' (Type = Int64, IsNullable = false)

2018-06-08 16:39:15,858 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:39:15 +08:00

2018-06-08 16:39:15,859 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:39:15,860 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:15,860 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:39:15 +08:00

2018-06-08 16:39:15,861 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:39:15 +08:00

2018-06-08 16:39:15,861 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PermissionTypes] AS [Extent1]
    WHERE 0 = [Extent1].[IsDeleted]
2018-06-08 16:39:15,861 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:15,861 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:39:15 +08:00

2018-06-08 16:39:15,862 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:39:15,862 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:15,863 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:39:15 +08:00

2018-06-08 16:39:15,863 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:39:15 +08:00

2018-06-08 16:39:15,864 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PermissionTypeId] AS [PermissionTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_Permissions] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PermissionTypeId] = @p__linq__0)
2018-06-08 16:39:15,864 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:15,864 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2018-06-08 16:39:15,864 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:39:15 +08:00

2018-06-08 16:39:15,869 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 4 ms with result: SqlDataReader

2018-06-08 16:39:15,869 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:15,869 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:39:15 +08:00

2018-06-08 16:39:15,869 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:39:15 +08:00

2018-06-08 16:39:15,869 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PermissionTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:39:15,869 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:15,869 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-06-08 16:39:15,869 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:39:15 +08:00

2018-06-08 16:39:15,871 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:39:15,871 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:15,871 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:39:15 +08:00

2018-06-08 16:39:15,871 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:39:15 +08:00

2018-06-08 16:39:15,872 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PermissionTypeId] AS [PermissionTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_Permissions] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PermissionTypeId] = @p__linq__0)
2018-06-08 16:39:15,872 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:15,872 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64, IsNullable = false)

2018-06-08 16:39:15,872 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:39:15 +08:00

2018-06-08 16:39:15,873 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:39:15,873 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:15,874 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:39:15 +08:00

2018-06-08 16:39:15,874 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:39:15 +08:00

2018-06-08 16:39:15,874 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PermissionTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:39:15,874 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:15,874 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-06-08 16:39:15,875 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:39:15 +08:00

2018-06-08 16:39:15,876 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:39:15,876 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:15,876 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:39:15 +08:00

2018-06-08 16:39:15,877 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:39:15 +08:00

2018-06-08 16:39:15,877 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PermissionTypeId] AS [PermissionTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_Permissions] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PermissionTypeId] = @p__linq__0)
2018-06-08 16:39:15,877 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:15,877 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '3' (Type = Int64, IsNullable = false)

2018-06-08 16:39:15,877 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:39:15 +08:00

2018-06-08 16:39:15,880 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2018-06-08 16:39:15,880 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:15,883 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:39:15 +08:00

2018-06-08 16:39:15,883 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:39:15 +08:00

2018-06-08 16:39:15,883 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PermissionTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:39:15,883 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:15,883 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-06-08 16:39:15,883 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:39:15 +08:00

2018-06-08 16:39:15,884 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:39:15,884 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:15,885 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:39:15 +08:00

2018-06-08 16:39:15,885 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:39:15 +08:00

2018-06-08 16:39:15,885 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PermissionTypeId] AS [PermissionTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_Permissions] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PermissionTypeId] = @p__linq__0)
2018-06-08 16:39:15,885 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:15,885 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '4' (Type = Int64, IsNullable = false)

2018-06-08 16:39:15,885 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:39:15 +08:00

2018-06-08 16:39:15,887 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:39:15,887 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:15,887 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:39:15 +08:00

2018-06-08 16:39:15,888 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:39:15 +08:00

2018-06-08 16:39:15,888 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PermissionTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:39:15,888 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:15,888 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '4' (Type = Int64, IsNullable = false)

2018-06-08 16:39:15,888 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:39:15 +08:00

2018-06-08 16:39:15,889 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:39:15,889 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:15,889 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:39:15 +08:00

2018-06-08 16:39:15,890 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:39:15 +08:00

2018-06-08 16:39:15,890 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PermissionTypeId] AS [PermissionTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_Permissions] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PermissionTypeId] = @p__linq__0)
2018-06-08 16:39:15,890 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:15,890 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '5' (Type = Int64, IsNullable = false)

2018-06-08 16:39:15,890 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:39:15 +08:00

2018-06-08 16:39:15,892 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-06-08 16:39:15,892 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:15,893 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:39:15 +08:00

2018-06-08 16:39:15,893 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:39:15 +08:00

2018-06-08 16:39:15,893 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PermissionTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:39:15,893 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:15,893 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '5' (Type = Int64, IsNullable = false)

2018-06-08 16:39:15,893 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:39:15 +08:00

2018-06-08 16:39:15,894 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:39:15,894 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:15,895 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:39:15 +08:00

2018-06-08 16:39:17,024 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:39:17 +08:00

2018-06-08 16:39:17,024 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM  [dbo].[T_PlatformUsers] AS [Extent1]
        INNER JOIN [dbo].[T_PlatformUserTypes] AS [Extent2] ON [Extent1].[PlatformUserTypeId] = [Extent2].[Id]
        WHERE (0 = [Extent1].[IsDeleted]) AND (([Extent2].[Name] = @p__linq__0) OR (1 = 0))
    )  AS [GroupBy1]
2018-06-08 16:39:17,024 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:17,024 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '商家' (Type = String, Size = 4000)

2018-06-08 16:39:17,024 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:39:17 +08:00

2018-06-08 16:39:17,026 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-06-08 16:39:17,027 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:17,027 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:39:17 +08:00

2018-06-08 16:39:17,027 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:39:17 +08:00

2018-06-08 16:39:17,027 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Code] AS [Code], 
    [Project1].[Description] AS [Description], 
    [Project1].[PlatformIntegral] AS [PlatformIntegral], 
    [Project1].[GivingIntegral] AS [GivingIntegral], 
    [Project1].[UseIntegral] AS [UseIntegral], 
    [Project1].[Salt] AS [Salt], 
    [Project1].[Password] AS [Password], 
    [Project1].[TradePassword] AS [TradePassword], 
    [Project1].[ErrorCount] AS [ErrorCount], 
    [Project1].[ErrorTime] AS [ErrorTime], 
    [Project1].[IsEnabled] AS [IsEnabled], 
    [Project1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Mobile] AS [Mobile], [Project1].[Code] AS [Code], [Project1].[Description] AS [Description], [Project1].[PlatformIntegral] AS [PlatformIntegral], [Project1].[GivingIntegral] AS [GivingIntegral], [Project1].[UseIntegral] AS [UseIntegral], [Project1].[Salt] AS [Salt], [Project1].[Password] AS [Password], [Project1].[TradePassword] AS [TradePassword], [Project1].[ErrorCount] AS [ErrorCount], [Project1].[ErrorTime] AS [ErrorTime], [Project1].[IsEnabled] AS [IsEnabled], [Project1].[PlatformUserTypeId] AS [PlatformUserTypeId], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Code] AS [Code], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
            [Extent1].[GivingIntegral] AS [GivingIntegral], 
            [Extent1].[UseIntegral] AS [UseIntegral], 
            [Extent1].[Salt] AS [Salt], 
            [Extent1].[Password] AS [Password], 
            [Extent1].[TradePassword] AS [TradePassword], 
            [Extent1].[ErrorCount] AS [ErrorCount], 
            [Extent1].[ErrorTime] AS [ErrorTime], 
            [Extent1].[IsEnabled] AS [IsEnabled], 
            [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM  [dbo].[T_PlatformUsers] AS [Extent1]
            INNER JOIN [dbo].[T_PlatformUserTypes] AS [Extent2] ON [Extent1].[PlatformUserTypeId] = [Extent2].[Id]
            WHERE (0 = [Extent1].[IsDeleted]) AND (([Extent2].[Name] = @p__linq__0) OR (1 = 0))
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-06-08 16:39:17,027 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:17,027 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '商家' (Type = String, Size = 4000)

2018-06-08 16:39:17,027 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:39:17 +08:00

2018-06-08 16:39:17,030 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-06-08 16:39:17,030 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:17,031 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:39:17 +08:00

2018-06-08 16:39:17,031 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:39:17 +08:00

2018-06-08 16:39:17,031 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:39:17,031 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:17,031 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-06-08 16:39:17,031 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:39:17 +08:00

2018-06-08 16:39:17,033 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:39:17,033 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:17,033 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:39:17 +08:00

2018-06-08 16:39:17,034 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:39:17 +08:00

2018-06-08 16:39:17,034 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2018-06-08 16:39:17,034 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:17,034 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2018-06-08 16:39:17,034 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:39:17 +08:00

2018-06-08 16:39:17,036 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-06-08 16:39:17,036 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:17,036 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:39:17 +08:00

2018-06-08 16:39:17,037 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:39:17 +08:00

2018-06-08 16:39:17,037 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:39:17,037 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:17,037 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-06-08 16:39:17,037 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:39:17 +08:00

2018-06-08 16:39:17,038 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:39:17,038 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:17,038 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:39:17 +08:00

2018-06-08 16:39:19,760 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:39:19 +08:00

2018-06-08 16:39:19,761 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_Admins] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2018-06-08 16:39:19,761 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:19,761 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '4' (Type = Int64, IsNullable = false)

2018-06-08 16:39:19,761 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:39:19 +08:00

2018-06-08 16:39:19,763 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:39:19,763 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:19,763 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:39:19 +08:00

2018-06-08 16:39:19,763 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:39:19 +08:00

2018-06-08 16:39:19,763 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[PermissionTypeId] AS [PermissionTypeId], 
    [Extent2].[CreateTime] AS [CreateTime], 
    [Extent2].[IsDeleted] AS [IsDeleted]
    FROM  [dbo].[T_AdminPermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[AdminId] = [Extent2].[Id]
    WHERE [Extent1].[PermissionId] = @EntityKeyValue1
2018-06-08 16:39:19,763 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:19,763 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '4' (Type = Int64, IsNullable = false)

2018-06-08 16:39:19,763 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:39:19 +08:00

2018-06-08 16:39:19,765 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-06-08 16:39:19,765 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:19,766 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:39:19 +08:00

2018-06-08 16:39:19,767 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:39:19 +08:00

2018-06-08 16:39:19,767 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PermissionTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Name] = @p__linq__0)
2018-06-08 16:39:19,768 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:19,768 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '商家管理' (Type = String, Size = 4000)

2018-06-08 16:39:19,768 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:39:19 +08:00

2018-06-08 16:39:19,769 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:39:19,769 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:19,769 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:39:19 +08:00

2018-06-08 16:39:19,770 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:39:19 +08:00

2018-06-08 16:39:19,772 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Started transaction at 2018/6/8 16:39:19 +08:00

2018-06-08 16:39:19,772 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：INSERT [dbo].[T_AdminLogs]([IpAddress], [Description], [Tip], [PermissionTypeId], [AdminId], [CreateTime], [IsDeleted])
VALUES (@0, @1, @2, @3, @4, @5, @6)
SELECT [Id]
FROM [dbo].[T_AdminLogs]
WHERE @@ROWCOUNT > 0 AND [Id] = scope_identity()
2018-06-08 16:39:19,772 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:19,772 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @0: '::1' (Type = String, Size = 50)

2018-06-08 16:39:19,772 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @1: '发放积分' (Type = String, Size = 500)

2018-06-08 16:39:19,772 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @2: '' (Type = String, Size = 500)

2018-06-08 16:39:19,772 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @3: '2' (Type = Int64)

2018-06-08 16:39:19,772 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @4: '4' (Type = Int64)

2018-06-08 16:39:19,772 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @5: '2018/6/8 16:39:19' (Type = DateTime2)

2018-06-08 16:39:19,772 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @6: 'False' (Type = Boolean)

2018-06-08 16:39:19,772 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:39:19 +08:00

2018-06-08 16:39:19,774 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:39:19,774 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:19,776 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Committed transaction at 2018/6/8 16:39:19 +08:00

2018-06-08 16:39:19,776 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:39:19 +08:00

2018-06-08 16:39:19,776 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:39:19 +08:00

2018-06-08 16:39:19,777 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_Admins] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2018-06-08 16:39:19,777 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:19,777 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '4' (Type = Int64, IsNullable = false)

2018-06-08 16:39:19,777 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:39:19 +08:00

2018-06-08 16:39:19,779 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-06-08 16:39:19,779 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:19,779 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:39:19 +08:00

2018-06-08 16:39:19,779 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:39:19 +08:00

2018-06-08 16:39:19,779 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[PermissionTypeId] AS [PermissionTypeId], 
    [Extent2].[CreateTime] AS [CreateTime], 
    [Extent2].[IsDeleted] AS [IsDeleted]
    FROM  [dbo].[T_AdminPermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[AdminId] = [Extent2].[Id]
    WHERE [Extent1].[PermissionId] = @EntityKeyValue1
2018-06-08 16:39:19,779 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:19,780 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '4' (Type = Int64, IsNullable = false)

2018-06-08 16:39:19,780 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:39:19 +08:00

2018-06-08 16:39:19,782 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-06-08 16:39:19,782 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:19,783 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:39:19 +08:00

2018-06-08 16:39:19,783 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:39:19 +08:00

2018-06-08 16:39:19,784 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-06-08 16:39:19,784 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:19,784 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'admin' (Type = String, Size = 4000)

2018-06-08 16:39:19,784 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:39:19 +08:00

2018-06-08 16:39:19,787 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2018-06-08 16:39:19,787 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:19,787 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:39:19 +08:00

2018-06-08 16:39:19,788 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:39:19 +08:00

2018-06-08 16:39:19,788 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:39:19,788 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:19,789 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-06-08 16:39:19,789 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:39:19 +08:00

2018-06-08 16:39:19,790 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:39:19,790 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:19,791 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:39:19 +08:00

2018-06-08 16:39:19,791 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:39:19 +08:00

2018-06-08 16:39:19,791 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2018-06-08 16:39:19,791 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:19,791 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64, IsNullable = false)

2018-06-08 16:39:19,792 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:39:19 +08:00

2018-06-08 16:39:19,794 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-06-08 16:39:19,794 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:19,794 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:39:19 +08:00

2018-06-08 16:39:19,794 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:39:19 +08:00

2018-06-08 16:39:19,794 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:39:19,794 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:19,794 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-06-08 16:39:19,794 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:39:19 +08:00

2018-06-08 16:39:19,796 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:39:19,796 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:19,796 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:39:19 +08:00

2018-06-08 16:39:19,797 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:39:19 +08:00

2018-06-08 16:39:19,797 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Name] = @p__linq__0)
2018-06-08 16:39:19,797 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:19,797 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '平台积分' (Type = String, Size = 4000)

2018-06-08 16:39:19,797 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:39:19 +08:00

2018-06-08 16:39:19,799 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-06-08 16:39:19,799 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:19,800 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:39:19 +08:00

2018-06-08 16:39:19,800 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:39:19 +08:00

2018-06-08 16:39:19,800 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Name] = @p__linq__0)
2018-06-08 16:39:19,800 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:19,801 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '商家积分' (Type = String, Size = 4000)

2018-06-08 16:39:19,801 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:39:19 +08:00

2018-06-08 16:39:19,803 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:39:19,803 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:19,803 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:39:19 +08:00

2018-06-08 16:39:19,803 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:39:19 +08:00

2018-06-08 16:39:19,803 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-06-08 16:39:19,803 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:19,803 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:39:19 +08:00

2018-06-08 16:39:19,806 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-06-08 16:39:19,806 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:19,806 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:39:19 +08:00

2018-06-08 16:39:19,807 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:39:19 +08:00

2018-06-08 16:39:19,807 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2018-06-08 16:39:19,807 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:19,807 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '44' (Type = Int64, IsNullable = false)

2018-06-08 16:39:19,807 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:39:19 +08:00

2018-06-08 16:39:19,810 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-06-08 16:39:19,810 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:19,810 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:39:19 +08:00

2018-06-08 16:39:19,811 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:39:19 +08:00

2018-06-08 16:39:19,811 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2018-06-08 16:39:19,812 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:19,812 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64, IsNullable = false)

2018-06-08 16:39:19,812 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:39:19 +08:00

2018-06-08 16:39:19,814 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-06-08 16:39:19,814 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:19,814 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:39:19 +08:00

2018-06-08 16:39:19,814 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:39:19 +08:00

2018-06-08 16:39:19,814 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:39:19,814 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:19,815 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-06-08 16:39:19,815 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:39:19 +08:00

2018-06-08 16:39:19,816 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:39:19,816 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:19,816 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:39:19 +08:00

2018-06-08 16:39:19,816 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:39:19 +08:00

2018-06-08 16:39:19,817 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:39:19,817 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:19,817 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-06-08 16:39:19,817 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:39:19 +08:00

2018-06-08 16:39:19,818 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:39:19,818 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:19,818 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:39:19 +08:00

2018-06-08 16:39:19,819 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:39:19 +08:00

2018-06-08 16:39:19,819 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (([Extent1].[Description] = @p__linq__0) OR (([Extent1].[Description] IS NULL) AND (@p__linq__0 IS NULL)))
2018-06-08 16:39:19,819 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:19,819 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '平台发放' (Type = String, Size = 4000)

2018-06-08 16:39:19,819 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:39:19 +08:00

2018-06-08 16:39:19,821 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:39:19,821 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:19,821 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:39:19 +08:00

2018-06-08 16:39:19,821 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:39:19 +08:00

2018-06-08 16:39:19,822 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (([Extent1].[Description] = @p__linq__0) OR (([Extent1].[Description] IS NULL) AND (@p__linq__0 IS NULL)))
2018-06-08 16:39:19,822 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:19,822 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '平台发放' (Type = String, Size = 4000)

2018-06-08 16:39:19,822 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:39:19 +08:00

2018-06-08 16:39:19,823 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:39:19,824 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:19,824 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:39:19 +08:00

2018-06-08 16:39:19,824 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:39:19 +08:00

2018-06-08 16:39:19,826 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Started transaction at 2018/6/8 16:39:19 +08:00

2018-06-08 16:39:19,827 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：UPDATE [dbo].[T_PlatformUsers]
SET [PlatformIntegral] = @0
WHERE ([Id] = @1)

2018-06-08 16:39:19,827 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @0: '5774' (Type = Int64)

2018-06-08 16:39:19,827 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @1: '1' (Type = Int64)

2018-06-08 16:39:19,827 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:39:19 +08:00

2018-06-08 16:39:19,829 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: 1

2018-06-08 16:39:19,829 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:19,829 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：UPDATE [dbo].[T_PlatformUsers]
SET [GivingIntegral] = @0
WHERE ([Id] = @1)

2018-06-08 16:39:19,829 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @0: '24' (Type = Int64)

2018-06-08 16:39:19,829 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @1: '2' (Type = Int64)

2018-06-08 16:39:19,829 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:39:19 +08:00

2018-06-08 16:39:19,830 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: 1

2018-06-08 16:39:19,830 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:19,834 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：INSERT [dbo].[T_Journals]([PlatformUserId], [ToPlatformUserId], [FormPlatformUserId], [JournalTypeId], [IntegralTypeId], [ToIntegralTypeId], [Journal01], [Description], [InIntegral], [OutIntegral], [Integral], [Amount], [Tip], [CreateTime], [IsDeleted])
VALUES (@0, @1, @2, @3, @4, @5, NULL, @6, NULL, @7, @8, NULL, @9, @10, @11)
SELECT [Id]
FROM [dbo].[T_Journals]
WHERE @@ROWCOUNT > 0 AND [Id] = scope_identity()
2018-06-08 16:39:19,834 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:19,834 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @0: '44' (Type = Int64)

2018-06-08 16:39:19,834 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @1: '2' (Type = Int64)

2018-06-08 16:39:19,834 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @2: '44' (Type = Int64)

2018-06-08 16:39:19,834 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @3: '1' (Type = Int64)

2018-06-08 16:39:19,834 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @4: '1' (Type = Int64)

2018-06-08 16:39:19,834 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @5: '2' (Type = Int64)

2018-06-08 16:39:19,834 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @6: '平台发放' (Type = String, Size = 100)

2018-06-08 16:39:19,834 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @7: '1' (Type = Int64)

2018-06-08 16:39:19,834 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @8: '0' (Type = Int64)

2018-06-08 16:39:19,834 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @9: '1' (Type = String, Size = 100)

2018-06-08 16:39:19,834 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @10: '2018/6/8 16:39:19' (Type = DateTime2)

2018-06-08 16:39:19,834 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @11: 'False' (Type = Boolean)

2018-06-08 16:39:19,834 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:39:19 +08:00

2018-06-08 16:39:19,836 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-06-08 16:39:19,836 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:19,837 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：INSERT [dbo].[T_Journals]([PlatformUserId], [ToPlatformUserId], [FormPlatformUserId], [JournalTypeId], [IntegralTypeId], [ToIntegralTypeId], [Journal01], [Description], [InIntegral], [OutIntegral], [Integral], [Amount], [Tip], [CreateTime], [IsDeleted])
VALUES (@0, @1, @2, @3, @4, @5, NULL, @6, @7, NULL, @8, NULL, @9, @10, @11)
SELECT [Id]
FROM [dbo].[T_Journals]
WHERE @@ROWCOUNT > 0 AND [Id] = scope_identity()
2018-06-08 16:39:19,837 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:19,837 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @0: '2' (Type = Int64)

2018-06-08 16:39:19,837 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @1: '2' (Type = Int64)

2018-06-08 16:39:19,837 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @2: '44' (Type = Int64)

2018-06-08 16:39:19,837 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @3: '1' (Type = Int64)

2018-06-08 16:39:19,837 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @4: '1' (Type = Int64)

2018-06-08 16:39:19,837 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @5: '2' (Type = Int64)

2018-06-08 16:39:19,837 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @6: '平台发放' (Type = String, Size = 100)

2018-06-08 16:39:19,837 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @7: '1' (Type = Int64)

2018-06-08 16:39:19,837 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @8: '24' (Type = Int64)

2018-06-08 16:39:19,837 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @9: '1' (Type = String, Size = 100)

2018-06-08 16:39:19,837 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @10: '2018/6/8 16:39:19' (Type = DateTime2)

2018-06-08 16:39:19,837 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @11: 'False' (Type = Boolean)

2018-06-08 16:39:19,837 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:39:19 +08:00

2018-06-08 16:39:19,839 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:39:19,839 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:19,840 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Committed transaction at 2018/6/8 16:39:19 +08:00

2018-06-08 16:39:19,840 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:39:19 +08:00

2018-06-08 16:39:19,907 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:39:19 +08:00

2018-06-08 16:39:19,907 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM  [dbo].[T_PlatformUsers] AS [Extent1]
        INNER JOIN [dbo].[T_PlatformUserTypes] AS [Extent2] ON [Extent1].[PlatformUserTypeId] = [Extent2].[Id]
        WHERE (0 = [Extent1].[IsDeleted]) AND (([Extent2].[Name] = @p__linq__0) OR (1 = 0))
    )  AS [GroupBy1]
2018-06-08 16:39:19,907 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:19,907 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '商家' (Type = String, Size = 4000)

2018-06-08 16:39:19,907 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:39:19 +08:00

2018-06-08 16:39:19,910 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-06-08 16:39:19,910 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:19,910 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:39:19 +08:00

2018-06-08 16:39:19,910 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:39:19 +08:00

2018-06-08 16:39:19,911 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Code] AS [Code], 
    [Project1].[Description] AS [Description], 
    [Project1].[PlatformIntegral] AS [PlatformIntegral], 
    [Project1].[GivingIntegral] AS [GivingIntegral], 
    [Project1].[UseIntegral] AS [UseIntegral], 
    [Project1].[Salt] AS [Salt], 
    [Project1].[Password] AS [Password], 
    [Project1].[TradePassword] AS [TradePassword], 
    [Project1].[ErrorCount] AS [ErrorCount], 
    [Project1].[ErrorTime] AS [ErrorTime], 
    [Project1].[IsEnabled] AS [IsEnabled], 
    [Project1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Mobile] AS [Mobile], [Project1].[Code] AS [Code], [Project1].[Description] AS [Description], [Project1].[PlatformIntegral] AS [PlatformIntegral], [Project1].[GivingIntegral] AS [GivingIntegral], [Project1].[UseIntegral] AS [UseIntegral], [Project1].[Salt] AS [Salt], [Project1].[Password] AS [Password], [Project1].[TradePassword] AS [TradePassword], [Project1].[ErrorCount] AS [ErrorCount], [Project1].[ErrorTime] AS [ErrorTime], [Project1].[IsEnabled] AS [IsEnabled], [Project1].[PlatformUserTypeId] AS [PlatformUserTypeId], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Code] AS [Code], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
            [Extent1].[GivingIntegral] AS [GivingIntegral], 
            [Extent1].[UseIntegral] AS [UseIntegral], 
            [Extent1].[Salt] AS [Salt], 
            [Extent1].[Password] AS [Password], 
            [Extent1].[TradePassword] AS [TradePassword], 
            [Extent1].[ErrorCount] AS [ErrorCount], 
            [Extent1].[ErrorTime] AS [ErrorTime], 
            [Extent1].[IsEnabled] AS [IsEnabled], 
            [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM  [dbo].[T_PlatformUsers] AS [Extent1]
            INNER JOIN [dbo].[T_PlatformUserTypes] AS [Extent2] ON [Extent1].[PlatformUserTypeId] = [Extent2].[Id]
            WHERE (0 = [Extent1].[IsDeleted]) AND (([Extent2].[Name] = @p__linq__0) OR (1 = 0))
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-06-08 16:39:19,911 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:19,911 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '商家' (Type = String, Size = 4000)

2018-06-08 16:39:19,911 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:39:19 +08:00

2018-06-08 16:39:19,920 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 8 ms with result: SqlDataReader

2018-06-08 16:39:19,920 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:19,920 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:39:19 +08:00

2018-06-08 16:39:19,920 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:39:19 +08:00

2018-06-08 16:39:19,921 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:39:19,921 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:19,921 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-06-08 16:39:19,921 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:39:19 +08:00

2018-06-08 16:39:19,922 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:39:19,922 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:19,923 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:39:19 +08:00

2018-06-08 16:39:19,923 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:39:19 +08:00

2018-06-08 16:39:19,923 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2018-06-08 16:39:19,923 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:19,923 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2018-06-08 16:39:19,923 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:39:19 +08:00

2018-06-08 16:39:19,926 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-06-08 16:39:19,927 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:19,927 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:39:19 +08:00

2018-06-08 16:39:19,927 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:39:19 +08:00

2018-06-08 16:39:19,927 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:39:19,927 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:19,928 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-06-08 16:39:19,928 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:39:19 +08:00

2018-06-08 16:39:19,929 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:39:19,929 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:19,929 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:39:19 +08:00

2018-06-08 16:39:22,051 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:39:22 +08:00

2018-06-08 16:39:22,051 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Admins] AS [Extent1]
        WHERE 0 = [Extent1].[IsDeleted]
    )  AS [GroupBy1]
2018-06-08 16:39:22,051 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:22,052 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:39:22 +08:00

2018-06-08 16:39:22,057 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 5 ms with result: SqlDataReader

2018-06-08 16:39:22,057 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:22,057 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:39:22 +08:00

2018-06-08 16:39:22,057 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:39:22 +08:00

2018-06-08 16:39:22,057 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Filter1].[Id] AS [Id], 
    [Filter1].[Mobile] AS [Mobile], 
    [Filter1].[Description] AS [Description], 
    [Filter1].[Salt] AS [Salt], 
    [Filter1].[Password] AS [Password], 
    [Filter1].[IsEnabled] AS [IsEnabled], 
    [Filter1].[CreateTime] AS [CreateTime], 
    [Filter1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Extent1].[Id] AS [Id], [Extent1].[Mobile] AS [Mobile], [Extent1].[Description] AS [Description], [Extent1].[Salt] AS [Salt], [Extent1].[Password] AS [Password], [Extent1].[IsEnabled] AS [IsEnabled], [Extent1].[CreateTime] AS [CreateTime], [Extent1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Extent1].[CreateTime] DESC) AS [row_number]
        FROM [dbo].[T_Admins] AS [Extent1]
        WHERE 0 = [Extent1].[IsDeleted]
    )  AS [Filter1]
    WHERE [Filter1].[row_number] > 0
    ORDER BY [Filter1].[CreateTime] DESC
2018-06-08 16:39:22,057 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:22,057 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:39:22 +08:00

2018-06-08 16:39:22,108 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 50 ms with result: SqlDataReader

2018-06-08 16:39:22,109 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:22,109 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:39:22 +08:00

2018-06-08 16:39:22,109 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:39:22 +08:00

2018-06-08 16:39:22,109 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[PermissionTypeId] AS [PermissionTypeId], 
    [Extent2].[CreateTime] AS [CreateTime], 
    [Extent2].[IsDeleted] AS [IsDeleted]
    FROM  [dbo].[T_AdminPermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[AdminId] = [Extent2].[Id]
    WHERE [Extent1].[PermissionId] = @EntityKeyValue1
2018-06-08 16:39:22,109 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:22,109 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '22' (Type = Int64, IsNullable = false)

2018-06-08 16:39:22,109 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:39:22 +08:00

2018-06-08 16:39:22,111 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:39:22,111 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:22,111 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:39:22 +08:00

2018-06-08 16:39:22,111 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:39:22 +08:00

2018-06-08 16:39:22,111 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[PermissionTypeId] AS [PermissionTypeId], 
    [Extent2].[CreateTime] AS [CreateTime], 
    [Extent2].[IsDeleted] AS [IsDeleted]
    FROM  [dbo].[T_AdminPermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[AdminId] = [Extent2].[Id]
    WHERE [Extent1].[PermissionId] = @EntityKeyValue1
2018-06-08 16:39:22,111 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:22,111 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '5' (Type = Int64, IsNullable = false)

2018-06-08 16:39:22,111 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:39:22 +08:00

2018-06-08 16:39:22,113 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:39:22,113 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:22,113 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:39:22 +08:00

2018-06-08 16:39:22,113 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:39:22 +08:00

2018-06-08 16:39:22,113 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[PermissionTypeId] AS [PermissionTypeId], 
    [Extent2].[CreateTime] AS [CreateTime], 
    [Extent2].[IsDeleted] AS [IsDeleted]
    FROM  [dbo].[T_AdminPermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[AdminId] = [Extent2].[Id]
    WHERE [Extent1].[PermissionId] = @EntityKeyValue1
2018-06-08 16:39:22,114 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:22,114 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '4' (Type = Int64, IsNullable = false)

2018-06-08 16:39:22,114 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:39:22 +08:00

2018-06-08 16:39:22,117 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2018-06-08 16:39:22,117 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:22,118 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:39:22 +08:00

2018-06-08 16:39:22,119 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:39:22 +08:00

2018-06-08 16:39:22,119 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PermissionTypes] AS [Extent1]
    WHERE 0 = [Extent1].[IsDeleted]
2018-06-08 16:39:22,119 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:22,119 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:39:22 +08:00

2018-06-08 16:39:22,129 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 10 ms with result: SqlDataReader

2018-06-08 16:39:22,129 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:22,129 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:39:22 +08:00

2018-06-08 16:39:22,139 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:39:22 +08:00

2018-06-08 16:39:22,140 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PermissionTypeId] AS [PermissionTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_Permissions] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PermissionTypeId] = @p__linq__0)
2018-06-08 16:39:22,140 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:22,140 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2018-06-08 16:39:22,140 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:39:22 +08:00

2018-06-08 16:39:22,142 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:39:22,142 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:22,142 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:39:22 +08:00

2018-06-08 16:39:22,142 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:39:22 +08:00

2018-06-08 16:39:22,143 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PermissionTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:39:22,143 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:22,143 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-06-08 16:39:22,143 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:39:22 +08:00

2018-06-08 16:39:22,144 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:39:22,144 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:22,144 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:39:22 +08:00

2018-06-08 16:39:22,145 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:39:22 +08:00

2018-06-08 16:39:22,145 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PermissionTypeId] AS [PermissionTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_Permissions] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PermissionTypeId] = @p__linq__0)
2018-06-08 16:39:22,145 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:22,145 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64, IsNullable = false)

2018-06-08 16:39:22,145 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:39:22 +08:00

2018-06-08 16:39:22,147 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:39:22,147 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:22,147 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:39:22 +08:00

2018-06-08 16:39:22,150 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:39:22 +08:00

2018-06-08 16:39:22,150 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PermissionTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:39:22,150 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:22,150 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-06-08 16:39:22,150 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:39:22 +08:00

2018-06-08 16:39:22,152 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:39:22,152 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:22,153 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:39:22 +08:00

2018-06-08 16:39:22,153 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:39:22 +08:00

2018-06-08 16:39:22,153 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PermissionTypeId] AS [PermissionTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_Permissions] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PermissionTypeId] = @p__linq__0)
2018-06-08 16:39:22,153 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:22,153 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '3' (Type = Int64, IsNullable = false)

2018-06-08 16:39:22,153 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:39:22 +08:00

2018-06-08 16:39:22,155 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:39:22,155 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:22,155 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:39:22 +08:00

2018-06-08 16:39:22,156 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:39:22 +08:00

2018-06-08 16:39:22,156 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PermissionTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:39:22,156 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:22,156 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-06-08 16:39:22,156 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:39:22 +08:00

2018-06-08 16:39:22,157 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:39:22,157 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:22,157 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:39:22 +08:00

2018-06-08 16:39:22,158 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:39:22 +08:00

2018-06-08 16:39:22,158 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PermissionTypeId] AS [PermissionTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_Permissions] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PermissionTypeId] = @p__linq__0)
2018-06-08 16:39:22,158 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:22,158 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '4' (Type = Int64, IsNullable = false)

2018-06-08 16:39:22,158 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:39:22 +08:00

2018-06-08 16:39:22,160 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:39:22,160 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:22,160 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:39:22 +08:00

2018-06-08 16:39:22,161 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:39:22 +08:00

2018-06-08 16:39:22,161 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PermissionTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:39:22,161 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:22,161 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '4' (Type = Int64, IsNullable = false)

2018-06-08 16:39:22,161 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:39:22 +08:00

2018-06-08 16:39:22,162 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:39:22,162 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:22,162 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:39:22 +08:00

2018-06-08 16:39:22,163 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:39:22 +08:00

2018-06-08 16:39:22,163 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PermissionTypeId] AS [PermissionTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_Permissions] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PermissionTypeId] = @p__linq__0)
2018-06-08 16:39:22,163 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:22,163 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '5' (Type = Int64, IsNullable = false)

2018-06-08 16:39:22,163 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:39:22 +08:00

2018-06-08 16:39:22,167 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2018-06-08 16:39:22,167 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:22,167 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:39:22 +08:00

2018-06-08 16:39:22,168 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:39:22 +08:00

2018-06-08 16:39:22,168 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PermissionTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:39:22,168 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:22,168 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '5' (Type = Int64, IsNullable = false)

2018-06-08 16:39:22,168 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:39:22 +08:00

2018-06-08 16:39:22,169 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:39:22,169 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:22,170 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:39:22 +08:00

2018-06-08 16:39:22,846 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:39:22 +08:00

2018-06-08 16:39:22,846 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_Admins] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2018-06-08 16:39:22,846 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:22,846 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '4' (Type = Int64, IsNullable = false)

2018-06-08 16:39:22,846 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:39:22 +08:00

2018-06-08 16:39:22,911 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 64 ms with result: SqlDataReader

2018-06-08 16:39:22,911 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:22,911 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:39:22 +08:00

2018-06-08 16:39:22,912 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:39:22 +08:00

2018-06-08 16:39:22,912 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[PermissionTypeId] AS [PermissionTypeId], 
    [Extent2].[CreateTime] AS [CreateTime], 
    [Extent2].[IsDeleted] AS [IsDeleted]
    FROM  [dbo].[T_AdminPermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[AdminId] = [Extent2].[Id]
    WHERE [Extent1].[PermissionId] = @EntityKeyValue1
2018-06-08 16:39:22,912 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:22,912 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '4' (Type = Int64, IsNullable = false)

2018-06-08 16:39:22,912 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:39:22 +08:00

2018-06-08 16:39:22,914 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-06-08 16:39:22,914 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:22,915 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:39:22 +08:00

2018-06-08 16:39:22,916 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:39:22 +08:00

2018-06-08 16:39:22,916 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-06-08 16:39:22,916 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:22,916 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'admin' (Type = String, Size = 4000)

2018-06-08 16:39:22,916 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:39:22 +08:00

2018-06-08 16:39:22,922 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 5 ms with result: SqlDataReader

2018-06-08 16:39:22,922 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:22,922 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:39:22 +08:00

2018-06-08 16:39:22,923 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:39:22 +08:00

2018-06-08 16:39:22,923 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:39:22,923 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:22,923 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-06-08 16:39:22,923 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:39:22 +08:00

2018-06-08 16:39:22,924 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:39:22,924 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:22,924 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:39:22 +08:00

2018-06-08 16:39:22,925 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:39:22 +08:00

2018-06-08 16:39:22,925 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-06-08 16:39:22,925 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:22,925 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:39:22 +08:00

2018-06-08 16:39:22,927 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:39:22,927 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:22,927 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:39:22 +08:00

2018-06-08 16:39:22,927 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:39:22 +08:00

2018-06-08 16:39:22,927 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-06-08 16:39:22,927 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:22,927 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:39:22 +08:00

2018-06-08 16:39:22,929 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:39:22,929 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:22,929 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:39:22 +08:00

2018-06-08 16:39:22,929 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:39:22 +08:00

2018-06-08 16:39:22,930 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM  [dbo].[T_Journals] AS [Extent1]
        INNER JOIN [dbo].[T_IntegralTypes] AS [Extent2] ON [Extent1].[IntegralTypeId] = [Extent2].[Id]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] <> [Extent1].[ToPlatformUserId]) AND (N'平台积分' = [Extent2].[Name]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1)
    )  AS [GroupBy1]
2018-06-08 16:39:22,930 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:22,930 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '44' (Type = Int64)

2018-06-08 16:39:22,930 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2' (Type = Int64, IsNullable = false)

2018-06-08 16:39:22,930 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:39:22 +08:00

2018-06-08 16:39:22,938 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 8 ms with result: SqlDataReader

2018-06-08 16:39:22,938 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:22,938 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:39:22 +08:00

2018-06-08 16:39:22,938 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:39:22 +08:00

2018-06-08 16:39:22,939 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM  [dbo].[T_Journals] AS [Extent1]
        INNER JOIN [dbo].[T_IntegralTypes] AS [Extent2] ON [Extent1].[IntegralTypeId] = [Extent2].[Id]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] <> [Extent1].[ToPlatformUserId]) AND (N'平台积分' = [Extent2].[Name]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1)
    )  AS [GroupBy1]
2018-06-08 16:39:22,939 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:22,939 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '44' (Type = Int64)

2018-06-08 16:39:22,939 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '3' (Type = Int64, IsNullable = false)

2018-06-08 16:39:22,939 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:39:22 +08:00

2018-06-08 16:39:22,941 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:39:22,941 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:22,941 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:39:22 +08:00

2018-06-08 16:39:22,941 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:39:22 +08:00

2018-06-08 16:39:22,942 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM  [dbo].[T_Journals] AS [Extent1]
        INNER JOIN [dbo].[T_IntegralTypes] AS [Extent2] ON [Extent1].[IntegralTypeId] = [Extent2].[Id]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] <> [Extent1].[ToPlatformUserId]) AND (N'平台积分' = [Extent2].[Name]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
    )  AS [GroupBy1]
2018-06-08 16:39:22,942 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:22,942 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '44' (Type = Int64)

2018-06-08 16:39:22,942 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:39:22 +08:00

2018-06-08 16:39:22,943 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:39:22,943 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:22,943 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:39:22 +08:00

2018-06-08 16:39:22,944 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:39:22 +08:00

2018-06-08 16:39:22,944 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM  [dbo].[T_Journals] AS [Extent1]
            INNER JOIN [dbo].[T_IntegralTypes] AS [Extent2] ON [Extent1].[IntegralTypeId] = [Extent2].[Id]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] <> [Extent1].[ToPlatformUserId]) AND (N'平台积分' = [Extent2].[Name]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-06-08 16:39:22,944 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:22,944 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '44' (Type = Int64)

2018-06-08 16:39:22,944 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:39:22 +08:00

2018-06-08 16:39:22,948 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2018-06-08 16:39:22,948 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:22,949 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:39:22 +08:00

2018-06-08 16:39:22,950 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:39:22 +08:00

2018-06-08 16:39:22,950 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:39:22,950 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:22,950 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-06-08 16:39:22,950 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:39:22 +08:00

2018-06-08 16:39:22,952 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-06-08 16:39:22,952 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:22,952 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:39:22 +08:00

2018-06-08 16:39:22,953 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:39:22 +08:00

2018-06-08 16:39:22,953 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:39:22,953 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:22,953 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '44' (Type = Int64, IsNullable = false)

2018-06-08 16:39:22,953 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:39:22 +08:00

2018-06-08 16:39:22,955 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-06-08 16:39:22,955 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:22,955 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:39:22 +08:00

2018-06-08 16:39:22,956 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:39:22 +08:00

2018-06-08 16:39:22,956 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:39:22,956 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:22,956 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-06-08 16:39:22,956 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:39:22 +08:00

2018-06-08 16:39:22,958 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-06-08 16:39:22,958 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:22,958 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:39:22 +08:00

2018-06-08 16:39:22,958 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:39:22 +08:00

2018-06-08 16:39:22,958 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:39:22,958 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:22,959 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-06-08 16:39:22,959 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:39:22 +08:00

2018-06-08 16:39:22,960 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:39:22,960 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:22,960 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:39:22 +08:00

2018-06-08 16:39:22,961 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:39:22 +08:00

2018-06-08 16:39:22,961 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:39:22,961 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:22,961 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-06-08 16:39:22,961 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:39:22 +08:00

2018-06-08 16:39:22,962 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:39:22,962 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:22,962 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:39:22 +08:00

2018-06-08 16:39:22,963 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:39:22 +08:00

2018-06-08 16:39:22,963 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:39:22,963 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:22,963 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '42' (Type = Int64, IsNullable = false)

2018-06-08 16:39:22,963 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:39:22 +08:00

2018-06-08 16:39:22,965 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-06-08 16:39:22,965 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:22,966 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:39:22 +08:00

2018-06-08 16:39:45,710 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:39:45 +08:00

2018-06-08 16:39:45,710 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Admins] AS [Extent1]
        WHERE 0 = [Extent1].[IsDeleted]
    )  AS [GroupBy1]
2018-06-08 16:39:45,710 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:45,710 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:39:45 +08:00

2018-06-08 16:39:45,714 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2018-06-08 16:39:45,714 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:45,714 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:39:45 +08:00

2018-06-08 16:39:45,714 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:39:45 +08:00

2018-06-08 16:39:45,715 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Filter1].[Id] AS [Id], 
    [Filter1].[Mobile] AS [Mobile], 
    [Filter1].[Description] AS [Description], 
    [Filter1].[Salt] AS [Salt], 
    [Filter1].[Password] AS [Password], 
    [Filter1].[IsEnabled] AS [IsEnabled], 
    [Filter1].[CreateTime] AS [CreateTime], 
    [Filter1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Extent1].[Id] AS [Id], [Extent1].[Mobile] AS [Mobile], [Extent1].[Description] AS [Description], [Extent1].[Salt] AS [Salt], [Extent1].[Password] AS [Password], [Extent1].[IsEnabled] AS [IsEnabled], [Extent1].[CreateTime] AS [CreateTime], [Extent1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Extent1].[CreateTime] DESC) AS [row_number]
        FROM [dbo].[T_Admins] AS [Extent1]
        WHERE 0 = [Extent1].[IsDeleted]
    )  AS [Filter1]
    WHERE [Filter1].[row_number] > 0
    ORDER BY [Filter1].[CreateTime] DESC
2018-06-08 16:39:45,715 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:45,715 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:39:45 +08:00

2018-06-08 16:39:45,759 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 43 ms with result: SqlDataReader

2018-06-08 16:39:45,759 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:45,759 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:39:45 +08:00

2018-06-08 16:39:45,759 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:39:45 +08:00

2018-06-08 16:39:45,759 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[PermissionTypeId] AS [PermissionTypeId], 
    [Extent2].[CreateTime] AS [CreateTime], 
    [Extent2].[IsDeleted] AS [IsDeleted]
    FROM  [dbo].[T_AdminPermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[AdminId] = [Extent2].[Id]
    WHERE [Extent1].[PermissionId] = @EntityKeyValue1
2018-06-08 16:39:45,759 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:45,759 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '22' (Type = Int64, IsNullable = false)

2018-06-08 16:39:45,759 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:39:45 +08:00

2018-06-08 16:39:45,761 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:39:45,761 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:45,761 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:39:45 +08:00

2018-06-08 16:39:45,761 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:39:45 +08:00

2018-06-08 16:39:45,761 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[PermissionTypeId] AS [PermissionTypeId], 
    [Extent2].[CreateTime] AS [CreateTime], 
    [Extent2].[IsDeleted] AS [IsDeleted]
    FROM  [dbo].[T_AdminPermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[AdminId] = [Extent2].[Id]
    WHERE [Extent1].[PermissionId] = @EntityKeyValue1
2018-06-08 16:39:45,761 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:45,761 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '5' (Type = Int64, IsNullable = false)

2018-06-08 16:39:45,762 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:39:45 +08:00

2018-06-08 16:39:45,763 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:39:45,763 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:45,763 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:39:45 +08:00

2018-06-08 16:39:45,763 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:39:45 +08:00

2018-06-08 16:39:45,763 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[PermissionTypeId] AS [PermissionTypeId], 
    [Extent2].[CreateTime] AS [CreateTime], 
    [Extent2].[IsDeleted] AS [IsDeleted]
    FROM  [dbo].[T_AdminPermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[AdminId] = [Extent2].[Id]
    WHERE [Extent1].[PermissionId] = @EntityKeyValue1
2018-06-08 16:39:45,763 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:45,763 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '4' (Type = Int64, IsNullable = false)

2018-06-08 16:39:45,763 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:39:45 +08:00

2018-06-08 16:39:45,766 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-06-08 16:39:45,766 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:45,767 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:39:45 +08:00

2018-06-08 16:39:45,768 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:39:45 +08:00

2018-06-08 16:39:45,768 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PermissionTypes] AS [Extent1]
    WHERE 0 = [Extent1].[IsDeleted]
2018-06-08 16:39:45,768 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:45,768 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:39:45 +08:00

2018-06-08 16:39:45,770 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-06-08 16:39:45,770 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:45,770 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:39:45 +08:00

2018-06-08 16:39:45,771 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:39:45 +08:00

2018-06-08 16:39:45,771 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PermissionTypeId] AS [PermissionTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_Permissions] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PermissionTypeId] = @p__linq__0)
2018-06-08 16:39:45,771 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:45,771 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2018-06-08 16:39:45,771 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:39:45 +08:00

2018-06-08 16:39:45,773 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:39:45,773 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:45,773 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:39:45 +08:00

2018-06-08 16:39:45,774 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:39:45 +08:00

2018-06-08 16:39:45,774 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PermissionTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:39:45,774 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:45,774 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-06-08 16:39:45,774 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:39:45 +08:00

2018-06-08 16:39:45,775 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:39:45,775 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:45,775 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:39:45 +08:00

2018-06-08 16:39:45,776 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:39:45 +08:00

2018-06-08 16:39:45,776 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PermissionTypeId] AS [PermissionTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_Permissions] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PermissionTypeId] = @p__linq__0)
2018-06-08 16:39:45,776 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:45,776 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64, IsNullable = false)

2018-06-08 16:39:45,776 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:39:45 +08:00

2018-06-08 16:39:45,778 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:39:45,778 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:45,778 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:39:45 +08:00

2018-06-08 16:39:45,778 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:39:45 +08:00

2018-06-08 16:39:45,778 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PermissionTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:39:45,778 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:45,778 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-06-08 16:39:45,778 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:39:45 +08:00

2018-06-08 16:39:45,780 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:39:45,780 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:45,780 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:39:45 +08:00

2018-06-08 16:39:45,780 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:39:45 +08:00

2018-06-08 16:39:45,781 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PermissionTypeId] AS [PermissionTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_Permissions] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PermissionTypeId] = @p__linq__0)
2018-06-08 16:39:45,781 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:45,781 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '3' (Type = Int64, IsNullable = false)

2018-06-08 16:39:45,781 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:39:45 +08:00

2018-06-08 16:39:45,782 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:39:45,783 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:45,783 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:39:45 +08:00

2018-06-08 16:39:45,783 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:39:45 +08:00

2018-06-08 16:39:45,783 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PermissionTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:39:45,783 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:45,783 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-06-08 16:39:45,783 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:39:45 +08:00

2018-06-08 16:39:45,785 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:39:45,785 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:45,785 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:39:45 +08:00

2018-06-08 16:39:45,785 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:39:45 +08:00

2018-06-08 16:39:45,786 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PermissionTypeId] AS [PermissionTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_Permissions] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PermissionTypeId] = @p__linq__0)
2018-06-08 16:39:45,786 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:45,786 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '4' (Type = Int64, IsNullable = false)

2018-06-08 16:39:45,786 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:39:45 +08:00

2018-06-08 16:39:45,787 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:39:45,787 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:45,788 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:39:45 +08:00

2018-06-08 16:39:45,788 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:39:45 +08:00

2018-06-08 16:39:45,788 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PermissionTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:39:45,788 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:45,788 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '4' (Type = Int64, IsNullable = false)

2018-06-08 16:39:45,788 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:39:45 +08:00

2018-06-08 16:39:45,789 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:39:45,789 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:45,790 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:39:45 +08:00

2018-06-08 16:39:45,790 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:39:45 +08:00

2018-06-08 16:39:45,791 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PermissionTypeId] AS [PermissionTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_Permissions] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PermissionTypeId] = @p__linq__0)
2018-06-08 16:39:45,791 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:45,791 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '5' (Type = Int64, IsNullable = false)

2018-06-08 16:39:45,791 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:39:45 +08:00

2018-06-08 16:39:45,793 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-06-08 16:39:45,793 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:45,794 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:39:45 +08:00

2018-06-08 16:39:45,794 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:39:45 +08:00

2018-06-08 16:39:45,794 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PermissionTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:39:45,794 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:45,794 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '5' (Type = Int64, IsNullable = false)

2018-06-08 16:39:45,794 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:39:45 +08:00

2018-06-08 16:39:45,795 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:39:45,795 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:45,796 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:39:45 +08:00

2018-06-08 16:39:46,767 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:39:46 +08:00

2018-06-08 16:39:46,767 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_Admins] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2018-06-08 16:39:46,767 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:46,767 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '4' (Type = Int64, IsNullable = false)

2018-06-08 16:39:46,767 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:39:46 +08:00

2018-06-08 16:39:46,769 [15] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:39:46,769 [15] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:46,769 [15] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:39:46 +08:00

2018-06-08 16:39:46,771 [15] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:39:46 +08:00

2018-06-08 16:39:46,771 [15] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[PermissionTypeId] AS [PermissionTypeId], 
    [Extent2].[CreateTime] AS [CreateTime], 
    [Extent2].[IsDeleted] AS [IsDeleted]
    FROM  [dbo].[T_AdminPermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[AdminId] = [Extent2].[Id]
    WHERE [Extent1].[PermissionId] = @EntityKeyValue1
2018-06-08 16:39:46,771 [15] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:46,771 [15] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '4' (Type = Int64, IsNullable = false)

2018-06-08 16:39:46,771 [15] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:39:46 +08:00

2018-06-08 16:39:46,773 [15] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:39:46,773 [15] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:46,773 [15] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:39:46 +08:00

2018-06-08 16:39:46,774 [15] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:39:46 +08:00

2018-06-08 16:39:46,774 [15] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-06-08 16:39:46,775 [15] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:46,775 [15] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'admin' (Type = String, Size = 4000)

2018-06-08 16:39:46,775 [15] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:39:46 +08:00

2018-06-08 16:39:46,778 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-06-08 16:39:46,778 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:46,778 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:39:46 +08:00

2018-06-08 16:39:46,778 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:39:46 +08:00

2018-06-08 16:39:46,778 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:39:46,778 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:46,778 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-06-08 16:39:46,778 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:39:46 +08:00

2018-06-08 16:39:46,780 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:39:46,780 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:46,780 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:39:46 +08:00

2018-06-08 16:39:46,780 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:39:46 +08:00

2018-06-08 16:39:46,781 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-06-08 16:39:46,781 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:46,781 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:39:46 +08:00

2018-06-08 16:39:46,782 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:39:46,782 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:46,782 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:39:46 +08:00

2018-06-08 16:39:46,783 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:39:46 +08:00

2018-06-08 16:39:46,783 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-06-08 16:39:46,783 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:46,783 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:39:46 +08:00

2018-06-08 16:39:46,784 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:39:46,784 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:46,784 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:39:46 +08:00

2018-06-08 16:39:46,785 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:39:46 +08:00

2018-06-08 16:39:46,785 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM  [dbo].[T_Journals] AS [Extent1]
        INNER JOIN [dbo].[T_IntegralTypes] AS [Extent2] ON [Extent1].[IntegralTypeId] = [Extent2].[Id]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] <> [Extent1].[ToPlatformUserId]) AND (N'平台积分' = [Extent2].[Name]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1)
    )  AS [GroupBy1]
2018-06-08 16:39:46,785 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:46,785 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '44' (Type = Int64)

2018-06-08 16:39:46,785 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2' (Type = Int64, IsNullable = false)

2018-06-08 16:39:46,785 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:39:46 +08:00

2018-06-08 16:39:46,787 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:39:46,787 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:46,787 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:39:46 +08:00

2018-06-08 16:39:46,787 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:39:46 +08:00

2018-06-08 16:39:46,788 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM  [dbo].[T_Journals] AS [Extent1]
        INNER JOIN [dbo].[T_IntegralTypes] AS [Extent2] ON [Extent1].[IntegralTypeId] = [Extent2].[Id]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] <> [Extent1].[ToPlatformUserId]) AND (N'平台积分' = [Extent2].[Name]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1)
    )  AS [GroupBy1]
2018-06-08 16:39:46,788 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:46,788 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '44' (Type = Int64)

2018-06-08 16:39:46,788 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '3' (Type = Int64, IsNullable = false)

2018-06-08 16:39:46,788 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:39:46 +08:00

2018-06-08 16:39:46,790 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:39:46,790 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:46,790 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:39:46 +08:00

2018-06-08 16:39:46,790 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:39:46 +08:00

2018-06-08 16:39:46,791 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM  [dbo].[T_Journals] AS [Extent1]
        INNER JOIN [dbo].[T_IntegralTypes] AS [Extent2] ON [Extent1].[IntegralTypeId] = [Extent2].[Id]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] <> [Extent1].[ToPlatformUserId]) AND (N'平台积分' = [Extent2].[Name]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
    )  AS [GroupBy1]
2018-06-08 16:39:46,791 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:46,791 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '44' (Type = Int64)

2018-06-08 16:39:46,791 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:39:46 +08:00

2018-06-08 16:39:46,794 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-06-08 16:39:46,794 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:46,794 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:39:46 +08:00

2018-06-08 16:39:46,794 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:39:46 +08:00

2018-06-08 16:39:46,794 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM  [dbo].[T_Journals] AS [Extent1]
            INNER JOIN [dbo].[T_IntegralTypes] AS [Extent2] ON [Extent1].[IntegralTypeId] = [Extent2].[Id]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] <> [Extent1].[ToPlatformUserId]) AND (N'平台积分' = [Extent2].[Name]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-06-08 16:39:46,794 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:46,794 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '44' (Type = Int64)

2018-06-08 16:39:46,795 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:39:46 +08:00

2018-06-08 16:39:46,798 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2018-06-08 16:39:46,798 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:46,799 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:39:46 +08:00

2018-06-08 16:39:46,799 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:39:46 +08:00

2018-06-08 16:39:46,799 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:39:46,799 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:46,799 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-06-08 16:39:46,799 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:39:46 +08:00

2018-06-08 16:39:46,801 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:39:46,801 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:46,801 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:39:46 +08:00

2018-06-08 16:39:46,801 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:39:46 +08:00

2018-06-08 16:39:46,801 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:39:46,801 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:46,801 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '44' (Type = Int64, IsNullable = false)

2018-06-08 16:39:46,801 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:39:46 +08:00

2018-06-08 16:39:46,803 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:39:46,803 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:46,804 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:39:46 +08:00

2018-06-08 16:39:46,804 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:39:46 +08:00

2018-06-08 16:39:46,804 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:39:46,804 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:46,804 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-06-08 16:39:46,804 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:39:46 +08:00

2018-06-08 16:39:46,806 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-06-08 16:39:46,806 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:46,807 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:39:46 +08:00

2018-06-08 16:39:46,807 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:39:46 +08:00

2018-06-08 16:39:46,807 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:39:46,807 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:46,807 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-06-08 16:39:46,807 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:39:46 +08:00

2018-06-08 16:39:46,808 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:39:46,808 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:46,809 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:39:46 +08:00

2018-06-08 16:39:46,809 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:39:46 +08:00

2018-06-08 16:39:46,809 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:39:46,809 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:46,809 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-06-08 16:39:46,809 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:39:46 +08:00

2018-06-08 16:39:46,810 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:39:46,811 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:46,811 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:39:46 +08:00

2018-06-08 16:39:46,811 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:39:46 +08:00

2018-06-08 16:39:46,811 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:39:46,811 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:46,811 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '42' (Type = Int64, IsNullable = false)

2018-06-08 16:39:46,811 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:39:46 +08:00

2018-06-08 16:39:46,813 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-06-08 16:39:46,813 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:39:46,813 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:39:46 +08:00

2018-06-08 16:40:06,271 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:40:06 +08:00

2018-06-08 16:40:06,271 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Admins] AS [Extent1]
        WHERE 0 = [Extent1].[IsDeleted]
    )  AS [GroupBy1]
2018-06-08 16:40:06,271 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:40:06,271 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:40:06 +08:00

2018-06-08 16:40:06,272 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:40:06,273 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:40:06,273 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:40:06 +08:00

2018-06-08 16:40:06,273 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:40:06 +08:00

2018-06-08 16:40:06,273 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Filter1].[Id] AS [Id], 
    [Filter1].[Mobile] AS [Mobile], 
    [Filter1].[Description] AS [Description], 
    [Filter1].[Salt] AS [Salt], 
    [Filter1].[Password] AS [Password], 
    [Filter1].[IsEnabled] AS [IsEnabled], 
    [Filter1].[CreateTime] AS [CreateTime], 
    [Filter1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Extent1].[Id] AS [Id], [Extent1].[Mobile] AS [Mobile], [Extent1].[Description] AS [Description], [Extent1].[Salt] AS [Salt], [Extent1].[Password] AS [Password], [Extent1].[IsEnabled] AS [IsEnabled], [Extent1].[CreateTime] AS [CreateTime], [Extent1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Extent1].[CreateTime] DESC) AS [row_number]
        FROM [dbo].[T_Admins] AS [Extent1]
        WHERE 0 = [Extent1].[IsDeleted]
    )  AS [Filter1]
    WHERE [Filter1].[row_number] > 0
    ORDER BY [Filter1].[CreateTime] DESC
2018-06-08 16:40:06,273 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:40:06,273 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:40:06 +08:00

2018-06-08 16:40:06,275 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-06-08 16:40:06,275 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:40:06,276 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:40:06 +08:00

2018-06-08 16:40:06,276 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:40:06 +08:00

2018-06-08 16:40:06,276 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[PermissionTypeId] AS [PermissionTypeId], 
    [Extent2].[CreateTime] AS [CreateTime], 
    [Extent2].[IsDeleted] AS [IsDeleted]
    FROM  [dbo].[T_AdminPermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[AdminId] = [Extent2].[Id]
    WHERE [Extent1].[PermissionId] = @EntityKeyValue1
2018-06-08 16:40:06,276 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:40:06,276 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '22' (Type = Int64, IsNullable = false)

2018-06-08 16:40:06,276 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:40:06 +08:00

2018-06-08 16:40:06,278 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:40:06,278 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:40:06,278 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:40:06 +08:00

2018-06-08 16:40:06,278 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:40:06 +08:00

2018-06-08 16:40:06,278 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[PermissionTypeId] AS [PermissionTypeId], 
    [Extent2].[CreateTime] AS [CreateTime], 
    [Extent2].[IsDeleted] AS [IsDeleted]
    FROM  [dbo].[T_AdminPermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[AdminId] = [Extent2].[Id]
    WHERE [Extent1].[PermissionId] = @EntityKeyValue1
2018-06-08 16:40:06,278 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:40:06,278 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '5' (Type = Int64, IsNullable = false)

2018-06-08 16:40:06,278 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:40:06 +08:00

2018-06-08 16:40:06,280 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:40:06,280 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:40:06,280 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:40:06 +08:00

2018-06-08 16:40:06,280 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:40:06 +08:00

2018-06-08 16:40:06,280 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[PermissionTypeId] AS [PermissionTypeId], 
    [Extent2].[CreateTime] AS [CreateTime], 
    [Extent2].[IsDeleted] AS [IsDeleted]
    FROM  [dbo].[T_AdminPermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[AdminId] = [Extent2].[Id]
    WHERE [Extent1].[PermissionId] = @EntityKeyValue1
2018-06-08 16:40:06,280 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:40:06,280 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '4' (Type = Int64, IsNullable = false)

2018-06-08 16:40:06,280 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:40:06 +08:00

2018-06-08 16:40:06,282 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-06-08 16:40:06,282 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:40:06,283 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:40:06 +08:00

2018-06-08 16:40:06,283 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:40:06 +08:00

2018-06-08 16:40:06,284 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PermissionTypes] AS [Extent1]
    WHERE 0 = [Extent1].[IsDeleted]
2018-06-08 16:40:06,284 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:40:06,284 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:40:06 +08:00

2018-06-08 16:40:06,286 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-06-08 16:40:06,286 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:40:06,286 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:40:06 +08:00

2018-06-08 16:40:06,287 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:40:06 +08:00

2018-06-08 16:40:06,287 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PermissionTypeId] AS [PermissionTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_Permissions] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PermissionTypeId] = @p__linq__0)
2018-06-08 16:40:06,287 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:40:06,287 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2018-06-08 16:40:06,287 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:40:06 +08:00

2018-06-08 16:40:06,289 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:40:06,289 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:40:06,289 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:40:06 +08:00

2018-06-08 16:40:06,289 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:40:06 +08:00

2018-06-08 16:40:06,289 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PermissionTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:40:06,289 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:40:06,289 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-06-08 16:40:06,289 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:40:06 +08:00

2018-06-08 16:40:06,291 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:40:06,291 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:40:06,291 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:40:06 +08:00

2018-06-08 16:40:06,291 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:40:06 +08:00

2018-06-08 16:40:06,292 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PermissionTypeId] AS [PermissionTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_Permissions] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PermissionTypeId] = @p__linq__0)
2018-06-08 16:40:06,292 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:40:06,292 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64, IsNullable = false)

2018-06-08 16:40:06,292 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:40:06 +08:00

2018-06-08 16:40:06,293 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:40:06,293 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:40:06,294 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:40:06 +08:00

2018-06-08 16:40:06,294 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:40:06 +08:00

2018-06-08 16:40:06,294 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PermissionTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-06-08 16:40:06,294 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:40:06,294 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-06-08 16:40:06,294 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/6/8 16:40:06 +08:00

2018-06-08 16:40:06,295 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:40:06,295 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:40:06,296 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:40:06 +08:00

2018-06-08 16:40:06,296 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/6/8 16:40:06 +08:00

2018-06-08 16:40:06,296 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PermissionTypeId] AS [PermissionTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_Permissions] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PermissionTypeId] = @p__linq__0)
2018-06-08 16:40:06,296 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:40:06,296 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '3' (Type = Int64, IsNullable = false)

2018-06-08 16:40:06,296 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/6/8 16:40:06 +08:00

2018-06-08 16:40:06,298 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-06-08 16:40:06,298 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-06-08 16:40:06,299 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/6/8 16:40:06 +08:00

2018-06-08 16:40:06,299 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/6/8 16:40:06 +08:00

2018-06-08 16:40:06,299 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PermissionTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
