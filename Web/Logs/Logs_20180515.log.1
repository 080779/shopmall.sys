2018-05-15 15:06:32,648 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:06:32,663 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-15 15:06:32,663 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:06:32 +08:00

2018-05-15 15:06:32,679 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 21 ms with result: SqlDataReader

2018-05-15 15:06:32,679 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:06:32,679 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:06:32 +08:00

2018-05-15 15:06:32,679 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:06:32 +08:00

2018-05-15 15:06:32,679 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 15:06:32,679 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:06:32,679 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '4' (Type = Int64, IsNullable = false)

2018-05-15 15:06:32,679 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:06:32 +08:00

2018-05-15 15:06:32,695 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 9 ms with result: SqlDataReader

2018-05-15 15:06:32,695 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:06:32,695 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:06:32 +08:00

2018-05-15 15:06:32,695 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:06:32 +08:00

2018-05-15 15:06:32,695 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 15:06:32,695 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:06:32,695 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-15 15:06:32,695 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:06:32 +08:00

2018-05-15 15:06:32,695 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2018-05-15 15:06:32,695 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:06:32,695 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:06:32 +08:00

2018-05-15 15:06:35,490 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:06:35 +08:00

2018-05-15 15:06:35,490 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-05-15 15:06:35,491 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:06:35,491 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = String, Size = 4000)

2018-05-15 15:06:35,491 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:06:35 +08:00

2018-05-15 15:06:35,542 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 51 ms with result: SqlDataReader

2018-05-15 15:06:35,542 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:06:35,542 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:06:35 +08:00

2018-05-15 15:07:16,500 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:07:16 +08:00

2018-05-15 15:07:16,500 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (([Extent1].[Description] = @p__linq__0) OR (([Extent1].[Description] IS NULL) AND (@p__linq__0 IS NULL)))
2018-05-15 15:07:16,500 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:07:16,500 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '消费' (Type = String, Size = 4000)

2018-05-15 15:07:16,500 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:07:16 +08:00

2018-05-15 15:07:16,508 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 7 ms with result: SqlDataReader

2018-05-15 15:07:16,508 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:07:16,508 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:07:16 +08:00

2018-05-15 15:07:16,509 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:07:16 +08:00

2018-05-15 15:07:16,509 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-15 15:07:16,509 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:07:16,509 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:07:16 +08:00

2018-05-15 15:07:16,510 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 15:07:16,510 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:07:16,511 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:07:16 +08:00

2018-05-15 15:07:16,511 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:07:16 +08:00

2018-05-15 15:07:16,511 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-15 15:07:16,511 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:07:16,511 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:07:16 +08:00

2018-05-15 15:07:16,513 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-15 15:07:16,514 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:07:16,514 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:07:16 +08:00

2018-05-15 15:07:16,514 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:07:16 +08:00

2018-05-15 15:07:16,514 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1)
    )  AS [GroupBy1]
2018-05-15 15:07:16,515 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:07:16,515 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-15 15:07:16,515 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '4' (Type = Int64)

2018-05-15 15:07:16,515 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:07:16 +08:00

2018-05-15 15:07:16,517 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-15 15:07:16,517 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:07:16,517 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:07:16 +08:00

2018-05-15 15:07:16,518 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:07:16 +08:00

2018-05-15 15:07:16,518 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-15 15:07:16,518 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:07:16,518 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:07:16 +08:00

2018-05-15 15:07:16,520 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 15:07:16,520 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:07:16,520 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:07:16 +08:00

2018-05-15 15:07:16,520 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:07:16 +08:00

2018-05-15 15:07:16,521 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1) AND ([Extent1].[ToIntegralTypeId] = @p__linq__2) AND ([Extent1].[PlatformUserId] = @p__linq__3)
    )  AS [GroupBy1]
2018-05-15 15:07:16,521 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:07:16,521 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-15 15:07:16,521 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '4' (Type = Int64)

2018-05-15 15:07:16,521 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2' (Type = Int64, IsNullable = false)

2018-05-15 15:07:16,521 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '1' (Type = Int64, IsNullable = false)

2018-05-15 15:07:16,521 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:07:16 +08:00

2018-05-15 15:07:16,524 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2018-05-15 15:07:16,524 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:07:16,525 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:07:16 +08:00

2018-05-15 15:07:16,525 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:07:16 +08:00

2018-05-15 15:07:16,525 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1) AND ([Extent1].[ToIntegralTypeId] = @p__linq__2) AND ([Extent1].[PlatformUserId] = @p__linq__3)
    )  AS [GroupBy1]
2018-05-15 15:07:16,525 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:07:16,525 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-15 15:07:16,525 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '4' (Type = Int64)

2018-05-15 15:07:16,525 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '3' (Type = Int64, IsNullable = false)

2018-05-15 15:07:16,525 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '1' (Type = Int64, IsNullable = false)

2018-05-15 15:07:16,525 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:07:16 +08:00

2018-05-15 15:07:16,527 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 15:07:16,527 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:07:16,527 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:07:16 +08:00

2018-05-15 15:07:16,527 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:07:16 +08:00

2018-05-15 15:07:16,527 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-15 15:07:16,528 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:07:16,528 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-15 15:07:16,528 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '4' (Type = Int64)

2018-05-15 15:07:16,528 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:07:16 +08:00

2018-05-15 15:07:16,531 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2018-05-15 15:07:16,532 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:07:16,532 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:07:16 +08:00

2018-05-15 15:07:16,532 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:07:16 +08:00

2018-05-15 15:07:16,532 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 15:07:16,532 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:07:16,532 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-15 15:07:16,532 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:07:16 +08:00

2018-05-15 15:07:16,533 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 15:07:16,533 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:07:16,534 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:07:16 +08:00

2018-05-15 15:07:16,534 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:07:16 +08:00

2018-05-15 15:07:16,534 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 15:07:16,534 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:07:16,534 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '4' (Type = Int64, IsNullable = false)

2018-05-15 15:07:16,534 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:07:16 +08:00

2018-05-15 15:07:16,535 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 15:07:16,535 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:07:16,535 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:07:16 +08:00

2018-05-15 15:07:16,536 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:07:16 +08:00

2018-05-15 15:07:16,536 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 15:07:16,536 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:07:16,536 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-15 15:07:16,536 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:07:16 +08:00

2018-05-15 15:07:16,536 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:07:16,536 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:07:16,536 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:07:16 +08:00

2018-05-15 15:07:19,839 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:07:19 +08:00

2018-05-15 15:07:19,839 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-05-15 15:07:19,839 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:07:19,839 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = String, Size = 4000)

2018-05-15 15:07:19,839 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:07:19 +08:00

2018-05-15 15:07:19,857 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 17 ms with result: SqlDataReader

2018-05-15 15:07:19,857 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:07:19,857 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:07:19 +08:00

2018-05-15 15:07:42,633 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:07:42 +08:00

2018-05-15 15:07:42,633 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2018-05-15 15:07:42,633 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:07:42,633 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64, IsNullable = false)

2018-05-15 15:07:42,633 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:07:42 +08:00

2018-05-15 15:07:42,636 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-15 15:07:42,636 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:07:42,636 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:07:42 +08:00

2018-05-15 15:07:42,636 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:07:42 +08:00

2018-05-15 15:07:42,636 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 15:07:42,636 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:07:42,636 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-15 15:07:42,636 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:07:42 +08:00

2018-05-15 15:07:42,637 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 15:07:42,637 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:07:42,638 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:07:42 +08:00

2018-05-15 15:07:42,638 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:07:42 +08:00

2018-05-15 15:07:42,638 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-15 15:07:42,638 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:07:42,638 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:07:42 +08:00

2018-05-15 15:07:42,639 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:07:42,639 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:07:42,639 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:07:42 +08:00

2018-05-15 15:07:42,639 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:07:42 +08:00

2018-05-15 15:07:42,639 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-15 15:07:42,639 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:07:42,639 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:07:42 +08:00

2018-05-15 15:07:42,639 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:07:42,639 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:07:42,640 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:07:42 +08:00

2018-05-15 15:07:42,640 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:07:42 +08:00

2018-05-15 15:07:42,640 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-15 15:07:42,640 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:07:42,640 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 15:07:42,640 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:07:42 +08:00

2018-05-15 15:07:42,642 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-15 15:07:42,642 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:07:42,643 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:07:42 +08:00

2018-05-15 15:07:42,643 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:07:42 +08:00

2018-05-15 15:07:42,643 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-15 15:07:42,643 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:07:42,643 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:07:42 +08:00

2018-05-15 15:07:42,644 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:07:42,644 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:07:42,644 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:07:42 +08:00

2018-05-15 15:07:42,644 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:07:42 +08:00

2018-05-15 15:07:42,644 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-15 15:07:42,644 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:07:42,644 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 15:07:42,644 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2' (Type = Int64, IsNullable = false)

2018-05-15 15:07:42,644 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-15 15:07:42,645 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:07:42 +08:00

2018-05-15 15:07:42,647 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-15 15:07:42,647 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:07:42,647 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:07:42 +08:00

2018-05-15 15:07:42,648 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:07:42 +08:00

2018-05-15 15:07:42,648 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-15 15:07:42,648 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:07:42,648 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 15:07:42,648 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '3' (Type = Int64, IsNullable = false)

2018-05-15 15:07:42,648 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-15 15:07:42,648 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:07:42 +08:00

2018-05-15 15:07:42,649 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:07:42,649 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:07:42,649 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:07:42 +08:00

2018-05-15 15:07:42,649 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:07:42 +08:00

2018-05-15 15:07:42,649 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-15 15:07:42,649 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:07:42,649 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 15:07:42,649 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:07:42 +08:00

2018-05-15 15:07:42,652 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-15 15:07:42,652 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:07:42,653 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:07:42 +08:00

2018-05-15 15:07:42,653 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:07:42 +08:00

2018-05-15 15:07:42,653 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 15:07:42,653 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:07:42,653 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 15:07:42,653 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:07:42 +08:00

2018-05-15 15:07:42,653 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:07:42,653 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:07:42,653 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:07:42 +08:00

2018-05-15 15:07:42,653 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:07:42 +08:00

2018-05-15 15:07:42,653 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 15:07:42,654 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:07:42,654 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-15 15:07:42,654 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:07:42 +08:00

2018-05-15 15:07:42,654 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:07:42,654 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:07:42,654 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:07:42 +08:00

2018-05-15 15:07:42,654 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:07:42 +08:00

2018-05-15 15:07:42,654 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 15:07:42,654 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:07:42,654 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 15:07:42,654 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:07:42 +08:00

2018-05-15 15:07:42,655 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:07:42,655 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:07:42,655 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:07:42 +08:00

2018-05-15 15:07:42,655 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:07:42 +08:00

2018-05-15 15:07:42,655 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 15:07:42,655 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:07:42,655 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-15 15:07:42,655 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:07:42 +08:00

2018-05-15 15:07:42,656 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:07:42,656 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:07:42,656 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:07:42 +08:00

2018-05-15 15:07:42,656 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:07:42 +08:00

2018-05-15 15:07:42,656 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 15:07:42,656 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:07:42,656 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '6' (Type = Int64, IsNullable = false)

2018-05-15 15:07:42,656 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:07:42 +08:00

2018-05-15 15:07:42,656 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:07:42,656 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:07:42,656 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:07:42 +08:00

2018-05-15 15:07:44,558 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:07:44 +08:00

2018-05-15 15:07:44,558 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (([Extent1].[Description] = @p__linq__0) OR (([Extent1].[Description] IS NULL) AND (@p__linq__0 IS NULL)))
2018-05-15 15:07:44,558 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:07:44,558 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '消费' (Type = String, Size = 4000)

2018-05-15 15:07:44,558 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:07:44 +08:00

2018-05-15 15:07:44,570 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 11 ms with result: SqlDataReader

2018-05-15 15:07:44,570 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:07:44,570 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:07:44 +08:00

2018-05-15 15:07:44,571 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:07:44 +08:00

2018-05-15 15:07:44,571 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-15 15:07:44,571 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:07:44,571 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:07:44 +08:00

2018-05-15 15:07:44,572 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:07:44,572 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:07:44,572 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:07:44 +08:00

2018-05-15 15:07:44,572 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:07:44 +08:00

2018-05-15 15:07:44,572 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-15 15:07:44,572 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:07:44,572 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:07:44 +08:00

2018-05-15 15:07:44,573 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:07:44,573 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:07:44,573 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:07:44 +08:00

2018-05-15 15:07:44,573 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:07:44 +08:00

2018-05-15 15:07:44,573 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1)
    )  AS [GroupBy1]
2018-05-15 15:07:44,573 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:07:44,573 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-15 15:07:44,573 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '4' (Type = Int64)

2018-05-15 15:07:44,573 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:07:44 +08:00

2018-05-15 15:07:44,574 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:07:44,574 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:07:44,574 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:07:44 +08:00

2018-05-15 15:07:44,574 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:07:44 +08:00

2018-05-15 15:07:44,574 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-15 15:07:44,574 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:07:44,574 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:07:44 +08:00

2018-05-15 15:07:44,575 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:07:44,575 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:07:44,575 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:07:44 +08:00

2018-05-15 15:07:44,575 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:07:44 +08:00

2018-05-15 15:07:44,576 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1) AND ([Extent1].[ToIntegralTypeId] = @p__linq__2) AND ([Extent1].[PlatformUserId] = @p__linq__3)
    )  AS [GroupBy1]
2018-05-15 15:07:44,576 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:07:44,576 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-15 15:07:44,576 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '4' (Type = Int64)

2018-05-15 15:07:44,576 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2' (Type = Int64, IsNullable = false)

2018-05-15 15:07:44,576 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '1' (Type = Int64, IsNullable = false)

2018-05-15 15:07:44,576 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:07:44 +08:00

2018-05-15 15:07:44,577 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 15:07:44,577 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:07:44,578 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:07:44 +08:00

2018-05-15 15:07:44,578 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:07:44 +08:00

2018-05-15 15:07:44,578 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1) AND ([Extent1].[ToIntegralTypeId] = @p__linq__2) AND ([Extent1].[PlatformUserId] = @p__linq__3)
    )  AS [GroupBy1]
2018-05-15 15:07:44,578 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:07:44,578 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-15 15:07:44,578 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '4' (Type = Int64)

2018-05-15 15:07:44,578 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '3' (Type = Int64, IsNullable = false)

2018-05-15 15:07:44,578 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '1' (Type = Int64, IsNullable = false)

2018-05-15 15:07:44,578 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:07:44 +08:00

2018-05-15 15:07:44,579 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:07:44,579 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:07:44,579 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:07:44 +08:00

2018-05-15 15:07:44,580 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:07:44 +08:00

2018-05-15 15:07:44,580 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-15 15:07:44,580 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:07:44,580 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-15 15:07:44,580 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '4' (Type = Int64)

2018-05-15 15:07:44,580 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:07:44 +08:00

2018-05-15 15:07:44,581 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:07:44,581 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:07:44,581 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:07:44 +08:00

2018-05-15 15:07:44,581 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:07:44 +08:00

2018-05-15 15:07:44,582 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 15:07:44,582 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:07:44,582 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-15 15:07:44,582 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:07:44 +08:00

2018-05-15 15:07:44,582 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:07:44,582 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:07:44,582 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:07:44 +08:00

2018-05-15 15:07:44,582 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:07:44 +08:00

2018-05-15 15:07:44,582 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 15:07:44,583 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:07:44,583 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '4' (Type = Int64, IsNullable = false)

2018-05-15 15:07:44,583 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:07:44 +08:00

2018-05-15 15:07:44,583 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:07:44,583 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:07:44,583 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:07:44 +08:00

2018-05-15 15:07:44,583 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:07:44 +08:00

2018-05-15 15:07:44,583 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 15:07:44,583 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:07:44,583 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-15 15:07:44,583 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:07:44 +08:00

2018-05-15 15:07:44,584 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:07:44,584 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:07:44,584 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:07:44 +08:00

2018-05-15 15:07:47,706 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:07:47 +08:00

2018-05-15 15:07:47,706 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-05-15 15:07:47,707 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:07:47,707 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = String, Size = 4000)

2018-05-15 15:07:47,707 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:07:47 +08:00

2018-05-15 15:07:47,707 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:07:47,707 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:07:47,708 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:07:47 +08:00

2018-05-15 15:09:36,776 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:09:36 +08:00

2018-05-15 15:09:36,777 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2018-05-15 15:09:36,777 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:09:36,777 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64, IsNullable = false)

2018-05-15 15:09:36,777 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:09:36 +08:00

2018-05-15 15:09:36,788 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 10 ms with result: SqlDataReader

2018-05-15 15:09:36,788 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:09:36,788 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:09:36 +08:00

2018-05-15 15:09:36,788 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:09:36 +08:00

2018-05-15 15:09:36,789 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 15:09:36,789 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:09:36,789 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-15 15:09:36,789 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:09:36 +08:00

2018-05-15 15:09:36,790 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 15:09:36,790 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:09:36,790 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:09:36 +08:00

2018-05-15 15:09:36,791 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:09:36 +08:00

2018-05-15 15:09:36,791 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-15 15:09:36,791 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:09:36,791 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:09:36 +08:00

2018-05-15 15:09:36,792 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 15:09:36,792 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:09:36,792 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:09:36 +08:00

2018-05-15 15:09:36,792 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:09:36 +08:00

2018-05-15 15:09:36,793 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-15 15:09:36,793 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:09:36,793 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:09:36 +08:00

2018-05-15 15:09:36,794 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:09:36,794 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:09:36,794 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:09:36 +08:00

2018-05-15 15:09:36,794 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:09:36 +08:00

2018-05-15 15:09:36,794 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-15 15:09:36,794 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:09:36,794 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 15:09:36,794 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:09:36 +08:00

2018-05-15 15:09:36,796 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-15 15:09:36,796 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:09:36,797 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:09:36 +08:00

2018-05-15 15:09:36,797 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:09:36 +08:00

2018-05-15 15:09:36,797 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-15 15:09:36,797 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:09:36,797 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:09:36 +08:00

2018-05-15 15:09:36,798 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 15:09:36,798 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:09:36,799 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:09:36 +08:00

2018-05-15 15:09:36,799 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:09:36 +08:00

2018-05-15 15:09:36,799 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-15 15:09:36,799 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:09:36,799 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 15:09:36,799 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2' (Type = Int64, IsNullable = false)

2018-05-15 15:09:36,799 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-15 15:09:36,799 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:09:36 +08:00

2018-05-15 15:09:36,801 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 15:09:36,801 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:09:36,801 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:09:36 +08:00

2018-05-15 15:09:36,802 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:09:36 +08:00

2018-05-15 15:09:36,802 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-15 15:09:36,802 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:09:36,802 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 15:09:36,802 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '3' (Type = Int64, IsNullable = false)

2018-05-15 15:09:36,802 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-15 15:09:36,802 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:09:36 +08:00

2018-05-15 15:09:36,802 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:09:36,803 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:09:36,803 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:09:36 +08:00

2018-05-15 15:09:36,803 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:09:36 +08:00

2018-05-15 15:09:36,803 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-15 15:09:36,803 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:09:36,803 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 15:09:36,803 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:09:36 +08:00

2018-05-15 15:09:36,806 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-15 15:09:36,806 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:09:36,806 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:09:36 +08:00

2018-05-15 15:09:36,807 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:09:36 +08:00

2018-05-15 15:09:36,807 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 15:09:36,807 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:09:36,807 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 15:09:36,807 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:09:36 +08:00

2018-05-15 15:09:36,808 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:09:36,808 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:09:36,808 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:09:36 +08:00

2018-05-15 15:09:36,808 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:09:36 +08:00

2018-05-15 15:09:36,808 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 15:09:36,808 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:09:36,808 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-15 15:09:36,808 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:09:36 +08:00

2018-05-15 15:09:36,809 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:09:36,809 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:09:36,809 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:09:36 +08:00

2018-05-15 15:09:36,809 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:09:36 +08:00

2018-05-15 15:09:36,809 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 15:09:36,809 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:09:36,809 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 15:09:36,810 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:09:36 +08:00

2018-05-15 15:09:36,810 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:09:36,810 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:09:36,810 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:09:36 +08:00

2018-05-15 15:09:36,810 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:09:36 +08:00

2018-05-15 15:09:36,811 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 15:09:36,811 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:09:36,811 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-15 15:09:36,811 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:09:36 +08:00

2018-05-15 15:09:36,812 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 15:09:36,812 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:09:36,812 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:09:36 +08:00

2018-05-15 15:09:36,813 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:09:36 +08:00

2018-05-15 15:09:36,813 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 15:09:36,813 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:09:36,813 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '6' (Type = Int64, IsNullable = false)

2018-05-15 15:09:36,813 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:09:36 +08:00

2018-05-15 15:09:36,813 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:09:36,813 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:09:36,813 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:09:36 +08:00

2018-05-15 15:09:39,064 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:09:39 +08:00

2018-05-15 15:09:39,064 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (([Extent1].[Description] = @p__linq__0) OR (([Extent1].[Description] IS NULL) AND (@p__linq__0 IS NULL)))
2018-05-15 15:09:39,064 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:09:39,064 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '消费' (Type = String, Size = 4000)

2018-05-15 15:09:39,064 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:09:39 +08:00

2018-05-15 15:09:39,106 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 41 ms with result: SqlDataReader

2018-05-15 15:09:39,106 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:09:39,106 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:09:39 +08:00

2018-05-15 15:09:39,107 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:09:39 +08:00

2018-05-15 15:09:39,107 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-15 15:09:39,107 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:09:39,107 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:09:39 +08:00

2018-05-15 15:09:39,108 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:09:39,108 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:09:39,108 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:09:39 +08:00

2018-05-15 15:09:39,108 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:09:39 +08:00

2018-05-15 15:09:39,108 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-15 15:09:39,108 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:09:39,108 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:09:39 +08:00

2018-05-15 15:09:39,109 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:09:39,109 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:09:39,109 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:09:39 +08:00

2018-05-15 15:09:39,109 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:09:39 +08:00

2018-05-15 15:09:39,109 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1)
    )  AS [GroupBy1]
2018-05-15 15:09:39,109 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:09:39,109 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-15 15:09:39,109 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '4' (Type = Int64)

2018-05-15 15:09:39,109 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:09:39 +08:00

2018-05-15 15:09:39,115 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 5 ms with result: SqlDataReader

2018-05-15 15:09:39,115 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:09:39,115 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:09:39 +08:00

2018-05-15 15:09:39,116 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:09:39 +08:00

2018-05-15 15:09:39,116 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-15 15:09:39,116 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:09:39,116 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:09:39 +08:00

2018-05-15 15:09:39,117 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:09:39,117 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:09:39,117 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:09:39 +08:00

2018-05-15 15:09:39,117 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:09:39 +08:00

2018-05-15 15:09:39,118 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1) AND ([Extent1].[ToIntegralTypeId] = @p__linq__2) AND ([Extent1].[PlatformUserId] = @p__linq__3)
    )  AS [GroupBy1]
2018-05-15 15:09:39,118 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:09:39,118 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-15 15:09:39,118 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '4' (Type = Int64)

2018-05-15 15:09:39,118 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2' (Type = Int64, IsNullable = false)

2018-05-15 15:09:39,118 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '1' (Type = Int64, IsNullable = false)

2018-05-15 15:09:39,118 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:09:39 +08:00

2018-05-15 15:09:39,120 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-15 15:09:39,121 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:09:39,121 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:09:39 +08:00

2018-05-15 15:09:39,121 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:09:39 +08:00

2018-05-15 15:09:39,121 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1) AND ([Extent1].[ToIntegralTypeId] = @p__linq__2) AND ([Extent1].[PlatformUserId] = @p__linq__3)
    )  AS [GroupBy1]
2018-05-15 15:09:39,121 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:09:39,121 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-15 15:09:39,121 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '4' (Type = Int64)

2018-05-15 15:09:39,121 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '3' (Type = Int64, IsNullable = false)

2018-05-15 15:09:39,121 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '1' (Type = Int64, IsNullable = false)

2018-05-15 15:09:39,122 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:09:39 +08:00

2018-05-15 15:09:39,122 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:09:39,122 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:09:39,122 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:09:39 +08:00

2018-05-15 15:09:39,122 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:09:39 +08:00

2018-05-15 15:09:39,123 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-15 15:09:39,123 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:09:39,123 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-15 15:09:39,123 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '4' (Type = Int64)

2018-05-15 15:09:39,123 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:09:39 +08:00

2018-05-15 15:09:39,126 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-15 15:09:39,126 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:09:39,126 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:09:39 +08:00

2018-05-15 15:09:39,126 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:09:39 +08:00

2018-05-15 15:09:39,126 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 15:09:39,126 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:09:39,126 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-15 15:09:39,126 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:09:39 +08:00

2018-05-15 15:09:39,127 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:09:39,127 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:09:39,127 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:09:39 +08:00

2018-05-15 15:09:39,127 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:09:39 +08:00

2018-05-15 15:09:39,127 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 15:09:39,127 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:09:39,127 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '4' (Type = Int64, IsNullable = false)

2018-05-15 15:09:39,127 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:09:39 +08:00

2018-05-15 15:09:39,127 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:09:39,127 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:09:39,127 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:09:39 +08:00

2018-05-15 15:09:39,127 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:09:39 +08:00

2018-05-15 15:09:39,127 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 15:09:39,127 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:09:39,127 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-15 15:09:39,128 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:09:39 +08:00

2018-05-15 15:09:39,129 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 15:09:39,129 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:09:39,129 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:09:39 +08:00

2018-05-15 15:09:41,595 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:09:41 +08:00

2018-05-15 15:09:41,595 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-05-15 15:09:41,595 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:09:41,595 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = String, Size = 4000)

2018-05-15 15:09:41,595 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:09:41 +08:00

2018-05-15 15:09:41,625 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 29 ms with result: SqlDataReader

2018-05-15 15:09:41,625 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:09:41,625 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:09:41 +08:00

2018-05-15 15:11:18,517 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:11:18 +08:00

2018-05-15 15:11:18,532 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：
SELECT Count(*)
FROM INFORMATION_SCHEMA.TABLES AS t
WHERE t.TABLE_SCHEMA + '.' + t.TABLE_NAME IN ('dbo.T_AdminLogs','dbo.T_Admins','dbo.T_Permissions','dbo.T_PermissionTypes','dbo.T_IntegralTypes','dbo.T_Journals','dbo.T_PlatformUsers','dbo.T_PlatformUserTypes','dbo.T_JournalTypes','dbo.T_NavBars','dbo.T_Settings','dbo.T_SettingTypes','dbo.T_States','dbo.T_TakeCashes','dbo.T_AdminPermissions')
    OR t.TABLE_NAME = 'EdmMetadata'
2018-05-15 15:11:18,532 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:11:18,532 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:11:18 +08:00

2018-05-15 15:11:18,548 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 16 ms with result: 15

2018-05-15 15:11:18,548 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:11:18,548 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:11:18 +08:00

2018-05-15 15:11:18,782 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:11:18 +08:00

2018-05-15 15:11:19,820 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[__MigrationHistory] AS [Extent1]
        WHERE [Extent1].[ContextKey] = @p__linq__0
    )  AS [GroupBy1]
2018-05-15 15:11:19,820 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:11:19,821 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'IMS.Service.MyDbContext' (Type = String, Size = 4000)

2018-05-15 15:11:19,821 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:11:19 +08:00

2018-05-15 15:11:19,847 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Failed in 25 ms with error: 对象名 'dbo.__MigrationHistory' 无效。

2018-05-15 15:11:19,847 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:11:19,849 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:11:19 +08:00

2018-05-15 15:11:19,850 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:11:19 +08:00

2018-05-15 15:11:19,851 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[__MigrationHistory] AS [Extent1]
    )  AS [GroupBy1]
2018-05-15 15:11:19,852 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:11:19,852 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:11:19 +08:00

2018-05-15 15:11:19,854 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Failed in 2 ms with error: 对象名 'dbo.__MigrationHistory' 无效。

2018-05-15 15:11:19,854 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:11:19,854 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:11:19 +08:00

2018-05-15 15:11:20,011 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:11:20 +08:00

2018-05-15 15:11:20,140 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-05-15 15:11:20,140 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:11:20,140 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '15615615616' (Type = String, Size = 4000)

2018-05-15 15:11:20,140 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:11:20 +08:00

2018-05-15 15:11:20,156 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 12 ms with result: SqlDataReader

2018-05-15 15:11:20,156 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:11:20,218 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:11:20 +08:00

2018-05-15 15:11:20,234 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:11:20 +08:00

2018-05-15 15:11:20,281 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 15:11:20,281 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:11:20,281 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-15 15:11:20,281 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:11:20 +08:00

2018-05-15 15:11:20,312 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 20 ms with result: SqlDataReader

2018-05-15 15:11:20,312 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:11:20,328 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:11:20 +08:00

2018-05-15 15:11:20,580 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:11:20 +08:00

2018-05-15 15:11:20,582 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2018-05-15 15:11:20,582 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:11:20,582 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64, IsNullable = false)

2018-05-15 15:11:20,582 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:11:20 +08:00

2018-05-15 15:11:20,586 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2018-05-15 15:11:20,586 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:11:20,586 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:11:20 +08:00

2018-05-15 15:11:20,588 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:11:20 +08:00

2018-05-15 15:11:20,588 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 15:11:20,588 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:11:20,588 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-15 15:11:20,588 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:11:20 +08:00

2018-05-15 15:11:20,589 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:11:20,589 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:11:20,589 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:11:20 +08:00

2018-05-15 15:11:20,597 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:11:20 +08:00

2018-05-15 15:11:20,604 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-15 15:11:20,604 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:11:20,604 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:11:20 +08:00

2018-05-15 15:11:20,607 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-15 15:11:20,607 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:11:20,608 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:11:20 +08:00

2018-05-15 15:11:20,609 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:11:20 +08:00

2018-05-15 15:11:20,609 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-15 15:11:20,609 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:11:20,609 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:11:20 +08:00

2018-05-15 15:11:20,626 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 16 ms with result: SqlDataReader

2018-05-15 15:11:20,626 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:11:20,626 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:11:20 +08:00

2018-05-15 15:11:20,639 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:11:20 +08:00

2018-05-15 15:11:20,669 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-15 15:11:20,669 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:11:20,669 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 15:11:20,669 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:11:20 +08:00

2018-05-15 15:11:20,680 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 10 ms with result: SqlDataReader

2018-05-15 15:11:20,680 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:11:20,687 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:11:20 +08:00

2018-05-15 15:11:20,688 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:11:20 +08:00

2018-05-15 15:11:20,689 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-15 15:11:20,689 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:11:20,689 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:11:20 +08:00

2018-05-15 15:11:20,690 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 15:11:20,690 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:11:20,691 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:11:20 +08:00

2018-05-15 15:11:20,705 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:11:20 +08:00

2018-05-15 15:11:20,720 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-15 15:11:20,720 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:11:20,720 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 15:11:20,720 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2' (Type = Int64, IsNullable = false)

2018-05-15 15:11:20,720 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-15 15:11:20,720 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:11:20 +08:00

2018-05-15 15:11:20,725 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 5 ms with result: SqlDataReader

2018-05-15 15:11:20,725 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:11:20,733 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:11:20 +08:00

2018-05-15 15:11:20,734 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:11:20 +08:00

2018-05-15 15:11:20,734 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-15 15:11:20,734 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:11:20,735 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 15:11:20,735 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '3' (Type = Int64, IsNullable = false)

2018-05-15 15:11:20,735 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-15 15:11:20,735 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:11:20 +08:00

2018-05-15 15:11:20,735 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:11:20,735 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:11:20,735 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:11:20 +08:00

2018-05-15 15:11:20,742 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:11:20 +08:00

2018-05-15 15:11:20,777 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-15 15:11:20,777 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:11:20,777 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 15:11:20,777 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:11:20 +08:00

2018-05-15 15:11:20,781 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 4 ms with result: SqlDataReader

2018-05-15 15:11:20,782 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:11:20,791 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:11:20 +08:00

2018-05-15 15:11:20,794 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:11:20 +08:00

2018-05-15 15:11:20,802 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 15:11:20,803 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:11:20,803 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 15:11:20,803 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:11:20 +08:00

2018-05-15 15:11:20,804 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 15:11:20,804 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:11:20,808 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:11:20 +08:00

2018-05-15 15:11:20,809 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:11:20 +08:00

2018-05-15 15:11:20,810 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 15:11:20,810 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:11:20,810 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-15 15:11:20,810 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:11:20 +08:00

2018-05-15 15:11:20,812 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 15:11:20,812 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:11:20,812 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:11:20 +08:00

2018-05-15 15:11:20,813 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:11:20 +08:00

2018-05-15 15:11:20,813 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 15:11:20,813 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:11:20,813 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 15:11:20,813 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:11:20 +08:00

2018-05-15 15:11:20,814 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:11:20,815 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:11:20,816 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:11:20 +08:00

2018-05-15 15:11:20,816 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:11:20 +08:00

2018-05-15 15:11:20,817 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 15:11:20,817 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:11:20,817 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-15 15:11:20,817 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:11:20 +08:00

2018-05-15 15:11:20,817 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:11:20,817 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:11:20,817 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:11:20 +08:00

2018-05-15 15:11:20,818 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:11:20 +08:00

2018-05-15 15:11:20,818 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 15:11:20,818 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:11:20,818 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '6' (Type = Int64, IsNullable = false)

2018-05-15 15:11:20,818 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:11:20 +08:00

2018-05-15 15:11:20,818 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:11:20,818 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:11:20,818 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:11:20 +08:00

2018-05-15 15:11:23,739 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:11:23 +08:00

2018-05-15 15:11:23,745 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (([Extent1].[Description] = @p__linq__0) OR (([Extent1].[Description] IS NULL) AND (@p__linq__0 IS NULL)))
2018-05-15 15:11:23,745 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:11:23,745 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '消费' (Type = String, Size = 4000)

2018-05-15 15:11:23,745 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:11:23 +08:00

2018-05-15 15:11:23,745 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 15:11:23,745 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:11:23,745 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:11:23 +08:00

2018-05-15 15:11:23,745 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:11:23 +08:00

2018-05-15 15:11:23,745 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-15 15:11:23,745 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:11:23,745 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:11:23 +08:00

2018-05-15 15:11:23,745 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:11:23,745 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:11:23,745 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:11:23 +08:00

2018-05-15 15:11:23,745 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:11:23 +08:00

2018-05-15 15:11:23,745 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-15 15:11:23,745 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:11:23,745 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:11:23 +08:00

2018-05-15 15:11:23,745 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:11:23,745 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:11:23,745 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:11:23 +08:00

2018-05-15 15:11:23,745 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:11:23 +08:00

2018-05-15 15:11:23,745 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1)
    )  AS [GroupBy1]
2018-05-15 15:11:23,745 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:11:23,745 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-15 15:11:23,745 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '4' (Type = Int64)

2018-05-15 15:11:23,745 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:11:23 +08:00

2018-05-15 15:11:23,745 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-15 15:11:23,745 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:11:23,745 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:11:23 +08:00

2018-05-15 15:11:23,745 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:11:23 +08:00

2018-05-15 15:11:23,745 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-15 15:11:23,745 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:11:23,745 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:11:23 +08:00

2018-05-15 15:11:23,745 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:11:23,745 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:11:23,745 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:11:23 +08:00

2018-05-15 15:11:23,745 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:11:23 +08:00

2018-05-15 15:11:23,745 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1) AND ([Extent1].[ToIntegralTypeId] = @p__linq__2) AND ([Extent1].[PlatformUserId] = @p__linq__3)
    )  AS [GroupBy1]
2018-05-15 15:11:23,745 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:11:23,745 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-15 15:11:23,745 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '4' (Type = Int64)

2018-05-15 15:11:23,745 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2' (Type = Int64, IsNullable = false)

2018-05-15 15:11:23,745 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '1' (Type = Int64, IsNullable = false)

2018-05-15 15:11:23,745 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:11:23 +08:00

2018-05-15 15:11:23,760 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-15 15:11:23,760 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:11:23,760 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:11:23 +08:00

2018-05-15 15:11:23,760 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:11:23 +08:00

2018-05-15 15:11:23,760 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1) AND ([Extent1].[ToIntegralTypeId] = @p__linq__2) AND ([Extent1].[PlatformUserId] = @p__linq__3)
    )  AS [GroupBy1]
2018-05-15 15:11:23,760 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:11:23,760 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-15 15:11:23,760 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '4' (Type = Int64)

2018-05-15 15:11:23,760 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '3' (Type = Int64, IsNullable = false)

2018-05-15 15:11:23,760 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '1' (Type = Int64, IsNullable = false)

2018-05-15 15:11:23,760 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:11:23 +08:00

2018-05-15 15:11:23,760 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:11:23,760 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:11:23,760 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:11:23 +08:00

2018-05-15 15:11:23,760 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:11:23 +08:00

2018-05-15 15:11:23,760 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-15 15:11:23,760 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:11:23,760 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-15 15:11:23,760 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '4' (Type = Int64)

2018-05-15 15:11:23,760 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:11:23 +08:00

2018-05-15 15:11:23,760 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-15 15:11:23,760 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:11:23,760 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:11:23 +08:00

2018-05-15 15:11:23,760 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:11:23 +08:00

2018-05-15 15:11:23,760 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 15:11:23,760 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:11:23,760 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-15 15:11:23,760 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:11:23 +08:00

2018-05-15 15:11:23,760 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:11:23,760 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:11:23,760 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:11:23 +08:00

2018-05-15 15:11:23,760 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:11:23 +08:00

2018-05-15 15:11:23,760 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 15:11:23,760 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:11:23,760 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '4' (Type = Int64, IsNullable = false)

2018-05-15 15:11:23,760 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:11:23 +08:00

2018-05-15 15:11:23,760 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:11:23,760 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:11:23,760 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:11:23 +08:00

2018-05-15 15:11:23,760 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:11:23 +08:00

2018-05-15 15:11:23,760 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 15:11:23,760 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:11:23,760 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-15 15:11:23,760 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:11:23 +08:00

2018-05-15 15:11:23,760 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:11:23,760 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:11:23,760 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:11:23 +08:00

2018-05-15 15:11:27,815 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:11:27 +08:00

2018-05-15 15:11:27,815 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-05-15 15:11:27,815 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:11:27,816 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = String, Size = 4000)

2018-05-15 15:11:27,816 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:11:27 +08:00

2018-05-15 15:11:27,818 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-15 15:11:27,818 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:11:27,818 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:11:27 +08:00

2018-05-15 15:12:04,134 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:12:04 +08:00

2018-05-15 15:12:04,134 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (([Extent1].[Description] = @p__linq__0) OR (([Extent1].[Description] IS NULL) AND (@p__linq__0 IS NULL)))
2018-05-15 15:12:04,134 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:12:04,134 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '消费' (Type = String, Size = 4000)

2018-05-15 15:12:04,134 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:12:04 +08:00

2018-05-15 15:12:04,136 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 15:12:04,136 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:12:04,137 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:12:04 +08:00

2018-05-15 15:12:04,137 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:12:04 +08:00

2018-05-15 15:12:04,137 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-15 15:12:04,137 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:12:04,138 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:12:04 +08:00

2018-05-15 15:12:04,139 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 15:12:04,139 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:12:04,139 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:12:04 +08:00

2018-05-15 15:12:04,139 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:12:04 +08:00

2018-05-15 15:12:04,140 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-15 15:12:04,140 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:12:04,140 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:12:04 +08:00

2018-05-15 15:12:04,141 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 15:12:04,141 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:12:04,141 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:12:04 +08:00

2018-05-15 15:12:04,141 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:12:04 +08:00

2018-05-15 15:12:04,142 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1)
    )  AS [GroupBy1]
2018-05-15 15:12:04,142 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:12:04,142 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-15 15:12:04,142 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '4' (Type = Int64)

2018-05-15 15:12:04,142 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:12:04 +08:00

2018-05-15 15:12:04,148 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 5 ms with result: SqlDataReader

2018-05-15 15:12:04,148 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:12:04,148 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:12:04 +08:00

2018-05-15 15:12:04,148 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:12:04 +08:00

2018-05-15 15:12:04,148 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-15 15:12:04,148 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:12:04,148 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:12:04 +08:00

2018-05-15 15:12:04,150 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 15:12:04,150 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:12:04,151 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:12:04 +08:00

2018-05-15 15:12:04,151 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:12:04 +08:00

2018-05-15 15:12:04,151 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1) AND ([Extent1].[ToIntegralTypeId] = @p__linq__2) AND ([Extent1].[PlatformUserId] = @p__linq__3)
    )  AS [GroupBy1]
2018-05-15 15:12:04,151 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:12:04,151 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-15 15:12:04,151 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '4' (Type = Int64)

2018-05-15 15:12:04,151 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2' (Type = Int64, IsNullable = false)

2018-05-15 15:12:04,151 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '1' (Type = Int64, IsNullable = false)

2018-05-15 15:12:04,151 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:12:04 +08:00

2018-05-15 15:12:04,154 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-15 15:12:04,154 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:12:04,154 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:12:04 +08:00

2018-05-15 15:12:04,154 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:12:04 +08:00

2018-05-15 15:12:04,155 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1) AND ([Extent1].[ToIntegralTypeId] = @p__linq__2) AND ([Extent1].[PlatformUserId] = @p__linq__3)
    )  AS [GroupBy1]
2018-05-15 15:12:04,155 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:12:04,155 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-15 15:12:04,155 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '4' (Type = Int64)

2018-05-15 15:12:04,155 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '3' (Type = Int64, IsNullable = false)

2018-05-15 15:12:04,155 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '1' (Type = Int64, IsNullable = false)

2018-05-15 15:12:04,155 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:12:04 +08:00

2018-05-15 15:12:04,155 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:12:04,155 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:12:04,156 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:12:04 +08:00

2018-05-15 15:12:04,156 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:12:04 +08:00

2018-05-15 15:12:04,156 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-15 15:12:04,156 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:12:04,156 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-15 15:12:04,156 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '4' (Type = Int64)

2018-05-15 15:12:04,156 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:12:04 +08:00

2018-05-15 15:12:04,162 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 5 ms with result: SqlDataReader

2018-05-15 15:12:04,162 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:12:04,162 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:12:04 +08:00

2018-05-15 15:12:04,162 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:12:04 +08:00

2018-05-15 15:12:04,162 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 15:12:04,162 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:12:04,162 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-15 15:12:04,162 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:12:04 +08:00

2018-05-15 15:12:04,164 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 15:12:04,164 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:12:04,164 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:12:04 +08:00

2018-05-15 15:12:04,164 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:12:04 +08:00

2018-05-15 15:12:04,164 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 15:12:04,164 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:12:04,164 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '4' (Type = Int64, IsNullable = false)

2018-05-15 15:12:04,164 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:12:04 +08:00

2018-05-15 15:12:04,166 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 15:12:04,166 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:12:04,166 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:12:04 +08:00

2018-05-15 15:12:04,166 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:12:04 +08:00

2018-05-15 15:12:04,166 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 15:12:04,166 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:12:04,166 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-15 15:12:04,166 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:12:04 +08:00

2018-05-15 15:12:04,166 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:12:04,166 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:12:04,167 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:12:04 +08:00

2018-05-15 15:12:06,979 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:12:06 +08:00

2018-05-15 15:12:06,980 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-05-15 15:12:06,980 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:12:06,980 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = String, Size = 4000)

2018-05-15 15:12:06,980 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:12:06 +08:00

2018-05-15 15:12:06,992 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 11 ms with result: SqlDataReader

2018-05-15 15:12:06,992 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:12:06,992 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:12:06 +08:00

2018-05-15 15:12:32,295 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:12:32 +08:00

2018-05-15 15:12:32,296 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (([Extent1].[Description] = @p__linq__0) OR (([Extent1].[Description] IS NULL) AND (@p__linq__0 IS NULL)))
2018-05-15 15:12:32,296 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:12:32,296 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '消费' (Type = String, Size = 4000)

2018-05-15 15:12:32,296 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:12:32 +08:00

2018-05-15 15:12:32,296 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:12:32,296 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:12:32,297 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:12:32 +08:00

2018-05-15 15:12:32,297 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:12:32 +08:00

2018-05-15 15:12:32,297 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-15 15:12:32,297 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:12:32,298 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:12:32 +08:00

2018-05-15 15:12:32,298 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:12:32,298 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:12:32,298 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:12:32 +08:00

2018-05-15 15:12:32,298 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:12:32 +08:00

2018-05-15 15:12:32,298 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-15 15:12:32,298 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:12:32,298 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:12:32 +08:00

2018-05-15 15:12:32,299 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:12:32,299 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:12:32,299 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:12:32 +08:00

2018-05-15 15:12:32,299 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:12:32 +08:00

2018-05-15 15:12:32,299 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1)
    )  AS [GroupBy1]
2018-05-15 15:12:32,299 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:12:32,299 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-15 15:12:32,299 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '4' (Type = Int64)

2018-05-15 15:12:32,299 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:12:32 +08:00

2018-05-15 15:12:32,300 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:12:32,300 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:12:32,300 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:12:32 +08:00

2018-05-15 15:12:32,300 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:12:32 +08:00

2018-05-15 15:12:32,301 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-15 15:12:32,301 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:12:32,301 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:12:32 +08:00

2018-05-15 15:12:32,301 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:12:32,301 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:12:32,301 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:12:32 +08:00

2018-05-15 15:12:32,301 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:12:32 +08:00

2018-05-15 15:12:32,302 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1) AND ([Extent1].[ToIntegralTypeId] = @p__linq__2) AND ([Extent1].[PlatformUserId] = @p__linq__3)
    )  AS [GroupBy1]
2018-05-15 15:12:32,302 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:12:32,303 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-15 15:12:32,303 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '4' (Type = Int64)

2018-05-15 15:12:32,303 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2' (Type = Int64, IsNullable = false)

2018-05-15 15:12:32,303 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '1' (Type = Int64, IsNullable = false)

2018-05-15 15:12:32,303 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:12:32 +08:00

2018-05-15 15:12:32,303 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:12:32,303 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:12:32,303 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:12:32 +08:00

2018-05-15 15:12:32,303 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:12:32 +08:00

2018-05-15 15:12:32,304 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1) AND ([Extent1].[ToIntegralTypeId] = @p__linq__2) AND ([Extent1].[PlatformUserId] = @p__linq__3)
    )  AS [GroupBy1]
2018-05-15 15:12:32,304 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:12:32,304 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-15 15:12:32,304 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '4' (Type = Int64)

2018-05-15 15:12:32,304 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '3' (Type = Int64, IsNullable = false)

2018-05-15 15:12:32,304 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '1' (Type = Int64, IsNullable = false)

2018-05-15 15:12:32,304 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:12:32 +08:00

2018-05-15 15:12:32,304 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:12:32,305 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:12:32,305 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:12:32 +08:00

2018-05-15 15:12:32,305 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:12:32 +08:00

2018-05-15 15:12:32,305 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-15 15:12:32,305 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:12:32,308 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-15 15:12:32,308 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '4' (Type = Int64)

2018-05-15 15:12:32,308 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:12:32 +08:00

2018-05-15 15:12:32,309 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:12:32,309 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:12:32,309 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:12:32 +08:00

2018-05-15 15:12:32,309 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:12:32 +08:00

2018-05-15 15:12:32,309 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 15:12:32,309 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:12:32,309 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-15 15:12:32,309 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:12:32 +08:00

2018-05-15 15:12:32,311 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 15:12:32,311 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:12:32,311 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:12:32 +08:00

2018-05-15 15:12:32,312 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:12:32 +08:00

2018-05-15 15:12:32,312 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 15:12:32,312 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:12:32,312 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '4' (Type = Int64, IsNullable = false)

2018-05-15 15:12:32,312 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:12:32 +08:00

2018-05-15 15:12:32,312 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:12:32,312 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:12:32,312 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:12:32 +08:00

2018-05-15 15:12:32,312 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:12:32 +08:00

2018-05-15 15:12:32,312 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 15:12:32,312 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:12:32,312 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-15 15:12:32,312 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:12:32 +08:00

2018-05-15 15:12:32,313 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:12:32,313 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:12:32,313 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:12:32 +08:00

2018-05-15 15:12:35,231 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:12:35 +08:00

2018-05-15 15:12:35,232 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-05-15 15:12:35,232 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:12:35,232 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = String, Size = 4000)

2018-05-15 15:12:35,232 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:12:35 +08:00

2018-05-15 15:12:35,234 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-15 15:12:35,234 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:12:35,234 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:12:35 +08:00

2018-05-15 15:12:54,339 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:12:54 +08:00

2018-05-15 15:12:54,339 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (([Extent1].[Description] = @p__linq__0) OR (([Extent1].[Description] IS NULL) AND (@p__linq__0 IS NULL)))
2018-05-15 15:12:54,339 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:12:54,339 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '消费' (Type = String, Size = 4000)

2018-05-15 15:12:54,339 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:12:54 +08:00

2018-05-15 15:12:54,342 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-15 15:12:54,342 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:12:54,342 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:12:54 +08:00

2018-05-15 15:12:54,342 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:12:54 +08:00

2018-05-15 15:12:54,344 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-15 15:12:54,344 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:12:54,344 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:12:54 +08:00

2018-05-15 15:12:54,346 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 15:12:54,346 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:12:54,347 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:12:54 +08:00

2018-05-15 15:12:54,347 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:12:54 +08:00

2018-05-15 15:12:54,347 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-15 15:12:54,347 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:12:54,347 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:12:54 +08:00

2018-05-15 15:12:54,348 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 15:12:54,348 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:12:54,348 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:12:54 +08:00

2018-05-15 15:12:54,348 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:12:54 +08:00

2018-05-15 15:12:54,349 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1)
    )  AS [GroupBy1]
2018-05-15 15:12:54,349 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:12:54,349 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-15 15:12:54,349 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '4' (Type = Int64)

2018-05-15 15:12:54,349 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:12:54 +08:00

2018-05-15 15:12:54,352 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2018-05-15 15:12:54,352 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:12:54,352 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:12:54 +08:00

2018-05-15 15:12:54,353 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:12:54 +08:00

2018-05-15 15:12:54,353 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-15 15:12:54,353 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:12:54,353 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:12:54 +08:00

2018-05-15 15:12:54,355 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 15:12:54,355 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:12:54,355 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:12:54 +08:00

2018-05-15 15:12:54,355 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:12:54 +08:00

2018-05-15 15:12:54,356 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1) AND ([Extent1].[ToIntegralTypeId] = @p__linq__2) AND ([Extent1].[PlatformUserId] = @p__linq__3)
    )  AS [GroupBy1]
2018-05-15 15:12:54,356 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:12:54,356 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-15 15:12:54,356 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '4' (Type = Int64)

2018-05-15 15:12:54,356 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2' (Type = Int64, IsNullable = false)

2018-05-15 15:12:54,356 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '1' (Type = Int64, IsNullable = false)

2018-05-15 15:12:54,356 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:12:54 +08:00

2018-05-15 15:12:54,358 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-15 15:12:54,358 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:12:54,358 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:12:54 +08:00

2018-05-15 15:12:54,359 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:12:54 +08:00

2018-05-15 15:12:54,359 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1) AND ([Extent1].[ToIntegralTypeId] = @p__linq__2) AND ([Extent1].[PlatformUserId] = @p__linq__3)
    )  AS [GroupBy1]
2018-05-15 15:12:54,360 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:12:54,360 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-15 15:12:54,360 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '4' (Type = Int64)

2018-05-15 15:12:54,360 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '3' (Type = Int64, IsNullable = false)

2018-05-15 15:12:54,360 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '1' (Type = Int64, IsNullable = false)

2018-05-15 15:12:54,361 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:12:54 +08:00

2018-05-15 15:12:54,361 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:12:54,361 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:12:54,362 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:12:54 +08:00

2018-05-15 15:12:54,362 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:12:54 +08:00

2018-05-15 15:12:54,362 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-15 15:12:54,362 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:12:54,362 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-15 15:12:54,362 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '4' (Type = Int64)

2018-05-15 15:12:54,362 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:12:54 +08:00

2018-05-15 15:12:54,366 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2018-05-15 15:12:54,366 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:12:54,366 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:12:54 +08:00

2018-05-15 15:12:54,366 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:12:54 +08:00

2018-05-15 15:12:54,366 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 15:12:54,367 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:12:54,367 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-15 15:12:54,367 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:12:54 +08:00

2018-05-15 15:12:54,368 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 15:12:54,368 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:12:54,368 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:12:54 +08:00

2018-05-15 15:12:54,368 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:12:54 +08:00

2018-05-15 15:12:54,368 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 15:12:54,368 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:12:54,368 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '4' (Type = Int64, IsNullable = false)

2018-05-15 15:12:54,368 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:12:54 +08:00

2018-05-15 15:12:54,369 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:12:54,369 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:12:54,369 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:12:54 +08:00

2018-05-15 15:12:54,369 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:12:54 +08:00

2018-05-15 15:12:54,369 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 15:12:54,370 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:12:54,370 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-15 15:12:54,370 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:12:54 +08:00

2018-05-15 15:12:54,371 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 15:12:54,371 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:12:54,372 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:12:54 +08:00

2018-05-15 15:12:57,939 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:12:57 +08:00

2018-05-15 15:12:57,940 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-05-15 15:12:57,940 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:12:57,940 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = String, Size = 4000)

2018-05-15 15:12:57,940 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:12:57 +08:00

2018-05-15 15:12:57,953 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 12 ms with result: SqlDataReader

2018-05-15 15:12:57,953 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:12:57,953 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:12:57 +08:00

2018-05-15 15:13:07,193 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:13:07 +08:00

2018-05-15 15:13:07,193 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-05-15 15:13:07,193 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:13:07,193 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = String, Size = 4000)

2018-05-15 15:13:07,193 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:13:07 +08:00

2018-05-15 15:13:07,194 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 15:13:07,194 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:13:07,195 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:13:07 +08:00

2018-05-15 15:13:12,928 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:13:12 +08:00

2018-05-15 15:13:12,928 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-05-15 15:13:12,928 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:13:12,928 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = String, Size = 4000)

2018-05-15 15:13:12,929 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:13:12 +08:00

2018-05-15 15:13:12,929 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:13:12,929 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:13:12,930 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:13:12 +08:00

2018-05-15 15:14:21,135 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:14:21 +08:00

2018-05-15 15:14:21,135 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (([Extent1].[Description] = @p__linq__0) OR (([Extent1].[Description] IS NULL) AND (@p__linq__0 IS NULL)))
2018-05-15 15:14:21,135 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:14:21,135 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '消费' (Type = String, Size = 4000)

2018-05-15 15:14:21,135 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:14:21 +08:00

2018-05-15 15:14:21,176 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 40 ms with result: SqlDataReader

2018-05-15 15:14:21,176 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:14:21,177 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:14:21 +08:00

2018-05-15 15:14:21,177 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:14:21 +08:00

2018-05-15 15:14:21,177 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-15 15:14:21,177 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:14:21,177 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:14:21 +08:00

2018-05-15 15:14:21,220 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 42 ms with result: SqlDataReader

2018-05-15 15:14:21,220 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:14:21,220 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:14:21 +08:00

2018-05-15 15:14:21,220 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:14:21 +08:00

2018-05-15 15:14:21,220 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-15 15:14:21,220 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:14:21,220 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:14:21 +08:00

2018-05-15 15:14:21,225 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 4 ms with result: SqlDataReader

2018-05-15 15:14:21,225 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:14:21,226 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:14:21 +08:00

2018-05-15 15:14:21,226 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:14:21 +08:00

2018-05-15 15:14:21,227 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1)
    )  AS [GroupBy1]
2018-05-15 15:14:21,227 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:14:21,227 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-15 15:14:21,227 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '4' (Type = Int64)

2018-05-15 15:14:21,227 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:14:21 +08:00

2018-05-15 15:14:21,232 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 4 ms with result: SqlDataReader

2018-05-15 15:14:21,232 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:14:21,232 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:14:21 +08:00

2018-05-15 15:14:21,232 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:14:21 +08:00

2018-05-15 15:14:21,233 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-15 15:14:21,233 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:14:21,233 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:14:21 +08:00

2018-05-15 15:14:21,234 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 15:14:21,234 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:14:21,235 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:14:21 +08:00

2018-05-15 15:14:21,235 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:14:21 +08:00

2018-05-15 15:14:21,235 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1) AND ([Extent1].[ToIntegralTypeId] = @p__linq__2) AND ([Extent1].[PlatformUserId] = @p__linq__3)
    )  AS [GroupBy1]
2018-05-15 15:14:21,235 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:14:21,235 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-15 15:14:21,235 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '4' (Type = Int64)

2018-05-15 15:14:21,235 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2' (Type = Int64, IsNullable = false)

2018-05-15 15:14:21,235 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '1' (Type = Int64, IsNullable = false)

2018-05-15 15:14:21,235 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:14:21 +08:00

2018-05-15 15:14:21,238 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-15 15:14:21,238 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:14:21,238 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:14:21 +08:00

2018-05-15 15:14:21,239 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:14:21 +08:00

2018-05-15 15:14:21,239 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1) AND ([Extent1].[ToIntegralTypeId] = @p__linq__2) AND ([Extent1].[PlatformUserId] = @p__linq__3)
    )  AS [GroupBy1]
2018-05-15 15:14:21,239 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:14:21,239 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-15 15:14:21,239 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '4' (Type = Int64)

2018-05-15 15:14:21,239 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '3' (Type = Int64, IsNullable = false)

2018-05-15 15:14:21,239 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '1' (Type = Int64, IsNullable = false)

2018-05-15 15:14:21,239 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:14:21 +08:00

2018-05-15 15:14:21,240 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:14:21,240 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:14:21,240 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:14:21 +08:00

2018-05-15 15:14:21,240 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:14:21 +08:00

2018-05-15 15:14:21,240 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-15 15:14:21,240 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:14:21,240 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-15 15:14:21,240 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '4' (Type = Int64)

2018-05-15 15:14:21,240 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:14:21 +08:00

2018-05-15 15:14:21,250 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 9 ms with result: SqlDataReader

2018-05-15 15:14:21,250 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:14:21,250 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:14:21 +08:00

2018-05-15 15:14:21,250 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:14:21 +08:00

2018-05-15 15:14:21,250 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 15:14:21,250 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:14:21,250 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-15 15:14:21,250 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:14:21 +08:00

2018-05-15 15:14:21,251 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 15:14:21,251 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:14:21,252 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:14:21 +08:00

2018-05-15 15:14:21,252 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:14:21 +08:00

2018-05-15 15:14:21,252 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 15:14:21,252 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:14:21,252 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '4' (Type = Int64, IsNullable = false)

2018-05-15 15:14:21,252 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:14:21 +08:00

2018-05-15 15:14:21,253 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:14:21,253 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:14:21,253 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:14:21 +08:00

2018-05-15 15:14:21,253 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:14:21 +08:00

2018-05-15 15:14:21,253 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 15:14:21,253 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:14:21,253 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-15 15:14:21,253 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:14:21 +08:00

2018-05-15 15:14:21,253 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:14:21,253 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:14:21,254 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:14:21 +08:00

2018-05-15 15:14:23,966 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:14:23 +08:00

2018-05-15 15:14:23,966 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-05-15 15:14:23,966 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:14:23,966 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = String, Size = 4000)

2018-05-15 15:14:23,966 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:14:23 +08:00

2018-05-15 15:14:23,969 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-15 15:14:23,969 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:14:23,969 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:14:23 +08:00

2018-05-15 15:19:41,564 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:19:41 +08:00

2018-05-15 15:19:41,565 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (([Extent1].[Description] = @p__linq__0) OR (([Extent1].[Description] IS NULL) AND (@p__linq__0 IS NULL)))
2018-05-15 15:19:41,565 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:19:41,565 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '消费' (Type = String, Size = 4000)

2018-05-15 15:19:41,565 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:19:41 +08:00

2018-05-15 15:19:41,567 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 15:19:41,567 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:19:41,567 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:19:41 +08:00

2018-05-15 15:19:41,568 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:19:41 +08:00

2018-05-15 15:19:41,568 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-15 15:19:41,568 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:19:41,568 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:19:41 +08:00

2018-05-15 15:19:41,569 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 15:19:41,569 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:19:41,570 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:19:41 +08:00

2018-05-15 15:19:41,570 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:19:41 +08:00

2018-05-15 15:19:41,570 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-15 15:19:41,570 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:19:41,570 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:19:41 +08:00

2018-05-15 15:19:41,571 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 15:19:41,571 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:19:41,572 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:19:41 +08:00

2018-05-15 15:19:41,572 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:19:41 +08:00

2018-05-15 15:19:41,572 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1)
    )  AS [GroupBy1]
2018-05-15 15:19:41,572 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:19:41,572 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-15 15:19:41,572 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '4' (Type = Int64)

2018-05-15 15:19:41,572 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:19:41 +08:00

2018-05-15 15:19:41,576 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2018-05-15 15:19:41,576 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:19:41,576 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:19:41 +08:00

2018-05-15 15:19:41,577 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:19:41 +08:00

2018-05-15 15:19:41,577 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-15 15:19:41,577 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:19:41,577 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:19:41 +08:00

2018-05-15 15:19:41,579 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 15:19:41,579 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:19:41,580 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:19:41 +08:00

2018-05-15 15:19:41,580 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:19:41 +08:00

2018-05-15 15:19:41,580 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1) AND ([Extent1].[ToIntegralTypeId] = @p__linq__2) AND ([Extent1].[PlatformUserId] = @p__linq__3)
    )  AS [GroupBy1]
2018-05-15 15:19:41,580 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:19:41,580 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-15 15:19:41,580 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '4' (Type = Int64)

2018-05-15 15:19:41,580 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2' (Type = Int64, IsNullable = false)

2018-05-15 15:19:41,580 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '1' (Type = Int64, IsNullable = false)

2018-05-15 15:19:41,580 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:19:41 +08:00

2018-05-15 15:19:41,583 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-15 15:19:41,583 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:19:41,584 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:19:41 +08:00

2018-05-15 15:19:41,584 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:19:41 +08:00

2018-05-15 15:19:41,584 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1) AND ([Extent1].[ToIntegralTypeId] = @p__linq__2) AND ([Extent1].[PlatformUserId] = @p__linq__3)
    )  AS [GroupBy1]
2018-05-15 15:19:41,585 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:19:41,585 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-15 15:19:41,585 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '4' (Type = Int64)

2018-05-15 15:19:41,585 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '3' (Type = Int64, IsNullable = false)

2018-05-15 15:19:41,585 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '1' (Type = Int64, IsNullable = false)

2018-05-15 15:19:41,585 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:19:41 +08:00

2018-05-15 15:19:41,585 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:19:41,585 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:19:41,585 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:19:41 +08:00

2018-05-15 15:19:41,586 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:19:41 +08:00

2018-05-15 15:19:41,587 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-15 15:19:41,587 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:19:41,587 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-15 15:19:41,587 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '4' (Type = Int64)

2018-05-15 15:19:41,587 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:19:41 +08:00

2018-05-15 15:19:41,592 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 5 ms with result: SqlDataReader

2018-05-15 15:19:41,593 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:19:41,593 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:19:41 +08:00

2018-05-15 15:19:41,593 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:19:41 +08:00

2018-05-15 15:19:41,593 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 15:19:41,593 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:19:41,593 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-15 15:19:41,593 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:19:41 +08:00

2018-05-15 15:19:41,594 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 15:19:41,594 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:19:41,595 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:19:41 +08:00

2018-05-15 15:19:41,595 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:19:41 +08:00

2018-05-15 15:19:41,595 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 15:19:41,595 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:19:41,595 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '4' (Type = Int64, IsNullable = false)

2018-05-15 15:19:41,595 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:19:41 +08:00

2018-05-15 15:19:41,596 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:19:41,596 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:19:41,596 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:19:41 +08:00

2018-05-15 15:19:41,596 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:19:41 +08:00

2018-05-15 15:19:41,596 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 15:19:41,596 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:19:41,596 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-15 15:19:41,596 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:19:41 +08:00

2018-05-15 15:19:41,596 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:19:41,596 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:19:41,597 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:19:41 +08:00

2018-05-15 15:19:44,572 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:19:44 +08:00

2018-05-15 15:19:44,574 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-05-15 15:19:44,574 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:19:44,574 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = String, Size = 4000)

2018-05-15 15:19:44,574 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:19:44 +08:00

2018-05-15 15:19:44,576 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-15 15:19:44,576 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:19:44,576 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:19:44 +08:00

2018-05-15 15:19:58,913 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:19:58 +08:00

2018-05-15 15:19:58,914 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (([Extent1].[Description] = @p__linq__0) OR (([Extent1].[Description] IS NULL) AND (@p__linq__0 IS NULL)))
2018-05-15 15:19:58,914 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:19:58,914 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '消费' (Type = String, Size = 4000)

2018-05-15 15:19:58,914 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:19:58 +08:00

2018-05-15 15:19:58,914 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:19:58,914 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:19:58,914 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:19:58 +08:00

2018-05-15 15:19:58,915 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:19:58 +08:00

2018-05-15 15:19:58,916 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-15 15:19:58,916 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:19:58,916 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:19:58 +08:00

2018-05-15 15:19:58,916 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:19:58,916 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:19:58,916 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:19:58 +08:00

2018-05-15 15:19:58,916 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:19:58 +08:00

2018-05-15 15:19:58,917 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-15 15:19:58,917 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:19:58,917 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:19:58 +08:00

2018-05-15 15:19:58,918 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 15:19:58,918 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:19:58,918 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:19:58 +08:00

2018-05-15 15:19:58,919 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:19:58 +08:00

2018-05-15 15:19:58,919 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1)
    )  AS [GroupBy1]
2018-05-15 15:19:58,919 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:19:58,919 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-15 15:19:58,919 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '4' (Type = Int64)

2018-05-15 15:19:58,919 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:19:58 +08:00

2018-05-15 15:19:58,919 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:19:58,920 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:19:58,920 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:19:58 +08:00

2018-05-15 15:19:58,920 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:19:58 +08:00

2018-05-15 15:19:58,920 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-15 15:19:58,920 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:19:58,920 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:19:58 +08:00

2018-05-15 15:19:58,921 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:19:58,921 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:19:58,921 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:19:58 +08:00

2018-05-15 15:19:58,921 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:19:58 +08:00

2018-05-15 15:19:58,922 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1) AND ([Extent1].[ToIntegralTypeId] = @p__linq__2) AND ([Extent1].[PlatformUserId] = @p__linq__3)
    )  AS [GroupBy1]
2018-05-15 15:19:58,922 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:19:58,922 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-15 15:19:58,922 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '4' (Type = Int64)

2018-05-15 15:19:58,922 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2' (Type = Int64, IsNullable = false)

2018-05-15 15:19:58,922 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '1' (Type = Int64, IsNullable = false)

2018-05-15 15:19:58,922 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:19:58 +08:00

2018-05-15 15:19:58,924 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 15:19:58,924 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:19:58,924 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:19:58 +08:00

2018-05-15 15:19:58,924 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:19:58 +08:00

2018-05-15 15:19:58,925 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1) AND ([Extent1].[ToIntegralTypeId] = @p__linq__2) AND ([Extent1].[PlatformUserId] = @p__linq__3)
    )  AS [GroupBy1]
2018-05-15 15:19:58,925 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:19:58,925 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-15 15:19:58,925 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '4' (Type = Int64)

2018-05-15 15:19:58,925 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '3' (Type = Int64, IsNullable = false)

2018-05-15 15:19:58,925 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '1' (Type = Int64, IsNullable = false)

2018-05-15 15:19:58,925 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:19:58 +08:00

2018-05-15 15:19:58,926 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:19:58,926 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:19:58,926 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:19:58 +08:00

2018-05-15 15:19:58,926 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:19:58 +08:00

2018-05-15 15:19:58,927 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-15 15:19:58,927 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:19:58,927 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-15 15:19:58,927 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '4' (Type = Int64)

2018-05-15 15:19:58,927 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:19:58 +08:00

2018-05-15 15:19:58,927 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:19:58,927 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:19:58,928 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:19:58 +08:00

2018-05-15 15:19:58,928 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:19:58 +08:00

2018-05-15 15:19:58,928 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 15:19:58,928 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:19:58,928 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-15 15:19:58,928 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:19:58 +08:00

2018-05-15 15:19:58,928 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:19:58,928 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:19:58,928 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:19:58 +08:00

2018-05-15 15:19:58,929 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:19:58 +08:00

2018-05-15 15:19:58,929 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 15:19:58,929 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:19:58,929 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '4' (Type = Int64, IsNullable = false)

2018-05-15 15:19:58,929 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:19:58 +08:00

2018-05-15 15:19:58,929 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:19:58,929 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:19:58,929 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:19:58 +08:00

2018-05-15 15:19:58,929 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:19:58 +08:00

2018-05-15 15:19:58,929 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 15:19:58,929 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:19:58,929 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-15 15:19:58,929 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:19:58 +08:00

2018-05-15 15:19:58,929 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:19:58,929 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:19:58,930 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:19:58 +08:00

2018-05-15 15:20:01,037 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:20:01 +08:00

2018-05-15 15:20:01,037 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-05-15 15:20:01,037 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:20:01,037 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = String, Size = 4000)

2018-05-15 15:20:01,037 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:20:01 +08:00

2018-05-15 15:20:01,038 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:20:01,038 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:20:01,038 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:20:01 +08:00

2018-05-15 15:21:00,878 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:21:00 +08:00

2018-05-15 15:21:00,879 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2018-05-15 15:21:00,879 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:21:00,879 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64, IsNullable = false)

2018-05-15 15:21:00,879 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:21:00 +08:00

2018-05-15 15:21:00,881 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-15 15:21:00,881 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:21:00,882 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:21:00 +08:00

2018-05-15 15:21:00,882 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:21:00 +08:00

2018-05-15 15:21:00,882 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 15:21:00,882 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:21:00,882 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-15 15:21:00,882 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:21:00 +08:00

2018-05-15 15:21:00,883 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 15:21:00,883 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:21:00,883 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:21:00 +08:00

2018-05-15 15:21:00,884 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:21:00 +08:00

2018-05-15 15:21:00,884 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-15 15:21:00,884 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:21:00,884 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:21:00 +08:00

2018-05-15 15:21:00,885 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 15:21:00,885 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:21:00,885 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:21:00 +08:00

2018-05-15 15:21:00,885 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:21:00 +08:00

2018-05-15 15:21:00,886 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-15 15:21:00,886 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:21:00,886 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:21:00 +08:00

2018-05-15 15:21:00,887 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 15:21:00,887 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:21:00,887 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:21:00 +08:00

2018-05-15 15:21:00,887 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:21:00 +08:00

2018-05-15 15:21:00,888 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-15 15:21:00,888 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:21:00,888 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 15:21:00,888 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:21:00 +08:00

2018-05-15 15:21:00,891 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2018-05-15 15:21:00,891 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:21:00,891 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:21:00 +08:00

2018-05-15 15:21:00,892 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:21:00 +08:00

2018-05-15 15:21:00,892 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-15 15:21:00,892 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:21:00,892 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:21:00 +08:00

2018-05-15 15:21:00,893 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 15:21:00,893 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:21:00,894 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:21:00 +08:00

2018-05-15 15:21:00,894 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:21:00 +08:00

2018-05-15 15:21:00,894 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-15 15:21:00,894 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:21:00,894 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 15:21:00,894 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2' (Type = Int64, IsNullable = false)

2018-05-15 15:21:00,894 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-15 15:21:00,894 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:21:00 +08:00

2018-05-15 15:21:00,898 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2018-05-15 15:21:00,898 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:21:00,898 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:21:00 +08:00

2018-05-15 15:21:00,898 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:21:00 +08:00

2018-05-15 15:21:00,898 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-15 15:21:00,898 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:21:00,898 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 15:21:00,899 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '3' (Type = Int64, IsNullable = false)

2018-05-15 15:21:00,899 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-15 15:21:00,899 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:21:00 +08:00

2018-05-15 15:21:00,899 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:21:00,899 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:21:00,899 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:21:00 +08:00

2018-05-15 15:21:00,899 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:21:00 +08:00

2018-05-15 15:21:00,899 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-15 15:21:00,900 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:21:00,900 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 15:21:00,900 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:21:00 +08:00

2018-05-15 15:21:00,902 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-15 15:21:00,902 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:21:00,903 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:21:00 +08:00

2018-05-15 15:21:00,903 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:21:00 +08:00

2018-05-15 15:21:00,903 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 15:21:00,903 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:21:00,903 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 15:21:00,903 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:21:00 +08:00

2018-05-15 15:21:00,904 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 15:21:00,904 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:21:00,905 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:21:00 +08:00

2018-05-15 15:21:00,905 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:21:00 +08:00

2018-05-15 15:21:00,905 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 15:21:00,905 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:21:00,905 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-15 15:21:00,905 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:21:00 +08:00

2018-05-15 15:21:00,907 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-15 15:21:00,907 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:21:00,908 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:21:00 +08:00

2018-05-15 15:21:00,908 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:21:00 +08:00

2018-05-15 15:21:00,908 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 15:21:00,908 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:21:00,908 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 15:21:00,908 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:21:00 +08:00

2018-05-15 15:21:00,909 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:21:00,909 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:21:00,909 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:21:00 +08:00

2018-05-15 15:21:00,909 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:21:00 +08:00

2018-05-15 15:21:00,909 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 15:21:00,909 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:21:00,909 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-15 15:21:00,909 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:21:00 +08:00

2018-05-15 15:21:00,910 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:21:00,910 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:21:00,910 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:21:00 +08:00

2018-05-15 15:21:00,910 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:21:00 +08:00

2018-05-15 15:21:00,910 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 15:21:00,910 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:21:00,910 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '6' (Type = Int64, IsNullable = false)

2018-05-15 15:21:00,910 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:21:00 +08:00

2018-05-15 15:21:00,911 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:21:00,911 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:21:00,911 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:21:00 +08:00

2018-05-15 15:21:06,829 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:21:06 +08:00

2018-05-15 15:21:06,830 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2018-05-15 15:21:06,830 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:21:06,830 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64, IsNullable = false)

2018-05-15 15:21:06,830 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:21:06 +08:00

2018-05-15 15:21:06,831 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:21:06,831 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:21:06,831 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:21:06 +08:00

2018-05-15 15:21:06,831 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:21:06 +08:00

2018-05-15 15:21:06,831 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 15:21:06,831 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:21:06,831 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-15 15:21:06,831 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:21:06 +08:00

2018-05-15 15:21:06,832 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:21:06,832 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:21:06,832 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:21:06 +08:00

2018-05-15 15:21:06,832 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:21:06 +08:00

2018-05-15 15:21:06,833 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-15 15:21:06,833 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:21:06,833 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:21:06 +08:00

2018-05-15 15:21:06,833 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:21:06,833 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:21:06,833 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:21:06 +08:00

2018-05-15 15:21:06,833 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:21:06 +08:00

2018-05-15 15:21:06,833 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-15 15:21:06,833 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:21:06,833 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:21:06 +08:00

2018-05-15 15:21:06,833 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:21:06,833 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:21:06,834 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:21:06 +08:00

2018-05-15 15:21:06,834 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:21:06 +08:00

2018-05-15 15:21:06,834 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-15 15:21:06,834 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:21:06,834 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 15:21:06,834 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:21:06 +08:00

2018-05-15 15:21:06,834 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:21:06,834 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:21:06,835 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:21:06 +08:00

2018-05-15 15:21:06,835 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:21:06 +08:00

2018-05-15 15:21:06,835 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-15 15:21:06,835 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:21:06,835 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:21:06 +08:00

2018-05-15 15:21:06,835 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:21:06,835 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:21:06,836 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:21:06 +08:00

2018-05-15 15:21:06,836 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:21:06 +08:00

2018-05-15 15:21:06,836 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-15 15:21:06,836 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:21:06,836 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 15:21:06,836 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2' (Type = Int64, IsNullable = false)

2018-05-15 15:21:06,836 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-15 15:21:06,836 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:21:06 +08:00

2018-05-15 15:21:06,836 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:21:06,836 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:21:06,837 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:21:06 +08:00

2018-05-15 15:21:06,837 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:21:06 +08:00

2018-05-15 15:21:06,837 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-15 15:21:06,837 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:21:06,837 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 15:21:06,837 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '3' (Type = Int64, IsNullable = false)

2018-05-15 15:21:06,837 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-15 15:21:06,837 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:21:06 +08:00

2018-05-15 15:21:06,837 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:21:06,837 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:21:06,838 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:21:06 +08:00

2018-05-15 15:21:06,838 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:21:06 +08:00

2018-05-15 15:21:06,838 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-15 15:21:06,838 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:21:06,838 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 15:21:06,838 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:21:06 +08:00

2018-05-15 15:21:06,840 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 15:21:06,840 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:21:06,841 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:21:06 +08:00

2018-05-15 15:21:06,841 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:21:06 +08:00

2018-05-15 15:21:06,841 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 15:21:06,841 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:21:06,841 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 15:21:06,841 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:21:06 +08:00

2018-05-15 15:21:06,841 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:21:06,841 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:21:06,842 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:21:06 +08:00

2018-05-15 15:21:06,842 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:21:06 +08:00

2018-05-15 15:21:06,842 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 15:21:06,842 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:21:06,842 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-15 15:21:06,842 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:21:06 +08:00

2018-05-15 15:21:06,842 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:21:06,842 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:21:06,842 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:21:06 +08:00

2018-05-15 15:21:06,842 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:21:06 +08:00

2018-05-15 15:21:06,842 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 15:21:06,842 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:21:06,842 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 15:21:06,842 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:21:06 +08:00

2018-05-15 15:21:06,842 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:21:06,843 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:21:06,843 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:21:06 +08:00

2018-05-15 15:21:06,843 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:21:06 +08:00

2018-05-15 15:21:06,843 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 15:21:06,843 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:21:06,843 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-15 15:21:06,843 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:21:06 +08:00

2018-05-15 15:21:06,843 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:21:06,843 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:21:06,843 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:21:06 +08:00

2018-05-15 15:21:06,843 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:21:06 +08:00

2018-05-15 15:21:06,843 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 15:21:06,843 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:21:06,843 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '6' (Type = Int64, IsNullable = false)

2018-05-15 15:21:06,843 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:21:06 +08:00

2018-05-15 15:21:06,844 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:21:06,844 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:21:06,844 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:21:06 +08:00

2018-05-15 15:21:09,613 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:21:09 +08:00

2018-05-15 15:21:09,613 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (([Extent1].[Description] = @p__linq__0) OR (([Extent1].[Description] IS NULL) AND (@p__linq__0 IS NULL)))
2018-05-15 15:21:09,613 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:21:09,613 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '消费' (Type = String, Size = 4000)

2018-05-15 15:21:09,613 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:21:09 +08:00

2018-05-15 15:21:09,615 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 15:21:09,615 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:21:09,615 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:21:09 +08:00

2018-05-15 15:21:09,615 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:21:09 +08:00

2018-05-15 15:21:09,616 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-15 15:21:09,616 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:21:09,616 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:21:09 +08:00

2018-05-15 15:21:09,618 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 15:21:09,618 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:21:09,618 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:21:09 +08:00

2018-05-15 15:21:09,618 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:21:09 +08:00

2018-05-15 15:21:09,618 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-15 15:21:09,618 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:21:09,618 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:21:09 +08:00

2018-05-15 15:21:09,619 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:21:09,619 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:21:09,619 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:21:09 +08:00

2018-05-15 15:21:09,619 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:21:09 +08:00

2018-05-15 15:21:09,619 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1)
    )  AS [GroupBy1]
2018-05-15 15:21:09,619 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:21:09,619 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-15 15:21:09,619 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '4' (Type = Int64)

2018-05-15 15:21:09,619 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:21:09 +08:00

2018-05-15 15:21:09,622 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-15 15:21:09,622 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:21:09,622 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:21:09 +08:00

2018-05-15 15:21:09,623 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:21:09 +08:00

2018-05-15 15:21:09,623 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-15 15:21:09,623 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:21:09,623 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:21:09 +08:00

2018-05-15 15:21:09,623 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:21:09,624 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:21:09,624 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:21:09 +08:00

2018-05-15 15:21:09,624 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:21:09 +08:00

2018-05-15 15:21:09,624 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1) AND ([Extent1].[ToIntegralTypeId] = @p__linq__2) AND ([Extent1].[PlatformUserId] = @p__linq__3)
    )  AS [GroupBy1]
2018-05-15 15:21:09,625 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:21:09,625 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-15 15:21:09,625 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '4' (Type = Int64)

2018-05-15 15:21:09,625 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2' (Type = Int64, IsNullable = false)

2018-05-15 15:21:09,625 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '1' (Type = Int64, IsNullable = false)

2018-05-15 15:21:09,625 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:21:09 +08:00

2018-05-15 15:21:09,628 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2018-05-15 15:21:09,628 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:21:09,628 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:21:09 +08:00

2018-05-15 15:21:09,628 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:21:09 +08:00

2018-05-15 15:21:09,629 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1) AND ([Extent1].[ToIntegralTypeId] = @p__linq__2) AND ([Extent1].[PlatformUserId] = @p__linq__3)
    )  AS [GroupBy1]
2018-05-15 15:21:09,629 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:21:09,629 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-15 15:21:09,629 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '4' (Type = Int64)

2018-05-15 15:21:09,629 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '3' (Type = Int64, IsNullable = false)

2018-05-15 15:21:09,629 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '1' (Type = Int64, IsNullable = false)

2018-05-15 15:21:09,629 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:21:09 +08:00

2018-05-15 15:21:09,629 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:21:09,629 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:21:09,630 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:21:09 +08:00

2018-05-15 15:21:09,630 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:21:09 +08:00

2018-05-15 15:21:09,630 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-15 15:21:09,630 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:21:09,630 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-15 15:21:09,630 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '4' (Type = Int64)

2018-05-15 15:21:09,630 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:21:09 +08:00

2018-05-15 15:21:09,638 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 7 ms with result: SqlDataReader

2018-05-15 15:21:09,638 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:21:09,639 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:21:09 +08:00

2018-05-15 15:21:09,639 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:21:09 +08:00

2018-05-15 15:21:09,639 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 15:21:09,639 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:21:09,639 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-15 15:21:09,639 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:21:09 +08:00

2018-05-15 15:21:09,639 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:21:09,639 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:21:09,639 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:21:09 +08:00

2018-05-15 15:21:09,640 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:21:09 +08:00

2018-05-15 15:21:09,640 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 15:21:09,640 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:21:09,640 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '4' (Type = Int64, IsNullable = false)

2018-05-15 15:21:09,640 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:21:09 +08:00

2018-05-15 15:21:09,640 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:21:09,640 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:21:09,640 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:21:09 +08:00

2018-05-15 15:21:09,640 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:21:09 +08:00

2018-05-15 15:21:09,640 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 15:21:09,640 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:21:09,640 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-15 15:21:09,640 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:21:09 +08:00

2018-05-15 15:21:09,641 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:21:09,641 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:21:09,641 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:21:09 +08:00

2018-05-15 15:24:09,318 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:24:09 +08:00

2018-05-15 15:24:09,319 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2018-05-15 15:24:09,319 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:24:09,319 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64, IsNullable = false)

2018-05-15 15:24:09,319 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:24:09 +08:00

2018-05-15 15:24:09,327 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 8 ms with result: SqlDataReader

2018-05-15 15:24:09,327 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:24:09,327 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:24:09 +08:00

2018-05-15 15:24:09,328 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:24:09 +08:00

2018-05-15 15:24:09,328 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 15:24:09,328 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:24:09,328 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-15 15:24:09,328 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:24:09 +08:00

2018-05-15 15:24:09,337 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 9 ms with result: SqlDataReader

2018-05-15 15:24:09,337 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:24:09,338 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:24:09 +08:00

2018-05-15 15:24:09,338 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:24:09 +08:00

2018-05-15 15:24:09,338 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-15 15:24:09,339 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:24:09,339 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:24:09 +08:00

2018-05-15 15:24:09,341 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-15 15:24:09,341 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:24:09,341 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:24:09 +08:00

2018-05-15 15:24:09,342 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:24:09 +08:00

2018-05-15 15:24:09,342 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-15 15:24:09,342 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:24:09,342 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:24:09 +08:00

2018-05-15 15:24:09,343 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 15:24:09,344 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:24:09,344 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:24:09 +08:00

2018-05-15 15:24:09,344 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:24:09 +08:00

2018-05-15 15:24:09,344 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-15 15:24:09,344 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:24:09,344 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 15:24:09,345 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:24:09 +08:00

2018-05-15 15:24:09,347 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-15 15:24:09,347 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:24:09,347 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:24:09 +08:00

2018-05-15 15:24:09,348 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:24:09 +08:00

2018-05-15 15:24:09,348 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-15 15:24:09,348 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:24:09,348 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:24:09 +08:00

2018-05-15 15:24:09,349 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 15:24:09,349 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:24:09,349 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:24:09 +08:00

2018-05-15 15:24:09,350 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:24:09 +08:00

2018-05-15 15:24:09,350 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-15 15:24:09,350 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:24:09,350 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 15:24:09,350 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2' (Type = Int64, IsNullable = false)

2018-05-15 15:24:09,350 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-15 15:24:09,350 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:24:09 +08:00

2018-05-15 15:24:09,352 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 15:24:09,352 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:24:09,352 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:24:09 +08:00

2018-05-15 15:24:09,354 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:24:09 +08:00

2018-05-15 15:24:09,354 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-15 15:24:09,354 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:24:09,354 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 15:24:09,354 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '3' (Type = Int64, IsNullable = false)

2018-05-15 15:24:09,354 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-15 15:24:09,354 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:24:09 +08:00

2018-05-15 15:24:09,355 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:24:09,355 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:24:09,355 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:24:09 +08:00

2018-05-15 15:24:09,356 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:24:09 +08:00

2018-05-15 15:24:09,356 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-15 15:24:09,356 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:24:09,356 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 15:24:09,356 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:24:09 +08:00

2018-05-15 15:24:09,359 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-15 15:24:09,359 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:24:09,359 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:24:09 +08:00

2018-05-15 15:24:09,359 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:24:09 +08:00

2018-05-15 15:24:09,359 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 15:24:09,359 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:24:09,360 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 15:24:09,360 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:24:09 +08:00

2018-05-15 15:24:09,361 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:24:09,361 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:24:09,361 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:24:09 +08:00

2018-05-15 15:24:09,361 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:24:09 +08:00

2018-05-15 15:24:09,361 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 15:24:09,361 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:24:09,361 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-15 15:24:09,361 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:24:09 +08:00

2018-05-15 15:24:09,362 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:24:09,362 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:24:09,362 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:24:09 +08:00

2018-05-15 15:24:09,362 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:24:09 +08:00

2018-05-15 15:24:09,362 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 15:24:09,362 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:24:09,362 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 15:24:09,362 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:24:09 +08:00

2018-05-15 15:24:09,363 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:24:09,363 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:24:09,363 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:24:09 +08:00

2018-05-15 15:24:09,363 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:24:09 +08:00

2018-05-15 15:24:09,363 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 15:24:09,363 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:24:09,363 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-15 15:24:09,363 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:24:09 +08:00

2018-05-15 15:24:09,363 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:24:09,363 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:24:09,364 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:24:09 +08:00

2018-05-15 15:24:09,364 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:24:09 +08:00

2018-05-15 15:24:09,364 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 15:24:09,364 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:24:09,364 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '6' (Type = Int64, IsNullable = false)

2018-05-15 15:24:09,364 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:24:09 +08:00

2018-05-15 15:24:09,364 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:24:09,364 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:24:09,364 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:24:09 +08:00

2018-05-15 15:24:12,278 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:24:12 +08:00

2018-05-15 15:24:12,282 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2018-05-15 15:24:12,282 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:24:12,282 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64, IsNullable = false)

2018-05-15 15:24:12,282 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:24:12 +08:00

2018-05-15 15:24:12,283 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:24:12,283 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:24:12,283 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:24:12 +08:00

2018-05-15 15:24:12,283 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:24:12 +08:00

2018-05-15 15:24:12,284 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 15:24:12,284 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:24:12,284 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-15 15:24:12,284 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:24:12 +08:00

2018-05-15 15:24:12,284 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:24:12,284 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:24:12,285 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:24:12 +08:00

2018-05-15 15:24:12,285 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:24:12 +08:00

2018-05-15 15:24:12,285 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-15 15:24:12,285 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:24:12,285 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:24:12 +08:00

2018-05-15 15:24:12,289 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2018-05-15 15:24:12,289 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:24:12,289 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:24:12 +08:00

2018-05-15 15:24:12,289 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:24:12 +08:00

2018-05-15 15:24:12,289 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-15 15:24:12,290 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:24:12,290 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:24:12 +08:00

2018-05-15 15:24:12,290 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:24:12,290 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:24:12,290 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:24:12 +08:00

2018-05-15 15:24:12,290 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:24:12 +08:00

2018-05-15 15:24:12,291 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-15 15:24:12,291 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:24:12,291 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 15:24:12,291 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:24:12 +08:00

2018-05-15 15:24:12,291 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:24:12,291 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:24:12,291 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:24:12 +08:00

2018-05-15 15:24:12,292 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:24:12 +08:00

2018-05-15 15:24:12,292 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-15 15:24:12,292 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:24:12,292 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:24:12 +08:00

2018-05-15 15:24:12,292 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:24:12,292 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:24:12,292 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:24:12 +08:00

2018-05-15 15:24:12,293 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:24:12 +08:00

2018-05-15 15:24:12,293 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-15 15:24:12,293 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:24:12,293 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 15:24:12,293 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2' (Type = Int64, IsNullable = false)

2018-05-15 15:24:12,293 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-15 15:24:12,293 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:24:12 +08:00

2018-05-15 15:24:12,294 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:24:12,294 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:24:12,294 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:24:12 +08:00

2018-05-15 15:24:12,294 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:24:12 +08:00

2018-05-15 15:24:12,295 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-15 15:24:12,295 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:24:12,295 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 15:24:12,295 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '3' (Type = Int64, IsNullable = false)

2018-05-15 15:24:12,295 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-15 15:24:12,295 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:24:12 +08:00

2018-05-15 15:24:12,295 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:24:12,295 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:24:12,295 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:24:12 +08:00

2018-05-15 15:24:12,296 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:24:12 +08:00

2018-05-15 15:24:12,296 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-15 15:24:12,296 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:24:12,297 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 15:24:12,297 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:24:12 +08:00

2018-05-15 15:24:12,297 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:24:12,297 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:24:12,298 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:24:12 +08:00

2018-05-15 15:24:12,298 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:24:12 +08:00

2018-05-15 15:24:12,298 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 15:24:12,298 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:24:12,298 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 15:24:12,298 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:24:12 +08:00

2018-05-15 15:24:12,299 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:24:12,299 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:24:12,299 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:24:12 +08:00

2018-05-15 15:24:12,299 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:24:12 +08:00

2018-05-15 15:24:12,299 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 15:24:12,299 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:24:12,299 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-15 15:24:12,299 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:24:12 +08:00

2018-05-15 15:24:12,299 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:24:12,299 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:24:12,299 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:24:12 +08:00

2018-05-15 15:24:12,300 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:24:12 +08:00

2018-05-15 15:24:12,300 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 15:24:12,300 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:24:12,300 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 15:24:12,300 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:24:12 +08:00

2018-05-15 15:24:12,300 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:24:12,300 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:24:12,300 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:24:12 +08:00

2018-05-15 15:24:12,300 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:24:12 +08:00

2018-05-15 15:24:12,300 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 15:24:12,300 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:24:12,300 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-15 15:24:12,300 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:24:12 +08:00

2018-05-15 15:24:12,300 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:24:12,301 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:24:12,301 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:24:12 +08:00

2018-05-15 15:24:12,301 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:24:12 +08:00

2018-05-15 15:24:12,301 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 15:24:12,301 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:24:12,301 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '6' (Type = Int64, IsNullable = false)

2018-05-15 15:24:12,301 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:24:12 +08:00

2018-05-15 15:24:12,301 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:24:12,301 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:24:12,301 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:24:12 +08:00

2018-05-15 15:24:14,218 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:24:14 +08:00

2018-05-15 15:24:14,219 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (([Extent1].[Description] = @p__linq__0) OR (([Extent1].[Description] IS NULL) AND (@p__linq__0 IS NULL)))
2018-05-15 15:24:14,219 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:24:14,219 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '消费' (Type = String, Size = 4000)

2018-05-15 15:24:14,219 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:24:14 +08:00

2018-05-15 15:24:14,227 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 7 ms with result: SqlDataReader

2018-05-15 15:24:14,227 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:24:14,227 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:24:14 +08:00

2018-05-15 15:24:14,227 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:24:14 +08:00

2018-05-15 15:24:14,228 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-15 15:24:14,228 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:24:14,228 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:24:14 +08:00

2018-05-15 15:24:14,228 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:24:14,228 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:24:14,228 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:24:14 +08:00

2018-05-15 15:24:14,228 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:24:14 +08:00

2018-05-15 15:24:14,229 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-15 15:24:14,229 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:24:14,229 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:24:14 +08:00

2018-05-15 15:24:14,229 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:24:14,229 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:24:14,229 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:24:14 +08:00

2018-05-15 15:24:14,229 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:24:14 +08:00

2018-05-15 15:24:14,230 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1)
    )  AS [GroupBy1]
2018-05-15 15:24:14,230 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:24:14,230 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-15 15:24:14,230 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '4' (Type = Int64)

2018-05-15 15:24:14,230 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:24:14 +08:00

2018-05-15 15:24:14,232 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-15 15:24:14,232 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:24:14,232 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:24:14 +08:00

2018-05-15 15:24:14,232 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:24:14 +08:00

2018-05-15 15:24:14,232 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-15 15:24:14,232 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:24:14,232 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:24:14 +08:00

2018-05-15 15:24:14,233 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:24:14,233 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:24:14,233 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:24:14 +08:00

2018-05-15 15:24:14,233 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:24:14 +08:00

2018-05-15 15:24:14,234 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1) AND ([Extent1].[ToIntegralTypeId] = @p__linq__2) AND ([Extent1].[PlatformUserId] = @p__linq__3)
    )  AS [GroupBy1]
2018-05-15 15:24:14,234 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:24:14,234 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-15 15:24:14,234 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '4' (Type = Int64)

2018-05-15 15:24:14,234 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2' (Type = Int64, IsNullable = false)

2018-05-15 15:24:14,234 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '1' (Type = Int64, IsNullable = false)

2018-05-15 15:24:14,234 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:24:14 +08:00

2018-05-15 15:24:14,237 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2018-05-15 15:24:14,237 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:24:14,237 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:24:14 +08:00

2018-05-15 15:24:14,237 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:24:14 +08:00

2018-05-15 15:24:14,238 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1) AND ([Extent1].[ToIntegralTypeId] = @p__linq__2) AND ([Extent1].[PlatformUserId] = @p__linq__3)
    )  AS [GroupBy1]
2018-05-15 15:24:14,238 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:24:14,238 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-15 15:24:14,238 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '4' (Type = Int64)

2018-05-15 15:24:14,238 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '3' (Type = Int64, IsNullable = false)

2018-05-15 15:24:14,238 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '1' (Type = Int64, IsNullable = false)

2018-05-15 15:24:14,238 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:24:14 +08:00

2018-05-15 15:24:14,239 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:24:14,239 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:24:14,239 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:24:14 +08:00

2018-05-15 15:24:14,239 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:24:14 +08:00

2018-05-15 15:24:14,239 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-15 15:24:14,239 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:24:14,239 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-15 15:24:14,239 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '4' (Type = Int64)

2018-05-15 15:24:14,239 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:24:14 +08:00

2018-05-15 15:24:14,239 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-15 15:24:14,239 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:24:14,239 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:24:14 +08:00

2018-05-15 15:24:14,239 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:24:14 +08:00

2018-05-15 15:24:14,239 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 15:24:14,239 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:24:14,239 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-15 15:24:14,239 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:24:14 +08:00

2018-05-15 15:24:14,239 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:24:14,239 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:24:14,239 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:24:14 +08:00

2018-05-15 15:24:14,239 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:24:14 +08:00

2018-05-15 15:24:14,239 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 15:24:14,239 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:24:14,239 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '4' (Type = Int64, IsNullable = false)

2018-05-15 15:24:14,239 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:24:14 +08:00

2018-05-15 15:24:14,239 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:24:14,239 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:24:14,239 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:24:14 +08:00

2018-05-15 15:24:14,239 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:24:14 +08:00

2018-05-15 15:24:14,239 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 15:24:14,239 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:24:14,239 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-15 15:24:14,239 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:24:14 +08:00

2018-05-15 15:24:14,239 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:24:14,239 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:24:14,239 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:24:14 +08:00

2018-05-15 15:25:36,666 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:25:36 +08:00

2018-05-15 15:25:36,666 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (([Extent1].[Description] = @p__linq__0) OR (([Extent1].[Description] IS NULL) AND (@p__linq__0 IS NULL)))
2018-05-15 15:25:36,666 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:25:36,666 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '消费' (Type = String, Size = 4000)

2018-05-15 15:25:36,666 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:25:36 +08:00

2018-05-15 15:25:36,668 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 15:25:36,669 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:25:36,670 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:25:36 +08:00

2018-05-15 15:25:36,670 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:25:36 +08:00

2018-05-15 15:25:36,671 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-15 15:25:36,671 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:25:36,671 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:25:36 +08:00

2018-05-15 15:25:36,672 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 15:25:36,672 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:25:36,672 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:25:36 +08:00

2018-05-15 15:25:36,672 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:25:36 +08:00

2018-05-15 15:25:36,673 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-15 15:25:36,673 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:25:36,673 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:25:36 +08:00

2018-05-15 15:25:36,674 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 15:25:36,674 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:25:36,674 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:25:36 +08:00

2018-05-15 15:25:36,674 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:25:36 +08:00

2018-05-15 15:25:36,674 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1)
    )  AS [GroupBy1]
2018-05-15 15:25:36,674 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:25:36,674 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-15 15:25:36,675 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '4' (Type = Int64)

2018-05-15 15:25:36,675 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:25:36 +08:00

2018-05-15 15:25:36,677 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-15 15:25:36,677 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:25:36,677 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:25:36 +08:00

2018-05-15 15:25:36,679 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:25:36 +08:00

2018-05-15 15:25:36,680 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-15 15:25:36,680 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:25:36,680 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:25:36 +08:00

2018-05-15 15:25:36,681 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 15:25:36,682 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:25:36,682 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:25:36 +08:00

2018-05-15 15:25:36,682 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:25:36 +08:00

2018-05-15 15:25:36,682 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1) AND ([Extent1].[ToIntegralTypeId] = @p__linq__2) AND ([Extent1].[PlatformUserId] = @p__linq__3)
    )  AS [GroupBy1]
2018-05-15 15:25:36,682 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:25:36,683 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-15 15:25:36,683 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '4' (Type = Int64)

2018-05-15 15:25:36,683 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2' (Type = Int64, IsNullable = false)

2018-05-15 15:25:36,683 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '1' (Type = Int64, IsNullable = false)

2018-05-15 15:25:36,683 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:25:36 +08:00

2018-05-15 15:25:36,686 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2018-05-15 15:25:36,686 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:25:36,686 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:25:36 +08:00

2018-05-15 15:25:36,687 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:25:36 +08:00

2018-05-15 15:25:36,687 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1) AND ([Extent1].[ToIntegralTypeId] = @p__linq__2) AND ([Extent1].[PlatformUserId] = @p__linq__3)
    )  AS [GroupBy1]
2018-05-15 15:25:36,687 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:25:36,687 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-15 15:25:36,687 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '4' (Type = Int64)

2018-05-15 15:25:36,687 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '3' (Type = Int64, IsNullable = false)

2018-05-15 15:25:36,687 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '1' (Type = Int64, IsNullable = false)

2018-05-15 15:25:36,687 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:25:36 +08:00

2018-05-15 15:25:36,688 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:25:36,688 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:25:36,688 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:25:36 +08:00

2018-05-15 15:25:36,688 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:25:36 +08:00

2018-05-15 15:25:36,688 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-15 15:25:36,689 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:25:36,689 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-15 15:25:36,689 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '4' (Type = Int64)

2018-05-15 15:25:36,689 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:25:36 +08:00

2018-05-15 15:25:36,693 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 4 ms with result: SqlDataReader

2018-05-15 15:25:36,693 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:25:36,694 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:25:36 +08:00

2018-05-15 15:25:36,694 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:25:36 +08:00

2018-05-15 15:25:36,694 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 15:25:36,694 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:25:36,694 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-15 15:25:36,694 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:25:36 +08:00

2018-05-15 15:25:36,695 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:25:36,695 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:25:36,695 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:25:36 +08:00

2018-05-15 15:25:36,695 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:25:36 +08:00

2018-05-15 15:25:36,695 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 15:25:36,695 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:25:36,695 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '4' (Type = Int64, IsNullable = false)

2018-05-15 15:25:36,695 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:25:36 +08:00

2018-05-15 15:25:36,722 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 26 ms with result: SqlDataReader

2018-05-15 15:25:36,722 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:25:36,722 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:25:36 +08:00

2018-05-15 15:25:36,722 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:25:36 +08:00

2018-05-15 15:25:36,722 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 15:25:36,722 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:25:36,723 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-15 15:25:36,723 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:25:36 +08:00

2018-05-15 15:25:36,723 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:25:36,724 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:25:36,724 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:25:36 +08:00

2018-05-15 15:25:48,757 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:25:48 +08:00

2018-05-15 15:25:48,757 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-05-15 15:25:48,757 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:25:48,757 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = String, Size = 4000)

2018-05-15 15:25:48,758 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:25:48 +08:00

2018-05-15 15:25:48,760 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-15 15:25:48,760 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:25:48,761 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:25:48 +08:00

2018-05-15 15:26:25,279 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:26:25 +08:00

2018-05-15 15:26:25,280 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (([Extent1].[Description] = @p__linq__0) OR (([Extent1].[Description] IS NULL) AND (@p__linq__0 IS NULL)))
2018-05-15 15:26:25,280 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:25,280 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '消费' (Type = String, Size = 4000)

2018-05-15 15:26:25,280 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:26:25 +08:00

2018-05-15 15:26:25,282 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 15:26:25,282 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:25,282 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:26:25 +08:00

2018-05-15 15:26:25,283 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:26:25 +08:00

2018-05-15 15:26:25,283 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-15 15:26:25,283 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:25,283 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:26:25 +08:00

2018-05-15 15:26:25,286 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-15 15:26:25,286 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:25,286 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:26:25 +08:00

2018-05-15 15:26:25,286 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:26:25 +08:00

2018-05-15 15:26:25,286 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-15 15:26:25,286 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:25,286 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:26:25 +08:00

2018-05-15 15:26:25,288 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 15:26:25,288 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:25,289 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:26:25 +08:00

2018-05-15 15:26:25,289 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:26:25 +08:00

2018-05-15 15:26:25,289 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1)
    )  AS [GroupBy1]
2018-05-15 15:26:25,289 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:25,289 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-15 15:26:25,289 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '4' (Type = Int64)

2018-05-15 15:26:25,289 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:26:25 +08:00

2018-05-15 15:26:25,292 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-15 15:26:25,292 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:25,292 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:26:25 +08:00

2018-05-15 15:26:25,293 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:26:25 +08:00

2018-05-15 15:26:25,293 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-15 15:26:25,293 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:25,293 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:26:25 +08:00

2018-05-15 15:26:25,294 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 15:26:25,295 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:25,295 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:26:25 +08:00

2018-05-15 15:26:25,295 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:26:25 +08:00

2018-05-15 15:26:25,296 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1) AND ([Extent1].[ToIntegralTypeId] = @p__linq__2) AND ([Extent1].[PlatformUserId] = @p__linq__3)
    )  AS [GroupBy1]
2018-05-15 15:26:25,296 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:25,296 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-15 15:26:25,296 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '4' (Type = Int64)

2018-05-15 15:26:25,296 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2' (Type = Int64, IsNullable = false)

2018-05-15 15:26:25,296 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '1' (Type = Int64, IsNullable = false)

2018-05-15 15:26:25,296 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:26:25 +08:00

2018-05-15 15:26:25,298 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-15 15:26:25,298 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:25,298 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:26:25 +08:00

2018-05-15 15:26:25,299 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:26:25 +08:00

2018-05-15 15:26:25,299 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1) AND ([Extent1].[ToIntegralTypeId] = @p__linq__2) AND ([Extent1].[PlatformUserId] = @p__linq__3)
    )  AS [GroupBy1]
2018-05-15 15:26:25,299 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:25,299 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-15 15:26:25,299 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '4' (Type = Int64)

2018-05-15 15:26:25,299 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '3' (Type = Int64, IsNullable = false)

2018-05-15 15:26:25,299 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '1' (Type = Int64, IsNullable = false)

2018-05-15 15:26:25,299 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:26:25 +08:00

2018-05-15 15:26:25,300 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:26:25,300 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:25,300 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:26:25 +08:00

2018-05-15 15:26:25,300 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:26:25 +08:00

2018-05-15 15:26:25,302 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-15 15:26:25,302 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:25,302 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-15 15:26:25,303 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '4' (Type = Int64)

2018-05-15 15:26:25,303 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:26:25 +08:00

2018-05-15 15:26:25,306 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2018-05-15 15:26:25,306 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:25,306 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:26:25 +08:00

2018-05-15 15:26:25,306 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:26:25 +08:00

2018-05-15 15:26:25,306 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 15:26:25,306 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:25,306 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-15 15:26:25,306 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:26:25 +08:00

2018-05-15 15:26:25,307 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:26:25,307 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:25,308 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:26:25 +08:00

2018-05-15 15:26:25,308 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:26:25 +08:00

2018-05-15 15:26:25,308 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 15:26:25,308 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:25,308 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '4' (Type = Int64, IsNullable = false)

2018-05-15 15:26:25,308 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:26:25 +08:00

2018-05-15 15:26:25,310 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:26:25,310 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:25,310 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:26:25 +08:00

2018-05-15 15:26:25,310 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:26:25 +08:00

2018-05-15 15:26:25,310 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 15:26:25,310 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:25,310 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-15 15:26:25,310 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:26:25 +08:00

2018-05-15 15:26:25,311 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:26:25,311 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:25,311 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:26:25 +08:00

2018-05-15 15:26:29,720 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:26:29 +08:00

2018-05-15 15:26:29,721 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (([Extent1].[Description] = @p__linq__0) OR (([Extent1].[Description] IS NULL) AND (@p__linq__0 IS NULL)))
2018-05-15 15:26:29,721 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:29,721 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '消费' (Type = String, Size = 4000)

2018-05-15 15:26:29,721 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:26:29 +08:00

2018-05-15 15:26:29,722 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 15:26:29,722 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:29,723 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:26:29 +08:00

2018-05-15 15:26:29,723 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:26:29 +08:00

2018-05-15 15:26:29,723 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-15 15:26:29,724 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:29,724 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:26:29 +08:00

2018-05-15 15:26:29,724 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:26:29,724 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:29,724 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:26:29 +08:00

2018-05-15 15:26:29,724 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:26:29 +08:00

2018-05-15 15:26:29,724 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-15 15:26:29,724 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:29,724 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:26:29 +08:00

2018-05-15 15:26:29,725 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:26:29,725 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:29,725 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:26:29 +08:00

2018-05-15 15:26:29,725 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:26:29 +08:00

2018-05-15 15:26:29,725 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1)
    )  AS [GroupBy1]
2018-05-15 15:26:29,725 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:29,725 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-15 15:26:29,725 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '4' (Type = Int64)

2018-05-15 15:26:29,725 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:26:29 +08:00

2018-05-15 15:26:29,726 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:26:29,726 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:29,726 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:26:29 +08:00

2018-05-15 15:26:29,726 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:26:29 +08:00

2018-05-15 15:26:29,726 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-15 15:26:29,726 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:29,726 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:26:29 +08:00

2018-05-15 15:26:29,728 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:26:29,728 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:29,728 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:26:29 +08:00

2018-05-15 15:26:29,728 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:26:29 +08:00

2018-05-15 15:26:29,729 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1) AND ([Extent1].[ToIntegralTypeId] = @p__linq__2) AND ([Extent1].[PlatformUserId] = @p__linq__3)
    )  AS [GroupBy1]
2018-05-15 15:26:29,729 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:29,729 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-15 15:26:29,729 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '4' (Type = Int64)

2018-05-15 15:26:29,729 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2' (Type = Int64, IsNullable = false)

2018-05-15 15:26:29,729 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '1' (Type = Int64, IsNullable = false)

2018-05-15 15:26:29,729 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:26:29 +08:00

2018-05-15 15:26:29,729 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:26:29,729 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:29,729 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:26:29 +08:00

2018-05-15 15:26:29,730 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:26:29 +08:00

2018-05-15 15:26:29,730 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1) AND ([Extent1].[ToIntegralTypeId] = @p__linq__2) AND ([Extent1].[PlatformUserId] = @p__linq__3)
    )  AS [GroupBy1]
2018-05-15 15:26:29,730 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:29,730 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-15 15:26:29,730 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '4' (Type = Int64)

2018-05-15 15:26:29,730 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '3' (Type = Int64, IsNullable = false)

2018-05-15 15:26:29,730 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '1' (Type = Int64, IsNullable = false)

2018-05-15 15:26:29,730 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:26:29 +08:00

2018-05-15 15:26:29,731 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:26:29,731 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:29,731 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:26:29 +08:00

2018-05-15 15:26:29,731 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:26:29 +08:00

2018-05-15 15:26:29,731 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-15 15:26:29,731 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:29,731 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-15 15:26:29,731 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '4' (Type = Int64)

2018-05-15 15:26:29,731 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:26:29 +08:00

2018-05-15 15:26:29,732 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:26:29,732 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:29,732 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:26:29 +08:00

2018-05-15 15:26:29,732 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:26:29 +08:00

2018-05-15 15:26:29,732 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 15:26:29,732 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:29,732 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-15 15:26:29,732 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:26:29 +08:00

2018-05-15 15:26:29,733 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:26:29,733 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:29,733 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:26:29 +08:00

2018-05-15 15:26:29,733 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:26:29 +08:00

2018-05-15 15:26:29,733 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 15:26:29,733 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:29,733 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '4' (Type = Int64, IsNullable = false)

2018-05-15 15:26:29,733 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:26:29 +08:00

2018-05-15 15:26:29,733 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:26:29,733 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:29,733 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:26:29 +08:00

2018-05-15 15:26:29,734 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:26:29 +08:00

2018-05-15 15:26:29,734 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 15:26:29,734 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:29,734 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-15 15:26:29,734 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:26:29 +08:00

2018-05-15 15:26:29,734 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:26:29,734 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:29,734 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:26:29 +08:00

2018-05-15 15:26:34,812 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:26:34 +08:00

2018-05-15 15:26:34,812 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2018-05-15 15:26:34,812 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:34,812 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64, IsNullable = false)

2018-05-15 15:26:34,812 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:26:34 +08:00

2018-05-15 15:26:34,814 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 15:26:34,814 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:34,814 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:26:34 +08:00

2018-05-15 15:26:34,814 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:26:34 +08:00

2018-05-15 15:26:34,814 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 15:26:34,814 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:34,814 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-15 15:26:34,814 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:26:34 +08:00

2018-05-15 15:26:34,816 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 15:26:34,816 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:34,816 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:26:34 +08:00

2018-05-15 15:26:34,816 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:26:34 +08:00

2018-05-15 15:26:34,816 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-15 15:26:34,816 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:34,817 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:26:34 +08:00

2018-05-15 15:26:34,817 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:26:34,817 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:34,817 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:26:34 +08:00

2018-05-15 15:26:34,817 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:26:34 +08:00

2018-05-15 15:26:34,817 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-15 15:26:34,817 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:34,817 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:26:34 +08:00

2018-05-15 15:26:34,818 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:26:34,818 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:34,818 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:26:34 +08:00

2018-05-15 15:26:34,818 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:26:34 +08:00

2018-05-15 15:26:34,818 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-15 15:26:34,818 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:34,818 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 15:26:34,818 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:26:34 +08:00

2018-05-15 15:26:34,820 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-15 15:26:34,820 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:34,821 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:26:34 +08:00

2018-05-15 15:26:34,821 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:26:34 +08:00

2018-05-15 15:26:34,821 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-15 15:26:34,821 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:34,821 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:26:34 +08:00

2018-05-15 15:26:34,822 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:26:34,822 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:34,822 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:26:34 +08:00

2018-05-15 15:26:34,822 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:26:34 +08:00

2018-05-15 15:26:34,822 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-15 15:26:34,822 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:34,822 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 15:26:34,822 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2' (Type = Int64, IsNullable = false)

2018-05-15 15:26:34,823 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-15 15:26:34,823 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:26:34 +08:00

2018-05-15 15:26:34,825 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-15 15:26:34,825 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:34,825 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:26:34 +08:00

2018-05-15 15:26:34,825 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:26:34 +08:00

2018-05-15 15:26:34,826 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-15 15:26:34,826 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:34,826 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 15:26:34,826 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '3' (Type = Int64, IsNullable = false)

2018-05-15 15:26:34,826 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-15 15:26:34,826 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:26:34 +08:00

2018-05-15 15:26:34,826 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:26:34,826 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:34,826 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:26:34 +08:00

2018-05-15 15:26:34,827 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:26:34 +08:00

2018-05-15 15:26:34,827 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-15 15:26:34,827 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:34,827 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 15:26:34,827 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:26:34 +08:00

2018-05-15 15:26:34,830 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-15 15:26:34,830 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:34,830 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:26:34 +08:00

2018-05-15 15:26:34,830 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:26:34 +08:00

2018-05-15 15:26:34,830 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 15:26:34,830 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:34,830 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 15:26:34,830 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:26:34 +08:00

2018-05-15 15:26:34,831 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:26:34,831 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:34,831 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:26:34 +08:00

2018-05-15 15:26:34,831 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:26:34 +08:00

2018-05-15 15:26:34,831 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 15:26:34,831 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:34,831 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-15 15:26:34,831 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:26:34 +08:00

2018-05-15 15:26:34,831 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:26:34,831 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:34,832 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:26:34 +08:00

2018-05-15 15:26:34,832 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:26:34 +08:00

2018-05-15 15:26:34,832 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 15:26:34,832 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:34,832 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 15:26:34,832 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:26:34 +08:00

2018-05-15 15:26:34,833 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:26:34,833 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:34,833 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:26:34 +08:00

2018-05-15 15:26:34,833 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:26:34 +08:00

2018-05-15 15:26:34,833 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 15:26:34,833 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:34,833 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-15 15:26:34,833 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:26:34 +08:00

2018-05-15 15:26:34,833 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:26:34,833 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:34,833 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:26:34 +08:00

2018-05-15 15:26:34,834 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:26:34 +08:00

2018-05-15 15:26:34,834 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 15:26:34,834 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:34,834 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '6' (Type = Int64, IsNullable = false)

2018-05-15 15:26:34,834 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:26:34 +08:00

2018-05-15 15:26:34,834 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:26:34,834 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:34,834 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:26:34 +08:00

2018-05-15 15:26:37,730 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:26:37 +08:00

2018-05-15 15:26:37,730 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (([Extent1].[Description] = @p__linq__0) OR (([Extent1].[Description] IS NULL) AND (@p__linq__0 IS NULL)))
2018-05-15 15:26:37,730 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:37,730 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '消费' (Type = String, Size = 4000)

2018-05-15 15:26:37,730 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:26:37 +08:00

2018-05-15 15:26:37,731 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:26:37,731 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:37,731 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:26:37 +08:00

2018-05-15 15:26:37,731 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:26:37 +08:00

2018-05-15 15:26:37,732 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-15 15:26:37,732 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:37,732 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:26:37 +08:00

2018-05-15 15:26:37,732 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:26:37,732 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:37,732 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:26:37 +08:00

2018-05-15 15:26:37,732 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:26:37 +08:00

2018-05-15 15:26:37,733 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-15 15:26:37,733 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:37,733 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:26:37 +08:00

2018-05-15 15:26:37,733 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:26:37,733 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:37,733 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:26:37 +08:00

2018-05-15 15:26:37,733 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:26:37 +08:00

2018-05-15 15:26:37,734 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1)
    )  AS [GroupBy1]
2018-05-15 15:26:37,734 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:37,734 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-15 15:26:37,734 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '4' (Type = Int64)

2018-05-15 15:26:37,734 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:26:37 +08:00

2018-05-15 15:26:37,734 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:26:37,734 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:37,734 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:26:37 +08:00

2018-05-15 15:26:37,734 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:26:37 +08:00

2018-05-15 15:26:37,735 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-15 15:26:37,735 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:37,735 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:26:37 +08:00

2018-05-15 15:26:37,736 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 15:26:37,736 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:37,736 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:26:37 +08:00

2018-05-15 15:26:37,737 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:26:37 +08:00

2018-05-15 15:26:37,737 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1) AND ([Extent1].[ToIntegralTypeId] = @p__linq__2) AND ([Extent1].[PlatformUserId] = @p__linq__3)
    )  AS [GroupBy1]
2018-05-15 15:26:37,737 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:37,737 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-15 15:26:37,737 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '4' (Type = Int64)

2018-05-15 15:26:37,737 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2' (Type = Int64, IsNullable = false)

2018-05-15 15:26:37,737 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '1' (Type = Int64, IsNullable = false)

2018-05-15 15:26:37,737 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:26:37 +08:00

2018-05-15 15:26:37,738 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:26:37,738 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:37,738 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:26:37 +08:00

2018-05-15 15:26:37,738 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:26:37 +08:00

2018-05-15 15:26:37,738 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1) AND ([Extent1].[ToIntegralTypeId] = @p__linq__2) AND ([Extent1].[PlatformUserId] = @p__linq__3)
    )  AS [GroupBy1]
2018-05-15 15:26:37,738 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:37,739 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-15 15:26:37,739 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '4' (Type = Int64)

2018-05-15 15:26:37,739 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '3' (Type = Int64, IsNullable = false)

2018-05-15 15:26:37,739 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '1' (Type = Int64, IsNullable = false)

2018-05-15 15:26:37,739 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:26:37 +08:00

2018-05-15 15:26:37,739 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:26:37,739 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:37,739 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:26:37 +08:00

2018-05-15 15:26:37,739 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:26:37 +08:00

2018-05-15 15:26:37,740 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-15 15:26:37,740 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:37,740 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-15 15:26:37,740 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '4' (Type = Int64)

2018-05-15 15:26:37,740 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:26:37 +08:00

2018-05-15 15:26:37,741 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:26:37,741 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:37,741 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:26:37 +08:00

2018-05-15 15:26:37,741 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:26:37 +08:00

2018-05-15 15:26:37,741 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 15:26:37,741 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:37,741 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-15 15:26:37,741 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:26:37 +08:00

2018-05-15 15:26:37,742 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:26:37,742 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:37,742 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:26:37 +08:00

2018-05-15 15:26:37,742 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:26:37 +08:00

2018-05-15 15:26:37,742 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 15:26:37,742 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:37,742 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '4' (Type = Int64, IsNullable = false)

2018-05-15 15:26:37,742 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:26:37 +08:00

2018-05-15 15:26:37,742 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:26:37,743 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:37,743 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:26:37 +08:00

2018-05-15 15:26:37,743 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:26:37 +08:00

2018-05-15 15:26:37,743 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 15:26:37,743 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:37,743 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-15 15:26:37,743 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:26:37 +08:00

2018-05-15 15:26:37,743 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:26:37,743 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:37,743 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:26:37 +08:00

2018-05-15 15:26:42,936 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:26:42 +08:00

2018-05-15 15:26:42,937 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2018-05-15 15:26:42,937 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:42,937 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64, IsNullable = false)

2018-05-15 15:26:42,937 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:26:42 +08:00

2018-05-15 15:26:42,938 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:26:42,938 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:42,938 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:26:42 +08:00

2018-05-15 15:26:42,938 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:26:42 +08:00

2018-05-15 15:26:42,938 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 15:26:42,938 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:42,938 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-15 15:26:42,938 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:26:42 +08:00

2018-05-15 15:26:42,939 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:26:42,939 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:42,939 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:26:42 +08:00

2018-05-15 15:26:42,939 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:26:42 +08:00

2018-05-15 15:26:42,939 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-15 15:26:42,939 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:42,939 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:26:42 +08:00

2018-05-15 15:26:42,940 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:26:42,940 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:42,940 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:26:42 +08:00

2018-05-15 15:26:42,940 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:26:42 +08:00

2018-05-15 15:26:42,940 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-15 15:26:42,940 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:42,940 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:26:42 +08:00

2018-05-15 15:26:42,942 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 15:26:42,942 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:42,942 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:26:42 +08:00

2018-05-15 15:26:42,942 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:26:42 +08:00

2018-05-15 15:26:42,942 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-15 15:26:42,942 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:42,942 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 15:26:42,942 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:26:42 +08:00

2018-05-15 15:26:42,943 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:26:42,943 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:42,943 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:26:42 +08:00

2018-05-15 15:26:42,943 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:26:42 +08:00

2018-05-15 15:26:42,943 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-15 15:26:42,943 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:42,944 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:26:42 +08:00

2018-05-15 15:26:42,944 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:26:42,944 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:42,944 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:26:42 +08:00

2018-05-15 15:26:42,944 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:26:42 +08:00

2018-05-15 15:26:42,945 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-15 15:26:42,945 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:42,945 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 15:26:42,945 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2' (Type = Int64, IsNullable = false)

2018-05-15 15:26:42,945 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-15 15:26:42,945 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:26:42 +08:00

2018-05-15 15:26:42,945 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:26:42,945 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:42,945 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:26:42 +08:00

2018-05-15 15:26:42,945 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:26:42 +08:00

2018-05-15 15:26:42,946 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-15 15:26:42,946 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:42,946 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 15:26:42,946 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '3' (Type = Int64, IsNullable = false)

2018-05-15 15:26:42,946 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-15 15:26:42,946 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:26:42 +08:00

2018-05-15 15:26:42,947 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 15:26:42,947 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:42,947 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:26:42 +08:00

2018-05-15 15:26:42,948 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:26:42 +08:00

2018-05-15 15:26:42,948 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-15 15:26:42,948 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:42,948 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 15:26:42,948 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:26:42 +08:00

2018-05-15 15:26:42,949 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:26:42,949 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:42,949 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:26:42 +08:00

2018-05-15 15:26:42,949 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:26:42 +08:00

2018-05-15 15:26:42,949 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 15:26:42,949 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:42,949 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 15:26:42,949 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:26:42 +08:00

2018-05-15 15:26:42,950 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:26:42,950 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:42,950 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:26:42 +08:00

2018-05-15 15:26:42,950 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:26:42 +08:00

2018-05-15 15:26:42,950 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 15:26:42,950 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:42,950 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-15 15:26:42,950 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:26:42 +08:00

2018-05-15 15:26:42,950 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:26:42,950 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:42,951 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:26:42 +08:00

2018-05-15 15:26:42,951 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:26:42 +08:00

2018-05-15 15:26:42,951 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 15:26:42,951 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:42,951 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 15:26:42,951 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:26:42 +08:00

2018-05-15 15:26:42,951 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:26:42,951 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:42,951 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:26:42 +08:00

2018-05-15 15:26:42,951 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:26:42 +08:00

2018-05-15 15:26:42,951 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 15:26:42,951 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:42,951 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-15 15:26:42,951 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:26:42 +08:00

2018-05-15 15:26:42,952 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:26:42,952 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:42,952 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:26:42 +08:00

2018-05-15 15:26:42,952 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:26:42 +08:00

2018-05-15 15:26:42,952 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 15:26:42,952 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:42,952 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '6' (Type = Int64, IsNullable = false)

2018-05-15 15:26:42,952 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:26:42 +08:00

2018-05-15 15:26:42,953 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:26:42,953 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:42,953 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:26:42 +08:00

2018-05-15 15:26:45,797 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:26:45 +08:00

2018-05-15 15:26:45,797 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (([Extent1].[Description] = @p__linq__0) OR (([Extent1].[Description] IS NULL) AND (@p__linq__0 IS NULL)))
2018-05-15 15:26:45,797 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:45,797 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '消费' (Type = String, Size = 4000)

2018-05-15 15:26:45,797 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:26:45 +08:00

2018-05-15 15:26:45,797 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:26:45,797 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:45,798 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:26:45 +08:00

2018-05-15 15:26:45,798 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:26:45 +08:00

2018-05-15 15:26:45,798 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-15 15:26:45,798 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:45,798 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:26:45 +08:00

2018-05-15 15:26:45,799 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:26:45,799 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:45,799 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:26:45 +08:00

2018-05-15 15:26:45,799 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:26:45 +08:00

2018-05-15 15:26:45,799 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-15 15:26:45,799 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:45,799 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:26:45 +08:00

2018-05-15 15:26:45,799 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:26:45,799 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:45,799 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:26:45 +08:00

2018-05-15 15:26:45,800 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:26:45 +08:00

2018-05-15 15:26:45,800 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1)
    )  AS [GroupBy1]
2018-05-15 15:26:45,800 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:45,800 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-15 15:26:45,800 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '4' (Type = Int64)

2018-05-15 15:26:45,800 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:26:45 +08:00

2018-05-15 15:26:45,800 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:26:45,800 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:45,801 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:26:45 +08:00

2018-05-15 15:26:45,801 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:26:45 +08:00

2018-05-15 15:26:45,801 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-15 15:26:45,801 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:45,801 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:26:45 +08:00

2018-05-15 15:26:45,802 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 15:26:45,803 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:45,803 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:26:45 +08:00

2018-05-15 15:26:45,803 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:26:45 +08:00

2018-05-15 15:26:45,804 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1) AND ([Extent1].[ToIntegralTypeId] = @p__linq__2) AND ([Extent1].[PlatformUserId] = @p__linq__3)
    )  AS [GroupBy1]
2018-05-15 15:26:45,804 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:45,804 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-15 15:26:45,804 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '4' (Type = Int64)

2018-05-15 15:26:45,804 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2' (Type = Int64, IsNullable = false)

2018-05-15 15:26:45,804 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '1' (Type = Int64, IsNullable = false)

2018-05-15 15:26:45,804 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:26:45 +08:00

2018-05-15 15:26:45,804 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:26:45,804 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:45,805 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:26:45 +08:00

2018-05-15 15:26:45,805 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:26:45 +08:00

2018-05-15 15:26:45,805 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1) AND ([Extent1].[ToIntegralTypeId] = @p__linq__2) AND ([Extent1].[PlatformUserId] = @p__linq__3)
    )  AS [GroupBy1]
2018-05-15 15:26:45,805 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:45,805 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-15 15:26:45,805 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '4' (Type = Int64)

2018-05-15 15:26:45,805 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '3' (Type = Int64, IsNullable = false)

2018-05-15 15:26:45,805 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '1' (Type = Int64, IsNullable = false)

2018-05-15 15:26:45,805 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:26:45 +08:00

2018-05-15 15:26:45,806 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:26:45,806 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:45,806 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:26:45 +08:00

2018-05-15 15:26:45,806 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:26:45 +08:00

2018-05-15 15:26:45,806 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-15 15:26:45,806 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:45,806 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-15 15:26:45,807 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '4' (Type = Int64)

2018-05-15 15:26:45,807 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:26:45 +08:00

2018-05-15 15:26:45,807 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:26:45,807 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:45,807 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:26:45 +08:00

2018-05-15 15:26:45,808 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:26:45 +08:00

2018-05-15 15:26:45,808 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 15:26:45,808 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:45,808 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-15 15:26:45,808 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:26:45 +08:00

2018-05-15 15:26:45,808 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:26:45,808 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:45,808 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:26:45 +08:00

2018-05-15 15:26:45,808 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:26:45 +08:00

2018-05-15 15:26:45,808 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 15:26:45,808 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:45,808 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '4' (Type = Int64, IsNullable = false)

2018-05-15 15:26:45,808 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:26:45 +08:00

2018-05-15 15:26:45,814 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 5 ms with result: SqlDataReader

2018-05-15 15:26:45,814 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:45,814 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:26:45 +08:00

2018-05-15 15:26:45,814 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:26:45 +08:00

2018-05-15 15:26:45,815 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 15:26:45,815 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:45,815 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-15 15:26:45,815 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:26:45 +08:00

2018-05-15 15:26:45,815 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:26:45,815 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:45,815 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:26:45 +08:00

2018-05-15 15:26:49,229 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:26:49 +08:00

2018-05-15 15:26:49,230 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (([Extent1].[Description] = @p__linq__0) OR (([Extent1].[Description] IS NULL) AND (@p__linq__0 IS NULL)))
2018-05-15 15:26:49,230 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:49,230 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '赠送' (Type = String, Size = 4000)

2018-05-15 15:26:49,230 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:26:49 +08:00

2018-05-15 15:26:49,232 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-15 15:26:49,232 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:49,232 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:26:49 +08:00

2018-05-15 15:26:49,233 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:26:49 +08:00

2018-05-15 15:26:49,233 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-15 15:26:49,233 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:49,233 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:26:49 +08:00

2018-05-15 15:26:49,234 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:26:49,234 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:49,234 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:26:49 +08:00

2018-05-15 15:26:49,234 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:26:49 +08:00

2018-05-15 15:26:49,234 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-15 15:26:49,234 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:49,234 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:26:49 +08:00

2018-05-15 15:26:49,236 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 15:26:49,236 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:49,236 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:26:49 +08:00

2018-05-15 15:26:49,237 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:26:49 +08:00

2018-05-15 15:26:49,237 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1)
    )  AS [GroupBy1]
2018-05-15 15:26:49,237 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:49,237 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-15 15:26:49,237 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '3' (Type = Int64)

2018-05-15 15:26:49,237 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:26:49 +08:00

2018-05-15 15:26:49,238 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 15:26:49,238 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:49,240 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:26:49 +08:00

2018-05-15 15:26:49,240 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:26:49 +08:00

2018-05-15 15:26:49,240 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-15 15:26:49,240 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:49,240 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:26:49 +08:00

2018-05-15 15:26:49,241 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:26:49,241 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:49,241 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:26:49 +08:00

2018-05-15 15:26:49,241 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:26:49 +08:00

2018-05-15 15:26:49,241 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1) AND ([Extent1].[ToIntegralTypeId] = @p__linq__2) AND ([Extent1].[PlatformUserId] = @p__linq__3)
    )  AS [GroupBy1]
2018-05-15 15:26:49,241 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:49,242 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-15 15:26:49,242 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '3' (Type = Int64)

2018-05-15 15:26:49,242 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2' (Type = Int64, IsNullable = false)

2018-05-15 15:26:49,242 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '1' (Type = Int64, IsNullable = false)

2018-05-15 15:26:49,242 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:26:49 +08:00

2018-05-15 15:26:49,242 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:26:49,242 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:49,242 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:26:49 +08:00

2018-05-15 15:26:49,242 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:26:49 +08:00

2018-05-15 15:26:49,243 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1) AND ([Extent1].[ToIntegralTypeId] = @p__linq__2) AND ([Extent1].[PlatformUserId] = @p__linq__3)
    )  AS [GroupBy1]
2018-05-15 15:26:49,243 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:49,243 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-15 15:26:49,243 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '3' (Type = Int64)

2018-05-15 15:26:49,243 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '3' (Type = Int64, IsNullable = false)

2018-05-15 15:26:49,243 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '1' (Type = Int64, IsNullable = false)

2018-05-15 15:26:49,243 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:26:49 +08:00

2018-05-15 15:26:49,243 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:26:49,243 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:49,243 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:26:49 +08:00

2018-05-15 15:26:49,243 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:26:49 +08:00

2018-05-15 15:26:49,245 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-15 15:26:49,245 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:49,245 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-15 15:26:49,245 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '3' (Type = Int64)

2018-05-15 15:26:49,246 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:26:49 +08:00

2018-05-15 15:26:49,253 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 7 ms with result: SqlDataReader

2018-05-15 15:26:49,253 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:49,254 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:26:49 +08:00

2018-05-15 15:26:49,254 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:26:49 +08:00

2018-05-15 15:26:49,254 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 15:26:49,254 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:49,254 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-15 15:26:49,254 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:26:49 +08:00

2018-05-15 15:26:49,255 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:26:49,255 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:49,255 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:26:49 +08:00

2018-05-15 15:26:49,255 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:26:49 +08:00

2018-05-15 15:26:49,255 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 15:26:49,255 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:49,255 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-15 15:26:49,255 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:26:49 +08:00

2018-05-15 15:26:49,255 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:26:49,255 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:49,255 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:26:49 +08:00

2018-05-15 15:26:49,256 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:26:49 +08:00

2018-05-15 15:26:49,256 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 15:26:49,256 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:49,256 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '5' (Type = Int64, IsNullable = false)

2018-05-15 15:26:49,256 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:26:49 +08:00

2018-05-15 15:26:49,256 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:26:49,256 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:49,256 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:26:49 +08:00

2018-05-15 15:26:52,670 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:26:52 +08:00

2018-05-15 15:26:52,670 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (([Extent1].[Description] = @p__linq__0) OR (([Extent1].[Description] IS NULL) AND (@p__linq__0 IS NULL)))
2018-05-15 15:26:52,670 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:52,670 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '消费' (Type = String, Size = 4000)

2018-05-15 15:26:52,670 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:26:52 +08:00

2018-05-15 15:26:52,671 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:26:52,671 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:52,671 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:26:52 +08:00

2018-05-15 15:26:52,671 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:26:52 +08:00

2018-05-15 15:26:52,672 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-15 15:26:52,672 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:52,672 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:26:52 +08:00

2018-05-15 15:26:52,672 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:26:52,672 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:52,672 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:26:52 +08:00

2018-05-15 15:26:52,673 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:26:52 +08:00

2018-05-15 15:26:52,673 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-15 15:26:52,673 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:52,673 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:26:52 +08:00

2018-05-15 15:26:52,673 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:26:52,673 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:52,673 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:26:52 +08:00

2018-05-15 15:26:52,674 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:26:52 +08:00

2018-05-15 15:26:52,674 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1)
    )  AS [GroupBy1]
2018-05-15 15:26:52,674 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:52,674 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-15 15:26:52,674 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '4' (Type = Int64)

2018-05-15 15:26:52,674 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:26:52 +08:00

2018-05-15 15:26:52,674 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:26:52,674 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:52,674 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:26:52 +08:00

2018-05-15 15:26:52,675 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:26:52 +08:00

2018-05-15 15:26:52,675 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-15 15:26:52,675 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:52,675 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:26:52 +08:00

2018-05-15 15:26:52,675 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:26:52,675 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:52,676 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:26:52 +08:00

2018-05-15 15:26:52,676 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:26:52 +08:00

2018-05-15 15:26:52,677 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1) AND ([Extent1].[ToIntegralTypeId] = @p__linq__2) AND ([Extent1].[PlatformUserId] = @p__linq__3)
    )  AS [GroupBy1]
2018-05-15 15:26:52,677 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:52,677 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-15 15:26:52,677 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '4' (Type = Int64)

2018-05-15 15:26:52,677 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2' (Type = Int64, IsNullable = false)

2018-05-15 15:26:52,677 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '1' (Type = Int64, IsNullable = false)

2018-05-15 15:26:52,677 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:26:52 +08:00

2018-05-15 15:26:52,677 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:26:52,677 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:52,677 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:26:52 +08:00

2018-05-15 15:26:52,677 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:26:52 +08:00

2018-05-15 15:26:52,680 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1) AND ([Extent1].[ToIntegralTypeId] = @p__linq__2) AND ([Extent1].[PlatformUserId] = @p__linq__3)
    )  AS [GroupBy1]
2018-05-15 15:26:52,680 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:52,680 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-15 15:26:52,680 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '4' (Type = Int64)

2018-05-15 15:26:52,680 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '3' (Type = Int64, IsNullable = false)

2018-05-15 15:26:52,680 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '1' (Type = Int64, IsNullable = false)

2018-05-15 15:26:52,680 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:26:52 +08:00

2018-05-15 15:26:52,680 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:26:52,680 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:52,680 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:26:52 +08:00

2018-05-15 15:26:52,681 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:26:52 +08:00

2018-05-15 15:26:52,681 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-15 15:26:52,681 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:52,681 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-15 15:26:52,681 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '4' (Type = Int64)

2018-05-15 15:26:52,681 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:26:52 +08:00

2018-05-15 15:26:52,683 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 15:26:52,683 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:52,684 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:26:52 +08:00

2018-05-15 15:26:52,684 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:26:52 +08:00

2018-05-15 15:26:52,684 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 15:26:52,684 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:52,684 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-15 15:26:52,684 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:26:52 +08:00

2018-05-15 15:26:52,684 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:26:52,684 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:52,684 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:26:52 +08:00

2018-05-15 15:26:52,684 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:26:52 +08:00

2018-05-15 15:26:52,685 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 15:26:52,685 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:52,685 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '4' (Type = Int64, IsNullable = false)

2018-05-15 15:26:52,685 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:26:52 +08:00

2018-05-15 15:26:52,686 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:26:52,686 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:52,686 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:26:52 +08:00

2018-05-15 15:26:52,686 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:26:52 +08:00

2018-05-15 15:26:52,686 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 15:26:52,686 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:52,686 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-15 15:26:52,686 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:26:52 +08:00

2018-05-15 15:26:52,686 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:26:52,686 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:26:52,687 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:26:52 +08:00

2018-05-15 15:27:35,616 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:27:35 +08:00

2018-05-15 15:27:35,617 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (([Extent1].[Description] = @p__linq__0) OR (([Extent1].[Description] IS NULL) AND (@p__linq__0 IS NULL)))
2018-05-15 15:27:35,617 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:27:35,617 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '消费' (Type = String, Size = 4000)

2018-05-15 15:27:35,617 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:27:35 +08:00

2018-05-15 15:27:35,620 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-15 15:27:35,620 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:27:35,620 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:27:35 +08:00

2018-05-15 15:27:35,621 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:27:35 +08:00

2018-05-15 15:27:35,621 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-15 15:27:35,621 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:27:35,621 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:27:35 +08:00

2018-05-15 15:27:35,622 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 15:27:35,622 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:27:35,622 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:27:35 +08:00

2018-05-15 15:27:35,623 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:27:35 +08:00

2018-05-15 15:27:35,623 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-15 15:27:35,623 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:27:35,623 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:27:35 +08:00

2018-05-15 15:27:35,624 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:27:35,624 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:27:35,624 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:27:35 +08:00

2018-05-15 15:27:35,624 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:27:35 +08:00

2018-05-15 15:27:35,624 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1)
    )  AS [GroupBy1]
2018-05-15 15:27:35,625 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:27:35,625 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-15 15:27:35,625 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '4' (Type = Int64)

2018-05-15 15:27:35,625 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:27:35 +08:00

2018-05-15 15:27:35,627 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-15 15:27:35,627 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:27:35,627 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:27:35 +08:00

2018-05-15 15:27:35,628 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:27:35 +08:00

2018-05-15 15:27:35,628 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-15 15:27:35,628 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:27:35,628 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:27:35 +08:00

2018-05-15 15:27:35,630 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 15:27:35,630 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:27:35,630 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:27:35 +08:00

2018-05-15 15:27:35,630 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:27:35 +08:00

2018-05-15 15:27:35,631 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1) AND ([Extent1].[ToIntegralTypeId] = @p__linq__2) AND ([Extent1].[PlatformUserId] = @p__linq__3)
    )  AS [GroupBy1]
2018-05-15 15:27:35,631 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:27:35,631 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-15 15:27:35,631 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '4' (Type = Int64)

2018-05-15 15:27:35,631 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2' (Type = Int64, IsNullable = false)

2018-05-15 15:27:35,631 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '1' (Type = Int64, IsNullable = false)

2018-05-15 15:27:35,631 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:27:35 +08:00

2018-05-15 15:27:35,634 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-15 15:27:35,634 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:27:35,634 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:27:35 +08:00

2018-05-15 15:27:35,635 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:27:35 +08:00

2018-05-15 15:27:35,636 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1) AND ([Extent1].[ToIntegralTypeId] = @p__linq__2) AND ([Extent1].[PlatformUserId] = @p__linq__3)
    )  AS [GroupBy1]
2018-05-15 15:27:35,636 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:27:35,636 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-15 15:27:35,636 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '4' (Type = Int64)

2018-05-15 15:27:35,636 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '3' (Type = Int64, IsNullable = false)

2018-05-15 15:27:35,636 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '1' (Type = Int64, IsNullable = false)

2018-05-15 15:27:35,636 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:27:35 +08:00

2018-05-15 15:27:35,672 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 35 ms with result: SqlDataReader

2018-05-15 15:27:35,672 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:27:35,672 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:27:35 +08:00

2018-05-15 15:27:35,672 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:27:35 +08:00

2018-05-15 15:27:35,673 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-15 15:27:35,673 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:27:35,673 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-15 15:27:35,673 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '4' (Type = Int64)

2018-05-15 15:27:35,673 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:27:35 +08:00

2018-05-15 15:27:35,722 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 49 ms with result: SqlDataReader

2018-05-15 15:27:35,722 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:27:35,726 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:27:35 +08:00

2018-05-15 15:27:35,726 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:27:35 +08:00

2018-05-15 15:27:35,726 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 15:27:35,726 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:27:35,726 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-15 15:27:35,726 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:27:35 +08:00

2018-05-15 15:27:35,730 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 4 ms with result: SqlDataReader

2018-05-15 15:27:35,730 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:27:35,731 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:27:35 +08:00

2018-05-15 15:27:35,731 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:27:35 +08:00

2018-05-15 15:27:35,731 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 15:27:35,731 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:27:35,731 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '4' (Type = Int64, IsNullable = false)

2018-05-15 15:27:35,731 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:27:35 +08:00

2018-05-15 15:27:35,732 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:27:35,732 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:27:35,732 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:27:35 +08:00

2018-05-15 15:27:35,732 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:27:35 +08:00

2018-05-15 15:27:35,732 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 15:27:35,732 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:27:35,732 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-15 15:27:35,732 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:27:35 +08:00

2018-05-15 15:27:35,733 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:27:35,733 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:27:35,733 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:27:35 +08:00

2018-05-15 15:27:36,644 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:27:36 +08:00

2018-05-15 15:27:36,645 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (([Extent1].[Description] = @p__linq__0) OR (([Extent1].[Description] IS NULL) AND (@p__linq__0 IS NULL)))
2018-05-15 15:27:36,645 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:27:36,645 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '消费' (Type = String, Size = 4000)

2018-05-15 15:27:36,645 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:27:36 +08:00

2018-05-15 15:27:36,645 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:27:36,645 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:27:36,645 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:27:36 +08:00

2018-05-15 15:27:36,646 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:27:36 +08:00

2018-05-15 15:27:36,646 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-15 15:27:36,646 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:27:36,646 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:27:36 +08:00

2018-05-15 15:27:36,646 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:27:36,647 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:27:36,647 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:27:36 +08:00

2018-05-15 15:27:36,647 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:27:36 +08:00

2018-05-15 15:27:36,647 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-15 15:27:36,647 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:27:36,647 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:27:36 +08:00

2018-05-15 15:27:36,647 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:27:36,647 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:27:36,647 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:27:36 +08:00

2018-05-15 15:27:36,648 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:27:36 +08:00

2018-05-15 15:27:36,648 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1)
    )  AS [GroupBy1]
2018-05-15 15:27:36,648 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:27:36,648 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-15 15:27:36,648 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '4' (Type = Int64)

2018-05-15 15:27:36,648 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:27:36 +08:00

2018-05-15 15:27:36,649 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:27:36,649 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:27:36,649 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:27:36 +08:00

2018-05-15 15:27:36,649 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:27:36 +08:00

2018-05-15 15:27:36,649 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-15 15:27:36,649 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:27:36,649 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:27:36 +08:00

2018-05-15 15:27:36,650 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:27:36,650 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:27:36,650 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:27:36 +08:00

2018-05-15 15:27:36,650 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:27:36 +08:00

2018-05-15 15:27:36,651 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1) AND ([Extent1].[ToIntegralTypeId] = @p__linq__2) AND ([Extent1].[PlatformUserId] = @p__linq__3)
    )  AS [GroupBy1]
2018-05-15 15:27:36,651 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:27:36,651 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-15 15:27:36,651 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '4' (Type = Int64)

2018-05-15 15:27:36,651 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2' (Type = Int64, IsNullable = false)

2018-05-15 15:27:36,651 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '1' (Type = Int64, IsNullable = false)

2018-05-15 15:27:36,651 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:27:36 +08:00

2018-05-15 15:27:36,654 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 15:27:36,654 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:27:36,654 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:27:36 +08:00

2018-05-15 15:27:36,655 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:27:36 +08:00

2018-05-15 15:27:36,655 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1) AND ([Extent1].[ToIntegralTypeId] = @p__linq__2) AND ([Extent1].[PlatformUserId] = @p__linq__3)
    )  AS [GroupBy1]
2018-05-15 15:27:36,655 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:27:36,655 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-15 15:27:36,655 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '4' (Type = Int64)

2018-05-15 15:27:36,655 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '3' (Type = Int64, IsNullable = false)

2018-05-15 15:27:36,655 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '1' (Type = Int64, IsNullable = false)

2018-05-15 15:27:36,655 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:27:36 +08:00

2018-05-15 15:27:36,656 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:27:36,656 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:27:36,656 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:27:36 +08:00

2018-05-15 15:27:36,656 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:27:36 +08:00

2018-05-15 15:27:36,656 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-15 15:27:36,656 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:27:36,657 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-15 15:27:36,657 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '4' (Type = Int64)

2018-05-15 15:27:36,657 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:27:36 +08:00

2018-05-15 15:27:36,659 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 15:27:36,659 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:27:36,659 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:27:36 +08:00

2018-05-15 15:27:36,659 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:27:36 +08:00

2018-05-15 15:27:36,659 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 15:27:36,659 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:27:36,659 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-15 15:27:36,659 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:27:36 +08:00

2018-05-15 15:27:36,660 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:27:36,660 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:27:36,660 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:27:36 +08:00

2018-05-15 15:27:36,660 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:27:36 +08:00

2018-05-15 15:27:36,660 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 15:27:36,660 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:27:36,660 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '4' (Type = Int64, IsNullable = false)

2018-05-15 15:27:36,660 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:27:36 +08:00

2018-05-15 15:27:36,660 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:27:36,660 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:27:36,660 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:27:36 +08:00

2018-05-15 15:27:36,661 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:27:36 +08:00

2018-05-15 15:27:36,661 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 15:27:36,661 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:27:36,661 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-15 15:27:36,661 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:27:36 +08:00

2018-05-15 15:27:36,661 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:27:36,661 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:27:36,661 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:27:36 +08:00

2018-05-15 15:28:02,996 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:28:02 +08:00

2018-05-15 15:28:02,997 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (([Extent1].[Description] = @p__linq__0) OR (([Extent1].[Description] IS NULL) AND (@p__linq__0 IS NULL)))
2018-05-15 15:28:02,997 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:28:02,997 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '赠送' (Type = String, Size = 4000)

2018-05-15 15:28:02,997 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:28:02 +08:00

2018-05-15 15:28:02,999 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-15 15:28:02,999 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:28:03,000 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:28:03 +08:00

2018-05-15 15:28:03,001 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:28:03 +08:00

2018-05-15 15:28:03,002 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-15 15:28:03,002 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:28:03,002 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:28:03 +08:00

2018-05-15 15:28:03,003 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 15:28:03,003 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:28:03,003 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:28:03 +08:00

2018-05-15 15:28:03,003 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:28:03 +08:00

2018-05-15 15:28:03,004 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-15 15:28:03,004 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:28:03,004 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:28:03 +08:00

2018-05-15 15:28:03,005 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 15:28:03,005 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:28:03,005 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:28:03 +08:00

2018-05-15 15:28:03,005 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:28:03 +08:00

2018-05-15 15:28:03,006 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1)
    )  AS [GroupBy1]
2018-05-15 15:28:03,006 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:28:03,006 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-15 15:28:03,006 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '3' (Type = Int64)

2018-05-15 15:28:03,006 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:28:03 +08:00

2018-05-15 15:28:03,010 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2018-05-15 15:28:03,010 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:28:03,010 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:28:03 +08:00

2018-05-15 15:28:03,010 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:28:03 +08:00

2018-05-15 15:28:03,011 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-15 15:28:03,011 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:28:03,011 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:28:03 +08:00

2018-05-15 15:28:03,013 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-15 15:28:03,013 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:28:03,013 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:28:03 +08:00

2018-05-15 15:28:03,014 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:28:03 +08:00

2018-05-15 15:28:03,014 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1) AND ([Extent1].[ToIntegralTypeId] = @p__linq__2) AND ([Extent1].[PlatformUserId] = @p__linq__3)
    )  AS [GroupBy1]
2018-05-15 15:28:03,014 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:28:03,014 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-15 15:28:03,014 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '3' (Type = Int64)

2018-05-15 15:28:03,014 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2' (Type = Int64, IsNullable = false)

2018-05-15 15:28:03,014 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '1' (Type = Int64, IsNullable = false)

2018-05-15 15:28:03,014 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:28:03 +08:00

2018-05-15 15:28:03,017 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-15 15:28:03,017 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:28:03,018 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:28:03 +08:00

2018-05-15 15:28:03,019 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:28:03 +08:00

2018-05-15 15:28:03,019 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1) AND ([Extent1].[ToIntegralTypeId] = @p__linq__2) AND ([Extent1].[PlatformUserId] = @p__linq__3)
    )  AS [GroupBy1]
2018-05-15 15:28:03,019 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:28:03,019 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-15 15:28:03,019 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '3' (Type = Int64)

2018-05-15 15:28:03,019 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '3' (Type = Int64, IsNullable = false)

2018-05-15 15:28:03,019 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '1' (Type = Int64, IsNullable = false)

2018-05-15 15:28:03,019 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:28:03 +08:00

2018-05-15 15:28:03,020 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:28:03,020 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:28:03,020 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:28:03 +08:00

2018-05-15 15:28:03,020 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:28:03 +08:00

2018-05-15 15:28:03,021 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-15 15:28:03,021 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:28:03,021 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-15 15:28:03,021 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '3' (Type = Int64)

2018-05-15 15:28:03,021 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:28:03 +08:00

2018-05-15 15:28:03,024 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2018-05-15 15:28:03,024 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:28:03,024 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:28:03 +08:00

2018-05-15 15:28:03,024 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:28:03 +08:00

2018-05-15 15:28:03,025 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 15:28:03,025 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:28:03,025 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-15 15:28:03,025 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:28:03 +08:00

2018-05-15 15:28:03,027 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-15 15:28:03,027 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:28:03,027 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:28:03 +08:00

2018-05-15 15:28:03,027 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:28:03 +08:00

2018-05-15 15:28:03,027 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 15:28:03,027 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:28:03,027 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-15 15:28:03,027 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:28:03 +08:00

2018-05-15 15:28:03,029 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 15:28:03,029 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:28:03,029 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:28:03 +08:00

2018-05-15 15:28:03,029 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:28:03 +08:00

2018-05-15 15:28:03,029 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 15:28:03,029 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:28:03,029 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '5' (Type = Int64, IsNullable = false)

2018-05-15 15:28:03,030 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:28:03 +08:00

2018-05-15 15:28:03,030 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:28:03,030 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:28:03,030 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:28:03 +08:00

2018-05-15 15:28:06,857 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:28:06 +08:00

2018-05-15 15:28:06,857 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-15 15:28:06,857 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:28:06,857 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:28:06 +08:00

2018-05-15 15:28:06,858 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 15:28:06,858 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:28:06,859 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:28:06 +08:00

2018-05-15 15:28:06,859 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:28:06 +08:00

2018-05-15 15:28:06,859 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-15 15:28:06,859 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:28:06,859 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:28:06 +08:00

2018-05-15 15:28:06,860 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 15:28:06,860 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:28:06,860 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:28:06 +08:00

2018-05-15 15:28:06,860 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:28:06 +08:00

2018-05-15 15:28:06,861 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-15 15:28:06,861 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:28:06,861 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-15 15:28:06,861 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:28:06 +08:00

2018-05-15 15:28:06,864 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2018-05-15 15:28:06,864 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:28:06,865 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:28:06 +08:00

2018-05-15 15:28:06,865 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:28:06 +08:00

2018-05-15 15:28:06,865 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-15 15:28:06,865 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:28:06,865 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:28:06 +08:00

2018-05-15 15:28:06,868 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2018-05-15 15:28:06,868 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:28:06,869 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:28:06 +08:00

2018-05-15 15:28:06,869 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:28:06 +08:00

2018-05-15 15:28:06,869 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-15 15:28:06,869 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:28:06,869 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-15 15:28:06,869 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2' (Type = Int64, IsNullable = false)

2018-05-15 15:28:06,869 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-15 15:28:06,869 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:28:06 +08:00

2018-05-15 15:28:06,872 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-15 15:28:06,872 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:28:06,872 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:28:06 +08:00

2018-05-15 15:28:06,872 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:28:06 +08:00

2018-05-15 15:28:06,872 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-15 15:28:06,873 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:28:06,873 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-15 15:28:06,873 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '3' (Type = Int64, IsNullable = false)

2018-05-15 15:28:06,873 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-15 15:28:06,873 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:28:06 +08:00

2018-05-15 15:28:06,874 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 15:28:06,874 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:28:06,874 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:28:06 +08:00

2018-05-15 15:28:06,875 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:28:06 +08:00

2018-05-15 15:28:06,876 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-15 15:28:06,876 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:28:06,876 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-15 15:28:06,876 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:28:06 +08:00

2018-05-15 15:28:06,879 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-15 15:28:06,879 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:28:06,880 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:28:06 +08:00

2018-05-15 15:28:06,880 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:28:06 +08:00

2018-05-15 15:28:06,880 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 15:28:06,880 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:28:06,880 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-15 15:28:06,880 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:28:06 +08:00

2018-05-15 15:28:06,881 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:28:06,881 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:28:06,881 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:28:06 +08:00

2018-05-15 15:28:06,881 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:28:06 +08:00

2018-05-15 15:28:06,881 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 15:28:06,881 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:28:06,881 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '4' (Type = Int64, IsNullable = false)

2018-05-15 15:28:06,881 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:28:06 +08:00

2018-05-15 15:28:06,882 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:28:06,882 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:28:06,883 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:28:06 +08:00

2018-05-15 15:28:06,883 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:28:06 +08:00

2018-05-15 15:28:06,883 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 15:28:06,883 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:28:06,883 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-15 15:28:06,883 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:28:06 +08:00

2018-05-15 15:28:06,883 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:28:06,883 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:28:06,883 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:28:06 +08:00

2018-05-15 15:28:06,886 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:28:06 +08:00

2018-05-15 15:28:06,891 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'积分增加' <> [Extent1].[Name])
2018-05-15 15:28:06,891 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:28:06,891 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:28:06 +08:00

2018-05-15 15:28:06,895 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2018-05-15 15:28:06,895 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:28:06,895 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:28:06 +08:00

2018-05-15 15:28:06,896 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:28:06 +08:00

2018-05-15 15:28:06,897 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2018-05-15 15:28:06,897 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:28:06,897 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64, IsNullable = false)

2018-05-15 15:28:06,897 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:28:06 +08:00

2018-05-15 15:28:06,898 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 15:28:06,898 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:28:06,899 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:28:06 +08:00

2018-05-15 15:28:06,899 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:28:06 +08:00

2018-05-15 15:28:06,899 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 15:28:06,899 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:28:06,899 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-15 15:28:06,899 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:28:06 +08:00

2018-05-15 15:28:06,900 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 15:28:06,900 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:28:06,900 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:28:06 +08:00

2018-05-15 15:28:39,516 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:28:39 +08:00

2018-05-15 15:28:39,516 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-15 15:28:39,516 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:28:39,516 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:28:39 +08:00

2018-05-15 15:28:39,519 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2018-05-15 15:28:39,519 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:28:39,519 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:28:39 +08:00

2018-05-15 15:28:39,519 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:28:39 +08:00

2018-05-15 15:28:39,520 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-15 15:28:39,520 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:28:39,520 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:28:39 +08:00

2018-05-15 15:28:39,521 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 15:28:39,521 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:28:39,521 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:28:39 +08:00

2018-05-15 15:28:39,521 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:28:39 +08:00

2018-05-15 15:28:39,522 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-15 15:28:39,522 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:28:39,522 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-15 15:28:39,522 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:28:39 +08:00

2018-05-15 15:28:39,524 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-15 15:28:39,524 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:28:39,524 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:28:39 +08:00

2018-05-15 15:28:39,524 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:28:39 +08:00

2018-05-15 15:28:39,525 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-15 15:28:39,525 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:28:39,525 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:28:39 +08:00

2018-05-15 15:28:39,527 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 15:28:39,527 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:28:39,527 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:28:39 +08:00

2018-05-15 15:28:39,527 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:28:39 +08:00

2018-05-15 15:28:39,528 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-15 15:28:39,528 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:28:39,528 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-15 15:28:39,528 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2' (Type = Int64, IsNullable = false)

2018-05-15 15:28:39,528 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-15 15:28:39,528 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:28:39 +08:00

2018-05-15 15:28:39,530 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-15 15:28:39,530 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:28:39,530 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:28:39 +08:00

2018-05-15 15:28:39,530 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:28:39 +08:00

2018-05-15 15:28:39,531 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-15 15:28:39,531 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:28:39,531 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-15 15:28:39,531 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '3' (Type = Int64, IsNullable = false)

2018-05-15 15:28:39,531 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-15 15:28:39,531 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:28:39 +08:00

2018-05-15 15:28:39,531 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:28:39,531 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:28:39,531 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:28:39 +08:00

2018-05-15 15:28:39,532 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:28:39 +08:00

2018-05-15 15:28:39,532 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-15 15:28:39,532 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:28:39,532 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-15 15:28:39,532 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:28:39 +08:00

2018-05-15 15:28:39,536 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2018-05-15 15:28:39,536 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:28:39,537 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:28:39 +08:00

2018-05-15 15:28:39,537 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:28:39 +08:00

2018-05-15 15:28:39,537 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 15:28:39,537 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:28:39,537 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-15 15:28:39,537 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:28:39 +08:00

2018-05-15 15:28:39,538 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 15:28:39,538 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:28:39,538 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:28:39 +08:00

2018-05-15 15:28:39,538 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:28:39 +08:00

2018-05-15 15:28:39,539 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 15:28:39,539 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:28:39,539 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '4' (Type = Int64, IsNullable = false)

2018-05-15 15:28:39,539 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:28:39 +08:00

2018-05-15 15:28:39,541 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 15:28:39,541 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:28:39,541 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:28:39 +08:00

2018-05-15 15:28:39,541 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:28:39 +08:00

2018-05-15 15:28:39,541 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 15:28:39,541 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:28:39,541 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-15 15:28:39,541 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:28:39 +08:00

2018-05-15 15:28:39,541 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:28:39,541 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:28:39,542 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:28:39 +08:00

2018-05-15 15:28:39,542 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:28:39 +08:00

2018-05-15 15:28:39,542 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'积分增加' <> [Extent1].[Name])
2018-05-15 15:28:39,542 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:28:39,542 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:28:39 +08:00

2018-05-15 15:28:39,544 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 15:28:39,544 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:28:39,544 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:28:39 +08:00

2018-05-15 15:28:39,545 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:28:39 +08:00

2018-05-15 15:28:39,545 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2018-05-15 15:28:39,545 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:28:39,545 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64, IsNullable = false)

2018-05-15 15:28:39,545 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:28:39 +08:00

2018-05-15 15:28:39,546 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 15:28:39,546 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:28:39,547 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:28:39 +08:00

2018-05-15 15:28:39,547 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:28:39 +08:00

2018-05-15 15:28:39,547 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 15:28:39,547 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:28:39,547 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-15 15:28:39,547 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:28:39 +08:00

2018-05-15 15:28:39,548 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 15:28:39,548 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:28:39,548 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:28:39 +08:00

2018-05-15 15:30:36,905 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:30:36 +08:00

2018-05-15 15:30:36,921 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_Admins] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-05-15 15:30:36,921 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:30:36,921 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'admin' (Type = String, Size = 4000)

2018-05-15 15:30:36,921 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:30:36 +08:00

2018-05-15 15:30:36,923 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 15:30:36,923 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:30:36,926 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:30:36 +08:00

2018-05-15 15:30:40,233 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:30:40 +08:00

2018-05-15 15:30:40,367 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM  [dbo].[T_PlatformUsers] AS [Extent1]
        INNER JOIN [dbo].[T_PlatformUserTypes] AS [Extent2] ON [Extent1].[PlatformUserTypeId] = [Extent2].[Id]
        WHERE (0 = [Extent1].[IsDeleted]) AND (([Extent2].[Name] = @p__linq__0) OR (1 = 0))
    )  AS [GroupBy1]
2018-05-15 15:30:40,367 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:30:40,367 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '客户' (Type = String, Size = 4000)

2018-05-15 15:30:40,367 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:30:40 +08:00

2018-05-15 15:30:40,367 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2018-05-15 15:30:40,367 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:30:40,367 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:30:40 +08:00

2018-05-15 15:30:40,367 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:30:40 +08:00

2018-05-15 15:30:40,367 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Project1].[Id] AS [Id], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Code] AS [Code], 
    [Project1].[Description] AS [Description], 
    [Project1].[PlatformIntegral] AS [PlatformIntegral], 
    [Project1].[GivingIntegral] AS [GivingIntegral], 
    [Project1].[UseIntegral] AS [UseIntegral], 
    [Project1].[Salt] AS [Salt], 
    [Project1].[Password] AS [Password], 
    [Project1].[TradePassword] AS [TradePassword], 
    [Project1].[ErrorCount] AS [ErrorCount], 
    [Project1].[ErrorTime] AS [ErrorTime], 
    [Project1].[IsEnabled] AS [IsEnabled], 
    [Project1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Mobile] AS [Mobile], [Project1].[Code] AS [Code], [Project1].[Description] AS [Description], [Project1].[PlatformIntegral] AS [PlatformIntegral], [Project1].[GivingIntegral] AS [GivingIntegral], [Project1].[UseIntegral] AS [UseIntegral], [Project1].[Salt] AS [Salt], [Project1].[Password] AS [Password], [Project1].[TradePassword] AS [TradePassword], [Project1].[ErrorCount] AS [ErrorCount], [Project1].[ErrorTime] AS [ErrorTime], [Project1].[IsEnabled] AS [IsEnabled], [Project1].[PlatformUserTypeId] AS [PlatformUserTypeId], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Code] AS [Code], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
            [Extent1].[GivingIntegral] AS [GivingIntegral], 
            [Extent1].[UseIntegral] AS [UseIntegral], 
            [Extent1].[Salt] AS [Salt], 
            [Extent1].[Password] AS [Password], 
            [Extent1].[TradePassword] AS [TradePassword], 
            [Extent1].[ErrorCount] AS [ErrorCount], 
            [Extent1].[ErrorTime] AS [ErrorTime], 
            [Extent1].[IsEnabled] AS [IsEnabled], 
            [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM  [dbo].[T_PlatformUsers] AS [Extent1]
            INNER JOIN [dbo].[T_PlatformUserTypes] AS [Extent2] ON [Extent1].[PlatformUserTypeId] = [Extent2].[Id]
            WHERE (0 = [Extent1].[IsDeleted]) AND (([Extent2].[Name] = @p__linq__0) OR (1 = 0))
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-15 15:30:40,367 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:30:40,367 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '客户' (Type = String, Size = 4000)

2018-05-15 15:30:40,367 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:30:40 +08:00

2018-05-15 15:30:40,367 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2018-05-15 15:30:40,367 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:30:40,367 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:30:40 +08:00

2018-05-15 15:30:40,367 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:30:40 +08:00

2018-05-15 15:30:40,367 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 15:30:40,367 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:30:40,367 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-15 15:30:40,367 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:30:40 +08:00

2018-05-15 15:30:40,367 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:30:40,367 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:30:40,367 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:30:40 +08:00

2018-05-15 15:30:44,272 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:30:44 +08:00

2018-05-15 15:30:44,273 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-05-15 15:30:44,273 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:30:44,273 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'PlatformUser201805051709360001' (Type = String, Size = 4000)

2018-05-15 15:30:44,273 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:30:44 +08:00

2018-05-15 15:30:44,275 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 15:30:44,275 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:30:44,275 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:30:44 +08:00

2018-05-15 15:30:44,275 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:30:44 +08:00

2018-05-15 15:30:44,275 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 15:30:44,275 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:30:44,275 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 15:30:44,275 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:30:44 +08:00

2018-05-15 15:30:44,275 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:30:44,275 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:30:44,276 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:30:44 +08:00

2018-05-15 15:30:44,276 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:30:44 +08:00

2018-05-15 15:30:44,277 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-15 15:30:44,277 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:30:44,277 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:30:44 +08:00

2018-05-15 15:30:44,278 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 15:30:44,278 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:30:44,278 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:30:44 +08:00

2018-05-15 15:30:44,278 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:30:44 +08:00

2018-05-15 15:30:44,279 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-15 15:30:44,279 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:30:44,279 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:30:44 +08:00

2018-05-15 15:30:44,280 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:30:44,280 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:30:44,280 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:30:44 +08:00

2018-05-15 15:30:44,280 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:30:44 +08:00

2018-05-15 15:30:44,280 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-15 15:30:44,280 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:30:44,281 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 15:30:44,281 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:30:44 +08:00

2018-05-15 15:30:44,284 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2018-05-15 15:30:44,284 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:30:44,284 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:30:44 +08:00

2018-05-15 15:30:44,284 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:30:44 +08:00

2018-05-15 15:30:44,285 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-15 15:30:44,285 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:30:44,285 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:30:44 +08:00

2018-05-15 15:30:44,287 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-15 15:30:44,287 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:30:44,288 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:30:44 +08:00

2018-05-15 15:30:44,288 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:30:44 +08:00

2018-05-15 15:30:44,288 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-15 15:30:44,288 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:30:44,288 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 15:30:44,288 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2' (Type = Int64, IsNullable = false)

2018-05-15 15:30:44,288 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-15 15:30:44,288 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:30:44 +08:00

2018-05-15 15:30:44,291 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-15 15:30:44,291 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:30:44,291 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:30:44 +08:00

2018-05-15 15:30:44,291 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:30:44 +08:00

2018-05-15 15:30:44,292 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-15 15:30:44,292 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:30:44,292 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 15:30:44,292 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '3' (Type = Int64, IsNullable = false)

2018-05-15 15:30:44,292 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-15 15:30:44,292 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:30:44 +08:00

2018-05-15 15:30:44,292 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:30:44,293 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:30:44,293 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:30:44 +08:00

2018-05-15 15:30:44,293 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:30:44 +08:00

2018-05-15 15:30:44,293 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-15 15:30:44,293 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:30:44,293 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 15:30:44,293 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:30:44 +08:00

2018-05-15 15:30:44,296 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-15 15:30:44,296 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:30:44,296 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:30:44 +08:00

2018-05-15 15:30:44,297 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:30:44 +08:00

2018-05-15 15:30:44,297 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 15:30:44,297 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:30:44,297 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 15:30:44,297 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:30:44 +08:00

2018-05-15 15:30:44,298 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 15:30:44,298 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:30:44,298 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:30:44 +08:00

2018-05-15 15:30:44,298 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:30:44 +08:00

2018-05-15 15:30:44,298 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 15:30:44,298 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:30:44,298 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-15 15:30:44,298 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:30:44 +08:00

2018-05-15 15:30:44,301 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-15 15:30:44,301 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:30:44,302 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:30:44 +08:00

2018-05-15 15:30:44,302 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:30:44 +08:00

2018-05-15 15:30:44,302 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 15:30:44,302 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:30:44,302 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 15:30:44,302 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:30:44 +08:00

2018-05-15 15:30:44,303 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 15:30:44,303 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:30:44,303 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:30:44 +08:00

2018-05-15 15:30:44,305 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:30:44 +08:00

2018-05-15 15:30:44,311 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Name] IN (N'平台发放',N'平台扣除',N'积分增加'))
2018-05-15 15:30:44,311 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:30:44,311 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:30:44 +08:00

2018-05-15 15:30:44,313 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-15 15:30:44,313 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:30:44,314 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:30:44 +08:00

2018-05-15 15:30:45,413 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:30:45 +08:00

2018-05-15 15:30:45,413 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM  [dbo].[T_PlatformUsers] AS [Extent1]
        INNER JOIN [dbo].[T_PlatformUserTypes] AS [Extent2] ON [Extent1].[PlatformUserTypeId] = [Extent2].[Id]
        WHERE (0 = [Extent1].[IsDeleted]) AND (([Extent2].[Name] = @p__linq__0) OR (1 = 0))
    )  AS [GroupBy1]
2018-05-15 15:30:45,413 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:30:45,413 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '商家' (Type = String, Size = 4000)

2018-05-15 15:30:45,414 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:30:45 +08:00

2018-05-15 15:30:45,414 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:30:45,414 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:30:45,414 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:30:45 +08:00

2018-05-15 15:30:45,414 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:30:45 +08:00

2018-05-15 15:30:45,415 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Project1].[Id] AS [Id], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Code] AS [Code], 
    [Project1].[Description] AS [Description], 
    [Project1].[PlatformIntegral] AS [PlatformIntegral], 
    [Project1].[GivingIntegral] AS [GivingIntegral], 
    [Project1].[UseIntegral] AS [UseIntegral], 
    [Project1].[Salt] AS [Salt], 
    [Project1].[Password] AS [Password], 
    [Project1].[TradePassword] AS [TradePassword], 
    [Project1].[ErrorCount] AS [ErrorCount], 
    [Project1].[ErrorTime] AS [ErrorTime], 
    [Project1].[IsEnabled] AS [IsEnabled], 
    [Project1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Mobile] AS [Mobile], [Project1].[Code] AS [Code], [Project1].[Description] AS [Description], [Project1].[PlatformIntegral] AS [PlatformIntegral], [Project1].[GivingIntegral] AS [GivingIntegral], [Project1].[UseIntegral] AS [UseIntegral], [Project1].[Salt] AS [Salt], [Project1].[Password] AS [Password], [Project1].[TradePassword] AS [TradePassword], [Project1].[ErrorCount] AS [ErrorCount], [Project1].[ErrorTime] AS [ErrorTime], [Project1].[IsEnabled] AS [IsEnabled], [Project1].[PlatformUserTypeId] AS [PlatformUserTypeId], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Code] AS [Code], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
            [Extent1].[GivingIntegral] AS [GivingIntegral], 
            [Extent1].[UseIntegral] AS [UseIntegral], 
            [Extent1].[Salt] AS [Salt], 
            [Extent1].[Password] AS [Password], 
            [Extent1].[TradePassword] AS [TradePassword], 
            [Extent1].[ErrorCount] AS [ErrorCount], 
            [Extent1].[ErrorTime] AS [ErrorTime], 
            [Extent1].[IsEnabled] AS [IsEnabled], 
            [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM  [dbo].[T_PlatformUsers] AS [Extent1]
            INNER JOIN [dbo].[T_PlatformUserTypes] AS [Extent2] ON [Extent1].[PlatformUserTypeId] = [Extent2].[Id]
            WHERE (0 = [Extent1].[IsDeleted]) AND (([Extent2].[Name] = @p__linq__0) OR (1 = 0))
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-15 15:30:45,415 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:30:45,415 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '商家' (Type = String, Size = 4000)

2018-05-15 15:30:45,415 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:30:45 +08:00

2018-05-15 15:30:45,415 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:30:45,415 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:30:45,416 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:30:45 +08:00

2018-05-15 15:30:45,416 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:30:45 +08:00

2018-05-15 15:30:45,416 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 15:30:45,416 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:30:45,416 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-15 15:30:45,416 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:30:45 +08:00

2018-05-15 15:30:45,417 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:30:45,417 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:30:45,417 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:30:45 +08:00

2018-05-15 15:30:46,168 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:30:46 +08:00

2018-05-15 15:30:46,168 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-05-15 15:30:46,168 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:30:46,168 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'PlatformUser201805051709360001' (Type = String, Size = 4000)

2018-05-15 15:30:46,168 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:30:46 +08:00

2018-05-15 15:30:46,169 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:30:46,169 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:30:46,169 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:30:46 +08:00

2018-05-15 15:30:46,169 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:30:46 +08:00

2018-05-15 15:30:46,169 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 15:30:46,169 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:30:46,169 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 15:30:46,169 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:30:46 +08:00

2018-05-15 15:30:46,170 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:30:46,170 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:30:46,170 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:30:46 +08:00

2018-05-15 15:30:46,170 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:30:46 +08:00

2018-05-15 15:30:46,170 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-15 15:30:46,170 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:30:46,170 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:30:46 +08:00

2018-05-15 15:30:46,171 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:30:46,171 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:30:46,171 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:30:46 +08:00

2018-05-15 15:30:46,171 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:30:46 +08:00

2018-05-15 15:30:46,171 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-15 15:30:46,171 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:30:46,171 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:30:46 +08:00

2018-05-15 15:30:46,171 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:30:46,172 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:30:46,172 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:30:46 +08:00

2018-05-15 15:30:46,172 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:30:46 +08:00

2018-05-15 15:30:46,172 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-15 15:30:46,172 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:30:46,172 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 15:30:46,172 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:30:46 +08:00

2018-05-15 15:30:46,173 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:30:46,173 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:30:46,173 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:30:46 +08:00

2018-05-15 15:30:46,173 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:30:46 +08:00

2018-05-15 15:30:46,173 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-15 15:30:46,173 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:30:46,173 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:30:46 +08:00

2018-05-15 15:30:46,174 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:30:46,174 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:30:46,174 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:30:46 +08:00

2018-05-15 15:30:46,174 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:30:46 +08:00

2018-05-15 15:30:46,175 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-15 15:30:46,175 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:30:46,175 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 15:30:46,175 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2' (Type = Int64, IsNullable = false)

2018-05-15 15:30:46,175 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-15 15:30:46,175 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:30:46 +08:00

2018-05-15 15:30:46,175 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:30:46,175 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:30:46,175 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:30:46 +08:00

2018-05-15 15:30:46,176 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:30:46 +08:00

2018-05-15 15:30:46,176 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-15 15:30:46,176 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:30:46,176 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 15:30:46,176 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '3' (Type = Int64, IsNullable = false)

2018-05-15 15:30:46,176 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-15 15:30:46,176 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:30:46 +08:00

2018-05-15 15:30:46,177 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:30:46,177 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:30:46,177 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:30:46 +08:00

2018-05-15 15:30:46,177 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:30:46 +08:00

2018-05-15 15:30:46,177 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-15 15:30:46,177 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:30:46,177 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 15:30:46,177 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:30:46 +08:00

2018-05-15 15:30:46,178 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:30:46,178 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:30:46,178 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:30:46 +08:00

2018-05-15 15:30:46,178 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:30:46 +08:00

2018-05-15 15:30:46,178 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 15:30:46,178 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:30:46,178 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 15:30:46,178 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:30:46 +08:00

2018-05-15 15:30:46,179 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:30:46,179 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:30:46,179 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:30:46 +08:00

2018-05-15 15:30:46,179 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:30:46 +08:00

2018-05-15 15:30:46,179 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 15:30:46,179 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:30:46,179 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-15 15:30:46,179 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:30:46 +08:00

2018-05-15 15:30:46,179 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:30:46,179 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:30:46,179 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:30:46 +08:00

2018-05-15 15:30:46,179 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:30:46 +08:00

2018-05-15 15:30:46,179 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 15:30:46,179 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:30:46,179 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 15:30:46,179 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:30:46 +08:00

2018-05-15 15:30:46,180 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:30:46,180 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:30:46,180 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:30:46 +08:00

2018-05-15 15:30:46,181 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:30:46 +08:00

2018-05-15 15:30:46,181 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Name] IN (N'平台发放',N'平台扣除',N'积分增加'))
2018-05-15 15:30:46,181 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:30:46,181 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:30:46 +08:00

2018-05-15 15:30:46,181 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:30:46,181 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:30:46,181 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:30:46 +08:00

2018-05-15 15:30:47,608 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:30:47 +08:00

2018-05-15 15:30:47,608 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-15 15:30:47,608 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:30:47,608 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:30:47 +08:00

2018-05-15 15:30:47,609 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:30:47,609 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:30:47,609 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:30:47 +08:00

2018-05-15 15:30:47,609 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:30:47 +08:00

2018-05-15 15:30:47,609 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-15 15:30:47,609 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:30:47,609 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:30:47 +08:00

2018-05-15 15:30:47,609 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:30:47,609 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:30:47,610 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:30:47 +08:00

2018-05-15 15:30:47,610 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:30:47 +08:00

2018-05-15 15:30:47,611 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_TakeCashes] AS [Extent1]
        WHERE 0 = [Extent1].[IsDeleted]
    )  AS [GroupBy1]
2018-05-15 15:30:47,611 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:30:47,611 [29] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:30:47 +08:00

2018-05-15 15:30:47,613 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-15 15:30:47,613 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:30:47,613 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:30:47 +08:00

2018-05-15 15:30:47,614 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:30:47 +08:00

2018-05-15 15:30:47,615 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[Integral]) AS [A1]
        FROM [dbo].[T_TakeCashes] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[IntegralTypeId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-15 15:30:47,615 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:30:47,615 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64, IsNullable = false)

2018-05-15 15:30:47,615 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:30:47 +08:00

2018-05-15 15:30:47,617 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-15 15:30:47,617 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:30:47,618 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:30:47 +08:00

2018-05-15 15:30:47,618 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:30:47 +08:00

2018-05-15 15:30:47,618 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[Integral]) AS [A1]
        FROM [dbo].[T_TakeCashes] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[IntegralTypeId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-15 15:30:47,618 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:30:47,618 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '3' (Type = Int64, IsNullable = false)

2018-05-15 15:30:47,618 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:30:47 +08:00

2018-05-15 15:30:47,620 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 15:30:47,620 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:30:47,621 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:30:47 +08:00

2018-05-15 15:30:47,622 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:30:47 +08:00

2018-05-15 15:30:47,640 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Filter1].[Id] AS [Id], 
    [Filter1].[PlatformUserId] AS [PlatformUserId], 
    [Filter1].[IntegralTypeId] AS [IntegralTypeId], 
    [Filter1].[StateId] AS [StateId], 
    [Filter1].[Integral] AS [Integral], 
    [Filter1].[Amount] AS [Amount], 
    [Filter1].[Description] AS [Description], 
    [Filter1].[CreateTime] AS [CreateTime], 
    [Filter1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Extent1].[Id] AS [Id], [Extent1].[PlatformUserId] AS [PlatformUserId], [Extent1].[IntegralTypeId] AS [IntegralTypeId], [Extent1].[StateId] AS [StateId], [Extent1].[Integral] AS [Integral], [Extent1].[Amount] AS [Amount], [Extent1].[Description] AS [Description], [Extent1].[CreateTime] AS [CreateTime], [Extent1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Extent1].[CreateTime] DESC) AS [row_number]
        FROM [dbo].[T_TakeCashes] AS [Extent1]
        WHERE 0 = [Extent1].[IsDeleted]
    )  AS [Filter1]
    WHERE [Filter1].[row_number] > 0
    ORDER BY [Filter1].[CreateTime] DESC
2018-05-15 15:30:47,640 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:30:47,640 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:30:47 +08:00

2018-05-15 15:30:47,643 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-15 15:30:47,643 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:30:47,648 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:30:47 +08:00

2018-05-15 15:30:47,651 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:30:47 +08:00

2018-05-15 15:30:47,651 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 15:30:47,651 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:30:47,651 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-15 15:30:47,651 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:30:47 +08:00

2018-05-15 15:30:47,651 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:30:47,651 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:30:47,652 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:30:47 +08:00

2018-05-15 15:30:47,653 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:30:47 +08:00

2018-05-15 15:30:47,662 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_States] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 15:30:47,662 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:30:47,662 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 15:30:47,662 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:30:47 +08:00

2018-05-15 15:30:47,665 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-15 15:30:47,665 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:30:47,668 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:30:47 +08:00

2018-05-15 15:30:47,671 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:30:47 +08:00

2018-05-15 15:30:47,672 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_States] AS [Extent1]
    WHERE 0 = [Extent1].[IsDeleted]
2018-05-15 15:30:47,672 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:30:47,672 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:30:47 +08:00

2018-05-15 15:30:47,676 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2018-05-15 15:30:47,676 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:30:47,677 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:30:47 +08:00

2018-05-15 15:30:51,162 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:30:51 +08:00

2018-05-15 15:30:51,163 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-05-15 15:30:51,163 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:30:51,163 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'PlatformUser201805051709360001' (Type = String, Size = 4000)

2018-05-15 15:30:51,163 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:30:51 +08:00

2018-05-15 15:30:51,164 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:30:51,164 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:30:51,164 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:30:51 +08:00

2018-05-15 15:30:51,164 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:30:51 +08:00

2018-05-15 15:30:51,164 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 15:30:51,164 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:30:51,164 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 15:30:51,164 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:30:51 +08:00

2018-05-15 15:30:51,164 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:30:51,164 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:30:51,165 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:30:51 +08:00

2018-05-15 15:30:51,171 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:30:51 +08:00

2018-05-15 15:30:51,172 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费' = [Extent1].[Description])
2018-05-15 15:30:51,172 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:30:51,173 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:30:51 +08:00

2018-05-15 15:30:51,175 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-15 15:30:51,175 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:30:51,175 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:30:51 +08:00

2018-05-15 15:30:51,175 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:30:51 +08:00

2018-05-15 15:30:51,176 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'赠送' = [Extent1].[Description])
2018-05-15 15:30:51,176 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:30:51,176 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:30:51 +08:00

2018-05-15 15:30:51,178 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 15:30:51,178 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:30:51,178 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:30:51 +08:00

2018-05-15 15:30:51,178 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:30:51 +08:00

2018-05-15 15:30:51,185 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] <> [Extent1].[ToPlatformUserId]) AND ([Extent1].[JournalTypeId] IN (@p__linq__0,@p__linq__1))
    )  AS [GroupBy1]
2018-05-15 15:30:51,185 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:30:51,185 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '4' (Type = Int64, IsNullable = false)

2018-05-15 15:30:51,185 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '3' (Type = Int64, IsNullable = false)

2018-05-15 15:30:51,185 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:30:51 +08:00

2018-05-15 15:30:51,188 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-15 15:30:51,188 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:30:51,188 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:30:51 +08:00

2018-05-15 15:30:51,189 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:30:51 +08:00

2018-05-15 15:30:51,190 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] <> [Extent1].[ToPlatformUserId]) AND ([Extent1].[JournalTypeId] IN (@p__linq__0,@p__linq__1)) AND ([Extent1].[JournalTypeId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-15 15:30:51,190 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:30:51,190 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '4' (Type = Int64, IsNullable = false)

2018-05-15 15:30:51,193 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '3' (Type = Int64, IsNullable = false)

2018-05-15 15:30:51,193 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '3' (Type = Int64, IsNullable = false)

2018-05-15 15:30:51,193 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:30:51 +08:00

2018-05-15 15:30:51,196 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2018-05-15 15:30:51,196 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:30:51,197 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:30:51 +08:00

2018-05-15 15:30:51,197 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:30:51 +08:00

2018-05-15 15:30:51,197 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] <> [Extent1].[ToPlatformUserId]) AND ([Extent1].[JournalTypeId] IN (@p__linq__0,@p__linq__1)) AND ([Extent1].[JournalTypeId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-15 15:30:51,198 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:30:51,198 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '4' (Type = Int64, IsNullable = false)

2018-05-15 15:30:51,198 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '3' (Type = Int64, IsNullable = false)

2018-05-15 15:30:51,198 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '4' (Type = Int64, IsNullable = false)

2018-05-15 15:30:51,198 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:30:51 +08:00

2018-05-15 15:30:51,198 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:30:51,198 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:30:51,198 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:30:51 +08:00

2018-05-15 15:30:51,199 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:30:51 +08:00

2018-05-15 15:30:51,201 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] <> [Extent1].[ToPlatformUserId]) AND ([Extent1].[JournalTypeId] IN (@p__linq__0,@p__linq__1))
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-15 15:30:51,201 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:30:51,201 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '4' (Type = Int64, IsNullable = false)

2018-05-15 15:30:51,201 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '3' (Type = Int64, IsNullable = false)

2018-05-15 15:30:51,201 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:30:51 +08:00

2018-05-15 15:30:51,207 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 6 ms with result: SqlDataReader

2018-05-15 15:30:51,207 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:30:51,208 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:30:51 +08:00

2018-05-15 15:30:51,208 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:30:51 +08:00

2018-05-15 15:30:51,208 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 15:30:51,208 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:30:51,208 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-15 15:30:51,208 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:30:51 +08:00

2018-05-15 15:30:51,209 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:30:51,209 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:30:51,209 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:30:51 +08:00

2018-05-15 15:30:51,209 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:30:51 +08:00

2018-05-15 15:30:51,209 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 15:30:51,209 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:30:51,209 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-15 15:30:51,209 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:30:51 +08:00

2018-05-15 15:30:51,210 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:30:51,210 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:30:51,210 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:30:51 +08:00

2018-05-15 15:30:51,210 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:30:51 +08:00

2018-05-15 15:30:51,210 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 15:30:51,210 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:30:51,210 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-15 15:30:51,210 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:30:51 +08:00

2018-05-15 15:30:51,211 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:30:51,211 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:30:51,211 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:30:51 +08:00

2018-05-15 15:30:52,275 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:30:52 +08:00

2018-05-15 15:30:52,276 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-15 15:30:52,276 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:30:52,276 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:30:52 +08:00

2018-05-15 15:30:52,276 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:30:52,276 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:30:52,276 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:30:52 +08:00

2018-05-15 15:30:52,276 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:30:52 +08:00

2018-05-15 15:30:52,276 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-15 15:30:52,276 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:30:52,276 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:30:52 +08:00

2018-05-15 15:30:52,277 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:30:52,277 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:30:52,277 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:30:52 +08:00

2018-05-15 15:30:52,277 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:30:52 +08:00

2018-05-15 15:30:52,277 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_TakeCashes] AS [Extent1]
        WHERE 0 = [Extent1].[IsDeleted]
    )  AS [GroupBy1]
2018-05-15 15:30:52,277 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:30:52,277 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:30:52 +08:00

2018-05-15 15:30:52,278 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:30:52,278 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:30:52,278 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:30:52 +08:00

2018-05-15 15:30:52,278 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:30:52 +08:00

2018-05-15 15:30:52,278 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[Integral]) AS [A1]
        FROM [dbo].[T_TakeCashes] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[IntegralTypeId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-15 15:30:52,278 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:30:52,278 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64, IsNullable = false)

2018-05-15 15:30:52,278 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:30:52 +08:00

2018-05-15 15:30:52,279 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:30:52,279 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:30:52,279 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:30:52 +08:00

2018-05-15 15:30:52,279 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:30:52 +08:00

2018-05-15 15:30:52,279 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[Integral]) AS [A1]
        FROM [dbo].[T_TakeCashes] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[IntegralTypeId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-15 15:30:52,279 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:30:52,279 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '3' (Type = Int64, IsNullable = false)

2018-05-15 15:30:52,279 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:30:52 +08:00

2018-05-15 15:30:52,280 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:30:52,280 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:30:52,280 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:30:52 +08:00

2018-05-15 15:30:52,280 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:30:52 +08:00

2018-05-15 15:30:52,280 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Filter1].[Id] AS [Id], 
    [Filter1].[PlatformUserId] AS [PlatformUserId], 
    [Filter1].[IntegralTypeId] AS [IntegralTypeId], 
    [Filter1].[StateId] AS [StateId], 
    [Filter1].[Integral] AS [Integral], 
    [Filter1].[Amount] AS [Amount], 
    [Filter1].[Description] AS [Description], 
    [Filter1].[CreateTime] AS [CreateTime], 
    [Filter1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Extent1].[Id] AS [Id], [Extent1].[PlatformUserId] AS [PlatformUserId], [Extent1].[IntegralTypeId] AS [IntegralTypeId], [Extent1].[StateId] AS [StateId], [Extent1].[Integral] AS [Integral], [Extent1].[Amount] AS [Amount], [Extent1].[Description] AS [Description], [Extent1].[CreateTime] AS [CreateTime], [Extent1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Extent1].[CreateTime] DESC) AS [row_number]
        FROM [dbo].[T_TakeCashes] AS [Extent1]
        WHERE 0 = [Extent1].[IsDeleted]
    )  AS [Filter1]
    WHERE [Filter1].[row_number] > 0
    ORDER BY [Filter1].[CreateTime] DESC
2018-05-15 15:30:52,280 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:30:52,281 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:30:52 +08:00

2018-05-15 15:30:52,281 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:30:52,281 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:30:52,281 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:30:52 +08:00

2018-05-15 15:30:52,281 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:30:52 +08:00

2018-05-15 15:30:52,282 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 15:30:52,282 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:30:52,282 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-15 15:30:52,282 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:30:52 +08:00

2018-05-15 15:30:52,282 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:30:52,282 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:30:52,282 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:30:52 +08:00

2018-05-15 15:30:52,282 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 15:30:52 +08:00

2018-05-15 15:30:52,282 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_States] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 15:30:52,282 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:30:52,282 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 15:30:52,282 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 15:30:52 +08:00

2018-05-15 15:30:52,283 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:30:52,283 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:30:52,283 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:30:52 +08:00

2018-05-15 15:30:52,284 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 15:30:52 +08:00

2018-05-15 15:30:52,284 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_States] AS [Extent1]
    WHERE 0 = [Extent1].[IsDeleted]
2018-05-15 15:30:52,284 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:30:52,284 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 15:30:52 +08:00

2018-05-15 15:30:52,284 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 15:30:52,284 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 15:30:52,284 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 15:30:52 +08:00

2018-05-15 16:22:50,418 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 16:22:50 +08:00

2018-05-15 16:22:50,434 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：
SELECT Count(*)
FROM INFORMATION_SCHEMA.TABLES AS t
WHERE t.TABLE_SCHEMA + '.' + t.TABLE_NAME IN ('dbo.T_AdminLogs','dbo.T_Admins','dbo.T_Permissions','dbo.T_PermissionTypes','dbo.T_IntegralTypes','dbo.T_Journals','dbo.T_PlatformUsers','dbo.T_PlatformUserTypes','dbo.T_JournalTypes','dbo.T_NavBars','dbo.T_Settings','dbo.T_SettingTypes','dbo.T_States','dbo.T_TakeCashes','dbo.T_AdminPermissions')
    OR t.TABLE_NAME = 'EdmMetadata'
2018-05-15 16:22:50,434 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:22:50,434 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 16:22:50 +08:00

2018-05-15 16:22:50,434 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 9 ms with result: 15

2018-05-15 16:22:50,434 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:22:50,434 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:22:50 +08:00

2018-05-15 16:22:50,574 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 16:22:50 +08:00

2018-05-15 16:22:51,708 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[__MigrationHistory] AS [Extent1]
        WHERE [Extent1].[ContextKey] = @p__linq__0
    )  AS [GroupBy1]
2018-05-15 16:22:51,708 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:22:51,708 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'IMS.Service.MyDbContext' (Type = String, Size = 4000)

2018-05-15 16:22:51,708 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 16:22:51 +08:00

2018-05-15 16:22:51,724 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Failed in 3 ms with error: 对象名 'dbo.__MigrationHistory' 无效。

2018-05-15 16:22:51,724 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:22:51,724 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:22:51 +08:00

2018-05-15 16:22:51,724 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 16:22:51 +08:00

2018-05-15 16:22:51,724 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[__MigrationHistory] AS [Extent1]
    )  AS [GroupBy1]
2018-05-15 16:22:51,724 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:22:51,724 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 16:22:51 +08:00

2018-05-15 16:22:51,724 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Failed in 1 ms with error: 对象名 'dbo.__MigrationHistory' 无效。

2018-05-15 16:22:51,724 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:22:51,724 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:22:51 +08:00

2018-05-15 16:22:51,974 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 16:22:51 +08:00

2018-05-15 16:22:52,099 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_Admins] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-05-15 16:22:52,099 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:22:52,099 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'admin' (Type = String, Size = 4000)

2018-05-15 16:22:52,099 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 16:22:52 +08:00

2018-05-15 16:22:52,130 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 23 ms with result: SqlDataReader

2018-05-15 16:22:52,130 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:22:52,177 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:22:52 +08:00

2018-05-15 16:22:57,866 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 16:22:57 +08:00

2018-05-15 16:22:57,876 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-15 16:22:57,876 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:22:57,876 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 16:22:57 +08:00

2018-05-15 16:22:58,207 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 330 ms with result: SqlDataReader

2018-05-15 16:22:58,207 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:22:58,207 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:22:58 +08:00

2018-05-15 16:22:58,207 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 16:22:58 +08:00

2018-05-15 16:22:58,207 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-15 16:22:58,207 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:22:58,207 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 16:22:58 +08:00

2018-05-15 16:22:58,207 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-15 16:22:58,207 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:22:58,207 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:22:58 +08:00

2018-05-15 16:22:58,222 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 16:22:58 +08:00

2018-05-15 16:22:58,238 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_TakeCashes] AS [Extent1]
        WHERE 0 = [Extent1].[IsDeleted]
    )  AS [GroupBy1]
2018-05-15 16:22:58,238 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:22:58,238 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 16:22:58 +08:00

2018-05-15 16:22:58,238 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2018-05-15 16:22:58,238 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:22:58,238 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:22:58 +08:00

2018-05-15 16:22:58,262 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 16:22:58 +08:00

2018-05-15 16:22:58,278 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[Integral]) AS [A1]
        FROM [dbo].[T_TakeCashes] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[IntegralTypeId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-15 16:22:58,278 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:22:58,278 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64, IsNullable = false)

2018-05-15 16:22:58,278 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 16:22:58 +08:00

2018-05-15 16:22:58,282 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 4 ms with result: SqlDataReader

2018-05-15 16:22:58,283 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:22:58,297 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:22:58 +08:00

2018-05-15 16:22:58,298 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 16:22:58 +08:00

2018-05-15 16:22:58,299 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[Integral]) AS [A1]
        FROM [dbo].[T_TakeCashes] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[IntegralTypeId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-15 16:22:58,300 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:22:58,300 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '3' (Type = Int64, IsNullable = false)

2018-05-15 16:22:58,300 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 16:22:58 +08:00

2018-05-15 16:22:58,305 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 5 ms with result: SqlDataReader

2018-05-15 16:22:58,305 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:22:58,305 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:22:58 +08:00

2018-05-15 16:22:58,324 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 16:22:58 +08:00

2018-05-15 16:22:58,364 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Filter1].[Id] AS [Id], 
    [Filter1].[PlatformUserId] AS [PlatformUserId], 
    [Filter1].[IntegralTypeId] AS [IntegralTypeId], 
    [Filter1].[StateId] AS [StateId], 
    [Filter1].[Integral] AS [Integral], 
    [Filter1].[Amount] AS [Amount], 
    [Filter1].[Description] AS [Description], 
    [Filter1].[CreateTime] AS [CreateTime], 
    [Filter1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Extent1].[Id] AS [Id], [Extent1].[PlatformUserId] AS [PlatformUserId], [Extent1].[IntegralTypeId] AS [IntegralTypeId], [Extent1].[StateId] AS [StateId], [Extent1].[Integral] AS [Integral], [Extent1].[Amount] AS [Amount], [Extent1].[Description] AS [Description], [Extent1].[CreateTime] AS [CreateTime], [Extent1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Extent1].[CreateTime] DESC) AS [row_number]
        FROM [dbo].[T_TakeCashes] AS [Extent1]
        WHERE 0 = [Extent1].[IsDeleted]
    )  AS [Filter1]
    WHERE [Filter1].[row_number] > 0
    ORDER BY [Filter1].[CreateTime] DESC
2018-05-15 16:22:58,364 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:22:58,364 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 16:22:58 +08:00

2018-05-15 16:22:58,369 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 5 ms with result: SqlDataReader

2018-05-15 16:22:58,369 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:22:58,431 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:22:58 +08:00

2018-05-15 16:22:58,446 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 16:22:58 +08:00

2018-05-15 16:22:58,529 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 16:22:58,529 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:22:58,529 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-15 16:22:58,529 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 16:22:58 +08:00

2018-05-15 16:22:58,532 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2018-05-15 16:22:58,532 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:22:58,539 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:22:58 +08:00

2018-05-15 16:22:58,545 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 16:22:58 +08:00

2018-05-15 16:22:58,553 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_States] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 16:22:58,553 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:22:58,553 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 16:22:58,554 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 16:22:58 +08:00

2018-05-15 16:22:58,556 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-15 16:22:58,556 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:22:58,559 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:22:58 +08:00

2018-05-15 16:22:58,562 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 16:22:58 +08:00

2018-05-15 16:22:58,563 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_States] AS [Extent1]
    WHERE 0 = [Extent1].[IsDeleted]
2018-05-15 16:22:58,563 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:22:58,563 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 16:22:58 +08:00

2018-05-15 16:22:58,566 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-15 16:22:58,566 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:22:58,566 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:22:58 +08:00

2018-05-15 16:23:01,514 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 16:23:01 +08:00

2018-05-15 16:23:01,514 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-15 16:23:01,514 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:23:01,514 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 16:23:01 +08:00

2018-05-15 16:23:01,515 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 16:23:01,515 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:23:01,516 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:23:01 +08:00

2018-05-15 16:23:01,516 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 16:23:01 +08:00

2018-05-15 16:23:01,516 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-15 16:23:01,516 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:23:01,516 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 16:23:01 +08:00

2018-05-15 16:23:01,517 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 16:23:01,517 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:23:01,518 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:23:01 +08:00

2018-05-15 16:23:01,518 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 16:23:01 +08:00

2018-05-15 16:23:01,518 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_TakeCashes] AS [Extent1]
        WHERE 0 = [Extent1].[IsDeleted]
    )  AS [GroupBy1]
2018-05-15 16:23:01,518 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:23:01,518 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 16:23:01 +08:00

2018-05-15 16:23:01,528 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 9 ms with result: SqlDataReader

2018-05-15 16:23:01,528 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:23:01,528 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:23:01 +08:00

2018-05-15 16:23:01,529 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 16:23:01 +08:00

2018-05-15 16:23:01,529 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[Integral]) AS [A1]
        FROM [dbo].[T_TakeCashes] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[IntegralTypeId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-15 16:23:01,529 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:23:01,529 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64, IsNullable = false)

2018-05-15 16:23:01,529 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 16:23:01 +08:00

2018-05-15 16:23:01,834 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 304 ms with result: SqlDataReader

2018-05-15 16:23:01,834 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:23:01,834 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:23:01 +08:00

2018-05-15 16:23:01,835 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 16:23:01 +08:00

2018-05-15 16:23:01,835 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[Integral]) AS [A1]
        FROM [dbo].[T_TakeCashes] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[IntegralTypeId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-15 16:23:01,835 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:23:01,835 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '3' (Type = Int64, IsNullable = false)

2018-05-15 16:23:01,835 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 16:23:01 +08:00

2018-05-15 16:23:01,836 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 16:23:01,836 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:23:01,837 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:23:01 +08:00

2018-05-15 16:23:01,837 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 16:23:01 +08:00

2018-05-15 16:23:01,837 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Filter1].[Id] AS [Id], 
    [Filter1].[PlatformUserId] AS [PlatformUserId], 
    [Filter1].[IntegralTypeId] AS [IntegralTypeId], 
    [Filter1].[StateId] AS [StateId], 
    [Filter1].[Integral] AS [Integral], 
    [Filter1].[Amount] AS [Amount], 
    [Filter1].[Description] AS [Description], 
    [Filter1].[CreateTime] AS [CreateTime], 
    [Filter1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Extent1].[Id] AS [Id], [Extent1].[PlatformUserId] AS [PlatformUserId], [Extent1].[IntegralTypeId] AS [IntegralTypeId], [Extent1].[StateId] AS [StateId], [Extent1].[Integral] AS [Integral], [Extent1].[Amount] AS [Amount], [Extent1].[Description] AS [Description], [Extent1].[CreateTime] AS [CreateTime], [Extent1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Extent1].[CreateTime] DESC) AS [row_number]
        FROM [dbo].[T_TakeCashes] AS [Extent1]
        WHERE 0 = [Extent1].[IsDeleted]
    )  AS [Filter1]
    WHERE [Filter1].[row_number] > 0
    ORDER BY [Filter1].[CreateTime] DESC
2018-05-15 16:23:01,837 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:23:01,837 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 16:23:01 +08:00

2018-05-15 16:23:01,840 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-15 16:23:01,840 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:23:01,841 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:23:01 +08:00

2018-05-15 16:23:01,841 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 16:23:01 +08:00

2018-05-15 16:23:01,841 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 16:23:01,841 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:23:01,841 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-15 16:23:01,841 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 16:23:01 +08:00

2018-05-15 16:23:01,843 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-15 16:23:01,843 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:23:01,844 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:23:01 +08:00

2018-05-15 16:23:01,844 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 16:23:01 +08:00

2018-05-15 16:23:01,844 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_States] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 16:23:01,844 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:23:01,844 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 16:23:01,844 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 16:23:01 +08:00

2018-05-15 16:23:01,845 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 16:23:01,845 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:23:01,845 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:23:01 +08:00

2018-05-15 16:23:01,846 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 16:23:01 +08:00

2018-05-15 16:23:01,846 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_States] AS [Extent1]
    WHERE 0 = [Extent1].[IsDeleted]
2018-05-15 16:23:01,846 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:23:01,846 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 16:23:01 +08:00

2018-05-15 16:23:01,848 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 16:23:01,848 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:23:01,848 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:23:01 +08:00

2018-05-15 16:23:17,912 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 16:23:17 +08:00

2018-05-15 16:23:17,913 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-15 16:23:17,913 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:23:17,913 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 16:23:17 +08:00

2018-05-15 16:23:17,914 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 16:23:17,914 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:23:17,914 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:23:17 +08:00

2018-05-15 16:23:17,914 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 16:23:17 +08:00

2018-05-15 16:23:17,915 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-15 16:23:17,915 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:23:17,915 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 16:23:17 +08:00

2018-05-15 16:23:17,916 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 16:23:17,916 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:23:17,917 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:23:17 +08:00

2018-05-15 16:23:17,917 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 16:23:17 +08:00

2018-05-15 16:23:17,917 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_TakeCashes] AS [Extent1]
        WHERE 0 = [Extent1].[IsDeleted]
    )  AS [GroupBy1]
2018-05-15 16:23:17,917 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:23:17,917 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 16:23:17 +08:00

2018-05-15 16:23:17,918 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 16:23:17,919 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:23:17,919 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:23:17 +08:00

2018-05-15 16:23:17,919 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 16:23:17 +08:00

2018-05-15 16:23:17,919 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[Integral]) AS [A1]
        FROM [dbo].[T_TakeCashes] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[IntegralTypeId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-15 16:23:17,919 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:23:17,919 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64, IsNullable = false)

2018-05-15 16:23:17,919 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 16:23:17 +08:00

2018-05-15 16:23:17,948 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 28 ms with result: SqlDataReader

2018-05-15 16:23:17,948 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:23:17,948 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:23:17 +08:00

2018-05-15 16:23:17,948 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 16:23:17 +08:00

2018-05-15 16:23:17,948 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[Integral]) AS [A1]
        FROM [dbo].[T_TakeCashes] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[IntegralTypeId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-15 16:23:17,949 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:23:17,949 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '3' (Type = Int64, IsNullable = false)

2018-05-15 16:23:17,949 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 16:23:17 +08:00

2018-05-15 16:23:17,988 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 39 ms with result: SqlDataReader

2018-05-15 16:23:17,989 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:23:17,989 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:23:17 +08:00

2018-05-15 16:23:17,991 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 16:23:17 +08:00

2018-05-15 16:23:17,991 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Filter1].[Id] AS [Id], 
    [Filter1].[PlatformUserId] AS [PlatformUserId], 
    [Filter1].[IntegralTypeId] AS [IntegralTypeId], 
    [Filter1].[StateId] AS [StateId], 
    [Filter1].[Integral] AS [Integral], 
    [Filter1].[Amount] AS [Amount], 
    [Filter1].[Description] AS [Description], 
    [Filter1].[CreateTime] AS [CreateTime], 
    [Filter1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Extent1].[Id] AS [Id], [Extent1].[PlatformUserId] AS [PlatformUserId], [Extent1].[IntegralTypeId] AS [IntegralTypeId], [Extent1].[StateId] AS [StateId], [Extent1].[Integral] AS [Integral], [Extent1].[Amount] AS [Amount], [Extent1].[Description] AS [Description], [Extent1].[CreateTime] AS [CreateTime], [Extent1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Extent1].[CreateTime] DESC) AS [row_number]
        FROM [dbo].[T_TakeCashes] AS [Extent1]
        WHERE 0 = [Extent1].[IsDeleted]
    )  AS [Filter1]
    WHERE [Filter1].[row_number] > 0
    ORDER BY [Filter1].[CreateTime] DESC
2018-05-15 16:23:17,991 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:23:17,991 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 16:23:17 +08:00

2018-05-15 16:23:18,305 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 313 ms with result: SqlDataReader

2018-05-15 16:23:18,305 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:23:18,306 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:23:18 +08:00

2018-05-15 16:23:18,306 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 16:23:18 +08:00

2018-05-15 16:23:18,306 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 16:23:18,306 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:23:18,306 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-15 16:23:18,306 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 16:23:18 +08:00

2018-05-15 16:23:18,308 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 16:23:18,308 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:23:18,308 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:23:18 +08:00

2018-05-15 16:23:18,308 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 16:23:18 +08:00

2018-05-15 16:23:18,308 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_States] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 16:23:18,308 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:23:18,308 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 16:23:18,309 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 16:23:18 +08:00

2018-05-15 16:23:18,310 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 16:23:18,310 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:23:18,310 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:23:18 +08:00

2018-05-15 16:23:18,311 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 16:23:18 +08:00

2018-05-15 16:23:18,311 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_States] AS [Extent1]
    WHERE 0 = [Extent1].[IsDeleted]
2018-05-15 16:23:18,311 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:23:18,311 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 16:23:18 +08:00

2018-05-15 16:23:18,344 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 32 ms with result: SqlDataReader

2018-05-15 16:23:18,344 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:23:18,344 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:23:18 +08:00

2018-05-15 16:23:19,674 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 16:23:19 +08:00

2018-05-15 16:23:19,674 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-15 16:23:19,674 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:23:19,674 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 16:23:19 +08:00

2018-05-15 16:23:19,677 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-15 16:23:19,677 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:23:19,677 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:23:19 +08:00

2018-05-15 16:23:19,677 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 16:23:19 +08:00

2018-05-15 16:23:19,677 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-15 16:23:19,677 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:23:19,677 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 16:23:19 +08:00

2018-05-15 16:23:19,679 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 16:23:19,679 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:23:19,679 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:23:19 +08:00

2018-05-15 16:23:19,679 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 16:23:19 +08:00

2018-05-15 16:23:19,679 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_TakeCashes] AS [Extent1]
        WHERE 0 = [Extent1].[IsDeleted]
    )  AS [GroupBy1]
2018-05-15 16:23:19,679 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:23:19,679 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 16:23:19 +08:00

2018-05-15 16:23:19,722 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 40 ms with result: SqlDataReader

2018-05-15 16:23:19,722 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:23:19,722 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:23:19 +08:00

2018-05-15 16:23:19,723 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 16:23:19 +08:00

2018-05-15 16:23:19,723 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[Integral]) AS [A1]
        FROM [dbo].[T_TakeCashes] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[IntegralTypeId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-15 16:23:19,723 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:23:19,723 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64, IsNullable = false)

2018-05-15 16:23:19,723 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 16:23:19 +08:00

2018-05-15 16:23:19,757 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 33 ms with result: SqlDataReader

2018-05-15 16:23:19,757 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:23:19,757 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:23:19 +08:00

2018-05-15 16:23:19,758 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 16:23:19 +08:00

2018-05-15 16:23:19,758 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[Integral]) AS [A1]
        FROM [dbo].[T_TakeCashes] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[IntegralTypeId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-15 16:23:19,758 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:23:19,758 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '3' (Type = Int64, IsNullable = false)

2018-05-15 16:23:19,758 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 16:23:19 +08:00

2018-05-15 16:23:19,820 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 62 ms with result: SqlDataReader

2018-05-15 16:23:19,820 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:23:19,820 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:23:19 +08:00

2018-05-15 16:23:19,821 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 16:23:19 +08:00

2018-05-15 16:23:19,821 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Filter1].[Id] AS [Id], 
    [Filter1].[PlatformUserId] AS [PlatformUserId], 
    [Filter1].[IntegralTypeId] AS [IntegralTypeId], 
    [Filter1].[StateId] AS [StateId], 
    [Filter1].[Integral] AS [Integral], 
    [Filter1].[Amount] AS [Amount], 
    [Filter1].[Description] AS [Description], 
    [Filter1].[CreateTime] AS [CreateTime], 
    [Filter1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Extent1].[Id] AS [Id], [Extent1].[PlatformUserId] AS [PlatformUserId], [Extent1].[IntegralTypeId] AS [IntegralTypeId], [Extent1].[StateId] AS [StateId], [Extent1].[Integral] AS [Integral], [Extent1].[Amount] AS [Amount], [Extent1].[Description] AS [Description], [Extent1].[CreateTime] AS [CreateTime], [Extent1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Extent1].[CreateTime] DESC) AS [row_number]
        FROM [dbo].[T_TakeCashes] AS [Extent1]
        WHERE 0 = [Extent1].[IsDeleted]
    )  AS [Filter1]
    WHERE [Filter1].[row_number] > 0
    ORDER BY [Filter1].[CreateTime] DESC
2018-05-15 16:23:19,821 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:23:19,821 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 16:23:19 +08:00

2018-05-15 16:23:19,848 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 26 ms with result: SqlDataReader

2018-05-15 16:23:19,848 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:23:19,848 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:23:19 +08:00

2018-05-15 16:23:19,848 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 16:23:19 +08:00

2018-05-15 16:23:19,848 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 16:23:19,848 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:23:19,848 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-15 16:23:19,848 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 16:23:19 +08:00

2018-05-15 16:23:19,850 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-15 16:23:19,851 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:23:19,851 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:23:19 +08:00

2018-05-15 16:23:19,851 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 16:23:19 +08:00

2018-05-15 16:23:19,851 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_States] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 16:23:19,851 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:23:19,851 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 16:23:19,851 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 16:23:19 +08:00

2018-05-15 16:23:19,853 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 16:23:19,853 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:23:19,853 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:23:19 +08:00

2018-05-15 16:23:19,853 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 16:23:19 +08:00

2018-05-15 16:23:19,854 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_States] AS [Extent1]
    WHERE 0 = [Extent1].[IsDeleted]
2018-05-15 16:23:19,854 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:23:19,854 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 16:23:19 +08:00

2018-05-15 16:23:19,866 [12] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 12 ms with result: SqlDataReader

2018-05-15 16:23:19,866 [12] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:23:19,866 [12] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:23:19 +08:00

2018-05-15 16:23:29,039 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 16:23:29 +08:00

2018-05-15 16:23:29,039 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-15 16:23:29,039 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:23:29,039 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 16:23:29 +08:00

2018-05-15 16:23:29,041 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 16:23:29,041 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:23:29,041 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:23:29 +08:00

2018-05-15 16:23:29,041 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 16:23:29 +08:00

2018-05-15 16:23:29,041 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-15 16:23:29,041 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:23:29,041 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 16:23:29 +08:00

2018-05-15 16:23:29,043 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 16:23:29,043 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:23:29,043 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:23:29 +08:00

2018-05-15 16:23:29,043 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 16:23:29 +08:00

2018-05-15 16:23:29,043 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_TakeCashes] AS [Extent1]
        WHERE 0 = [Extent1].[IsDeleted]
    )  AS [GroupBy1]
2018-05-15 16:23:29,043 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:23:29,043 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 16:23:29 +08:00

2018-05-15 16:23:29,045 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 16:23:29,045 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:23:29,045 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:23:29 +08:00

2018-05-15 16:23:29,045 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 16:23:29 +08:00

2018-05-15 16:23:29,046 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[Integral]) AS [A1]
        FROM [dbo].[T_TakeCashes] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[IntegralTypeId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-15 16:23:29,046 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:23:29,046 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64, IsNullable = false)

2018-05-15 16:23:29,046 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 16:23:29 +08:00

2018-05-15 16:23:29,047 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 16:23:29,047 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:23:29,047 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:23:29 +08:00

2018-05-15 16:23:29,047 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 16:23:29 +08:00

2018-05-15 16:23:29,048 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[Integral]) AS [A1]
        FROM [dbo].[T_TakeCashes] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[IntegralTypeId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-15 16:23:29,048 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:23:29,048 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '3' (Type = Int64, IsNullable = false)

2018-05-15 16:23:29,048 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 16:23:29 +08:00

2018-05-15 16:23:29,349 [12] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 300 ms with result: SqlDataReader

2018-05-15 16:23:29,349 [12] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:23:29,349 [12] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:23:29 +08:00

2018-05-15 16:23:29,351 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 16:23:29 +08:00

2018-05-15 16:23:29,351 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Filter1].[Id] AS [Id], 
    [Filter1].[PlatformUserId] AS [PlatformUserId], 
    [Filter1].[IntegralTypeId] AS [IntegralTypeId], 
    [Filter1].[StateId] AS [StateId], 
    [Filter1].[Integral] AS [Integral], 
    [Filter1].[Amount] AS [Amount], 
    [Filter1].[Description] AS [Description], 
    [Filter1].[CreateTime] AS [CreateTime], 
    [Filter1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Extent1].[Id] AS [Id], [Extent1].[PlatformUserId] AS [PlatformUserId], [Extent1].[IntegralTypeId] AS [IntegralTypeId], [Extent1].[StateId] AS [StateId], [Extent1].[Integral] AS [Integral], [Extent1].[Amount] AS [Amount], [Extent1].[Description] AS [Description], [Extent1].[CreateTime] AS [CreateTime], [Extent1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Extent1].[CreateTime] DESC) AS [row_number]
        FROM [dbo].[T_TakeCashes] AS [Extent1]
        WHERE 0 = [Extent1].[IsDeleted]
    )  AS [Filter1]
    WHERE [Filter1].[row_number] > 0
    ORDER BY [Filter1].[CreateTime] DESC
2018-05-15 16:23:29,351 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:23:29,352 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 16:23:29 +08:00

2018-05-15 16:23:29,360 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 8 ms with result: SqlDataReader

2018-05-15 16:23:29,360 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:23:29,360 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:23:29 +08:00

2018-05-15 16:23:29,361 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 16:23:29 +08:00

2018-05-15 16:23:29,361 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 16:23:29,361 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:23:29,361 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-15 16:23:29,361 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 16:23:29 +08:00

2018-05-15 16:23:29,867 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 506 ms with result: SqlDataReader

2018-05-15 16:23:29,867 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:23:29,868 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:23:29 +08:00

2018-05-15 16:23:29,868 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 16:23:29 +08:00

2018-05-15 16:23:29,868 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_States] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 16:23:29,868 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:23:29,868 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 16:23:29,868 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 16:23:29 +08:00

2018-05-15 16:23:29,869 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 16:23:29,869 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:23:29,870 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:23:29 +08:00

2018-05-15 16:23:29,870 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 16:23:29 +08:00

2018-05-15 16:23:29,870 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_States] AS [Extent1]
    WHERE 0 = [Extent1].[IsDeleted]
2018-05-15 16:23:29,870 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:23:29,870 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 16:23:29 +08:00

2018-05-15 16:23:29,872 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 16:23:29,872 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:23:29,872 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:23:29 +08:00

2018-05-15 16:30:04,682 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 16:30:04 +08:00

2018-05-15 16:30:04,697 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：
SELECT Count(*)
FROM INFORMATION_SCHEMA.TABLES AS t
WHERE t.TABLE_SCHEMA + '.' + t.TABLE_NAME IN ('dbo.T_AdminLogs','dbo.T_Admins','dbo.T_Permissions','dbo.T_PermissionTypes','dbo.T_IntegralTypes','dbo.T_Journals','dbo.T_PlatformUsers','dbo.T_PlatformUserTypes','dbo.T_JournalTypes','dbo.T_NavBars','dbo.T_Settings','dbo.T_SettingTypes','dbo.T_States','dbo.T_TakeCashes','dbo.T_AdminPermissions')
    OR t.TABLE_NAME = 'EdmMetadata'
2018-05-15 16:30:04,697 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:30:04,697 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 16:30:04 +08:00

2018-05-15 16:30:04,697 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: 15

2018-05-15 16:30:04,697 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:30:04,697 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:30:04 +08:00

2018-05-15 16:30:04,807 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 16:30:04 +08:00

2018-05-15 16:30:05,892 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[__MigrationHistory] AS [Extent1]
        WHERE [Extent1].[ContextKey] = @p__linq__0
    )  AS [GroupBy1]
2018-05-15 16:30:05,892 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:30:05,892 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'IMS.Service.MyDbContext' (Type = String, Size = 4000)

2018-05-15 16:30:05,892 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 16:30:05 +08:00

2018-05-15 16:30:05,892 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Failed in 2 ms with error: 对象名 'dbo.__MigrationHistory' 无效。

2018-05-15 16:30:05,892 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:30:05,892 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:30:05 +08:00

2018-05-15 16:30:05,892 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 16:30:05 +08:00

2018-05-15 16:30:05,908 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[__MigrationHistory] AS [Extent1]
    )  AS [GroupBy1]
2018-05-15 16:30:05,908 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:30:05,908 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 16:30:05 +08:00

2018-05-15 16:30:05,908 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Failed in 1 ms with error: 对象名 'dbo.__MigrationHistory' 无效。

2018-05-15 16:30:05,908 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:30:05,908 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:30:05 +08:00

2018-05-15 16:30:06,064 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 16:30:06 +08:00

2018-05-15 16:30:06,236 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_Admins] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-05-15 16:30:06,236 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:30:06,236 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'admin' (Type = String, Size = 4000)

2018-05-15 16:30:06,236 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 16:30:06 +08:00

2018-05-15 16:30:06,236 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 8 ms with result: SqlDataReader

2018-05-15 16:30:06,236 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:30:06,299 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:30:06 +08:00

2018-05-15 16:30:10,758 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 16:30:10 +08:00

2018-05-15 16:30:10,759 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_Admins] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-05-15 16:30:10,759 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:30:10,759 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'admin' (Type = String, Size = 4000)

2018-05-15 16:30:10,759 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 16:30:10 +08:00

2018-05-15 16:30:10,761 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 16:30:10,761 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:30:10,762 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:30:10 +08:00

2018-05-15 16:30:17,380 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 16:30:17 +08:00

2018-05-15 16:30:17,381 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_Admins] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-05-15 16:30:17,381 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:30:17,381 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'admin' (Type = String, Size = 4000)

2018-05-15 16:30:17,381 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 16:30:17 +08:00

2018-05-15 16:30:17,387 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 6 ms with result: SqlDataReader

2018-05-15 16:30:17,387 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:30:17,388 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:30:17 +08:00

2018-05-15 16:30:21,546 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 16:30:21 +08:00

2018-05-15 16:30:21,546 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_Admins] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-05-15 16:30:21,547 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:30:21,547 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'admin' (Type = String, Size = 4000)

2018-05-15 16:30:21,547 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 16:30:21 +08:00

2018-05-15 16:30:21,552 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 4 ms with result: SqlDataReader

2018-05-15 16:30:21,552 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:30:21,552 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:30:21 +08:00

2018-05-15 16:30:29,203 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 16:30:29 +08:00

2018-05-15 16:30:29,211 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-15 16:30:29,212 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:30:29,212 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 16:30:29 +08:00

2018-05-15 16:30:29,213 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 16:30:29,213 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:30:29,216 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:30:29 +08:00

2018-05-15 16:30:29,216 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 16:30:29 +08:00

2018-05-15 16:30:29,217 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-15 16:30:29,217 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:30:29,217 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 16:30:29 +08:00

2018-05-15 16:30:29,219 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 16:30:29,219 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:30:29,219 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:30:29 +08:00

2018-05-15 16:30:29,233 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 16:30:29 +08:00

2018-05-15 16:30:29,248 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_TakeCashes] AS [Extent1]
        WHERE 0 = [Extent1].[IsDeleted]
    )  AS [GroupBy1]
2018-05-15 16:30:29,248 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:30:29,248 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 16:30:29 +08:00

2018-05-15 16:30:29,252 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2018-05-15 16:30:29,252 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:30:29,294 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:30:29 +08:00

2018-05-15 16:30:29,310 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 16:30:29 +08:00

2018-05-15 16:30:29,324 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[Integral]) AS [A1]
        FROM [dbo].[T_TakeCashes] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[IntegralTypeId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-15 16:30:29,324 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:30:29,324 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64, IsNullable = false)

2018-05-15 16:30:29,324 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 16:30:29 +08:00

2018-05-15 16:30:29,329 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 5 ms with result: SqlDataReader

2018-05-15 16:30:29,329 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:30:29,340 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:30:29 +08:00

2018-05-15 16:30:29,344 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 16:30:29 +08:00

2018-05-15 16:30:29,344 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[Integral]) AS [A1]
        FROM [dbo].[T_TakeCashes] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[IntegralTypeId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-15 16:30:29,344 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:30:29,344 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '3' (Type = Int64, IsNullable = false)

2018-05-15 16:30:29,344 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 16:30:29 +08:00

2018-05-15 16:30:29,346 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 16:30:29,346 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:30:29,346 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:30:29 +08:00

2018-05-15 16:30:29,393 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 16:30:29 +08:00

2018-05-15 16:30:29,457 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Filter1].[Id] AS [Id], 
    [Filter1].[PlatformUserId] AS [PlatformUserId], 
    [Filter1].[IntegralTypeId] AS [IntegralTypeId], 
    [Filter1].[StateId] AS [StateId], 
    [Filter1].[Integral] AS [Integral], 
    [Filter1].[Amount] AS [Amount], 
    [Filter1].[Description] AS [Description], 
    [Filter1].[CreateTime] AS [CreateTime], 
    [Filter1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Extent1].[Id] AS [Id], [Extent1].[PlatformUserId] AS [PlatformUserId], [Extent1].[IntegralTypeId] AS [IntegralTypeId], [Extent1].[StateId] AS [StateId], [Extent1].[Integral] AS [Integral], [Extent1].[Amount] AS [Amount], [Extent1].[Description] AS [Description], [Extent1].[CreateTime] AS [CreateTime], [Extent1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Extent1].[CreateTime] DESC) AS [row_number]
        FROM [dbo].[T_TakeCashes] AS [Extent1]
        WHERE 0 = [Extent1].[IsDeleted]
    )  AS [Filter1]
    WHERE [Filter1].[row_number] > 0
    ORDER BY [Filter1].[CreateTime] DESC
2018-05-15 16:30:29,458 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:30:29,458 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 16:30:29 +08:00

2018-05-15 16:30:29,462 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 4 ms with result: SqlDataReader

2018-05-15 16:30:29,462 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:30:29,531 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:30:29 +08:00

2018-05-15 16:30:29,547 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 16:30:29 +08:00

2018-05-15 16:30:29,594 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 16:30:29,594 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:30:29,594 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-15 16:30:29,594 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 16:30:29 +08:00

2018-05-15 16:30:29,594 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 16:30:29,594 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:30:29,594 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:30:29 +08:00

2018-05-15 16:30:29,610 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 16:30:29 +08:00

2018-05-15 16:30:29,610 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_States] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 16:30:29,610 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:30:29,610 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 16:30:29,610 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 16:30:29 +08:00

2018-05-15 16:30:29,610 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 16:30:29,610 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:30:29,610 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:30:29 +08:00

2018-05-15 16:30:29,610 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 16:30:29 +08:00

2018-05-15 16:30:29,625 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_States] AS [Extent1]
    WHERE 0 = [Extent1].[IsDeleted]
2018-05-15 16:30:29,625 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:30:29,625 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 16:30:29 +08:00

2018-05-15 16:30:29,625 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 16:30:29,625 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:30:29,625 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:30:29 +08:00

2018-05-15 16:30:34,692 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 16:30:34 +08:00

2018-05-15 16:30:34,693 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-15 16:30:34,693 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:30:34,693 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 16:30:34 +08:00

2018-05-15 16:30:34,695 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-15 16:30:34,695 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:30:34,695 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:30:34 +08:00

2018-05-15 16:30:34,695 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 16:30:34 +08:00

2018-05-15 16:30:34,696 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-15 16:30:34,696 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:30:34,696 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 16:30:34 +08:00

2018-05-15 16:30:34,698 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-15 16:30:34,698 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:30:34,699 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:30:34 +08:00

2018-05-15 16:30:34,699 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 16:30:34 +08:00

2018-05-15 16:30:34,699 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_TakeCashes] AS [Extent1]
        WHERE 0 = [Extent1].[IsDeleted]
    )  AS [GroupBy1]
2018-05-15 16:30:34,699 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:30:34,699 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 16:30:34 +08:00

2018-05-15 16:30:34,703 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2018-05-15 16:30:34,703 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:30:34,703 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:30:34 +08:00

2018-05-15 16:30:34,703 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 16:30:34 +08:00

2018-05-15 16:30:34,703 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[Integral]) AS [A1]
        FROM [dbo].[T_TakeCashes] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[IntegralTypeId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-15 16:30:34,703 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:30:34,704 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64, IsNullable = false)

2018-05-15 16:30:34,704 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 16:30:34 +08:00

2018-05-15 16:30:34,706 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-15 16:30:34,706 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:30:34,706 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:30:34 +08:00

2018-05-15 16:30:34,706 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 16:30:34 +08:00

2018-05-15 16:30:34,706 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[Integral]) AS [A1]
        FROM [dbo].[T_TakeCashes] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[IntegralTypeId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-15 16:30:34,707 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:30:34,707 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '3' (Type = Int64, IsNullable = false)

2018-05-15 16:30:34,707 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 16:30:34 +08:00

2018-05-15 16:30:34,710 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2018-05-15 16:30:34,710 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:30:34,710 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:30:34 +08:00

2018-05-15 16:30:34,710 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 16:30:34 +08:00

2018-05-15 16:30:34,711 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Filter1].[Id] AS [Id], 
    [Filter1].[PlatformUserId] AS [PlatformUserId], 
    [Filter1].[IntegralTypeId] AS [IntegralTypeId], 
    [Filter1].[StateId] AS [StateId], 
    [Filter1].[Integral] AS [Integral], 
    [Filter1].[Amount] AS [Amount], 
    [Filter1].[Description] AS [Description], 
    [Filter1].[CreateTime] AS [CreateTime], 
    [Filter1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Extent1].[Id] AS [Id], [Extent1].[PlatformUserId] AS [PlatformUserId], [Extent1].[IntegralTypeId] AS [IntegralTypeId], [Extent1].[StateId] AS [StateId], [Extent1].[Integral] AS [Integral], [Extent1].[Amount] AS [Amount], [Extent1].[Description] AS [Description], [Extent1].[CreateTime] AS [CreateTime], [Extent1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Extent1].[CreateTime] DESC) AS [row_number]
        FROM [dbo].[T_TakeCashes] AS [Extent1]
        WHERE 0 = [Extent1].[IsDeleted]
    )  AS [Filter1]
    WHERE [Filter1].[row_number] > 0
    ORDER BY [Filter1].[CreateTime] DESC
2018-05-15 16:30:34,711 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:30:34,711 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 16:30:34 +08:00

2018-05-15 16:30:34,713 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-15 16:30:34,714 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:30:34,714 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:30:34 +08:00

2018-05-15 16:30:34,720 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 16:30:34 +08:00

2018-05-15 16:30:34,720 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 16:30:34,720 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:30:34,720 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-15 16:30:34,721 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 16:30:34 +08:00

2018-05-15 16:30:34,728 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 7 ms with result: SqlDataReader

2018-05-15 16:30:34,728 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:30:34,728 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:30:34 +08:00

2018-05-15 16:30:34,728 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 16:30:34 +08:00

2018-05-15 16:30:34,729 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_States] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 16:30:34,729 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:30:34,729 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 16:30:34,729 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 16:30:34 +08:00

2018-05-15 16:30:34,736 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 7 ms with result: SqlDataReader

2018-05-15 16:30:34,737 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:30:34,737 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:30:34 +08:00

2018-05-15 16:30:34,737 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 16:30:34 +08:00

2018-05-15 16:30:34,737 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_States] AS [Extent1]
    WHERE 0 = [Extent1].[IsDeleted]
2018-05-15 16:30:34,737 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:30:34,737 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 16:30:34 +08:00

2018-05-15 16:30:34,749 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 11 ms with result: SqlDataReader

2018-05-15 16:30:34,749 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:30:34,749 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:30:34 +08:00

2018-05-15 16:31:07,743 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 16:31:07 +08:00

2018-05-15 16:31:07,743 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-15 16:31:07,743 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:31:07,743 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 16:31:07 +08:00

2018-05-15 16:31:07,745 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 16:31:07,745 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:31:07,745 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:31:07 +08:00

2018-05-15 16:31:07,745 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 16:31:07 +08:00

2018-05-15 16:31:07,746 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-15 16:31:07,746 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:31:07,746 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 16:31:07 +08:00

2018-05-15 16:31:07,747 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 16:31:07,747 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:31:07,747 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:31:07 +08:00

2018-05-15 16:31:07,747 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 16:31:07 +08:00

2018-05-15 16:31:07,748 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_TakeCashes] AS [Extent1]
        WHERE 0 = [Extent1].[IsDeleted]
    )  AS [GroupBy1]
2018-05-15 16:31:07,748 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:31:07,748 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 16:31:07 +08:00

2018-05-15 16:31:07,749 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 16:31:07,749 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:31:07,749 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:31:07 +08:00

2018-05-15 16:31:07,750 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 16:31:07 +08:00

2018-05-15 16:31:07,750 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[Integral]) AS [A1]
        FROM [dbo].[T_TakeCashes] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[IntegralTypeId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-15 16:31:07,750 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:31:07,750 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64, IsNullable = false)

2018-05-15 16:31:07,750 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 16:31:07 +08:00

2018-05-15 16:31:07,752 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 16:31:07,752 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:31:07,752 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:31:07 +08:00

2018-05-15 16:31:07,752 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 16:31:07 +08:00

2018-05-15 16:31:07,753 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[Integral]) AS [A1]
        FROM [dbo].[T_TakeCashes] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[IntegralTypeId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-15 16:31:07,753 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:31:07,753 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '3' (Type = Int64, IsNullable = false)

2018-05-15 16:31:07,753 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 16:31:07 +08:00

2018-05-15 16:31:07,756 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2018-05-15 16:31:07,756 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:31:07,756 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:31:07 +08:00

2018-05-15 16:31:07,756 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 16:31:07 +08:00

2018-05-15 16:31:07,757 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Filter1].[Id] AS [Id], 
    [Filter1].[PlatformUserId] AS [PlatformUserId], 
    [Filter1].[IntegralTypeId] AS [IntegralTypeId], 
    [Filter1].[StateId] AS [StateId], 
    [Filter1].[Integral] AS [Integral], 
    [Filter1].[Amount] AS [Amount], 
    [Filter1].[Description] AS [Description], 
    [Filter1].[CreateTime] AS [CreateTime], 
    [Filter1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Extent1].[Id] AS [Id], [Extent1].[PlatformUserId] AS [PlatformUserId], [Extent1].[IntegralTypeId] AS [IntegralTypeId], [Extent1].[StateId] AS [StateId], [Extent1].[Integral] AS [Integral], [Extent1].[Amount] AS [Amount], [Extent1].[Description] AS [Description], [Extent1].[CreateTime] AS [CreateTime], [Extent1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Extent1].[CreateTime] DESC) AS [row_number]
        FROM [dbo].[T_TakeCashes] AS [Extent1]
        WHERE 0 = [Extent1].[IsDeleted]
    )  AS [Filter1]
    WHERE [Filter1].[row_number] > 0
    ORDER BY [Filter1].[CreateTime] DESC
2018-05-15 16:31:07,757 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:31:07,757 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 16:31:07 +08:00

2018-05-15 16:31:07,760 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-15 16:31:07,760 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:31:07,760 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:31:07 +08:00

2018-05-15 16:31:07,760 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 16:31:07 +08:00

2018-05-15 16:31:07,760 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 16:31:07,760 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:31:07,760 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-15 16:31:07,760 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 16:31:07 +08:00

2018-05-15 16:31:07,762 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-15 16:31:07,762 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:31:07,763 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:31:07 +08:00

2018-05-15 16:31:07,763 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 16:31:07 +08:00

2018-05-15 16:31:07,763 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_States] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 16:31:07,763 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:31:07,763 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 16:31:07,763 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 16:31:07 +08:00

2018-05-15 16:31:07,765 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 16:31:07,765 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:31:07,765 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:31:07 +08:00

2018-05-15 16:31:07,766 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 16:31:07 +08:00

2018-05-15 16:31:07,766 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_States] AS [Extent1]
    WHERE 0 = [Extent1].[IsDeleted]
2018-05-15 16:31:07,766 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:31:07,766 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 16:31:07 +08:00

2018-05-15 16:31:07,770 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2018-05-15 16:31:07,770 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:31:07,770 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:31:07 +08:00

2018-05-15 16:35:13,194 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 16:35:13 +08:00

2018-05-15 16:35:13,195 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-15 16:35:13,195 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:35:13,195 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 16:35:13 +08:00

2018-05-15 16:35:13,196 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 16:35:13,196 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:35:13,197 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:35:13 +08:00

2018-05-15 16:35:13,197 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 16:35:13 +08:00

2018-05-15 16:35:13,197 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-15 16:35:13,197 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:35:13,197 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 16:35:13 +08:00

2018-05-15 16:35:13,199 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 16:35:13,199 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:35:13,199 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:35:13 +08:00

2018-05-15 16:35:13,199 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 16:35:13 +08:00

2018-05-15 16:35:13,199 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_TakeCashes] AS [Extent1]
        WHERE 0 = [Extent1].[IsDeleted]
    )  AS [GroupBy1]
2018-05-15 16:35:13,199 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:35:13,199 [25] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 16:35:13 +08:00

2018-05-15 16:35:13,519 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 319 ms with result: SqlDataReader

2018-05-15 16:35:13,519 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:35:13,519 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:35:13 +08:00

2018-05-15 16:35:13,519 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 16:35:13 +08:00

2018-05-15 16:35:13,519 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[Integral]) AS [A1]
        FROM [dbo].[T_TakeCashes] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[IntegralTypeId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-15 16:35:13,519 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:35:13,519 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64, IsNullable = false)

2018-05-15 16:35:13,519 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 16:35:13 +08:00

2018-05-15 16:35:13,519 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 11 ms with result: SqlDataReader

2018-05-15 16:35:13,519 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:35:13,519 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:35:13 +08:00

2018-05-15 16:35:13,519 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 16:35:13 +08:00

2018-05-15 16:35:13,519 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[Integral]) AS [A1]
        FROM [dbo].[T_TakeCashes] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[IntegralTypeId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-15 16:35:13,519 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:35:13,519 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '3' (Type = Int64, IsNullable = false)

2018-05-15 16:35:13,519 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 16:35:13 +08:00

2018-05-15 16:35:13,519 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 16:35:13,519 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:35:13,535 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:35:13 +08:00

2018-05-15 16:35:13,535 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 16:35:13 +08:00

2018-05-15 16:35:13,535 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Filter1].[Id] AS [Id], 
    [Filter1].[PlatformUserId] AS [PlatformUserId], 
    [Filter1].[IntegralTypeId] AS [IntegralTypeId], 
    [Filter1].[StateId] AS [StateId], 
    [Filter1].[Integral] AS [Integral], 
    [Filter1].[Amount] AS [Amount], 
    [Filter1].[Description] AS [Description], 
    [Filter1].[CreateTime] AS [CreateTime], 
    [Filter1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Extent1].[Id] AS [Id], [Extent1].[PlatformUserId] AS [PlatformUserId], [Extent1].[IntegralTypeId] AS [IntegralTypeId], [Extent1].[StateId] AS [StateId], [Extent1].[Integral] AS [Integral], [Extent1].[Amount] AS [Amount], [Extent1].[Description] AS [Description], [Extent1].[CreateTime] AS [CreateTime], [Extent1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Extent1].[CreateTime] DESC) AS [row_number]
        FROM [dbo].[T_TakeCashes] AS [Extent1]
        WHERE 0 = [Extent1].[IsDeleted]
    )  AS [Filter1]
    WHERE [Filter1].[row_number] > 0
    ORDER BY [Filter1].[CreateTime] DESC
2018-05-15 16:35:13,535 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:35:13,535 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 16:35:13 +08:00

2018-05-15 16:35:13,535 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2018-05-15 16:35:13,535 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:35:13,535 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:35:13 +08:00

2018-05-15 16:35:13,535 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 16:35:13 +08:00

2018-05-15 16:35:13,535 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 16:35:13,535 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:35:13,535 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-15 16:35:13,535 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 16:35:13 +08:00

2018-05-15 16:35:13,535 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 16:35:13,535 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:35:13,535 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:35:13 +08:00

2018-05-15 16:35:13,535 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 16:35:13 +08:00

2018-05-15 16:35:13,535 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_States] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 16:35:13,535 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:35:13,535 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 16:35:13,535 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 16:35:13 +08:00

2018-05-15 16:35:13,535 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 16:35:13,535 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:35:13,535 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:35:13 +08:00

2018-05-15 16:35:13,535 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 16:35:13 +08:00

2018-05-15 16:35:13,535 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_States] AS [Extent1]
    WHERE 0 = [Extent1].[IsDeleted]
2018-05-15 16:35:13,535 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:35:13,535 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 16:35:13 +08:00

2018-05-15 16:35:13,535 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 16:35:13,535 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:35:13,535 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:35:13 +08:00

2018-05-15 16:38:23,714 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 16:38:23 +08:00

2018-05-15 16:38:23,714 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-15 16:38:23,714 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:38:23,714 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 16:38:23 +08:00

2018-05-15 16:38:23,715 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 16:38:23,716 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:38:23,716 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:38:23 +08:00

2018-05-15 16:38:23,716 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 16:38:23 +08:00

2018-05-15 16:38:23,716 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-15 16:38:23,716 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:38:23,716 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 16:38:23 +08:00

2018-05-15 16:38:23,717 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 16:38:23,718 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:38:23,718 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:38:23 +08:00

2018-05-15 16:38:23,718 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 16:38:23 +08:00

2018-05-15 16:38:23,718 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_TakeCashes] AS [Extent1]
        WHERE 0 = [Extent1].[IsDeleted]
    )  AS [GroupBy1]
2018-05-15 16:38:23,718 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:38:23,718 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 16:38:23 +08:00

2018-05-15 16:38:23,719 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 16:38:23,719 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:38:23,720 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:38:23 +08:00

2018-05-15 16:38:23,720 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 16:38:23 +08:00

2018-05-15 16:38:23,720 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[Integral]) AS [A1]
        FROM [dbo].[T_TakeCashes] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[IntegralTypeId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-15 16:38:23,720 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:38:23,720 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64, IsNullable = false)

2018-05-15 16:38:23,720 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 16:38:23 +08:00

2018-05-15 16:38:23,728 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 7 ms with result: SqlDataReader

2018-05-15 16:38:23,728 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:38:23,728 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:38:23 +08:00

2018-05-15 16:38:23,728 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 16:38:23 +08:00

2018-05-15 16:38:23,728 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[Integral]) AS [A1]
        FROM [dbo].[T_TakeCashes] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[IntegralTypeId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-15 16:38:23,728 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:38:23,729 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '3' (Type = Int64, IsNullable = false)

2018-05-15 16:38:23,729 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 16:38:23 +08:00

2018-05-15 16:38:23,731 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-15 16:38:23,731 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:38:23,731 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:38:23 +08:00

2018-05-15 16:38:23,731 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 16:38:23 +08:00

2018-05-15 16:38:23,732 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Filter1].[Id] AS [Id], 
    [Filter1].[PlatformUserId] AS [PlatformUserId], 
    [Filter1].[IntegralTypeId] AS [IntegralTypeId], 
    [Filter1].[StateId] AS [StateId], 
    [Filter1].[Integral] AS [Integral], 
    [Filter1].[Amount] AS [Amount], 
    [Filter1].[Description] AS [Description], 
    [Filter1].[CreateTime] AS [CreateTime], 
    [Filter1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Extent1].[Id] AS [Id], [Extent1].[PlatformUserId] AS [PlatformUserId], [Extent1].[IntegralTypeId] AS [IntegralTypeId], [Extent1].[StateId] AS [StateId], [Extent1].[Integral] AS [Integral], [Extent1].[Amount] AS [Amount], [Extent1].[Description] AS [Description], [Extent1].[CreateTime] AS [CreateTime], [Extent1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Extent1].[CreateTime] DESC) AS [row_number]
        FROM [dbo].[T_TakeCashes] AS [Extent1]
        WHERE 0 = [Extent1].[IsDeleted]
    )  AS [Filter1]
    WHERE [Filter1].[row_number] > 0
    ORDER BY [Filter1].[CreateTime] DESC
2018-05-15 16:38:23,732 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:38:23,732 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 16:38:23 +08:00

2018-05-15 16:38:23,760 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 27 ms with result: SqlDataReader

2018-05-15 16:38:23,760 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:38:23,760 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:38:23 +08:00

2018-05-15 16:38:23,761 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 16:38:23 +08:00

2018-05-15 16:38:23,761 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 16:38:23,761 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:38:23,761 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-15 16:38:23,761 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 16:38:23 +08:00

2018-05-15 16:38:23,763 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-15 16:38:23,763 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:38:23,763 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:38:23 +08:00

2018-05-15 16:38:23,763 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 16:38:23 +08:00

2018-05-15 16:38:23,763 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_States] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 16:38:23,763 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:38:23,764 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 16:38:23,764 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 16:38:23 +08:00

2018-05-15 16:38:23,765 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 16:38:23,765 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:38:23,765 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:38:23 +08:00

2018-05-15 16:38:23,766 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 16:38:23 +08:00

2018-05-15 16:38:23,766 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_States] AS [Extent1]
    WHERE 0 = [Extent1].[IsDeleted]
2018-05-15 16:38:23,766 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:38:23,766 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 16:38:23 +08:00

2018-05-15 16:38:23,775 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 9 ms with result: SqlDataReader

2018-05-15 16:38:23,775 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:38:23,776 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:38:23 +08:00

2018-05-15 16:38:56,487 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 16:38:56 +08:00

2018-05-15 16:38:56,487 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-15 16:38:56,488 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:38:56,488 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 16:38:56 +08:00

2018-05-15 16:38:56,810 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 333 ms with result: SqlDataReader

2018-05-15 16:38:56,810 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:38:56,810 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:38:56 +08:00

2018-05-15 16:38:56,810 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 16:38:56 +08:00

2018-05-15 16:38:56,810 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-15 16:38:56,810 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:38:56,810 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 16:38:56 +08:00

2018-05-15 16:38:56,911 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 89 ms with result: SqlDataReader

2018-05-15 16:38:56,911 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:38:56,912 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:38:56 +08:00

2018-05-15 16:38:56,912 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 16:38:56 +08:00

2018-05-15 16:38:56,912 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_TakeCashes] AS [Extent1]
        WHERE 0 = [Extent1].[IsDeleted]
    )  AS [GroupBy1]
2018-05-15 16:38:56,912 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:38:56,912 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 16:38:56 +08:00

2018-05-15 16:38:57,036 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 122 ms with result: SqlDataReader

2018-05-15 16:38:57,036 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:38:57,036 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:38:57 +08:00

2018-05-15 16:38:57,036 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 16:38:57 +08:00

2018-05-15 16:38:57,036 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[Integral]) AS [A1]
        FROM [dbo].[T_TakeCashes] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[IntegralTypeId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-15 16:38:57,036 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:38:57,037 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64, IsNullable = false)

2018-05-15 16:38:57,037 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 16:38:57 +08:00

2018-05-15 16:38:57,394 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 357 ms with result: SqlDataReader

2018-05-15 16:38:57,394 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:38:57,394 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:38:57 +08:00

2018-05-15 16:38:57,394 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 16:38:57 +08:00

2018-05-15 16:38:57,395 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[Integral]) AS [A1]
        FROM [dbo].[T_TakeCashes] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[IntegralTypeId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-15 16:38:57,395 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:38:57,395 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '3' (Type = Int64, IsNullable = false)

2018-05-15 16:38:57,395 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 16:38:57 +08:00

2018-05-15 16:38:57,396 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 16:38:57,396 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:38:57,396 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:38:57 +08:00

2018-05-15 16:38:57,396 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 16:38:57 +08:00

2018-05-15 16:38:57,397 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Filter1].[Id] AS [Id], 
    [Filter1].[PlatformUserId] AS [PlatformUserId], 
    [Filter1].[IntegralTypeId] AS [IntegralTypeId], 
    [Filter1].[StateId] AS [StateId], 
    [Filter1].[Integral] AS [Integral], 
    [Filter1].[Amount] AS [Amount], 
    [Filter1].[Description] AS [Description], 
    [Filter1].[CreateTime] AS [CreateTime], 
    [Filter1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Extent1].[Id] AS [Id], [Extent1].[PlatformUserId] AS [PlatformUserId], [Extent1].[IntegralTypeId] AS [IntegralTypeId], [Extent1].[StateId] AS [StateId], [Extent1].[Integral] AS [Integral], [Extent1].[Amount] AS [Amount], [Extent1].[Description] AS [Description], [Extent1].[CreateTime] AS [CreateTime], [Extent1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Extent1].[CreateTime] DESC) AS [row_number]
        FROM [dbo].[T_TakeCashes] AS [Extent1]
        WHERE 0 = [Extent1].[IsDeleted]
    )  AS [Filter1]
    WHERE [Filter1].[row_number] > 0
    ORDER BY [Filter1].[CreateTime] DESC
2018-05-15 16:38:57,397 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:38:57,397 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 16:38:57 +08:00

2018-05-15 16:38:57,400 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-15 16:38:57,400 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:38:57,400 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:38:57 +08:00

2018-05-15 16:38:57,400 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 16:38:57 +08:00

2018-05-15 16:38:57,400 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 16:38:57,400 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:38:57,400 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-15 16:38:57,400 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 16:38:57 +08:00

2018-05-15 16:38:57,402 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 16:38:57,402 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:38:57,402 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:38:57 +08:00

2018-05-15 16:38:57,402 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 16:38:57 +08:00

2018-05-15 16:38:57,402 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_States] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 16:38:57,402 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:38:57,403 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 16:38:57,403 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 16:38:57 +08:00

2018-05-15 16:38:57,404 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 16:38:57,404 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:38:57,404 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:38:57 +08:00

2018-05-15 16:38:57,404 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 16:38:57 +08:00

2018-05-15 16:38:57,405 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_States] AS [Extent1]
    WHERE 0 = [Extent1].[IsDeleted]
2018-05-15 16:38:57,405 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:38:57,405 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 16:38:57 +08:00

2018-05-15 16:38:57,406 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 16:38:57,406 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:38:57,406 [11] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:38:57 +08:00

2018-05-15 16:39:54,668 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 16:39:54 +08:00

2018-05-15 16:39:54,668 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-15 16:39:54,668 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:39:54,668 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 16:39:54 +08:00

2018-05-15 16:39:54,670 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 16:39:54,670 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:39:54,670 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:39:54 +08:00

2018-05-15 16:39:54,670 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 16:39:54 +08:00

2018-05-15 16:39:54,670 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-15 16:39:54,670 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:39:54,670 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 16:39:54 +08:00

2018-05-15 16:39:54,672 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 16:39:54,672 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:39:54,672 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:39:54 +08:00

2018-05-15 16:39:54,672 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 16:39:54 +08:00

2018-05-15 16:39:54,672 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_TakeCashes] AS [Extent1]
        WHERE 0 = [Extent1].[IsDeleted]
    )  AS [GroupBy1]
2018-05-15 16:39:54,672 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:39:54,672 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 16:39:54 +08:00

2018-05-15 16:39:54,675 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-15 16:39:54,675 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:39:54,675 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:39:54 +08:00

2018-05-15 16:39:54,676 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 16:39:54 +08:00

2018-05-15 16:39:54,676 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[Integral]) AS [A1]
        FROM [dbo].[T_TakeCashes] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[IntegralTypeId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-15 16:39:54,676 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:39:54,676 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64, IsNullable = false)

2018-05-15 16:39:54,676 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 16:39:54 +08:00

2018-05-15 16:39:54,680 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2018-05-15 16:39:54,680 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:39:54,680 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:39:54 +08:00

2018-05-15 16:39:54,681 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 16:39:54 +08:00

2018-05-15 16:39:54,681 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[Integral]) AS [A1]
        FROM [dbo].[T_TakeCashes] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[IntegralTypeId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-15 16:39:54,681 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:39:54,681 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '3' (Type = Int64, IsNullable = false)

2018-05-15 16:39:54,681 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 16:39:54 +08:00

2018-05-15 16:39:54,683 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 16:39:54,683 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:39:54,683 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:39:54 +08:00

2018-05-15 16:39:54,683 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 16:39:54 +08:00

2018-05-15 16:39:54,683 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Filter1].[Id] AS [Id], 
    [Filter1].[PlatformUserId] AS [PlatformUserId], 
    [Filter1].[IntegralTypeId] AS [IntegralTypeId], 
    [Filter1].[StateId] AS [StateId], 
    [Filter1].[Integral] AS [Integral], 
    [Filter1].[Amount] AS [Amount], 
    [Filter1].[Description] AS [Description], 
    [Filter1].[CreateTime] AS [CreateTime], 
    [Filter1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Extent1].[Id] AS [Id], [Extent1].[PlatformUserId] AS [PlatformUserId], [Extent1].[IntegralTypeId] AS [IntegralTypeId], [Extent1].[StateId] AS [StateId], [Extent1].[Integral] AS [Integral], [Extent1].[Amount] AS [Amount], [Extent1].[Description] AS [Description], [Extent1].[CreateTime] AS [CreateTime], [Extent1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Extent1].[CreateTime] DESC) AS [row_number]
        FROM [dbo].[T_TakeCashes] AS [Extent1]
        WHERE 0 = [Extent1].[IsDeleted]
    )  AS [Filter1]
    WHERE [Filter1].[row_number] > 0
    ORDER BY [Filter1].[CreateTime] DESC
2018-05-15 16:39:54,683 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:39:54,683 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 16:39:54 +08:00

2018-05-15 16:39:54,689 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 5 ms with result: SqlDataReader

2018-05-15 16:39:54,689 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:39:54,689 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:39:54 +08:00

2018-05-15 16:39:54,689 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 16:39:54 +08:00

2018-05-15 16:39:54,689 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 16:39:54,689 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:39:54,689 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-15 16:39:54,689 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 16:39:54 +08:00

2018-05-15 16:39:54,691 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-15 16:39:54,692 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:39:54,692 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:39:54 +08:00

2018-05-15 16:39:54,692 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 16:39:54 +08:00

2018-05-15 16:39:54,692 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_States] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 16:39:54,692 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:39:54,692 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 16:39:54,692 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 16:39:54 +08:00

2018-05-15 16:39:54,693 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 16:39:54,693 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:39:54,694 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:39:54 +08:00

2018-05-15 16:39:54,694 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 16:39:54 +08:00

2018-05-15 16:39:54,695 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_States] AS [Extent1]
    WHERE 0 = [Extent1].[IsDeleted]
2018-05-15 16:39:54,695 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:39:54,695 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 16:39:54 +08:00

2018-05-15 16:39:54,705 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 10 ms with result: SqlDataReader

2018-05-15 16:39:54,705 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:39:54,706 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:39:54 +08:00

2018-05-15 16:39:55,517 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 16:39:55 +08:00

2018-05-15 16:39:55,517 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-15 16:39:55,517 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:39:55,517 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 16:39:55 +08:00

2018-05-15 16:39:55,519 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 16:39:55,519 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:39:55,519 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:39:55 +08:00

2018-05-15 16:39:55,519 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 16:39:55 +08:00

2018-05-15 16:39:55,519 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-15 16:39:55,519 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:39:55,519 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 16:39:55 +08:00

2018-05-15 16:39:55,521 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 16:39:55,521 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:39:55,521 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:39:55 +08:00

2018-05-15 16:39:55,521 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 16:39:55 +08:00

2018-05-15 16:39:55,522 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_TakeCashes] AS [Extent1]
        WHERE 0 = [Extent1].[IsDeleted]
    )  AS [GroupBy1]
2018-05-15 16:39:55,522 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:39:55,522 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 16:39:55 +08:00

2018-05-15 16:39:55,523 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 16:39:55,524 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:39:55,524 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:39:55 +08:00

2018-05-15 16:39:55,524 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 16:39:55 +08:00

2018-05-15 16:39:55,524 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[Integral]) AS [A1]
        FROM [dbo].[T_TakeCashes] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[IntegralTypeId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-15 16:39:55,524 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:39:55,524 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64, IsNullable = false)

2018-05-15 16:39:55,524 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 16:39:55 +08:00

2018-05-15 16:39:55,530 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 5 ms with result: SqlDataReader

2018-05-15 16:39:55,530 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:39:55,530 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:39:55 +08:00

2018-05-15 16:39:55,530 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 16:39:55 +08:00

2018-05-15 16:39:55,530 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[Integral]) AS [A1]
        FROM [dbo].[T_TakeCashes] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[IntegralTypeId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-15 16:39:55,530 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:39:55,530 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '3' (Type = Int64, IsNullable = false)

2018-05-15 16:39:55,531 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 16:39:55 +08:00

2018-05-15 16:39:55,534 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2018-05-15 16:39:55,534 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:39:55,535 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:39:55 +08:00

2018-05-15 16:39:55,535 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 16:39:55 +08:00

2018-05-15 16:39:55,535 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Filter1].[Id] AS [Id], 
    [Filter1].[PlatformUserId] AS [PlatformUserId], 
    [Filter1].[IntegralTypeId] AS [IntegralTypeId], 
    [Filter1].[StateId] AS [StateId], 
    [Filter1].[Integral] AS [Integral], 
    [Filter1].[Amount] AS [Amount], 
    [Filter1].[Description] AS [Description], 
    [Filter1].[CreateTime] AS [CreateTime], 
    [Filter1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Extent1].[Id] AS [Id], [Extent1].[PlatformUserId] AS [PlatformUserId], [Extent1].[IntegralTypeId] AS [IntegralTypeId], [Extent1].[StateId] AS [StateId], [Extent1].[Integral] AS [Integral], [Extent1].[Amount] AS [Amount], [Extent1].[Description] AS [Description], [Extent1].[CreateTime] AS [CreateTime], [Extent1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Extent1].[CreateTime] DESC) AS [row_number]
        FROM [dbo].[T_TakeCashes] AS [Extent1]
        WHERE 0 = [Extent1].[IsDeleted]
    )  AS [Filter1]
    WHERE [Filter1].[row_number] > 0
    ORDER BY [Filter1].[CreateTime] DESC
2018-05-15 16:39:55,535 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:39:55,535 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 16:39:55 +08:00

2018-05-15 16:39:55,538 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-15 16:39:55,538 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:39:55,538 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:39:55 +08:00

2018-05-15 16:39:55,539 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 16:39:55 +08:00

2018-05-15 16:39:55,539 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 16:39:55,539 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:39:55,539 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-15 16:39:55,539 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 16:39:55 +08:00

2018-05-15 16:39:55,542 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-15 16:39:55,542 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:39:55,542 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:39:55 +08:00

2018-05-15 16:39:55,542 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 16:39:55 +08:00

2018-05-15 16:39:55,542 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_States] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 16:39:55,542 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:39:55,542 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 16:39:55,542 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 16:39:55 +08:00

2018-05-15 16:39:55,544 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 16:39:55,544 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:39:55,544 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:39:55 +08:00

2018-05-15 16:39:55,545 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 16:39:55 +08:00

2018-05-15 16:39:55,545 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_States] AS [Extent1]
    WHERE 0 = [Extent1].[IsDeleted]
2018-05-15 16:39:55,545 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:39:55,545 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 16:39:55 +08:00

2018-05-15 16:39:55,547 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 16:39:55,547 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:39:55,547 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:39:55 +08:00

2018-05-15 16:42:42,984 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 16:42:42 +08:00

2018-05-15 16:42:42,984 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-15 16:42:42,984 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:42:42,984 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 16:42:42 +08:00

2018-05-15 16:42:42,986 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 16:42:42,986 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:42:42,986 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:42:42 +08:00

2018-05-15 16:42:42,986 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 16:42:42 +08:00

2018-05-15 16:42:42,987 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-15 16:42:42,987 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:42:42,987 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 16:42:42 +08:00

2018-05-15 16:42:42,988 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 16:42:42,988 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:42:42,988 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:42:42 +08:00

2018-05-15 16:42:42,988 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 16:42:42 +08:00

2018-05-15 16:42:42,989 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_TakeCashes] AS [Extent1]
        WHERE 0 = [Extent1].[IsDeleted]
    )  AS [GroupBy1]
2018-05-15 16:42:42,989 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:42:42,989 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 16:42:42 +08:00

2018-05-15 16:42:42,990 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 16:42:42,990 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:42:42,990 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:42:42 +08:00

2018-05-15 16:42:42,991 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 16:42:42 +08:00

2018-05-15 16:42:42,991 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[Integral]) AS [A1]
        FROM [dbo].[T_TakeCashes] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[IntegralTypeId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-15 16:42:42,991 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:42:42,991 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64, IsNullable = false)

2018-05-15 16:42:42,991 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 16:42:42 +08:00

2018-05-15 16:42:42,993 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 16:42:42,993 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:42:42,993 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:42:42 +08:00

2018-05-15 16:42:42,993 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 16:42:42 +08:00

2018-05-15 16:42:42,994 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[Integral]) AS [A1]
        FROM [dbo].[T_TakeCashes] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[IntegralTypeId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-15 16:42:42,994 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:42:42,994 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '3' (Type = Int64, IsNullable = false)

2018-05-15 16:42:42,994 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 16:42:42 +08:00

2018-05-15 16:42:42,995 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 16:42:42,995 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:42:42,995 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:42:42 +08:00

2018-05-15 16:42:42,996 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 16:42:42 +08:00

2018-05-15 16:42:42,996 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Filter1].[Id] AS [Id], 
    [Filter1].[PlatformUserId] AS [PlatformUserId], 
    [Filter1].[IntegralTypeId] AS [IntegralTypeId], 
    [Filter1].[StateId] AS [StateId], 
    [Filter1].[Integral] AS [Integral], 
    [Filter1].[Amount] AS [Amount], 
    [Filter1].[Description] AS [Description], 
    [Filter1].[CreateTime] AS [CreateTime], 
    [Filter1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Extent1].[Id] AS [Id], [Extent1].[PlatformUserId] AS [PlatformUserId], [Extent1].[IntegralTypeId] AS [IntegralTypeId], [Extent1].[StateId] AS [StateId], [Extent1].[Integral] AS [Integral], [Extent1].[Amount] AS [Amount], [Extent1].[Description] AS [Description], [Extent1].[CreateTime] AS [CreateTime], [Extent1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Extent1].[CreateTime] DESC) AS [row_number]
        FROM [dbo].[T_TakeCashes] AS [Extent1]
        WHERE 0 = [Extent1].[IsDeleted]
    )  AS [Filter1]
    WHERE [Filter1].[row_number] > 0
    ORDER BY [Filter1].[CreateTime] DESC
2018-05-15 16:42:42,996 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:42:42,996 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 16:42:42 +08:00

2018-05-15 16:42:43,001 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 4 ms with result: SqlDataReader

2018-05-15 16:42:43,001 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:42:43,001 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:42:43 +08:00

2018-05-15 16:42:43,001 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 16:42:43 +08:00

2018-05-15 16:42:43,001 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 16:42:43,001 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:42:43,001 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-15 16:42:43,001 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 16:42:43 +08:00

2018-05-15 16:42:43,503 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 500 ms with result: SqlDataReader

2018-05-15 16:42:43,503 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:42:43,503 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:42:43 +08:00

2018-05-15 16:42:43,503 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 16:42:43 +08:00

2018-05-15 16:42:43,503 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_States] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 16:42:43,503 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:42:43,503 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 16:42:43,503 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 16:42:43 +08:00

2018-05-15 16:42:44,453 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 950 ms with result: SqlDataReader

2018-05-15 16:42:44,453 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:42:44,453 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:42:44 +08:00

2018-05-15 16:42:44,454 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 16:42:44 +08:00

2018-05-15 16:42:44,454 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_States] AS [Extent1]
    WHERE 0 = [Extent1].[IsDeleted]
2018-05-15 16:42:44,454 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:42:44,454 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 16:42:44 +08:00

2018-05-15 16:42:44,456 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-15 16:42:44,456 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:42:44,457 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:42:44 +08:00

2018-05-15 16:42:45,278 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 16:42:45 +08:00

2018-05-15 16:42:45,278 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-15 16:42:45,278 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:42:45,278 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 16:42:45 +08:00

2018-05-15 16:42:45,279 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 16:42:45,279 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:42:45,280 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:42:45 +08:00

2018-05-15 16:42:45,280 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 16:42:45 +08:00

2018-05-15 16:42:45,280 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-15 16:42:45,280 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:42:45,280 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 16:42:45 +08:00

2018-05-15 16:42:45,281 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 16:42:45,281 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:42:45,281 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:42:45 +08:00

2018-05-15 16:42:45,282 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 16:42:45 +08:00

2018-05-15 16:42:45,282 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_TakeCashes] AS [Extent1]
        WHERE 0 = [Extent1].[IsDeleted]
    )  AS [GroupBy1]
2018-05-15 16:42:45,282 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:42:45,282 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 16:42:45 +08:00

2018-05-15 16:42:45,307 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 25 ms with result: SqlDataReader

2018-05-15 16:42:45,307 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:42:45,307 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:42:45 +08:00

2018-05-15 16:42:45,309 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 16:42:45 +08:00

2018-05-15 16:42:45,310 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[Integral]) AS [A1]
        FROM [dbo].[T_TakeCashes] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[IntegralTypeId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-15 16:42:45,310 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:42:45,310 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64, IsNullable = false)

2018-05-15 16:42:45,310 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 16:42:45 +08:00

2018-05-15 16:42:45,312 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 16:42:45,312 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:42:45,312 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:42:45 +08:00

2018-05-15 16:42:45,312 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 16:42:45 +08:00

2018-05-15 16:42:45,312 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[Integral]) AS [A1]
        FROM [dbo].[T_TakeCashes] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[IntegralTypeId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-15 16:42:45,312 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:42:45,312 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '3' (Type = Int64, IsNullable = false)

2018-05-15 16:42:45,312 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 16:42:45 +08:00

2018-05-15 16:42:45,314 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 16:42:45,314 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:42:45,314 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:42:45 +08:00

2018-05-15 16:42:45,314 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 16:42:45 +08:00

2018-05-15 16:42:45,314 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Filter1].[Id] AS [Id], 
    [Filter1].[PlatformUserId] AS [PlatformUserId], 
    [Filter1].[IntegralTypeId] AS [IntegralTypeId], 
    [Filter1].[StateId] AS [StateId], 
    [Filter1].[Integral] AS [Integral], 
    [Filter1].[Amount] AS [Amount], 
    [Filter1].[Description] AS [Description], 
    [Filter1].[CreateTime] AS [CreateTime], 
    [Filter1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Extent1].[Id] AS [Id], [Extent1].[PlatformUserId] AS [PlatformUserId], [Extent1].[IntegralTypeId] AS [IntegralTypeId], [Extent1].[StateId] AS [StateId], [Extent1].[Integral] AS [Integral], [Extent1].[Amount] AS [Amount], [Extent1].[Description] AS [Description], [Extent1].[CreateTime] AS [CreateTime], [Extent1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Extent1].[CreateTime] DESC) AS [row_number]
        FROM [dbo].[T_TakeCashes] AS [Extent1]
        WHERE 0 = [Extent1].[IsDeleted]
    )  AS [Filter1]
    WHERE [Filter1].[row_number] > 0
    ORDER BY [Filter1].[CreateTime] DESC
2018-05-15 16:42:45,314 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:42:45,315 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 16:42:45 +08:00

2018-05-15 16:42:45,317 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-15 16:42:45,317 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:42:45,318 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:42:45 +08:00

2018-05-15 16:42:45,318 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 16:42:45 +08:00

2018-05-15 16:42:45,318 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 16:42:45,318 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:42:45,318 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-15 16:42:45,318 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 16:42:45 +08:00

2018-05-15 16:42:45,320 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-15 16:42:45,320 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:42:45,320 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:42:45 +08:00

2018-05-15 16:42:45,320 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 16:42:45 +08:00

2018-05-15 16:42:45,321 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_States] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 16:42:45,321 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:42:45,321 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 16:42:45,321 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 16:42:45 +08:00

2018-05-15 16:42:45,322 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 16:42:45,322 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:42:45,322 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:42:45 +08:00

2018-05-15 16:42:45,323 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 16:42:45 +08:00

2018-05-15 16:42:45,323 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_States] AS [Extent1]
    WHERE 0 = [Extent1].[IsDeleted]
2018-05-15 16:42:45,323 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:42:45,323 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 16:42:45 +08:00

2018-05-15 16:42:45,324 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 16:42:45,324 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:42:45,324 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:42:45 +08:00

2018-05-15 16:42:50,666 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 16:42:50 +08:00

2018-05-15 16:42:50,667 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-15 16:42:50,667 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:42:50,667 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 16:42:50 +08:00

2018-05-15 16:42:50,669 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-15 16:42:50,669 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:42:50,669 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:42:50 +08:00

2018-05-15 16:42:50,670 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 16:42:50 +08:00

2018-05-15 16:42:50,670 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-15 16:42:50,670 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:42:50,670 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 16:42:50 +08:00

2018-05-15 16:42:50,672 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 16:42:50,672 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:42:50,672 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:42:50 +08:00

2018-05-15 16:42:50,672 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 16:42:50 +08:00

2018-05-15 16:42:50,672 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_TakeCashes] AS [Extent1]
        WHERE 0 = [Extent1].[IsDeleted]
    )  AS [GroupBy1]
2018-05-15 16:42:50,672 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:42:50,672 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 16:42:50 +08:00

2018-05-15 16:42:50,692 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 20 ms with result: SqlDataReader

2018-05-15 16:42:50,692 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:42:50,693 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:42:50 +08:00

2018-05-15 16:42:50,693 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 16:42:50 +08:00

2018-05-15 16:42:50,693 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[Integral]) AS [A1]
        FROM [dbo].[T_TakeCashes] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[IntegralTypeId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-15 16:42:50,693 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:42:50,693 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64, IsNullable = false)

2018-05-15 16:42:50,695 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 16:42:50 +08:00

2018-05-15 16:42:50,722 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 26 ms with result: SqlDataReader

2018-05-15 16:42:50,722 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:42:50,723 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:42:50 +08:00

2018-05-15 16:42:50,723 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 16:42:50 +08:00

2018-05-15 16:42:50,723 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[Integral]) AS [A1]
        FROM [dbo].[T_TakeCashes] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[IntegralTypeId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-15 16:42:50,723 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:42:50,723 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '3' (Type = Int64, IsNullable = false)

2018-05-15 16:42:50,723 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 16:42:50 +08:00

2018-05-15 16:42:50,741 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 17 ms with result: SqlDataReader

2018-05-15 16:42:50,741 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:42:50,741 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:42:50 +08:00

2018-05-15 16:42:50,742 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 16:42:50 +08:00

2018-05-15 16:42:50,744 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Filter1].[Id] AS [Id], 
    [Filter1].[PlatformUserId] AS [PlatformUserId], 
    [Filter1].[IntegralTypeId] AS [IntegralTypeId], 
    [Filter1].[StateId] AS [StateId], 
    [Filter1].[Integral] AS [Integral], 
    [Filter1].[Amount] AS [Amount], 
    [Filter1].[Description] AS [Description], 
    [Filter1].[CreateTime] AS [CreateTime], 
    [Filter1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Extent1].[Id] AS [Id], [Extent1].[PlatformUserId] AS [PlatformUserId], [Extent1].[IntegralTypeId] AS [IntegralTypeId], [Extent1].[StateId] AS [StateId], [Extent1].[Integral] AS [Integral], [Extent1].[Amount] AS [Amount], [Extent1].[Description] AS [Description], [Extent1].[CreateTime] AS [CreateTime], [Extent1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Extent1].[CreateTime] DESC) AS [row_number]
        FROM [dbo].[T_TakeCashes] AS [Extent1]
        WHERE 0 = [Extent1].[IsDeleted]
    )  AS [Filter1]
    WHERE [Filter1].[row_number] > 0
    ORDER BY [Filter1].[CreateTime] DESC
2018-05-15 16:42:50,744 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:42:50,744 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 16:42:50 +08:00

2018-05-15 16:42:50,749 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 5 ms with result: SqlDataReader

2018-05-15 16:42:50,749 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:42:50,750 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:42:50 +08:00

2018-05-15 16:42:50,750 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 16:42:50 +08:00

2018-05-15 16:42:50,750 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 16:42:50,750 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:42:50,750 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-15 16:42:50,750 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 16:42:50 +08:00

2018-05-15 16:42:50,752 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 16:42:50,752 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:42:50,752 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:42:50 +08:00

2018-05-15 16:42:50,752 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 16:42:50 +08:00

2018-05-15 16:42:50,753 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_States] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 16:42:50,753 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:42:50,753 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 16:42:50,753 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 16:42:50 +08:00

2018-05-15 16:42:50,754 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 16:42:50,754 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:42:50,754 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:42:50 +08:00

2018-05-15 16:42:50,755 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 16:42:50 +08:00

2018-05-15 16:42:50,755 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_States] AS [Extent1]
    WHERE 0 = [Extent1].[IsDeleted]
2018-05-15 16:42:50,755 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:42:50,755 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 16:42:50 +08:00

2018-05-15 16:42:50,758 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2018-05-15 16:42:50,758 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:42:50,759 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:42:50 +08:00

2018-05-15 16:42:53,459 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 16:42:53 +08:00

2018-05-15 16:42:53,459 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-15 16:42:53,459 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:42:53,459 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 16:42:53 +08:00

2018-05-15 16:42:53,461 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 16:42:53,461 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:42:53,461 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:42:53 +08:00

2018-05-15 16:42:53,461 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 16:42:53 +08:00

2018-05-15 16:42:53,461 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-15 16:42:53,461 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:42:53,461 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 16:42:53 +08:00

2018-05-15 16:42:53,463 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 16:42:53,463 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:42:53,463 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:42:53 +08:00

2018-05-15 16:42:53,463 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 16:42:53 +08:00

2018-05-15 16:42:53,463 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_TakeCashes] AS [Extent1]
        WHERE 0 = [Extent1].[IsDeleted]
    )  AS [GroupBy1]
2018-05-15 16:42:53,463 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:42:53,463 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 16:42:53 +08:00

2018-05-15 16:42:53,486 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 22 ms with result: SqlDataReader

2018-05-15 16:42:53,486 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:42:53,486 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:42:53 +08:00

2018-05-15 16:42:53,486 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 16:42:53 +08:00

2018-05-15 16:42:53,487 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[Integral]) AS [A1]
        FROM [dbo].[T_TakeCashes] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[IntegralTypeId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-15 16:42:53,487 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:42:53,487 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64, IsNullable = false)

2018-05-15 16:42:53,487 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 16:42:53 +08:00

2018-05-15 16:42:53,489 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 16:42:53,489 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:42:53,489 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:42:53 +08:00

2018-05-15 16:42:53,489 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 16:42:53 +08:00

2018-05-15 16:42:53,490 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[Integral]) AS [A1]
        FROM [dbo].[T_TakeCashes] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[IntegralTypeId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-15 16:42:53,490 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:42:53,490 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '3' (Type = Int64, IsNullable = false)

2018-05-15 16:42:53,490 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 16:42:53 +08:00

2018-05-15 16:42:53,812 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 321 ms with result: SqlDataReader

2018-05-15 16:42:53,812 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:42:53,812 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:42:53 +08:00

2018-05-15 16:42:53,812 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 16:42:53 +08:00

2018-05-15 16:42:53,812 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Filter1].[Id] AS [Id], 
    [Filter1].[PlatformUserId] AS [PlatformUserId], 
    [Filter1].[IntegralTypeId] AS [IntegralTypeId], 
    [Filter1].[StateId] AS [StateId], 
    [Filter1].[Integral] AS [Integral], 
    [Filter1].[Amount] AS [Amount], 
    [Filter1].[Description] AS [Description], 
    [Filter1].[CreateTime] AS [CreateTime], 
    [Filter1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Extent1].[Id] AS [Id], [Extent1].[PlatformUserId] AS [PlatformUserId], [Extent1].[IntegralTypeId] AS [IntegralTypeId], [Extent1].[StateId] AS [StateId], [Extent1].[Integral] AS [Integral], [Extent1].[Amount] AS [Amount], [Extent1].[Description] AS [Description], [Extent1].[CreateTime] AS [CreateTime], [Extent1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Extent1].[CreateTime] DESC) AS [row_number]
        FROM [dbo].[T_TakeCashes] AS [Extent1]
        WHERE 0 = [Extent1].[IsDeleted]
    )  AS [Filter1]
    WHERE [Filter1].[row_number] > 0
    ORDER BY [Filter1].[CreateTime] DESC
2018-05-15 16:42:53,812 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:42:53,813 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 16:42:53 +08:00

2018-05-15 16:42:53,815 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-15 16:42:53,815 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:42:53,816 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:42:53 +08:00

2018-05-15 16:42:53,816 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 16:42:53 +08:00

2018-05-15 16:42:53,816 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 16:42:53,816 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:42:53,816 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-15 16:42:53,816 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 16:42:53 +08:00

2018-05-15 16:42:53,818 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-15 16:42:53,818 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:42:53,818 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:42:53 +08:00

2018-05-15 16:42:53,819 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 16:42:53 +08:00

2018-05-15 16:42:53,819 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_States] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 16:42:53,819 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:42:53,819 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 16:42:53,819 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 16:42:53 +08:00

2018-05-15 16:42:53,820 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 16:42:53,820 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:42:53,820 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:42:53 +08:00

2018-05-15 16:42:53,821 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 16:42:53 +08:00

2018-05-15 16:42:53,821 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_States] AS [Extent1]
    WHERE 0 = [Extent1].[IsDeleted]
2018-05-15 16:42:53,821 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:42:53,821 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 16:42:53 +08:00

2018-05-15 16:42:53,822 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 16:42:53,822 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:42:53,823 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:42:53 +08:00

2018-05-15 16:42:56,434 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 16:42:56 +08:00

2018-05-15 16:42:56,435 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-15 16:42:56,435 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:42:56,435 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 16:42:56 +08:00

2018-05-15 16:42:56,436 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 16:42:56,436 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:42:56,436 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:42:56 +08:00

2018-05-15 16:42:56,436 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 16:42:56 +08:00

2018-05-15 16:42:56,437 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-15 16:42:56,437 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:42:56,437 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 16:42:56 +08:00

2018-05-15 16:42:56,438 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 16:42:56,438 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:42:56,438 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:42:56 +08:00

2018-05-15 16:42:56,438 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 16:42:56 +08:00

2018-05-15 16:42:56,439 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_TakeCashes] AS [Extent1]
        WHERE 0 = [Extent1].[IsDeleted]
    )  AS [GroupBy1]
2018-05-15 16:42:56,439 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:42:56,439 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 16:42:56 +08:00

2018-05-15 16:42:56,445 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 5 ms with result: SqlDataReader

2018-05-15 16:42:56,445 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:42:56,445 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:42:56 +08:00

2018-05-15 16:42:56,445 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 16:42:56 +08:00

2018-05-15 16:42:56,445 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[Integral]) AS [A1]
        FROM [dbo].[T_TakeCashes] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[IntegralTypeId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-15 16:42:56,445 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:42:56,445 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64, IsNullable = false)

2018-05-15 16:42:56,446 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 16:42:56 +08:00

2018-05-15 16:42:56,486 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 39 ms with result: SqlDataReader

2018-05-15 16:42:56,486 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:42:56,486 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:42:56 +08:00

2018-05-15 16:42:56,486 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 16:42:56 +08:00

2018-05-15 16:42:56,486 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[Integral]) AS [A1]
        FROM [dbo].[T_TakeCashes] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[IntegralTypeId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-15 16:42:56,487 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:42:56,487 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '3' (Type = Int64, IsNullable = false)

2018-05-15 16:42:56,487 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 16:42:56 +08:00

2018-05-15 16:42:56,494 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 6 ms with result: SqlDataReader

2018-05-15 16:42:56,494 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:42:56,494 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:42:56 +08:00

2018-05-15 16:42:56,494 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 16:42:56 +08:00

2018-05-15 16:42:56,494 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Filter1].[Id] AS [Id], 
    [Filter1].[PlatformUserId] AS [PlatformUserId], 
    [Filter1].[IntegralTypeId] AS [IntegralTypeId], 
    [Filter1].[StateId] AS [StateId], 
    [Filter1].[Integral] AS [Integral], 
    [Filter1].[Amount] AS [Amount], 
    [Filter1].[Description] AS [Description], 
    [Filter1].[CreateTime] AS [CreateTime], 
    [Filter1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Extent1].[Id] AS [Id], [Extent1].[PlatformUserId] AS [PlatformUserId], [Extent1].[IntegralTypeId] AS [IntegralTypeId], [Extent1].[StateId] AS [StateId], [Extent1].[Integral] AS [Integral], [Extent1].[Amount] AS [Amount], [Extent1].[Description] AS [Description], [Extent1].[CreateTime] AS [CreateTime], [Extent1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Extent1].[CreateTime] DESC) AS [row_number]
        FROM [dbo].[T_TakeCashes] AS [Extent1]
        WHERE 0 = [Extent1].[IsDeleted]
    )  AS [Filter1]
    WHERE [Filter1].[row_number] > 0
    ORDER BY [Filter1].[CreateTime] DESC
2018-05-15 16:42:56,494 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:42:56,494 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 16:42:56 +08:00

2018-05-15 16:42:56,536 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 41 ms with result: SqlDataReader

2018-05-15 16:42:56,536 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:42:56,537 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:42:56 +08:00

2018-05-15 16:42:56,537 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 16:42:56 +08:00

2018-05-15 16:42:56,537 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 16:42:56,537 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:42:56,537 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-15 16:42:56,537 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 16:42:56 +08:00

2018-05-15 16:42:56,539 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-15 16:42:56,540 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:42:56,540 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:42:56 +08:00

2018-05-15 16:42:56,540 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 16:42:56 +08:00

2018-05-15 16:42:56,540 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_States] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 16:42:56,540 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:42:56,540 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 16:42:56,540 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 16:42:56 +08:00

2018-05-15 16:42:56,541 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 16:42:56,542 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:42:56,542 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:42:56 +08:00

2018-05-15 16:42:56,543 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 16:42:56 +08:00

2018-05-15 16:42:56,543 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_States] AS [Extent1]
    WHERE 0 = [Extent1].[IsDeleted]
2018-05-15 16:42:56,543 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:42:56,543 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 16:42:56 +08:00

2018-05-15 16:42:57,610 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1068 ms with result: SqlDataReader

2018-05-15 16:42:57,610 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:42:57,610 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:42:57 +08:00

2018-05-15 16:43:29,914 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 16:43:29 +08:00

2018-05-15 16:43:29,914 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-15 16:43:29,915 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:43:29,915 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 16:43:29 +08:00

2018-05-15 16:43:29,916 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 16:43:29,916 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:43:29,916 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:43:29 +08:00

2018-05-15 16:43:29,916 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 16:43:29 +08:00

2018-05-15 16:43:29,917 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-15 16:43:29,917 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:43:29,917 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 16:43:29 +08:00

2018-05-15 16:43:29,918 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 16:43:29,918 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:43:29,918 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:43:29 +08:00

2018-05-15 16:43:29,918 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 16:43:29 +08:00

2018-05-15 16:43:29,919 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_TakeCashes] AS [Extent1]
        WHERE 0 = [Extent1].[IsDeleted]
    )  AS [GroupBy1]
2018-05-15 16:43:29,919 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:43:29,919 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 16:43:29 +08:00

2018-05-15 16:43:29,931 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 11 ms with result: SqlDataReader

2018-05-15 16:43:29,931 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:43:29,931 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:43:29 +08:00

2018-05-15 16:43:29,931 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 16:43:29 +08:00

2018-05-15 16:43:29,931 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[Integral]) AS [A1]
        FROM [dbo].[T_TakeCashes] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[IntegralTypeId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-15 16:43:29,931 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:43:29,932 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64, IsNullable = false)

2018-05-15 16:43:29,932 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 16:43:29 +08:00

2018-05-15 16:43:29,962 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 30 ms with result: SqlDataReader

2018-05-15 16:43:29,962 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:43:29,962 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:43:29 +08:00

2018-05-15 16:43:29,962 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 16:43:29 +08:00

2018-05-15 16:43:29,963 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[Integral]) AS [A1]
        FROM [dbo].[T_TakeCashes] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[IntegralTypeId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-15 16:43:29,963 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:43:29,963 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '3' (Type = Int64, IsNullable = false)

2018-05-15 16:43:29,963 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 16:43:29 +08:00

2018-05-15 16:43:29,970 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 6 ms with result: SqlDataReader

2018-05-15 16:43:29,970 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:43:29,970 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:43:29 +08:00

2018-05-15 16:43:29,970 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 16:43:29 +08:00

2018-05-15 16:43:29,971 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Filter1].[Id] AS [Id], 
    [Filter1].[PlatformUserId] AS [PlatformUserId], 
    [Filter1].[IntegralTypeId] AS [IntegralTypeId], 
    [Filter1].[StateId] AS [StateId], 
    [Filter1].[Integral] AS [Integral], 
    [Filter1].[Amount] AS [Amount], 
    [Filter1].[Description] AS [Description], 
    [Filter1].[CreateTime] AS [CreateTime], 
    [Filter1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Extent1].[Id] AS [Id], [Extent1].[PlatformUserId] AS [PlatformUserId], [Extent1].[IntegralTypeId] AS [IntegralTypeId], [Extent1].[StateId] AS [StateId], [Extent1].[Integral] AS [Integral], [Extent1].[Amount] AS [Amount], [Extent1].[Description] AS [Description], [Extent1].[CreateTime] AS [CreateTime], [Extent1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Extent1].[CreateTime] DESC) AS [row_number]
        FROM [dbo].[T_TakeCashes] AS [Extent1]
        WHERE 0 = [Extent1].[IsDeleted]
    )  AS [Filter1]
    WHERE [Filter1].[row_number] > 0
    ORDER BY [Filter1].[CreateTime] DESC
2018-05-15 16:43:29,971 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:43:29,971 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 16:43:29 +08:00

2018-05-15 16:43:30,319 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 347 ms with result: SqlDataReader

2018-05-15 16:43:30,319 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:43:30,319 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:43:30 +08:00

2018-05-15 16:43:30,319 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 16:43:30 +08:00

2018-05-15 16:43:30,319 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 16:43:30,319 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:43:30,319 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-15 16:43:30,320 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 16:43:30 +08:00

2018-05-15 16:43:30,322 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-15 16:43:30,322 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:43:30,322 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:43:30 +08:00

2018-05-15 16:43:30,322 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 16:43:30 +08:00

2018-05-15 16:43:30,322 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_States] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 16:43:30,322 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:43:30,322 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 16:43:30,322 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 16:43:30 +08:00

2018-05-15 16:43:30,324 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 16:43:30,324 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:43:30,325 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:43:30 +08:00

2018-05-15 16:43:30,325 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 16:43:30 +08:00

2018-05-15 16:43:30,325 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_States] AS [Extent1]
    WHERE 0 = [Extent1].[IsDeleted]
2018-05-15 16:43:30,325 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:43:30,326 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 16:43:30 +08:00

2018-05-15 16:43:30,334 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 7 ms with result: SqlDataReader

2018-05-15 16:43:30,334 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:43:30,334 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:43:30 +08:00

2018-05-15 16:43:31,461 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 16:43:31 +08:00

2018-05-15 16:43:31,461 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-15 16:43:31,461 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:43:31,461 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 16:43:31 +08:00

2018-05-15 16:43:31,463 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 16:43:31,463 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:43:31,463 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:43:31 +08:00

2018-05-15 16:43:31,463 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 16:43:31 +08:00

2018-05-15 16:43:31,464 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-15 16:43:31,464 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:43:31,464 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 16:43:31 +08:00

2018-05-15 16:43:31,466 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-15 16:43:31,466 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:43:31,466 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:43:31 +08:00

2018-05-15 16:43:31,466 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 16:43:31 +08:00

2018-05-15 16:43:31,466 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_TakeCashes] AS [Extent1]
        WHERE 0 = [Extent1].[IsDeleted]
    )  AS [GroupBy1]
2018-05-15 16:43:31,466 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:43:31,466 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 16:43:31 +08:00

2018-05-15 16:43:31,492 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 24 ms with result: SqlDataReader

2018-05-15 16:43:31,492 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:43:31,492 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:43:31 +08:00

2018-05-15 16:43:31,492 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 16:43:31 +08:00

2018-05-15 16:43:31,492 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[Integral]) AS [A1]
        FROM [dbo].[T_TakeCashes] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[IntegralTypeId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-15 16:43:31,492 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:43:31,492 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64, IsNullable = false)

2018-05-15 16:43:31,492 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 16:43:31 +08:00

2018-05-15 16:43:31,501 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 8 ms with result: SqlDataReader

2018-05-15 16:43:31,501 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:43:31,501 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:43:31 +08:00

2018-05-15 16:43:31,501 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 16:43:31 +08:00

2018-05-15 16:43:31,503 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[Integral]) AS [A1]
        FROM [dbo].[T_TakeCashes] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[IntegralTypeId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-15 16:43:31,503 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:43:31,503 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '3' (Type = Int64, IsNullable = false)

2018-05-15 16:43:31,503 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 16:43:31 +08:00

2018-05-15 16:43:31,528 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 24 ms with result: SqlDataReader

2018-05-15 16:43:31,528 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:43:31,528 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:43:31 +08:00

2018-05-15 16:43:31,528 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 16:43:31 +08:00

2018-05-15 16:43:31,528 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Filter1].[Id] AS [Id], 
    [Filter1].[PlatformUserId] AS [PlatformUserId], 
    [Filter1].[IntegralTypeId] AS [IntegralTypeId], 
    [Filter1].[StateId] AS [StateId], 
    [Filter1].[Integral] AS [Integral], 
    [Filter1].[Amount] AS [Amount], 
    [Filter1].[Description] AS [Description], 
    [Filter1].[CreateTime] AS [CreateTime], 
    [Filter1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Extent1].[Id] AS [Id], [Extent1].[PlatformUserId] AS [PlatformUserId], [Extent1].[IntegralTypeId] AS [IntegralTypeId], [Extent1].[StateId] AS [StateId], [Extent1].[Integral] AS [Integral], [Extent1].[Amount] AS [Amount], [Extent1].[Description] AS [Description], [Extent1].[CreateTime] AS [CreateTime], [Extent1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Extent1].[CreateTime] DESC) AS [row_number]
        FROM [dbo].[T_TakeCashes] AS [Extent1]
        WHERE 0 = [Extent1].[IsDeleted]
    )  AS [Filter1]
    WHERE [Filter1].[row_number] > 0
    ORDER BY [Filter1].[CreateTime] DESC
2018-05-15 16:43:31,528 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:43:31,528 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 16:43:31 +08:00

2018-05-15 16:43:31,910 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 383 ms with result: SqlDataReader

2018-05-15 16:43:31,910 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:43:31,910 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:43:31 +08:00

2018-05-15 16:43:31,910 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 16:43:31 +08:00

2018-05-15 16:43:31,910 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 16:43:31,910 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:43:31,910 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-15 16:43:31,910 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 16:43:31 +08:00

2018-05-15 16:43:31,914 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-15 16:43:31,914 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:43:31,914 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:43:31 +08:00

2018-05-15 16:43:31,914 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 16:43:31 +08:00

2018-05-15 16:43:31,914 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_States] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 16:43:31,914 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:43:31,914 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 16:43:31,914 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 16:43:31 +08:00

2018-05-15 16:43:31,914 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 16:43:31,914 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:43:31,914 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:43:31 +08:00

2018-05-15 16:43:31,914 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 16:43:31 +08:00

2018-05-15 16:43:31,914 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_States] AS [Extent1]
    WHERE 0 = [Extent1].[IsDeleted]
2018-05-15 16:43:31,914 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:43:31,914 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 16:43:31 +08:00

2018-05-15 16:43:31,918 [15] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 16:43:31,918 [15] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:43:31,918 [15] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:43:31 +08:00

2018-05-15 16:45:04,303 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 16:45:04 +08:00

2018-05-15 16:45:04,303 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-15 16:45:04,303 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:45:04,303 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 16:45:04 +08:00

2018-05-15 16:45:04,305 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 16:45:04,305 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:45:04,305 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:45:04 +08:00

2018-05-15 16:45:04,305 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 16:45:04 +08:00

2018-05-15 16:45:04,305 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-15 16:45:04,305 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:45:04,305 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 16:45:04 +08:00

2018-05-15 16:45:04,309 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 4 ms with result: SqlDataReader

2018-05-15 16:45:04,310 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:45:04,310 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:45:04 +08:00

2018-05-15 16:45:04,310 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 16:45:04 +08:00

2018-05-15 16:45:04,310 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_TakeCashes] AS [Extent1]
        WHERE 0 = [Extent1].[IsDeleted]
    )  AS [GroupBy1]
2018-05-15 16:45:04,310 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:45:04,310 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 16:45:04 +08:00

2018-05-15 16:45:04,342 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 31 ms with result: SqlDataReader

2018-05-15 16:45:04,342 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:45:04,342 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:45:04 +08:00

2018-05-15 16:45:04,342 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 16:45:04 +08:00

2018-05-15 16:45:04,343 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[Integral]) AS [A1]
        FROM [dbo].[T_TakeCashes] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[IntegralTypeId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-15 16:45:04,343 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:45:04,343 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64, IsNullable = false)

2018-05-15 16:45:04,343 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 16:45:04 +08:00

2018-05-15 16:45:04,345 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 16:45:04,345 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:45:04,345 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:45:04 +08:00

2018-05-15 16:45:04,345 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 16:45:04 +08:00

2018-05-15 16:45:04,346 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[Integral]) AS [A1]
        FROM [dbo].[T_TakeCashes] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[IntegralTypeId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-15 16:45:04,346 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:45:04,346 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '3' (Type = Int64, IsNullable = false)

2018-05-15 16:45:04,346 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 16:45:04 +08:00

2018-05-15 16:45:04,393 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 47 ms with result: SqlDataReader

2018-05-15 16:45:04,393 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:45:04,393 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:45:04 +08:00

2018-05-15 16:45:04,393 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 16:45:04 +08:00

2018-05-15 16:45:04,393 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Filter1].[Id] AS [Id], 
    [Filter1].[PlatformUserId] AS [PlatformUserId], 
    [Filter1].[IntegralTypeId] AS [IntegralTypeId], 
    [Filter1].[StateId] AS [StateId], 
    [Filter1].[Integral] AS [Integral], 
    [Filter1].[Amount] AS [Amount], 
    [Filter1].[Description] AS [Description], 
    [Filter1].[CreateTime] AS [CreateTime], 
    [Filter1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Extent1].[Id] AS [Id], [Extent1].[PlatformUserId] AS [PlatformUserId], [Extent1].[IntegralTypeId] AS [IntegralTypeId], [Extent1].[StateId] AS [StateId], [Extent1].[Integral] AS [Integral], [Extent1].[Amount] AS [Amount], [Extent1].[Description] AS [Description], [Extent1].[CreateTime] AS [CreateTime], [Extent1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Extent1].[CreateTime] DESC) AS [row_number]
        FROM [dbo].[T_TakeCashes] AS [Extent1]
        WHERE 0 = [Extent1].[IsDeleted]
    )  AS [Filter1]
    WHERE [Filter1].[row_number] > 0
    ORDER BY [Filter1].[CreateTime] DESC
2018-05-15 16:45:04,393 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:45:04,393 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 16:45:04 +08:00

2018-05-15 16:45:04,397 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2018-05-15 16:45:04,397 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:45:04,397 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:45:04 +08:00

2018-05-15 16:45:04,397 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 16:45:04 +08:00

2018-05-15 16:45:04,397 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 16:45:04,397 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:45:04,397 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-15 16:45:04,397 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 16:45:04 +08:00

2018-05-15 16:45:04,399 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 16:45:04,399 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:45:04,399 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:45:04 +08:00

2018-05-15 16:45:04,400 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 16:45:04 +08:00

2018-05-15 16:45:04,400 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_States] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 16:45:04,400 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:45:04,400 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 16:45:04,400 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 16:45:04 +08:00

2018-05-15 16:45:04,401 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 16:45:04,401 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:45:04,401 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:45:04 +08:00

2018-05-15 16:45:04,402 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 16:45:04 +08:00

2018-05-15 16:45:04,402 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_States] AS [Extent1]
    WHERE 0 = [Extent1].[IsDeleted]
2018-05-15 16:45:04,402 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:45:04,402 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 16:45:04 +08:00

2018-05-15 16:45:04,482 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 79 ms with result: SqlDataReader

2018-05-15 16:45:04,482 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:45:04,482 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:45:04 +08:00

2018-05-15 16:45:05,755 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 16:45:05 +08:00

2018-05-15 16:45:05,756 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-15 16:45:05,756 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:45:05,756 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 16:45:05 +08:00

2018-05-15 16:45:05,757 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 16:45:05,757 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:45:05,758 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:45:05 +08:00

2018-05-15 16:45:05,758 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 16:45:05 +08:00

2018-05-15 16:45:05,758 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-15 16:45:05,758 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:45:05,758 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 16:45:05 +08:00

2018-05-15 16:45:05,760 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 16:45:05,760 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:45:05,760 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:45:05 +08:00

2018-05-15 16:45:05,760 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 16:45:05 +08:00

2018-05-15 16:45:05,760 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_TakeCashes] AS [Extent1]
        WHERE 0 = [Extent1].[IsDeleted]
    )  AS [GroupBy1]
2018-05-15 16:45:05,760 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:45:05,760 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 16:45:05 +08:00

2018-05-15 16:45:05,762 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 16:45:05,762 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:45:05,762 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:45:05 +08:00

2018-05-15 16:45:05,762 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 16:45:05 +08:00

2018-05-15 16:45:05,762 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[Integral]) AS [A1]
        FROM [dbo].[T_TakeCashes] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[IntegralTypeId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-15 16:45:05,762 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:45:05,762 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64, IsNullable = false)

2018-05-15 16:45:05,762 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 16:45:05 +08:00

2018-05-15 16:45:05,777 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 14 ms with result: SqlDataReader

2018-05-15 16:45:05,777 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:45:05,777 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:45:05 +08:00

2018-05-15 16:45:05,777 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 16:45:05 +08:00

2018-05-15 16:45:05,777 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[Integral]) AS [A1]
        FROM [dbo].[T_TakeCashes] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[IntegralTypeId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-15 16:45:05,777 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:45:05,777 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '3' (Type = Int64, IsNullable = false)

2018-05-15 16:45:05,777 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 16:45:05 +08:00

2018-05-15 16:45:05,800 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 22 ms with result: SqlDataReader

2018-05-15 16:45:05,800 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:45:05,800 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:45:05 +08:00

2018-05-15 16:45:05,801 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 16:45:05 +08:00

2018-05-15 16:45:05,801 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Filter1].[Id] AS [Id], 
    [Filter1].[PlatformUserId] AS [PlatformUserId], 
    [Filter1].[IntegralTypeId] AS [IntegralTypeId], 
    [Filter1].[StateId] AS [StateId], 
    [Filter1].[Integral] AS [Integral], 
    [Filter1].[Amount] AS [Amount], 
    [Filter1].[Description] AS [Description], 
    [Filter1].[CreateTime] AS [CreateTime], 
    [Filter1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Extent1].[Id] AS [Id], [Extent1].[PlatformUserId] AS [PlatformUserId], [Extent1].[IntegralTypeId] AS [IntegralTypeId], [Extent1].[StateId] AS [StateId], [Extent1].[Integral] AS [Integral], [Extent1].[Amount] AS [Amount], [Extent1].[Description] AS [Description], [Extent1].[CreateTime] AS [CreateTime], [Extent1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Extent1].[CreateTime] DESC) AS [row_number]
        FROM [dbo].[T_TakeCashes] AS [Extent1]
        WHERE 0 = [Extent1].[IsDeleted]
    )  AS [Filter1]
    WHERE [Filter1].[row_number] > 0
    ORDER BY [Filter1].[CreateTime] DESC
2018-05-15 16:45:05,801 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:45:05,801 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 16:45:05 +08:00

2018-05-15 16:45:05,816 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 14 ms with result: SqlDataReader

2018-05-15 16:45:05,816 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:45:05,816 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:45:05 +08:00

2018-05-15 16:45:05,816 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 16:45:05 +08:00

2018-05-15 16:45:05,816 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 16:45:05,816 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:45:05,816 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-15 16:45:05,816 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 16:45:05 +08:00

2018-05-15 16:45:05,818 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-15 16:45:05,819 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:45:05,819 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:45:05 +08:00

2018-05-15 16:45:05,819 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 16:45:05 +08:00

2018-05-15 16:45:05,819 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_States] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 16:45:05,819 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:45:05,819 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 16:45:05,819 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 16:45:05 +08:00

2018-05-15 16:45:05,820 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 16:45:05,820 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:45:05,821 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:45:05 +08:00

2018-05-15 16:45:05,821 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 16:45:05 +08:00

2018-05-15 16:45:05,821 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_States] AS [Extent1]
    WHERE 0 = [Extent1].[IsDeleted]
2018-05-15 16:45:05,821 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:45:05,821 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 16:45:05 +08:00

2018-05-15 16:45:05,844 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 22 ms with result: SqlDataReader

2018-05-15 16:45:05,844 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:45:05,844 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:45:05 +08:00

2018-05-15 16:45:44,938 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 16:45:44 +08:00

2018-05-15 16:45:44,938 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-15 16:45:44,938 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:45:44,938 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 16:45:44 +08:00

2018-05-15 16:45:44,939 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 16:45:44,940 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:45:44,940 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:45:44 +08:00

2018-05-15 16:45:44,941 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 16:45:44 +08:00

2018-05-15 16:45:44,941 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-15 16:45:44,941 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:45:44,941 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 16:45:44 +08:00

2018-05-15 16:45:44,943 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 16:45:44,943 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:45:44,943 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:45:44 +08:00

2018-05-15 16:45:44,943 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 16:45:44 +08:00

2018-05-15 16:45:44,943 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_TakeCashes] AS [Extent1]
        WHERE 0 = [Extent1].[IsDeleted]
    )  AS [GroupBy1]
2018-05-15 16:45:44,943 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:45:44,943 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 16:45:44 +08:00

2018-05-15 16:45:44,950 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 6 ms with result: SqlDataReader

2018-05-15 16:45:44,950 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:45:44,950 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:45:44 +08:00

2018-05-15 16:45:44,950 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 16:45:44 +08:00

2018-05-15 16:45:44,950 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[Integral]) AS [A1]
        FROM [dbo].[T_TakeCashes] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[IntegralTypeId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-15 16:45:44,950 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:45:44,951 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64, IsNullable = false)

2018-05-15 16:45:44,951 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 16:45:44 +08:00

2018-05-15 16:45:45,256 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 305 ms with result: SqlDataReader

2018-05-15 16:45:45,256 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:45:45,256 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:45:45 +08:00

2018-05-15 16:45:45,256 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 16:45:45 +08:00

2018-05-15 16:45:45,256 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[Integral]) AS [A1]
        FROM [dbo].[T_TakeCashes] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[IntegralTypeId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-15 16:45:45,256 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:45:45,256 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '3' (Type = Int64, IsNullable = false)

2018-05-15 16:45:45,256 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 16:45:45 +08:00

2018-05-15 16:45:45,256 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-15 16:45:45,256 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:45:45,256 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:45:45 +08:00

2018-05-15 16:45:45,256 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 16:45:45 +08:00

2018-05-15 16:45:45,256 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Filter1].[Id] AS [Id], 
    [Filter1].[PlatformUserId] AS [PlatformUserId], 
    [Filter1].[IntegralTypeId] AS [IntegralTypeId], 
    [Filter1].[StateId] AS [StateId], 
    [Filter1].[Integral] AS [Integral], 
    [Filter1].[Amount] AS [Amount], 
    [Filter1].[Description] AS [Description], 
    [Filter1].[CreateTime] AS [CreateTime], 
    [Filter1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Extent1].[Id] AS [Id], [Extent1].[PlatformUserId] AS [PlatformUserId], [Extent1].[IntegralTypeId] AS [IntegralTypeId], [Extent1].[StateId] AS [StateId], [Extent1].[Integral] AS [Integral], [Extent1].[Amount] AS [Amount], [Extent1].[Description] AS [Description], [Extent1].[CreateTime] AS [CreateTime], [Extent1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Extent1].[CreateTime] DESC) AS [row_number]
        FROM [dbo].[T_TakeCashes] AS [Extent1]
        WHERE 0 = [Extent1].[IsDeleted]
    )  AS [Filter1]
    WHERE [Filter1].[row_number] > 0
    ORDER BY [Filter1].[CreateTime] DESC
2018-05-15 16:45:45,256 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:45:45,256 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 16:45:45 +08:00

2018-05-15 16:45:45,264 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2018-05-15 16:45:45,264 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:45:45,264 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:45:45 +08:00

2018-05-15 16:45:45,264 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 16:45:45 +08:00

2018-05-15 16:45:45,264 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 16:45:45,264 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:45:45,264 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-15 16:45:45,264 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 16:45:45 +08:00

2018-05-15 16:45:45,266 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 16:45:45,266 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:45:45,267 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:45:45 +08:00

2018-05-15 16:45:45,267 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 16:45:45 +08:00

2018-05-15 16:45:45,267 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_States] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 16:45:45,267 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:45:45,267 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 16:45:45,267 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 16:45:45 +08:00

2018-05-15 16:45:45,268 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 16:45:45,268 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:45:45,268 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:45:45 +08:00

2018-05-15 16:45:45,269 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 16:45:45 +08:00

2018-05-15 16:45:45,269 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_States] AS [Extent1]
    WHERE 0 = [Extent1].[IsDeleted]
2018-05-15 16:45:45,269 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:45:45,269 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 16:45:45 +08:00

2018-05-15 16:45:45,270 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 16:45:45,270 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:45:45,271 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:45:45 +08:00

2018-05-15 16:45:45,848 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 16:45:45 +08:00

2018-05-15 16:45:45,848 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-15 16:45:45,848 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:45:45,848 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 16:45:45 +08:00

2018-05-15 16:45:45,850 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 16:45:45,850 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:45:45,850 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:45:45 +08:00

2018-05-15 16:45:45,850 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 16:45:45 +08:00

2018-05-15 16:45:45,850 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-15 16:45:45,851 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:45:45,851 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 16:45:45 +08:00

2018-05-15 16:45:45,852 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 16:45:45,852 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:45:45,852 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:45:45 +08:00

2018-05-15 16:45:45,852 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 16:45:45 +08:00

2018-05-15 16:45:45,853 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_TakeCashes] AS [Extent1]
        WHERE 0 = [Extent1].[IsDeleted]
    )  AS [GroupBy1]
2018-05-15 16:45:45,853 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:45:45,853 [27] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 16:45:45 +08:00

2018-05-15 16:45:45,870 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 17 ms with result: SqlDataReader

2018-05-15 16:45:45,870 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:45:45,870 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:45:45 +08:00

2018-05-15 16:45:45,870 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 16:45:45 +08:00

2018-05-15 16:45:45,870 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[Integral]) AS [A1]
        FROM [dbo].[T_TakeCashes] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[IntegralTypeId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-15 16:45:45,870 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:45:45,870 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64, IsNullable = false)

2018-05-15 16:45:45,871 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 16:45:45 +08:00

2018-05-15 16:45:45,885 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 14 ms with result: SqlDataReader

2018-05-15 16:45:45,885 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:45:45,885 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:45:45 +08:00

2018-05-15 16:45:45,885 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 16:45:45 +08:00

2018-05-15 16:45:45,885 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[Integral]) AS [A1]
        FROM [dbo].[T_TakeCashes] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[IntegralTypeId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-15 16:45:45,885 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:45:45,885 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '3' (Type = Int64, IsNullable = false)

2018-05-15 16:45:45,885 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 16:45:45 +08:00

2018-05-15 16:45:45,894 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 8 ms with result: SqlDataReader

2018-05-15 16:45:45,894 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:45:45,894 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:45:45 +08:00

2018-05-15 16:45:45,895 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 16:45:45 +08:00

2018-05-15 16:45:45,895 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Filter1].[Id] AS [Id], 
    [Filter1].[PlatformUserId] AS [PlatformUserId], 
    [Filter1].[IntegralTypeId] AS [IntegralTypeId], 
    [Filter1].[StateId] AS [StateId], 
    [Filter1].[Integral] AS [Integral], 
    [Filter1].[Amount] AS [Amount], 
    [Filter1].[Description] AS [Description], 
    [Filter1].[CreateTime] AS [CreateTime], 
    [Filter1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Extent1].[Id] AS [Id], [Extent1].[PlatformUserId] AS [PlatformUserId], [Extent1].[IntegralTypeId] AS [IntegralTypeId], [Extent1].[StateId] AS [StateId], [Extent1].[Integral] AS [Integral], [Extent1].[Amount] AS [Amount], [Extent1].[Description] AS [Description], [Extent1].[CreateTime] AS [CreateTime], [Extent1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Extent1].[CreateTime] DESC) AS [row_number]
        FROM [dbo].[T_TakeCashes] AS [Extent1]
        WHERE 0 = [Extent1].[IsDeleted]
    )  AS [Filter1]
    WHERE [Filter1].[row_number] > 0
    ORDER BY [Filter1].[CreateTime] DESC
2018-05-15 16:45:45,895 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:45:45,895 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 16:45:45 +08:00

2018-05-15 16:45:45,898 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2018-05-15 16:45:45,898 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:45:45,898 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:45:45 +08:00

2018-05-15 16:45:45,899 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 16:45:45 +08:00

2018-05-15 16:45:45,899 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 16:45:45,899 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:45:45,899 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-15 16:45:45,899 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 16:45:45 +08:00

2018-05-15 16:45:45,901 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-15 16:45:45,901 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:45:45,901 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:45:45 +08:00

2018-05-15 16:45:45,901 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 16:45:45 +08:00

2018-05-15 16:45:45,901 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_States] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 16:45:45,901 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:45:45,901 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 16:45:45,901 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 16:45:45 +08:00

2018-05-15 16:45:45,903 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 16:45:45,903 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:45:45,903 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:45:45 +08:00

2018-05-15 16:45:45,903 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 16:45:45 +08:00

2018-05-15 16:45:45,904 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_States] AS [Extent1]
    WHERE 0 = [Extent1].[IsDeleted]
2018-05-15 16:45:45,904 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:45:45,904 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 16:45:45 +08:00

2018-05-15 16:45:45,905 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 16:45:45,905 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:45:45,905 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:45:45 +08:00

2018-05-15 16:46:40,746 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 16:46:40 +08:00

2018-05-15 16:46:40,746 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-15 16:46:40,746 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:46:40,746 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 16:46:40 +08:00

2018-05-15 16:46:40,748 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 16:46:40,748 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:46:40,748 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:46:40 +08:00

2018-05-15 16:46:40,748 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 16:46:40 +08:00

2018-05-15 16:46:40,749 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-15 16:46:40,749 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:46:40,749 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 16:46:40 +08:00

2018-05-15 16:46:40,750 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 16:46:40,750 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:46:40,750 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:46:40 +08:00

2018-05-15 16:46:40,751 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 16:46:40 +08:00

2018-05-15 16:46:40,751 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_TakeCashes] AS [Extent1]
        WHERE 0 = [Extent1].[IsDeleted]
    )  AS [GroupBy1]
2018-05-15 16:46:40,751 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:46:40,751 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 16:46:40 +08:00

2018-05-15 16:46:40,752 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 16:46:40,752 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:46:40,753 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:46:40 +08:00

2018-05-15 16:46:40,753 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 16:46:40 +08:00

2018-05-15 16:46:40,753 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[Integral]) AS [A1]
        FROM [dbo].[T_TakeCashes] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[IntegralTypeId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-15 16:46:40,753 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:46:40,753 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64, IsNullable = false)

2018-05-15 16:46:40,753 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 16:46:40 +08:00

2018-05-15 16:46:40,755 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 16:46:40,755 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:46:40,755 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:46:40 +08:00

2018-05-15 16:46:40,755 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 16:46:40 +08:00

2018-05-15 16:46:40,756 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[Integral]) AS [A1]
        FROM [dbo].[T_TakeCashes] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[IntegralTypeId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-15 16:46:40,756 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:46:40,756 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '3' (Type = Int64, IsNullable = false)

2018-05-15 16:46:40,756 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 16:46:40 +08:00

2018-05-15 16:46:40,758 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-15 16:46:40,758 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:46:40,758 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:46:40 +08:00

2018-05-15 16:46:40,759 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 16:46:40 +08:00

2018-05-15 16:46:40,759 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Filter1].[Id] AS [Id], 
    [Filter1].[PlatformUserId] AS [PlatformUserId], 
    [Filter1].[IntegralTypeId] AS [IntegralTypeId], 
    [Filter1].[StateId] AS [StateId], 
    [Filter1].[Integral] AS [Integral], 
    [Filter1].[Amount] AS [Amount], 
    [Filter1].[Description] AS [Description], 
    [Filter1].[CreateTime] AS [CreateTime], 
    [Filter1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Extent1].[Id] AS [Id], [Extent1].[PlatformUserId] AS [PlatformUserId], [Extent1].[IntegralTypeId] AS [IntegralTypeId], [Extent1].[StateId] AS [StateId], [Extent1].[Integral] AS [Integral], [Extent1].[Amount] AS [Amount], [Extent1].[Description] AS [Description], [Extent1].[CreateTime] AS [CreateTime], [Extent1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Extent1].[CreateTime] DESC) AS [row_number]
        FROM [dbo].[T_TakeCashes] AS [Extent1]
        WHERE 0 = [Extent1].[IsDeleted]
    )  AS [Filter1]
    WHERE [Filter1].[row_number] > 0
    ORDER BY [Filter1].[CreateTime] DESC
2018-05-15 16:46:40,759 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:46:40,759 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 16:46:40 +08:00

2018-05-15 16:46:40,762 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-15 16:46:40,762 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:46:40,762 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:46:40 +08:00

2018-05-15 16:46:40,762 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 16:46:40 +08:00

2018-05-15 16:46:40,762 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 16:46:40,763 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:46:40,763 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-15 16:46:40,763 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 16:46:40 +08:00

2018-05-15 16:46:40,765 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-15 16:46:40,765 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:46:40,766 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:46:40 +08:00

2018-05-15 16:46:40,766 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 16:46:40 +08:00

2018-05-15 16:46:40,766 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_States] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 16:46:40,766 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:46:40,766 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 16:46:40,766 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 16:46:40 +08:00

2018-05-15 16:46:40,767 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 16:46:40,767 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:46:40,768 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:46:40 +08:00

2018-05-15 16:46:40,768 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 16:46:40 +08:00

2018-05-15 16:46:40,768 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_States] AS [Extent1]
    WHERE 0 = [Extent1].[IsDeleted]
2018-05-15 16:46:40,768 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:46:40,768 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 16:46:40 +08:00

2018-05-15 16:46:40,771 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-15 16:46:40,771 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:46:40,771 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:46:40 +08:00

2018-05-15 16:47:26,479 [31] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 16:47:26 +08:00

2018-05-15 16:47:26,480 [31] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-15 16:47:26,480 [31] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:47:26,480 [31] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 16:47:26 +08:00

2018-05-15 16:47:26,839 [31] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 359 ms with result: SqlDataReader

2018-05-15 16:47:26,839 [31] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:47:26,839 [31] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:47:26 +08:00

2018-05-15 16:47:26,839 [31] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 16:47:26 +08:00

2018-05-15 16:47:26,839 [31] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-15 16:47:26,839 [31] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:47:26,839 [31] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 16:47:26 +08:00

2018-05-15 16:47:26,841 [31] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 16:47:26,841 [31] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:47:26,841 [31] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:47:26 +08:00

2018-05-15 16:47:26,841 [31] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 16:47:26 +08:00

2018-05-15 16:47:26,841 [31] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_TakeCashes] AS [Extent1]
        WHERE 0 = [Extent1].[IsDeleted]
    )  AS [GroupBy1]
2018-05-15 16:47:26,841 [31] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:47:26,842 [31] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 16:47:26 +08:00

2018-05-15 16:47:26,843 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 16:47:26,843 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:47:26,843 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:47:26 +08:00

2018-05-15 16:47:26,843 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 16:47:26 +08:00

2018-05-15 16:47:26,844 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[Integral]) AS [A1]
        FROM [dbo].[T_TakeCashes] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[IntegralTypeId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-15 16:47:26,844 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:47:26,844 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64, IsNullable = false)

2018-05-15 16:47:26,844 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 16:47:26 +08:00

2018-05-15 16:47:26,845 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 16:47:26,845 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:47:26,845 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:47:26 +08:00

2018-05-15 16:47:26,846 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 16:47:26 +08:00

2018-05-15 16:47:26,846 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[Integral]) AS [A1]
        FROM [dbo].[T_TakeCashes] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[IntegralTypeId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-15 16:47:26,846 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:47:26,846 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '3' (Type = Int64, IsNullable = false)

2018-05-15 16:47:26,846 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 16:47:26 +08:00

2018-05-15 16:47:26,867 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 20 ms with result: SqlDataReader

2018-05-15 16:47:26,867 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:47:26,867 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:47:26 +08:00

2018-05-15 16:47:26,867 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 16:47:26 +08:00

2018-05-15 16:47:26,868 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Filter1].[Id] AS [Id], 
    [Filter1].[PlatformUserId] AS [PlatformUserId], 
    [Filter1].[IntegralTypeId] AS [IntegralTypeId], 
    [Filter1].[StateId] AS [StateId], 
    [Filter1].[Integral] AS [Integral], 
    [Filter1].[Amount] AS [Amount], 
    [Filter1].[Description] AS [Description], 
    [Filter1].[CreateTime] AS [CreateTime], 
    [Filter1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Extent1].[Id] AS [Id], [Extent1].[PlatformUserId] AS [PlatformUserId], [Extent1].[IntegralTypeId] AS [IntegralTypeId], [Extent1].[StateId] AS [StateId], [Extent1].[Integral] AS [Integral], [Extent1].[Amount] AS [Amount], [Extent1].[Description] AS [Description], [Extent1].[CreateTime] AS [CreateTime], [Extent1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Extent1].[CreateTime] DESC) AS [row_number]
        FROM [dbo].[T_TakeCashes] AS [Extent1]
        WHERE 0 = [Extent1].[IsDeleted]
    )  AS [Filter1]
    WHERE [Filter1].[row_number] > 0
    ORDER BY [Filter1].[CreateTime] DESC
2018-05-15 16:47:26,868 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:47:26,868 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 16:47:26 +08:00

2018-05-15 16:47:26,871 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2018-05-15 16:47:26,871 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:47:26,871 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:47:26 +08:00

2018-05-15 16:47:26,871 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 16:47:26 +08:00

2018-05-15 16:47:26,871 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 16:47:26,871 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:47:26,872 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-15 16:47:26,872 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 16:47:26 +08:00

2018-05-15 16:47:26,874 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 16:47:26,874 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:47:26,874 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:47:26 +08:00

2018-05-15 16:47:26,874 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 16:47:26 +08:00

2018-05-15 16:47:26,874 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_States] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 16:47:26,874 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:47:26,874 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 16:47:26,874 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 16:47:26 +08:00

2018-05-15 16:47:26,876 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 16:47:26,876 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:47:26,876 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:47:26 +08:00

2018-05-15 16:47:26,876 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 16:47:26 +08:00

2018-05-15 16:47:26,876 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_States] AS [Extent1]
    WHERE 0 = [Extent1].[IsDeleted]
2018-05-15 16:47:26,876 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:47:26,876 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 16:47:26 +08:00

2018-05-15 16:47:26,878 [31] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 16:47:26,878 [31] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:47:26,878 [31] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:47:26 +08:00

2018-05-15 16:47:47,714 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 16:47:47 +08:00

2018-05-15 16:47:47,714 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-15 16:47:47,714 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:47:47,714 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 16:47:47 +08:00

2018-05-15 16:47:47,716 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 16:47:47,716 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:47:47,716 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:47:47 +08:00

2018-05-15 16:47:47,716 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 16:47:47 +08:00

2018-05-15 16:47:47,717 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-15 16:47:47,717 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:47:47,717 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 16:47:47 +08:00

2018-05-15 16:47:47,718 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 16:47:47,718 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 16:47:47,718 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 16:47:47 +08:00

2018-05-15 16:47:47,718 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 16:47:47 +08:00

