2018-05-15 10:59:09,014 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2' (Type = Int64)

2018-05-15 10:59:09,055 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2' (Type = Int64, IsNullable = false)

2018-05-15 10:59:09,055 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:59:09,055 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:59:09 +08:00

2018-05-15 10:59:09,057 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 10:59:09,057 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:09,058 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:59:09 +08:00

2018-05-15 10:59:09,058 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:59:09 +08:00

2018-05-15 10:59:09,058 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1) AND ([Extent1].[ToIntegralTypeId] = @p__linq__2) AND ([Extent1].[PlatformUserId] = @p__linq__3)
    )  AS [GroupBy1]
2018-05-15 10:59:09,058 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:09,058 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:59:09,058 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2' (Type = Int64)

2018-05-15 10:59:09,058 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '3' (Type = Int64, IsNullable = false)

2018-05-15 10:59:09,058 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:59:09,058 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:59:09 +08:00

2018-05-15 10:59:09,060 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 10:59:09,060 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:09,060 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:59:09 +08:00

2018-05-15 10:59:09,060 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:59:09 +08:00

2018-05-15 10:59:09,061 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-15 10:59:09,061 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:09,061 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:59:09,061 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2' (Type = Int64)

2018-05-15 10:59:09,061 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:59:09 +08:00

2018-05-15 10:59:09,069 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 7 ms with result: SqlDataReader

2018-05-15 10:59:09,069 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:09,069 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:59:09 +08:00

2018-05-15 10:59:09,070 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:59:09 +08:00

2018-05-15 10:59:09,070 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Name] IN (N'平台发放',N'平台扣除',N'积分增加'))
2018-05-15 10:59:09,070 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:09,070 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:59:09 +08:00

2018-05-15 10:59:09,077 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 7 ms with result: SqlDataReader

2018-05-15 10:59:09,077 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:09,078 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:59:09 +08:00

2018-05-15 10:59:15,394 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:59:15 +08:00

2018-05-15 10:59:15,394 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-05-15 10:59:15,394 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:15,394 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'PlatformUser201805051709360001' (Type = String, Size = 4000)

2018-05-15 10:59:15,394 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:59:15 +08:00

2018-05-15 10:59:15,398 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2018-05-15 10:59:15,398 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:15,398 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:59:15 +08:00

2018-05-15 10:59:15,398 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:59:15 +08:00

2018-05-15 10:59:15,398 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:59:15,399 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:15,399 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:59:15,399 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:59:15 +08:00

2018-05-15 10:59:15,399 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:59:15,399 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:15,399 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:59:15 +08:00

2018-05-15 10:59:15,400 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:59:15 +08:00

2018-05-15 10:59:15,400 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-15 10:59:15,400 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:15,400 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:59:15 +08:00

2018-05-15 10:59:15,400 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:59:15,400 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:15,400 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:59:15 +08:00

2018-05-15 10:59:15,401 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:59:15 +08:00

2018-05-15 10:59:15,401 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-15 10:59:15,401 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:15,401 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:59:15 +08:00

2018-05-15 10:59:15,401 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:59:15,401 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:15,401 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:59:15 +08:00

2018-05-15 10:59:15,401 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:59:15 +08:00

2018-05-15 10:59:15,402 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1)
    )  AS [GroupBy1]
2018-05-15 10:59:15,402 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:15,402 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:59:15,402 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '1' (Type = Int64)

2018-05-15 10:59:15,402 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:59:15 +08:00

2018-05-15 10:59:15,402 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:59:15,402 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:15,402 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:59:15 +08:00

2018-05-15 10:59:15,402 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:59:15 +08:00

2018-05-15 10:59:15,403 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-15 10:59:15,403 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:15,403 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:59:15 +08:00

2018-05-15 10:59:15,403 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:59:15,403 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:15,403 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:59:15 +08:00

2018-05-15 10:59:15,403 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:59:15 +08:00

2018-05-15 10:59:15,404 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1) AND ([Extent1].[ToIntegralTypeId] = @p__linq__2) AND ([Extent1].[PlatformUserId] = @p__linq__3)
    )  AS [GroupBy1]
2018-05-15 10:59:15,404 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:15,404 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:59:15,404 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '1' (Type = Int64)

2018-05-15 10:59:15,404 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2' (Type = Int64, IsNullable = false)

2018-05-15 10:59:15,404 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:59:15,404 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:59:15 +08:00

2018-05-15 10:59:15,404 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:59:15,404 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:15,410 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:59:15 +08:00

2018-05-15 10:59:15,410 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:59:15 +08:00

2018-05-15 10:59:15,412 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1) AND ([Extent1].[ToIntegralTypeId] = @p__linq__2) AND ([Extent1].[PlatformUserId] = @p__linq__3)
    )  AS [GroupBy1]
2018-05-15 10:59:15,412 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:15,412 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:59:15,412 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '1' (Type = Int64)

2018-05-15 10:59:15,412 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '3' (Type = Int64, IsNullable = false)

2018-05-15 10:59:15,412 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:59:15,412 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:59:15 +08:00

2018-05-15 10:59:15,413 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 10:59:15,413 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:15,413 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:59:15 +08:00

2018-05-15 10:59:15,414 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:59:15 +08:00

2018-05-15 10:59:15,414 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-15 10:59:15,416 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:15,416 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:59:15,416 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '1' (Type = Int64)

2018-05-15 10:59:15,416 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:59:15 +08:00

2018-05-15 10:59:15,417 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:59:15,417 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:15,417 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:59:15 +08:00

2018-05-15 10:59:15,417 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:59:15 +08:00

2018-05-15 10:59:15,418 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:59:15,418 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:15,418 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:59:15,418 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:59:15 +08:00

2018-05-15 10:59:15,418 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:59:15,418 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:15,418 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:59:15 +08:00

2018-05-15 10:59:15,418 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:59:15 +08:00

2018-05-15 10:59:15,419 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:59:15,419 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:15,419 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-15 10:59:15,419 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:59:15 +08:00

2018-05-15 10:59:15,419 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:59:15,419 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:15,419 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:59:15 +08:00

2018-05-15 10:59:15,419 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:59:15 +08:00

2018-05-15 10:59:15,419 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:59:15,419 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:15,419 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:59:15,420 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:59:15 +08:00

2018-05-15 10:59:15,420 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:59:15,420 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:15,420 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:59:15 +08:00

2018-05-15 10:59:15,420 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:59:15 +08:00

2018-05-15 10:59:15,421 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Name] IN (N'平台发放',N'平台扣除',N'积分增加'))
2018-05-15 10:59:15,421 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:15,421 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:59:15 +08:00

2018-05-15 10:59:15,421 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:59:15,421 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:15,422 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:59:15 +08:00

2018-05-15 10:59:23,363 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:59:23 +08:00

2018-05-15 10:59:23,363 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-05-15 10:59:23,363 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:23,363 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'PlatformUser201805051709360001' (Type = String, Size = 4000)

2018-05-15 10:59:23,363 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:59:23 +08:00

2018-05-15 10:59:23,386 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 22 ms with result: SqlDataReader

2018-05-15 10:59:23,386 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:23,386 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:59:23 +08:00

2018-05-15 10:59:23,387 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:59:23 +08:00

2018-05-15 10:59:23,387 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:59:23,387 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:23,387 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:59:23,387 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:59:23 +08:00

2018-05-15 10:59:23,387 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:59:23,387 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:23,387 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:59:23 +08:00

2018-05-15 10:59:23,388 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:59:23 +08:00

2018-05-15 10:59:23,388 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-15 10:59:23,388 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:23,388 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:59:23 +08:00

2018-05-15 10:59:23,394 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 5 ms with result: SqlDataReader

2018-05-15 10:59:23,394 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:23,394 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:59:23 +08:00

2018-05-15 10:59:23,394 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:59:23 +08:00

2018-05-15 10:59:23,395 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-15 10:59:23,395 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:23,395 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:59:23 +08:00

2018-05-15 10:59:23,396 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 10:59:23,397 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:23,397 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:59:23 +08:00

2018-05-15 10:59:23,397 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:59:23 +08:00

2018-05-15 10:59:23,398 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-15 10:59:23,398 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:23,398 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:59:23,398 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:59:23 +08:00

2018-05-15 10:59:23,402 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 4 ms with result: SqlDataReader

2018-05-15 10:59:23,402 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:23,402 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:59:23 +08:00

2018-05-15 10:59:23,403 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:59:23 +08:00

2018-05-15 10:59:23,403 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-15 10:59:23,403 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:23,403 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:59:23 +08:00

2018-05-15 10:59:23,404 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:59:23,404 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:23,404 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:59:23 +08:00

2018-05-15 10:59:23,404 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:59:23 +08:00

2018-05-15 10:59:23,405 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-15 10:59:23,405 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:23,405 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:59:23,405 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2' (Type = Int64, IsNullable = false)

2018-05-15 10:59:23,405 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:59:23,405 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:59:23 +08:00

2018-05-15 10:59:23,405 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:59:23,405 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:23,406 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:59:23 +08:00

2018-05-15 10:59:23,407 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:59:23 +08:00

2018-05-15 10:59:23,408 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-15 10:59:23,408 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:23,408 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:59:23,408 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '3' (Type = Int64, IsNullable = false)

2018-05-15 10:59:23,408 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:59:23,408 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:59:23 +08:00

2018-05-15 10:59:23,408 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:59:23,408 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:23,409 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:59:23 +08:00

2018-05-15 10:59:23,409 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:59:23 +08:00

2018-05-15 10:59:23,409 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-15 10:59:23,409 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:23,409 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:59:23,409 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:59:23 +08:00

2018-05-15 10:59:23,411 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-15 10:59:23,411 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:23,412 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:59:23 +08:00

2018-05-15 10:59:23,412 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:59:23 +08:00

2018-05-15 10:59:23,412 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:59:23,412 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:23,412 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:59:23,412 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:59:23 +08:00

2018-05-15 10:59:23,412 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:59:23,412 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:23,412 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:59:23 +08:00

2018-05-15 10:59:23,413 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:59:23 +08:00

2018-05-15 10:59:23,413 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:59:23,413 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:23,413 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-15 10:59:23,413 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:59:23 +08:00

2018-05-15 10:59:23,413 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:59:23,413 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:23,413 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:59:23 +08:00

2018-05-15 10:59:23,413 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:59:23 +08:00

2018-05-15 10:59:23,413 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:59:23,413 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:23,413 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:59:23,413 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:59:23 +08:00

2018-05-15 10:59:23,414 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:59:23,414 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:23,414 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:59:23 +08:00

2018-05-15 10:59:23,414 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:59:23 +08:00

2018-05-15 10:59:23,414 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Name] IN (N'平台发放',N'平台扣除',N'积分增加'))
2018-05-15 10:59:23,414 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:23,414 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:59:23 +08:00

2018-05-15 10:59:23,415 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:59:23,415 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:23,415 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:59:23 +08:00

2018-05-15 10:59:25,542 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:59:25 +08:00

2018-05-15 10:59:25,542 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-05-15 10:59:25,542 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:25,542 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'PlatformUser201805051709360001' (Type = String, Size = 4000)

2018-05-15 10:59:25,542 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:59:25 +08:00

2018-05-15 10:59:25,543 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:59:25,543 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:25,543 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:59:25 +08:00

2018-05-15 10:59:25,543 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:59:25 +08:00

2018-05-15 10:59:25,543 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:59:25,543 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:25,543 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:59:25,543 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:59:25 +08:00

2018-05-15 10:59:25,545 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 10:59:25,545 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:25,545 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:59:25 +08:00

2018-05-15 10:59:25,546 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:59:25 +08:00

2018-05-15 10:59:25,546 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-15 10:59:25,546 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:25,546 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:59:25 +08:00

2018-05-15 10:59:25,547 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:59:25,547 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:25,547 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:59:25 +08:00

2018-05-15 10:59:25,547 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:59:25 +08:00

2018-05-15 10:59:25,547 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-15 10:59:25,547 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:25,547 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:59:25 +08:00

2018-05-15 10:59:25,547 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:59:25,548 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:25,548 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:59:25 +08:00

2018-05-15 10:59:25,548 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:59:25 +08:00

2018-05-15 10:59:25,548 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-15 10:59:25,548 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:25,548 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:59:25,548 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:59:25 +08:00

2018-05-15 10:59:25,550 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 10:59:25,550 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:25,550 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:59:25 +08:00

2018-05-15 10:59:25,550 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:59:25 +08:00

2018-05-15 10:59:25,551 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-15 10:59:25,551 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:25,551 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:59:25 +08:00

2018-05-15 10:59:25,551 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:59:25,551 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:25,551 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:59:25 +08:00

2018-05-15 10:59:25,552 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:59:25 +08:00

2018-05-15 10:59:25,552 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-15 10:59:25,552 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:25,552 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:59:25,552 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2' (Type = Int64, IsNullable = false)

2018-05-15 10:59:25,552 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:59:25,552 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:59:25 +08:00

2018-05-15 10:59:25,553 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:59:25,553 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:25,553 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:59:25 +08:00

2018-05-15 10:59:25,553 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:59:25 +08:00

2018-05-15 10:59:25,553 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-15 10:59:25,553 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:25,553 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:59:25,553 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '3' (Type = Int64, IsNullable = false)

2018-05-15 10:59:25,553 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:59:25,553 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:59:25 +08:00

2018-05-15 10:59:25,554 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:59:25,554 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:25,554 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:59:25 +08:00

2018-05-15 10:59:25,555 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:59:25 +08:00

2018-05-15 10:59:25,555 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-15 10:59:25,555 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:25,555 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:59:25,555 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:59:25 +08:00

2018-05-15 10:59:25,556 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:59:25,556 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:25,556 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:59:25 +08:00

2018-05-15 10:59:25,556 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:59:25 +08:00

2018-05-15 10:59:25,556 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:59:25,556 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:25,556 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:59:25,556 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:59:25 +08:00

2018-05-15 10:59:25,557 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:59:25,557 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:25,557 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:59:25 +08:00

2018-05-15 10:59:25,557 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:59:25 +08:00

2018-05-15 10:59:25,557 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:59:25,557 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:25,557 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-15 10:59:25,557 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:59:25 +08:00

2018-05-15 10:59:25,557 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:59:25,557 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:25,558 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:59:25 +08:00

2018-05-15 10:59:25,558 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:59:25 +08:00

2018-05-15 10:59:25,558 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:59:25,558 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:25,558 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:59:25,558 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:59:25 +08:00

2018-05-15 10:59:25,558 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:59:25,558 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:25,558 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:59:25 +08:00

2018-05-15 10:59:25,559 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:59:25 +08:00

2018-05-15 10:59:25,559 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Name] IN (N'平台发放',N'平台扣除',N'积分增加'))
2018-05-15 10:59:25,559 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:25,559 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:59:25 +08:00

2018-05-15 10:59:25,559 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:59:25,559 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:25,559 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:59:25 +08:00

2018-05-15 10:59:41,858 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:59:41 +08:00

2018-05-15 10:59:41,858 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-05-15 10:59:41,858 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:41,858 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'PlatformUser201805051709360001' (Type = String, Size = 4000)

2018-05-15 10:59:41,858 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:59:41 +08:00

2018-05-15 10:59:41,859 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:59:41,859 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:41,859 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:59:41 +08:00

2018-05-15 10:59:41,859 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:59:41 +08:00

2018-05-15 10:59:41,859 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:59:41,859 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:41,859 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:59:41,860 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:59:41 +08:00

2018-05-15 10:59:41,860 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:59:41,860 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:41,860 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:59:41 +08:00

2018-05-15 10:59:41,861 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:59:41 +08:00

2018-05-15 10:59:41,861 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-15 10:59:41,861 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:41,861 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:59:41 +08:00

2018-05-15 10:59:41,861 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:59:41,861 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:41,861 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:59:41 +08:00

2018-05-15 10:59:41,862 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:59:41 +08:00

2018-05-15 10:59:41,862 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-15 10:59:41,862 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:41,862 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:59:41 +08:00

2018-05-15 10:59:41,862 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:59:41,862 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:41,862 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:59:41 +08:00

2018-05-15 10:59:41,862 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:59:41 +08:00

2018-05-15 10:59:41,869 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[CreateTime] >= @p__linq__1)
    )  AS [GroupBy1]
2018-05-15 10:59:41,869 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:41,869 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:59:41,869 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2018/5/14 0:00:00' (Type = DateTime2)

2018-05-15 10:59:41,869 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:59:41 +08:00

2018-05-15 10:59:41,871 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-15 10:59:41,871 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:41,872 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:59:41 +08:00

2018-05-15 10:59:41,872 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:59:41 +08:00

2018-05-15 10:59:41,872 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-15 10:59:41,872 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:41,872 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:59:41 +08:00

2018-05-15 10:59:41,873 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:59:41,873 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:41,873 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:59:41 +08:00

2018-05-15 10:59:41,873 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:59:41 +08:00

2018-05-15 10:59:41,875 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[CreateTime] >= @p__linq__1) AND ([Extent1].[ToIntegralTypeId] = @p__linq__2) AND ([Extent1].[PlatformUserId] = @p__linq__3)
    )  AS [GroupBy1]
2018-05-15 10:59:41,875 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:41,875 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:59:41,875 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2018/5/14 0:00:00' (Type = DateTime2)

2018-05-15 10:59:41,875 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2' (Type = Int64, IsNullable = false)

2018-05-15 10:59:41,875 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:59:41,875 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:59:41 +08:00

2018-05-15 10:59:41,877 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-15 10:59:41,878 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:41,878 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:59:41 +08:00

2018-05-15 10:59:41,878 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:59:41 +08:00

2018-05-15 10:59:41,878 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[CreateTime] >= @p__linq__1) AND ([Extent1].[ToIntegralTypeId] = @p__linq__2) AND ([Extent1].[PlatformUserId] = @p__linq__3)
    )  AS [GroupBy1]
2018-05-15 10:59:41,878 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:41,878 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:59:41,878 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2018/5/14 0:00:00' (Type = DateTime2)

2018-05-15 10:59:41,878 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '3' (Type = Int64, IsNullable = false)

2018-05-15 10:59:41,878 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:59:41,878 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:59:41 +08:00

2018-05-15 10:59:41,879 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:59:41,879 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:41,879 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:59:41 +08:00

2018-05-15 10:59:41,879 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:59:41 +08:00

2018-05-15 10:59:41,881 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[CreateTime] >= @p__linq__1)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-15 10:59:41,881 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:41,881 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:59:41,881 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2018/5/14 0:00:00' (Type = DateTime2)

2018-05-15 10:59:41,881 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:59:41 +08:00

2018-05-15 10:59:41,884 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-15 10:59:41,884 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:41,884 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:59:41 +08:00

2018-05-15 10:59:41,885 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:59:41 +08:00

2018-05-15 10:59:41,885 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Name] IN (N'平台发放',N'平台扣除',N'积分增加'))
2018-05-15 10:59:41,885 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:41,885 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:59:41 +08:00

2018-05-15 10:59:41,885 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:59:41,885 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:41,886 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:59:41 +08:00

2018-05-15 10:59:48,384 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:59:48 +08:00

2018-05-15 10:59:48,385 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-05-15 10:59:48,385 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:48,385 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'PlatformUser201805051709360001' (Type = String, Size = 4000)

2018-05-15 10:59:48,385 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:59:48 +08:00

2018-05-15 10:59:48,385 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:59:48,385 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:48,386 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:59:48 +08:00

2018-05-15 10:59:48,386 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:59:48 +08:00

2018-05-15 10:59:48,386 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:59:48,386 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:48,386 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:59:48,386 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:59:48 +08:00

2018-05-15 10:59:48,386 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:59:48,386 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:48,386 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:59:48 +08:00

2018-05-15 10:59:48,387 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:59:48 +08:00

2018-05-15 10:59:48,387 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-15 10:59:48,387 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:48,387 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:59:48 +08:00

2018-05-15 10:59:48,387 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:59:48,387 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:48,388 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:59:48 +08:00

2018-05-15 10:59:48,388 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:59:48 +08:00

2018-05-15 10:59:48,388 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-15 10:59:48,388 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:48,388 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:59:48 +08:00

2018-05-15 10:59:48,388 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:59:48,388 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:48,388 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:59:48 +08:00

2018-05-15 10:59:48,388 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:59:48 +08:00

2018-05-15 10:59:48,389 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[CreateTime] >= @p__linq__1)
    )  AS [GroupBy1]
2018-05-15 10:59:48,389 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:48,389 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:59:48,389 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2018/5/13 0:00:00' (Type = DateTime2)

2018-05-15 10:59:48,389 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:59:48 +08:00

2018-05-15 10:59:48,389 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:59:48,389 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:48,389 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:59:48 +08:00

2018-05-15 10:59:48,390 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:59:48 +08:00

2018-05-15 10:59:48,390 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-15 10:59:48,390 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:48,390 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:59:48 +08:00

2018-05-15 10:59:48,390 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:59:48,390 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:48,390 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:59:48 +08:00

2018-05-15 10:59:48,391 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:59:48 +08:00

2018-05-15 10:59:48,391 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[CreateTime] >= @p__linq__1) AND ([Extent1].[ToIntegralTypeId] = @p__linq__2) AND ([Extent1].[PlatformUserId] = @p__linq__3)
    )  AS [GroupBy1]
2018-05-15 10:59:48,391 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:48,391 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:59:48,391 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2018/5/13 0:00:00' (Type = DateTime2)

2018-05-15 10:59:48,391 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2' (Type = Int64, IsNullable = false)

2018-05-15 10:59:48,391 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:59:48,391 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:59:48 +08:00

2018-05-15 10:59:48,391 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:59:48,391 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:48,392 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:59:48 +08:00

2018-05-15 10:59:48,392 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:59:48 +08:00

2018-05-15 10:59:48,392 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[CreateTime] >= @p__linq__1) AND ([Extent1].[ToIntegralTypeId] = @p__linq__2) AND ([Extent1].[PlatformUserId] = @p__linq__3)
    )  AS [GroupBy1]
2018-05-15 10:59:48,392 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:48,392 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:59:48,392 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2018/5/13 0:00:00' (Type = DateTime2)

2018-05-15 10:59:48,392 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '3' (Type = Int64, IsNullable = false)

2018-05-15 10:59:48,392 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:59:48,392 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:59:48 +08:00

2018-05-15 10:59:48,393 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:59:48,393 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:48,393 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:59:48 +08:00

2018-05-15 10:59:48,393 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:59:48 +08:00

2018-05-15 10:59:48,393 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[CreateTime] >= @p__linq__1)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-15 10:59:48,393 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:48,393 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:59:48,393 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2018/5/13 0:00:00' (Type = DateTime2)

2018-05-15 10:59:48,393 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:59:48 +08:00

2018-05-15 10:59:48,394 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:59:48,394 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:48,394 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:59:48 +08:00

2018-05-15 10:59:48,394 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:59:48 +08:00

2018-05-15 10:59:48,394 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Name] IN (N'平台发放',N'平台扣除',N'积分增加'))
2018-05-15 10:59:48,394 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:48,395 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:59:48 +08:00

2018-05-15 10:59:48,395 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:59:48,395 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:48,395 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:59:48 +08:00

2018-05-15 10:59:51,327 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:59:51 +08:00

2018-05-15 10:59:51,327 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-05-15 10:59:51,327 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:51,327 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'PlatformUser201805051709360001' (Type = String, Size = 4000)

2018-05-15 10:59:51,327 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:59:51 +08:00

2018-05-15 10:59:51,328 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:59:51,328 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:51,328 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:59:51 +08:00

2018-05-15 10:59:51,328 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:59:51 +08:00

2018-05-15 10:59:51,328 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:59:51,328 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:51,328 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:59:51,328 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:59:51 +08:00

2018-05-15 10:59:51,329 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:59:51,329 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:51,329 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:59:51 +08:00

2018-05-15 10:59:51,329 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:59:51 +08:00

2018-05-15 10:59:51,330 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-15 10:59:51,330 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:51,330 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:59:51 +08:00

2018-05-15 10:59:51,330 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:59:51,330 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:51,330 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:59:51 +08:00

2018-05-15 10:59:51,330 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:59:51 +08:00

2018-05-15 10:59:51,330 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-15 10:59:51,330 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:51,330 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:59:51 +08:00

2018-05-15 10:59:51,331 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:59:51,331 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:51,331 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:59:51 +08:00

2018-05-15 10:59:51,331 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:59:51 +08:00

2018-05-15 10:59:51,331 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[CreateTime] >= @p__linq__1)
    )  AS [GroupBy1]
2018-05-15 10:59:51,331 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:51,331 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:59:51,331 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2018/5/12 0:00:00' (Type = DateTime2)

2018-05-15 10:59:51,331 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:59:51 +08:00

2018-05-15 10:59:51,332 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:59:51,332 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:51,332 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:59:51 +08:00

2018-05-15 10:59:51,332 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:59:51 +08:00

2018-05-15 10:59:51,332 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-15 10:59:51,332 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:51,332 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:59:51 +08:00

2018-05-15 10:59:51,333 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:59:51,333 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:51,333 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:59:51 +08:00

2018-05-15 10:59:51,333 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:59:51 +08:00

2018-05-15 10:59:51,333 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[CreateTime] >= @p__linq__1) AND ([Extent1].[ToIntegralTypeId] = @p__linq__2) AND ([Extent1].[PlatformUserId] = @p__linq__3)
    )  AS [GroupBy1]
2018-05-15 10:59:51,333 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:51,333 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:59:51,334 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2018/5/12 0:00:00' (Type = DateTime2)

2018-05-15 10:59:51,334 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2' (Type = Int64, IsNullable = false)

2018-05-15 10:59:51,334 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:59:51,334 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:59:51 +08:00

2018-05-15 10:59:51,334 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:59:51,334 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:51,334 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:59:51 +08:00

2018-05-15 10:59:51,334 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:59:51 +08:00

2018-05-15 10:59:51,335 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[CreateTime] >= @p__linq__1) AND ([Extent1].[ToIntegralTypeId] = @p__linq__2) AND ([Extent1].[PlatformUserId] = @p__linq__3)
    )  AS [GroupBy1]
2018-05-15 10:59:51,335 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:51,335 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:59:51,335 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2018/5/12 0:00:00' (Type = DateTime2)

2018-05-15 10:59:51,335 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '3' (Type = Int64, IsNullable = false)

2018-05-15 10:59:51,335 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:59:51,335 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:59:51 +08:00

2018-05-15 10:59:51,335 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:59:51,335 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:51,335 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:59:51 +08:00

2018-05-15 10:59:51,335 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:59:51 +08:00

2018-05-15 10:59:51,336 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[CreateTime] >= @p__linq__1)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-15 10:59:51,336 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:51,336 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:59:51,336 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2018/5/12 0:00:00' (Type = DateTime2)

2018-05-15 10:59:51,336 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:59:51 +08:00

2018-05-15 10:59:51,336 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:59:51,336 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:51,336 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:59:51 +08:00

2018-05-15 10:59:51,337 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:59:51 +08:00

2018-05-15 10:59:51,337 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Name] IN (N'平台发放',N'平台扣除',N'积分增加'))
2018-05-15 10:59:51,337 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:51,337 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:59:51 +08:00

2018-05-15 10:59:51,337 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:59:51,337 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:51,338 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:59:51 +08:00

2018-05-15 10:59:53,644 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:59:53 +08:00

2018-05-15 10:59:53,645 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-05-15 10:59:53,645 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:53,645 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'PlatformUser201805051709360001' (Type = String, Size = 4000)

2018-05-15 10:59:53,645 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:59:53 +08:00

2018-05-15 10:59:53,645 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:59:53,645 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:53,646 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:59:53 +08:00

2018-05-15 10:59:53,646 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:59:53 +08:00

2018-05-15 10:59:53,646 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:59:53,646 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:53,646 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:59:53,646 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:59:53 +08:00

2018-05-15 10:59:53,646 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:59:53,646 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:53,646 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:59:53 +08:00

2018-05-15 10:59:53,647 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:59:53 +08:00

2018-05-15 10:59:53,647 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-15 10:59:53,647 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:53,647 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:59:53 +08:00

2018-05-15 10:59:53,648 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:59:53,648 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:53,648 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:59:53 +08:00

2018-05-15 10:59:53,648 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:59:53 +08:00

2018-05-15 10:59:53,648 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-15 10:59:53,648 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:53,648 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:59:53 +08:00

2018-05-15 10:59:53,648 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:59:53,648 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:53,649 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:59:53 +08:00

2018-05-15 10:59:53,649 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:59:53 +08:00

2018-05-15 10:59:53,649 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[CreateTime] >= @p__linq__1)
    )  AS [GroupBy1]
2018-05-15 10:59:53,649 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:53,649 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:59:53,649 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2018/5/9 0:00:00' (Type = DateTime2)

2018-05-15 10:59:53,649 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:59:53 +08:00

2018-05-15 10:59:53,649 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:59:53,650 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:53,650 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:59:53 +08:00

2018-05-15 10:59:53,650 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:59:53 +08:00

2018-05-15 10:59:53,650 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-15 10:59:53,650 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:53,650 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:59:53 +08:00

2018-05-15 10:59:53,651 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:59:53,651 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:53,651 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:59:53 +08:00

2018-05-15 10:59:53,651 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:59:53 +08:00

2018-05-15 10:59:53,651 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[CreateTime] >= @p__linq__1) AND ([Extent1].[ToIntegralTypeId] = @p__linq__2) AND ([Extent1].[PlatformUserId] = @p__linq__3)
    )  AS [GroupBy1]
2018-05-15 10:59:53,651 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:53,651 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:59:53,651 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2018/5/9 0:00:00' (Type = DateTime2)

2018-05-15 10:59:53,651 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2' (Type = Int64, IsNullable = false)

2018-05-15 10:59:53,652 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:59:53,652 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:59:53 +08:00

2018-05-15 10:59:53,652 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:59:53,652 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:53,652 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:59:53 +08:00

2018-05-15 10:59:53,652 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:59:53 +08:00

2018-05-15 10:59:53,653 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[CreateTime] >= @p__linq__1) AND ([Extent1].[ToIntegralTypeId] = @p__linq__2) AND ([Extent1].[PlatformUserId] = @p__linq__3)
    )  AS [GroupBy1]
2018-05-15 10:59:53,653 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:53,653 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:59:53,653 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2018/5/9 0:00:00' (Type = DateTime2)

2018-05-15 10:59:53,653 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '3' (Type = Int64, IsNullable = false)

2018-05-15 10:59:53,653 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:59:53,653 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:59:53 +08:00

2018-05-15 10:59:53,653 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:59:53,653 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:53,653 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:59:53 +08:00

2018-05-15 10:59:53,653 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:59:53 +08:00

2018-05-15 10:59:53,654 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[CreateTime] >= @p__linq__1)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-15 10:59:53,654 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:53,654 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:59:53,654 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2018/5/9 0:00:00' (Type = DateTime2)

2018-05-15 10:59:53,654 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:59:53 +08:00

2018-05-15 10:59:53,654 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:59:53,654 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:53,654 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:59:53 +08:00

2018-05-15 10:59:53,655 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:59:53 +08:00

2018-05-15 10:59:53,655 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Name] IN (N'平台发放',N'平台扣除',N'积分增加'))
2018-05-15 10:59:53,655 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:53,655 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:59:53 +08:00

2018-05-15 10:59:53,655 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:59:53,655 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:53,655 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:59:53 +08:00

2018-05-15 10:59:54,427 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:59:54 +08:00

2018-05-15 10:59:54,428 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-05-15 10:59:54,428 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:54,428 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'PlatformUser201805051709360001' (Type = String, Size = 4000)

2018-05-15 10:59:54,428 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:59:54 +08:00

2018-05-15 10:59:54,429 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 10:59:54,429 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:54,429 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:59:54 +08:00

2018-05-15 10:59:54,429 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:59:54 +08:00

2018-05-15 10:59:54,429 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:59:54,429 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:54,429 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:59:54,429 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:59:54 +08:00

2018-05-15 10:59:54,430 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:59:54,430 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:54,430 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:59:54 +08:00

2018-05-15 10:59:54,431 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:59:54 +08:00

2018-05-15 10:59:54,431 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-15 10:59:54,431 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:54,431 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:59:54 +08:00

2018-05-15 10:59:54,431 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:59:54,431 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:54,431 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:59:54 +08:00

2018-05-15 10:59:54,431 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:59:54 +08:00

2018-05-15 10:59:54,432 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-15 10:59:54,432 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:54,432 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:59:54 +08:00

2018-05-15 10:59:54,432 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:59:54,432 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:54,432 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:59:54 +08:00

2018-05-15 10:59:54,433 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:59:54 +08:00

2018-05-15 10:59:54,433 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[CreateTime] >= @p__linq__1)
    )  AS [GroupBy1]
2018-05-15 10:59:54,433 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:54,433 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:59:54,433 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2018/5/9 0:00:00' (Type = DateTime2)

2018-05-15 10:59:54,433 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:59:54 +08:00

2018-05-15 10:59:54,433 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:59:54,434 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:54,434 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:59:54 +08:00

2018-05-15 10:59:54,434 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:59:54 +08:00

2018-05-15 10:59:54,434 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-15 10:59:54,434 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:54,434 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:59:54 +08:00

2018-05-15 10:59:54,434 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:59:54,434 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:54,435 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:59:54 +08:00

2018-05-15 10:59:54,435 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:59:54 +08:00

2018-05-15 10:59:54,435 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[CreateTime] >= @p__linq__1) AND ([Extent1].[ToIntegralTypeId] = @p__linq__2) AND ([Extent1].[PlatformUserId] = @p__linq__3)
    )  AS [GroupBy1]
2018-05-15 10:59:54,435 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:54,435 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:59:54,435 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2018/5/9 0:00:00' (Type = DateTime2)

2018-05-15 10:59:54,435 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2' (Type = Int64, IsNullable = false)

2018-05-15 10:59:54,435 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:59:54,435 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:59:54 +08:00

2018-05-15 10:59:54,436 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:59:54,436 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:54,436 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:59:54 +08:00

2018-05-15 10:59:54,436 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:59:54 +08:00

2018-05-15 10:59:54,436 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[CreateTime] >= @p__linq__1) AND ([Extent1].[ToIntegralTypeId] = @p__linq__2) AND ([Extent1].[PlatformUserId] = @p__linq__3)
    )  AS [GroupBy1]
2018-05-15 10:59:54,437 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:54,437 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:59:54,437 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2018/5/9 0:00:00' (Type = DateTime2)

2018-05-15 10:59:54,437 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '3' (Type = Int64, IsNullable = false)

2018-05-15 10:59:54,437 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:59:54,437 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:59:54 +08:00

2018-05-15 10:59:54,437 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:59:54,437 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:54,437 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:59:54 +08:00

2018-05-15 10:59:54,437 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:59:54 +08:00

2018-05-15 10:59:54,438 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[CreateTime] >= @p__linq__1)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-15 10:59:54,438 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:54,438 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:59:54,438 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2018/5/9 0:00:00' (Type = DateTime2)

2018-05-15 10:59:54,438 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:59:54 +08:00

2018-05-15 10:59:54,438 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:59:54,438 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:54,438 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:59:54 +08:00

2018-05-15 10:59:54,439 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:59:54 +08:00

2018-05-15 10:59:54,439 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Name] IN (N'平台发放',N'平台扣除',N'积分增加'))
2018-05-15 10:59:54,439 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:54,439 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:59:54 +08:00

2018-05-15 10:59:54,439 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:59:54,439 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:54,439 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:59:54 +08:00

2018-05-15 10:59:54,870 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:59:54 +08:00

2018-05-15 10:59:54,870 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-05-15 10:59:54,871 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:54,871 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'PlatformUser201805051709360001' (Type = String, Size = 4000)

2018-05-15 10:59:54,871 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:59:54 +08:00

2018-05-15 10:59:54,873 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 10:59:54,873 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:54,873 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:59:54 +08:00

2018-05-15 10:59:54,873 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:59:54 +08:00

2018-05-15 10:59:54,873 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:59:54,873 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:54,873 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:59:54,873 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:59:54 +08:00

2018-05-15 10:59:54,873 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:59:54,873 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:54,874 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:59:54 +08:00

2018-05-15 10:59:54,874 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:59:54 +08:00

2018-05-15 10:59:54,874 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-15 10:59:54,874 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:54,874 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:59:54 +08:00

2018-05-15 10:59:54,875 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:59:54,875 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:54,875 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:59:54 +08:00

2018-05-15 10:59:54,875 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:59:54 +08:00

2018-05-15 10:59:54,875 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-15 10:59:54,875 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:54,875 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:59:54 +08:00

2018-05-15 10:59:54,875 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:59:54,875 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:54,875 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:59:54 +08:00

2018-05-15 10:59:54,876 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:59:54 +08:00

2018-05-15 10:59:54,876 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[CreateTime] >= @p__linq__1)
    )  AS [GroupBy1]
2018-05-15 10:59:54,876 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:54,876 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:59:54,876 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2018/5/9 0:00:00' (Type = DateTime2)

2018-05-15 10:59:54,876 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:59:54 +08:00

2018-05-15 10:59:54,877 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:59:54,877 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:54,877 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:59:54 +08:00

2018-05-15 10:59:54,877 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:59:54 +08:00

2018-05-15 10:59:54,878 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-15 10:59:54,878 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:54,878 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:59:54 +08:00

2018-05-15 10:59:54,878 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:59:54,878 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:54,878 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:59:54 +08:00

2018-05-15 10:59:54,878 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:59:54 +08:00

2018-05-15 10:59:54,879 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[CreateTime] >= @p__linq__1) AND ([Extent1].[ToIntegralTypeId] = @p__linq__2) AND ([Extent1].[PlatformUserId] = @p__linq__3)
    )  AS [GroupBy1]
2018-05-15 10:59:54,879 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:54,879 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:59:54,879 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2018/5/9 0:00:00' (Type = DateTime2)

2018-05-15 10:59:54,879 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2' (Type = Int64, IsNullable = false)

2018-05-15 10:59:54,879 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:59:54,879 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:59:54 +08:00

2018-05-15 10:59:54,879 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:59:54,879 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:54,879 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:59:54 +08:00

2018-05-15 10:59:54,880 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:59:54 +08:00

2018-05-15 10:59:54,880 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[CreateTime] >= @p__linq__1) AND ([Extent1].[ToIntegralTypeId] = @p__linq__2) AND ([Extent1].[PlatformUserId] = @p__linq__3)
    )  AS [GroupBy1]
2018-05-15 10:59:54,880 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:54,880 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:59:54,880 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2018/5/9 0:00:00' (Type = DateTime2)

2018-05-15 10:59:54,880 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '3' (Type = Int64, IsNullable = false)

2018-05-15 10:59:54,880 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:59:54,880 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:59:54 +08:00

2018-05-15 10:59:54,881 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:59:54,881 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:54,881 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:59:54 +08:00

2018-05-15 10:59:54,881 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:59:54 +08:00

2018-05-15 10:59:54,881 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[CreateTime] >= @p__linq__1)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-15 10:59:54,881 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:54,881 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:59:54,881 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2018/5/9 0:00:00' (Type = DateTime2)

2018-05-15 10:59:54,881 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:59:54 +08:00

2018-05-15 10:59:54,882 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:59:54,882 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:54,882 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:59:54 +08:00

2018-05-15 10:59:54,882 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:59:54 +08:00

2018-05-15 10:59:54,883 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Name] IN (N'平台发放',N'平台扣除',N'积分增加'))
2018-05-15 10:59:54,883 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:54,883 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:59:54 +08:00

2018-05-15 10:59:54,883 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:59:54,883 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:54,883 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:59:54 +08:00

2018-05-15 10:59:56,837 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:59:56 +08:00

2018-05-15 10:59:56,837 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-05-15 10:59:56,837 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:56,837 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'PlatformUser201805051709360001' (Type = String, Size = 4000)

2018-05-15 10:59:56,837 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:59:56 +08:00

2018-05-15 10:59:56,838 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:59:56,838 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:56,838 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:59:56 +08:00

2018-05-15 10:59:56,838 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:59:56 +08:00

2018-05-15 10:59:56,838 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:59:56,838 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:56,838 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:59:56,838 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:59:56 +08:00

2018-05-15 10:59:56,838 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:59:56,838 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:56,838 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:59:56 +08:00

2018-05-15 10:59:56,839 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:59:56 +08:00

2018-05-15 10:59:56,839 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-15 10:59:56,839 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:56,839 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:59:56 +08:00

2018-05-15 10:59:56,839 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:59:56,839 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:56,840 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:59:56 +08:00

2018-05-15 10:59:56,840 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:59:56 +08:00

2018-05-15 10:59:56,840 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-15 10:59:56,840 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:56,840 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:59:56 +08:00

2018-05-15 10:59:56,840 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:59:56,840 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:56,840 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:59:56 +08:00

2018-05-15 10:59:56,840 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:59:56 +08:00

2018-05-15 10:59:56,841 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[CreateTime] >= @p__linq__1)
    )  AS [GroupBy1]
2018-05-15 10:59:56,841 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:56,841 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:59:56,841 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2018/5/7 0:00:00' (Type = DateTime2)

2018-05-15 10:59:56,841 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:59:56 +08:00

2018-05-15 10:59:56,841 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:59:56,841 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:56,841 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:59:56 +08:00

2018-05-15 10:59:56,842 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:59:56 +08:00

2018-05-15 10:59:56,842 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-15 10:59:56,842 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:56,842 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:59:56 +08:00

2018-05-15 10:59:56,842 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:59:56,842 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:56,842 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:59:56 +08:00

2018-05-15 10:59:56,843 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:59:56 +08:00

2018-05-15 10:59:56,843 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[CreateTime] >= @p__linq__1) AND ([Extent1].[ToIntegralTypeId] = @p__linq__2) AND ([Extent1].[PlatformUserId] = @p__linq__3)
    )  AS [GroupBy1]
2018-05-15 10:59:56,843 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:56,843 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:59:56,843 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2018/5/7 0:00:00' (Type = DateTime2)

2018-05-15 10:59:56,843 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2' (Type = Int64, IsNullable = false)

2018-05-15 10:59:56,843 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:59:56,843 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:59:56 +08:00

2018-05-15 10:59:56,844 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:59:56,844 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:56,844 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:59:56 +08:00

2018-05-15 10:59:56,844 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:59:56 +08:00

2018-05-15 10:59:56,844 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[CreateTime] >= @p__linq__1) AND ([Extent1].[ToIntegralTypeId] = @p__linq__2) AND ([Extent1].[PlatformUserId] = @p__linq__3)
    )  AS [GroupBy1]
2018-05-15 10:59:56,844 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:56,844 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:59:56,844 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2018/5/7 0:00:00' (Type = DateTime2)

2018-05-15 10:59:56,844 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '3' (Type = Int64, IsNullable = false)

2018-05-15 10:59:56,844 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:59:56,845 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:59:56 +08:00

2018-05-15 10:59:56,845 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:59:56,845 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:56,845 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:59:56 +08:00

2018-05-15 10:59:56,845 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:59:56 +08:00

2018-05-15 10:59:56,846 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[CreateTime] >= @p__linq__1)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-15 10:59:56,846 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:56,846 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:59:56,846 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2018/5/7 0:00:00' (Type = DateTime2)

2018-05-15 10:59:56,846 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:59:56 +08:00

2018-05-15 10:59:56,846 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:59:56,846 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:56,846 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:59:56 +08:00

2018-05-15 10:59:56,846 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:59:56 +08:00

2018-05-15 10:59:56,847 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:59:56,847 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:56,847 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:59:56,847 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:59:56 +08:00

2018-05-15 10:59:56,847 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:59:56,847 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:56,847 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:59:56 +08:00

2018-05-15 10:59:56,847 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:59:56 +08:00

2018-05-15 10:59:56,847 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:59:56,847 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:56,847 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-15 10:59:56,847 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:59:56 +08:00

2018-05-15 10:59:56,847 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:59:56,847 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:56,848 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:59:56 +08:00

2018-05-15 10:59:56,848 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:59:56 +08:00

2018-05-15 10:59:56,848 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:59:56,848 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:56,848 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:59:56,848 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:59:56 +08:00

2018-05-15 10:59:56,848 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:59:56,848 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:56,848 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:59:56 +08:00

2018-05-15 10:59:56,848 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:59:56 +08:00

2018-05-15 10:59:56,849 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Name] IN (N'平台发放',N'平台扣除',N'积分增加'))
2018-05-15 10:59:56,849 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:56,849 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:59:56 +08:00

2018-05-15 10:59:56,849 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:59:56,849 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:56,849 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:59:56 +08:00

2018-05-15 11:00:03,746 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:00:03 +08:00

2018-05-15 11:00:03,746 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-05-15 11:00:03,746 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:00:03,746 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'PlatformUser201805051709360001' (Type = String, Size = 4000)

2018-05-15 11:00:03,746 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:00:03 +08:00

2018-05-15 11:00:03,747 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:00:03,747 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:00:03,747 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:00:03 +08:00

2018-05-15 11:00:03,747 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:00:03 +08:00

2018-05-15 11:00:03,747 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 11:00:03,747 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:00:03,747 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:00:03,747 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:00:03 +08:00

2018-05-15 11:00:03,748 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:00:03,748 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:00:03,748 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:00:03 +08:00

2018-05-15 11:00:03,748 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:00:03 +08:00

2018-05-15 11:00:03,748 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-15 11:00:03,748 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:00:03,748 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:00:03 +08:00

2018-05-15 11:00:03,749 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:00:03,749 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:00:03,749 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:00:03 +08:00

2018-05-15 11:00:03,749 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:00:03 +08:00

2018-05-15 11:00:03,749 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-15 11:00:03,749 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:00:03,749 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:00:03 +08:00

2018-05-15 11:00:03,749 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:00:03,749 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:00:03,750 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:00:03 +08:00

2018-05-15 11:00:03,750 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:00:03 +08:00

2018-05-15 11:00:03,750 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[CreateTime] >= @p__linq__1)
    )  AS [GroupBy1]
2018-05-15 11:00:03,750 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:00:03,750 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 11:00:03,750 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2018/5/8 0:00:00' (Type = DateTime2)

2018-05-15 11:00:03,750 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:00:03 +08:00

2018-05-15 11:00:03,750 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:00:03,750 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:00:03,751 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:00:03 +08:00

2018-05-15 11:00:03,751 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:00:03 +08:00

2018-05-15 11:00:03,751 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-15 11:00:03,751 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:00:03,751 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:00:03 +08:00

2018-05-15 11:00:03,751 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:00:03,751 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:00:03,752 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:00:03 +08:00

2018-05-15 11:00:03,752 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:00:03 +08:00

2018-05-15 11:00:03,752 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[CreateTime] >= @p__linq__1) AND ([Extent1].[ToIntegralTypeId] = @p__linq__2) AND ([Extent1].[PlatformUserId] = @p__linq__3)
    )  AS [GroupBy1]
2018-05-15 11:00:03,752 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:00:03,752 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 11:00:03,752 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2018/5/8 0:00:00' (Type = DateTime2)

2018-05-15 11:00:03,752 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2' (Type = Int64, IsNullable = false)

2018-05-15 11:00:03,752 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:00:03,752 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:00:03 +08:00

2018-05-15 11:00:03,753 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:00:03,753 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:00:03,753 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:00:03 +08:00

2018-05-15 11:00:03,753 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:00:03 +08:00

2018-05-15 11:00:03,753 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[CreateTime] >= @p__linq__1) AND ([Extent1].[ToIntegralTypeId] = @p__linq__2) AND ([Extent1].[PlatformUserId] = @p__linq__3)
    )  AS [GroupBy1]
2018-05-15 11:00:03,753 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:00:03,753 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 11:00:03,753 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2018/5/8 0:00:00' (Type = DateTime2)

2018-05-15 11:00:03,753 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '3' (Type = Int64, IsNullable = false)

2018-05-15 11:00:03,753 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:00:03,753 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:00:03 +08:00

2018-05-15 11:00:03,754 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:00:03,754 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:00:03,754 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:00:03 +08:00

2018-05-15 11:00:03,754 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:00:03 +08:00

2018-05-15 11:00:03,754 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[CreateTime] >= @p__linq__1)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-15 11:00:03,754 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:00:03,754 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 11:00:03,755 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2018/5/8 0:00:00' (Type = DateTime2)

2018-05-15 11:00:03,755 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:00:03 +08:00

2018-05-15 11:00:03,755 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:00:03,755 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:00:03,755 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:00:03 +08:00

2018-05-15 11:00:03,755 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:00:03 +08:00

2018-05-15 11:00:03,755 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 11:00:03,755 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:00:03,755 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:00:03,755 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:00:03 +08:00

2018-05-15 11:00:03,756 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:00:03,756 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:00:03,756 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:00:03 +08:00

2018-05-15 11:00:03,756 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:00:03 +08:00

2018-05-15 11:00:03,756 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 11:00:03,756 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:00:03,756 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-15 11:00:03,756 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:00:03 +08:00

2018-05-15 11:00:03,756 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:00:03,756 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:00:03,756 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:00:03 +08:00

2018-05-15 11:00:03,756 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:00:03 +08:00

2018-05-15 11:00:03,757 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 11:00:03,757 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:00:03,757 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:00:03,757 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:00:03 +08:00

2018-05-15 11:00:03,757 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:00:03,757 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:00:03,757 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:00:03 +08:00

2018-05-15 11:00:03,757 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:00:03 +08:00

2018-05-15 11:00:03,758 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Name] IN (N'平台发放',N'平台扣除',N'积分增加'))
2018-05-15 11:00:03,758 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:00:03,758 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:00:03 +08:00

2018-05-15 11:00:03,758 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:00:03,758 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:00:03,758 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:00:03 +08:00

2018-05-15 11:00:11,620 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:00:11 +08:00

2018-05-15 11:00:11,620 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-05-15 11:00:11,620 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:00:11,620 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'PlatformUser201805051709360001' (Type = String, Size = 4000)

2018-05-15 11:00:11,620 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:00:11 +08:00

2018-05-15 11:00:11,621 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:00:11,621 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:00:11,621 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:00:11 +08:00

2018-05-15 11:00:11,621 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:00:11 +08:00

2018-05-15 11:00:11,621 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 11:00:11,621 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:00:11,621 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:00:11,621 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:00:11 +08:00

2018-05-15 11:00:11,621 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:00:11,621 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:00:11,622 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:00:11 +08:00

2018-05-15 11:00:11,622 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:00:11 +08:00

2018-05-15 11:00:11,622 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-15 11:00:11,622 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:00:11,622 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:00:11 +08:00

2018-05-15 11:00:11,623 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:00:11,623 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:00:11,623 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:00:11 +08:00

2018-05-15 11:00:11,623 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:00:11 +08:00

2018-05-15 11:00:11,623 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-15 11:00:11,623 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:00:11,623 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:00:11 +08:00

2018-05-15 11:00:11,623 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:00:11,623 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:00:11,623 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:00:11 +08:00

2018-05-15 11:00:11,624 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:00:11 +08:00

2018-05-15 11:00:11,624 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[CreateTime] >= @p__linq__1)
    )  AS [GroupBy1]
2018-05-15 11:00:11,624 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:00:11,624 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 11:00:11,624 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2018/5/8 0:00:00' (Type = DateTime2)

2018-05-15 11:00:11,624 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:00:11 +08:00

2018-05-15 11:00:11,624 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:00:11,624 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:00:11,625 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:00:11 +08:00

2018-05-15 11:00:11,625 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:00:11 +08:00

2018-05-15 11:00:11,625 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-15 11:00:11,625 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:00:11,625 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:00:11 +08:00

2018-05-15 11:00:11,625 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:00:11,625 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:00:11,626 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:00:11 +08:00

2018-05-15 11:00:11,626 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:00:11 +08:00

2018-05-15 11:00:11,626 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[CreateTime] >= @p__linq__1) AND ([Extent1].[ToIntegralTypeId] = @p__linq__2) AND ([Extent1].[PlatformUserId] = @p__linq__3)
    )  AS [GroupBy1]
2018-05-15 11:00:11,626 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:00:11,626 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 11:00:11,626 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2018/5/8 0:00:00' (Type = DateTime2)

2018-05-15 11:00:11,626 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2' (Type = Int64, IsNullable = false)

2018-05-15 11:00:11,626 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:00:11,626 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:00:11 +08:00

2018-05-15 11:00:11,627 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:00:11,627 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:00:11,627 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:00:11 +08:00

2018-05-15 11:00:11,627 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:00:11 +08:00

2018-05-15 11:00:11,627 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[CreateTime] >= @p__linq__1) AND ([Extent1].[ToIntegralTypeId] = @p__linq__2) AND ([Extent1].[PlatformUserId] = @p__linq__3)
    )  AS [GroupBy1]
2018-05-15 11:00:11,627 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:00:11,627 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 11:00:11,627 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2018/5/8 0:00:00' (Type = DateTime2)

2018-05-15 11:00:11,627 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '3' (Type = Int64, IsNullable = false)

2018-05-15 11:00:11,627 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:00:11,627 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:00:11 +08:00

2018-05-15 11:00:11,628 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:00:11,628 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:00:11,628 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:00:11 +08:00

2018-05-15 11:00:11,628 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:00:11 +08:00

2018-05-15 11:00:11,630 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[CreateTime] >= @p__linq__1)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 1
    ORDER BY [Project1].[CreateTime] DESC
2018-05-15 11:00:11,630 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:00:11,630 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 11:00:11,630 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2018/5/8 0:00:00' (Type = DateTime2)

2018-05-15 11:00:11,630 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:00:11 +08:00

2018-05-15 11:00:11,633 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-15 11:00:11,633 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:00:11,633 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:00:11 +08:00

2018-05-15 11:00:11,633 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:00:11 +08:00

2018-05-15 11:00:11,633 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 11:00:11,633 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:00:11,633 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:00:11,633 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:00:11 +08:00

2018-05-15 11:00:11,634 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:00:11,634 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:00:11,634 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:00:11 +08:00

2018-05-15 11:00:11,634 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:00:11 +08:00

2018-05-15 11:00:11,634 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 11:00:11,634 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:00:11,634 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-15 11:00:11,634 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:00:11 +08:00

2018-05-15 11:00:11,634 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:00:11,634 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:00:11,634 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:00:11 +08:00

2018-05-15 11:00:11,635 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:00:11 +08:00

2018-05-15 11:00:11,635 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 11:00:11,635 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:00:11,635 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:00:11,635 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:00:11 +08:00

2018-05-15 11:00:11,635 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:00:11,635 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:00:11,635 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:00:11 +08:00

2018-05-15 11:00:11,635 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:00:11 +08:00

2018-05-15 11:00:11,636 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Name] IN (N'平台发放',N'平台扣除',N'积分增加'))
2018-05-15 11:00:11,636 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:00:11,636 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:00:11 +08:00

2018-05-15 11:00:11,636 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:00:11,636 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:00:11,636 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:00:11 +08:00

2018-05-15 11:00:12,607 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:00:12 +08:00

2018-05-15 11:00:12,608 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-05-15 11:00:12,608 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:00:12,608 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'PlatformUser201805051709360001' (Type = String, Size = 4000)

2018-05-15 11:00:12,608 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:00:12 +08:00

2018-05-15 11:00:12,608 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:00:12,608 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:00:12,608 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:00:12 +08:00

2018-05-15 11:00:12,608 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:00:12 +08:00

2018-05-15 11:00:12,609 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 11:00:12,609 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:00:12,609 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:00:12,609 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:00:12 +08:00

2018-05-15 11:00:12,609 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:00:12,609 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:00:12,609 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:00:12 +08:00

2018-05-15 11:00:12,610 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:00:12 +08:00

2018-05-15 11:00:12,610 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-15 11:00:12,610 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:00:12,610 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:00:12 +08:00

2018-05-15 11:00:12,610 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:00:12,610 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:00:12,610 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:00:12 +08:00

2018-05-15 11:00:12,611 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:00:12 +08:00

2018-05-15 11:00:12,611 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-15 11:00:12,611 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:00:12,611 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:00:12 +08:00

2018-05-15 11:00:12,611 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:00:12,611 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:00:12,611 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:00:12 +08:00

2018-05-15 11:00:12,611 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:00:12 +08:00

2018-05-15 11:00:12,612 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[CreateTime] >= @p__linq__1)
    )  AS [GroupBy1]
2018-05-15 11:00:12,612 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:00:12,612 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 11:00:12,612 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2018/5/8 0:00:00' (Type = DateTime2)

2018-05-15 11:00:12,612 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:00:12 +08:00

2018-05-15 11:00:12,612 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:00:12,612 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:00:12,612 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:00:12 +08:00

2018-05-15 11:00:12,612 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:00:12 +08:00

2018-05-15 11:00:12,613 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-15 11:00:12,613 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:00:12,613 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:00:12 +08:00

2018-05-15 11:00:12,613 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:00:12,613 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:00:12,613 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:00:12 +08:00

2018-05-15 11:00:12,614 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:00:12 +08:00

2018-05-15 11:00:12,614 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[CreateTime] >= @p__linq__1) AND ([Extent1].[ToIntegralTypeId] = @p__linq__2) AND ([Extent1].[PlatformUserId] = @p__linq__3)
    )  AS [GroupBy1]
2018-05-15 11:00:12,614 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:00:12,614 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 11:00:12,614 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2018/5/8 0:00:00' (Type = DateTime2)

2018-05-15 11:00:12,614 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2' (Type = Int64, IsNullable = false)

2018-05-15 11:00:12,614 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:00:12,614 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:00:12 +08:00

2018-05-15 11:00:12,614 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:00:12,614 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:00:12,615 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:00:12 +08:00

2018-05-15 11:00:12,615 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:00:12 +08:00

2018-05-15 11:00:12,615 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[CreateTime] >= @p__linq__1) AND ([Extent1].[ToIntegralTypeId] = @p__linq__2) AND ([Extent1].[PlatformUserId] = @p__linq__3)
    )  AS [GroupBy1]
2018-05-15 11:00:12,615 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:00:12,615 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 11:00:12,615 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2018/5/8 0:00:00' (Type = DateTime2)

2018-05-15 11:00:12,615 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '3' (Type = Int64, IsNullable = false)

2018-05-15 11:00:12,615 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:00:12,615 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:00:12 +08:00

2018-05-15 11:00:12,616 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:00:12,616 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:00:12,616 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:00:12 +08:00

2018-05-15 11:00:12,616 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:00:12 +08:00

2018-05-15 11:00:12,618 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[CreateTime] >= @p__linq__1)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 2
    ORDER BY [Project1].[CreateTime] DESC
2018-05-15 11:00:12,618 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:00:12,618 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 11:00:12,618 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2018/5/8 0:00:00' (Type = DateTime2)

2018-05-15 11:00:12,618 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:00:12 +08:00

2018-05-15 11:00:12,620 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-15 11:00:12,620 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:00:12,621 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:00:12 +08:00

2018-05-15 11:00:12,621 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:00:12 +08:00

2018-05-15 11:00:12,621 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 11:00:12,621 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:00:12,621 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:00:12,621 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:00:12 +08:00

2018-05-15 11:00:12,621 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:00:12,621 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:00:12,621 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:00:12 +08:00

2018-05-15 11:00:12,621 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:00:12 +08:00

2018-05-15 11:00:12,621 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 11:00:12,621 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:00:12,622 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-15 11:00:12,622 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:00:12 +08:00

2018-05-15 11:00:12,622 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:00:12,622 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:00:12,622 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:00:12 +08:00

2018-05-15 11:00:12,622 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:00:12 +08:00

2018-05-15 11:00:12,622 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 11:00:12,622 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:00:12,622 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:00:12,622 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:00:12 +08:00

2018-05-15 11:00:12,622 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:00:12,622 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:00:12,622 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:00:12 +08:00

2018-05-15 11:00:12,623 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:00:12 +08:00

2018-05-15 11:00:12,623 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Name] IN (N'平台发放',N'平台扣除',N'积分增加'))
2018-05-15 11:00:12,623 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:00:12,623 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:00:12 +08:00

2018-05-15 11:00:12,623 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:00:12,623 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:00:12,624 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:00:12 +08:00

2018-05-15 11:00:14,205 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:00:14 +08:00

2018-05-15 11:00:14,205 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-05-15 11:00:14,205 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:00:14,205 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'PlatformUser201805051709360001' (Type = String, Size = 4000)

2018-05-15 11:00:14,205 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:00:14 +08:00

2018-05-15 11:00:14,206 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:00:14,206 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:00:14,206 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:00:14 +08:00

2018-05-15 11:00:14,206 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:00:14 +08:00

2018-05-15 11:00:14,206 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 11:00:14,206 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:00:14,206 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:00:14,206 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:00:14 +08:00

2018-05-15 11:00:14,206 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:00:14,206 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:00:14,206 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:00:14 +08:00

2018-05-15 11:00:14,207 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:00:14 +08:00

2018-05-15 11:00:14,207 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-15 11:00:14,207 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:00:14,207 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:00:14 +08:00

2018-05-15 11:00:14,207 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:00:14,207 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:00:14,207 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:00:14 +08:00

2018-05-15 11:00:14,208 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:00:14 +08:00

2018-05-15 11:00:14,208 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-15 11:00:14,208 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:00:14,208 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:00:14 +08:00

2018-05-15 11:00:14,208 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:00:14,208 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:00:14,208 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:00:14 +08:00

2018-05-15 11:00:14,208 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:00:14 +08:00

2018-05-15 11:00:14,209 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[CreateTime] >= @p__linq__1)
    )  AS [GroupBy1]
2018-05-15 11:00:14,209 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:00:14,209 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 11:00:14,209 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2018/5/8 0:00:00' (Type = DateTime2)

2018-05-15 11:00:14,209 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:00:14 +08:00

2018-05-15 11:00:14,209 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:00:14,209 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:00:14,209 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:00:14 +08:00

2018-05-15 11:00:14,210 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:00:14 +08:00

2018-05-15 11:00:14,210 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-15 11:00:14,210 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:00:14,210 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:00:14 +08:00

2018-05-15 11:00:14,210 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:00:14,210 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:00:14,211 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:00:14 +08:00

2018-05-15 11:00:14,211 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:00:14 +08:00

2018-05-15 11:00:14,211 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[CreateTime] >= @p__linq__1) AND ([Extent1].[ToIntegralTypeId] = @p__linq__2) AND ([Extent1].[PlatformUserId] = @p__linq__3)
    )  AS [GroupBy1]
2018-05-15 11:00:14,211 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:00:14,211 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 11:00:14,211 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2018/5/8 0:00:00' (Type = DateTime2)

2018-05-15 11:00:14,211 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2' (Type = Int64, IsNullable = false)

2018-05-15 11:00:14,211 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:00:14,211 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:00:14 +08:00

2018-05-15 11:00:14,212 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:00:14,212 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:00:14,212 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:00:14 +08:00

2018-05-15 11:00:14,212 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:00:14 +08:00

2018-05-15 11:00:14,212 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[CreateTime] >= @p__linq__1) AND ([Extent1].[ToIntegralTypeId] = @p__linq__2) AND ([Extent1].[PlatformUserId] = @p__linq__3)
    )  AS [GroupBy1]
2018-05-15 11:00:14,212 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:00:14,212 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 11:00:14,212 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2018/5/8 0:00:00' (Type = DateTime2)

2018-05-15 11:00:14,212 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '3' (Type = Int64, IsNullable = false)

2018-05-15 11:00:14,212 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:00:14,212 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:00:14 +08:00

2018-05-15 11:00:14,213 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:00:14,213 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:00:14,213 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:00:14 +08:00

2018-05-15 11:00:14,213 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:00:14 +08:00

2018-05-15 11:00:14,213 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[CreateTime] >= @p__linq__1)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-15 11:00:14,213 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:00:14,213 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 11:00:14,213 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2018/5/8 0:00:00' (Type = DateTime2)

2018-05-15 11:00:14,213 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:00:14 +08:00

2018-05-15 11:00:14,214 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:00:14,214 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:00:14,214 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:00:14 +08:00

2018-05-15 11:00:14,214 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:00:14 +08:00

2018-05-15 11:00:14,214 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 11:00:14,214 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:00:14,214 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:00:14,214 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:00:14 +08:00

2018-05-15 11:00:14,215 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:00:14,215 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:00:14,215 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:00:14 +08:00

2018-05-15 11:00:14,215 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:00:14 +08:00

2018-05-15 11:00:14,215 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 11:00:14,215 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:00:14,215 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-15 11:00:14,215 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:00:14 +08:00

2018-05-15 11:00:14,215 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:00:14,215 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:00:14,215 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:00:14 +08:00

2018-05-15 11:00:14,215 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:00:14 +08:00

2018-05-15 11:00:14,216 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 11:00:14,216 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:00:14,216 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:00:14,216 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:00:14 +08:00

2018-05-15 11:00:14,216 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:00:14,216 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:00:14,216 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:00:14 +08:00

2018-05-15 11:00:14,216 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:00:14 +08:00

2018-05-15 11:00:14,216 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Name] IN (N'平台发放',N'平台扣除',N'积分增加'))
2018-05-15 11:00:14,217 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:00:14,217 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:00:14 +08:00

2018-05-15 11:00:14,217 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:00:14,217 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:00:14,217 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:00:14 +08:00

2018-05-15 11:00:24,284 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:00:24 +08:00

2018-05-15 11:00:24,284 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-05-15 11:00:24,284 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:00:24,284 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'PlatformUser201805051709360001' (Type = String, Size = 4000)

2018-05-15 11:00:24,284 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:00:24 +08:00

2018-05-15 11:00:24,285 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:00:24,285 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:00:24,285 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:00:24 +08:00

2018-05-15 11:00:24,285 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:00:24 +08:00

2018-05-15 11:00:24,285 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 11:00:24,285 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:00:24,285 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:00:24,285 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:00:24 +08:00

2018-05-15 11:00:24,286 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:00:24,286 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:00:24,286 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:00:24 +08:00

2018-05-15 11:00:24,286 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:00:24 +08:00

2018-05-15 11:00:24,286 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-15 11:00:24,286 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:00:24,286 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:00:24 +08:00

2018-05-15 11:00:24,287 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:00:24,287 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:00:24,287 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:00:24 +08:00

2018-05-15 11:00:24,287 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:00:24 +08:00

2018-05-15 11:00:24,287 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-15 11:00:24,287 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:00:24,287 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:00:24 +08:00

2018-05-15 11:00:24,288 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:00:24,288 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:00:24,288 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:00:24 +08:00

2018-05-15 11:00:24,288 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:00:24 +08:00

2018-05-15 11:00:24,290 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[CreateTime] >= @p__linq__1) AND ([Extent1].[CreateTime] <= @p__linq__2)
    )  AS [GroupBy1]
2018-05-15 11:00:24,290 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:00:24,290 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 11:00:24,290 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2018/5/7 0:00:00' (Type = DateTime2)

2018-05-15 11:00:24,290 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2018/5/7 0:00:00' (Type = DateTime2)

2018-05-15 11:00:24,290 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:00:24 +08:00

2018-05-15 11:00:24,292 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 11:00:24,292 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:00:24,292 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:00:24 +08:00

2018-05-15 11:00:24,292 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:00:24 +08:00

2018-05-15 11:00:24,292 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-15 11:00:24,292 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:00:24,292 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:00:24 +08:00

2018-05-15 11:00:24,293 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:00:24,293 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:00:24,293 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:00:24 +08:00

2018-05-15 11:00:24,293 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:00:24 +08:00

2018-05-15 11:00:24,295 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[CreateTime] >= @p__linq__1) AND ([Extent1].[CreateTime] <= @p__linq__2) AND ([Extent1].[ToIntegralTypeId] = @p__linq__3) AND ([Extent1].[PlatformUserId] = @p__linq__4)
    )  AS [GroupBy1]
2018-05-15 11:00:24,295 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:00:24,295 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 11:00:24,295 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2018/5/7 0:00:00' (Type = DateTime2)

2018-05-15 11:00:24,295 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2018/5/7 0:00:00' (Type = DateTime2)

2018-05-15 11:00:24,295 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '2' (Type = Int64, IsNullable = false)

2018-05-15 11:00:24,295 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__4: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:00:24,295 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:00:24 +08:00

2018-05-15 11:00:24,297 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-15 11:00:24,298 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:00:24,298 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:00:24 +08:00

2018-05-15 11:00:24,298 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:00:24 +08:00

2018-05-15 11:00:24,298 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[CreateTime] >= @p__linq__1) AND ([Extent1].[CreateTime] <= @p__linq__2) AND ([Extent1].[ToIntegralTypeId] = @p__linq__3) AND ([Extent1].[PlatformUserId] = @p__linq__4)
    )  AS [GroupBy1]
2018-05-15 11:00:24,298 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:00:24,298 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 11:00:24,298 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2018/5/7 0:00:00' (Type = DateTime2)

2018-05-15 11:00:24,299 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2018/5/7 0:00:00' (Type = DateTime2)

2018-05-15 11:00:24,299 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '3' (Type = Int64, IsNullable = false)

2018-05-15 11:00:24,299 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__4: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:00:24,299 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:00:24 +08:00

2018-05-15 11:00:24,299 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:00:24,299 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:00:24,299 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:00:24 +08:00

2018-05-15 11:00:24,299 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:00:24 +08:00

2018-05-15 11:00:24,301 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[CreateTime] >= @p__linq__1) AND ([Extent1].[CreateTime] <= @p__linq__2)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-15 11:00:24,301 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:00:24,301 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 11:00:24,301 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2018/5/7 0:00:00' (Type = DateTime2)

2018-05-15 11:00:24,301 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2018/5/7 0:00:00' (Type = DateTime2)

2018-05-15 11:00:24,301 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:00:24 +08:00

2018-05-15 11:00:24,304 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-15 11:00:24,304 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:00:24,304 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:00:24 +08:00

2018-05-15 11:00:24,305 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:00:24 +08:00

2018-05-15 11:00:24,305 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Name] IN (N'平台发放',N'平台扣除',N'积分增加'))
2018-05-15 11:00:24,305 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:00:24,305 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:00:24 +08:00

2018-05-15 11:00:24,305 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:00:24,305 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:00:24,306 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:00:24 +08:00

2018-05-15 11:00:27,021 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:00:27 +08:00

2018-05-15 11:00:27,021 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-05-15 11:00:27,021 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:00:27,021 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'PlatformUser201805051709360001' (Type = String, Size = 4000)

2018-05-15 11:00:27,022 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:00:27 +08:00

2018-05-15 11:00:27,022 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:00:27,022 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:00:27,022 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:00:27 +08:00

2018-05-15 11:00:27,022 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:00:27 +08:00

2018-05-15 11:00:27,022 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 11:00:27,022 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:00:27,022 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:00:27,023 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:00:27 +08:00

2018-05-15 11:00:27,023 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:00:27,023 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:00:27,023 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:00:27 +08:00

2018-05-15 11:00:27,023 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:00:27 +08:00

2018-05-15 11:00:27,024 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-15 11:00:27,024 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:00:27,024 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:00:27 +08:00

2018-05-15 11:00:27,024 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:00:27,024 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:00:27,024 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:00:27 +08:00

2018-05-15 11:00:27,024 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:00:27 +08:00

2018-05-15 11:00:27,024 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-15 11:00:27,024 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:00:27,024 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:00:27 +08:00

2018-05-15 11:00:27,025 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:00:27,025 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:00:27,025 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:00:27 +08:00

2018-05-15 11:00:27,025 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:00:27 +08:00

2018-05-15 11:00:27,025 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[CreateTime] >= @p__linq__1) AND ([Extent1].[CreateTime] <= @p__linq__2)
    )  AS [GroupBy1]
2018-05-15 11:00:27,025 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:00:27,025 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 11:00:27,026 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2018/5/7 0:00:00' (Type = DateTime2)

2018-05-15 11:00:27,026 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2018/5/8 0:00:00' (Type = DateTime2)

2018-05-15 11:00:27,026 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:00:27 +08:00

2018-05-15 11:00:27,026 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:00:27,026 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:00:27,026 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:00:27 +08:00

2018-05-15 11:00:27,027 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:00:27 +08:00

2018-05-15 11:00:27,027 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-15 11:00:27,027 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:00:27,027 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:00:27 +08:00

2018-05-15 11:00:27,027 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:00:27,027 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:00:27,027 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:00:27 +08:00

2018-05-15 11:00:27,028 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:00:27 +08:00

2018-05-15 11:00:27,028 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[CreateTime] >= @p__linq__1) AND ([Extent1].[CreateTime] <= @p__linq__2) AND ([Extent1].[ToIntegralTypeId] = @p__linq__3) AND ([Extent1].[PlatformUserId] = @p__linq__4)
    )  AS [GroupBy1]
2018-05-15 11:00:27,028 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:00:27,028 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 11:00:27,028 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2018/5/7 0:00:00' (Type = DateTime2)

2018-05-15 11:00:27,028 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2018/5/8 0:00:00' (Type = DateTime2)

2018-05-15 11:00:27,028 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '2' (Type = Int64, IsNullable = false)

2018-05-15 11:00:27,028 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__4: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:00:27,028 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:00:27 +08:00

2018-05-15 11:00:27,028 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:00:27,028 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:00:27,029 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:00:27 +08:00

2018-05-15 11:00:27,029 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:00:27 +08:00

2018-05-15 11:00:27,029 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[CreateTime] >= @p__linq__1) AND ([Extent1].[CreateTime] <= @p__linq__2) AND ([Extent1].[ToIntegralTypeId] = @p__linq__3) AND ([Extent1].[PlatformUserId] = @p__linq__4)
    )  AS [GroupBy1]
2018-05-15 11:00:27,029 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:00:27,029 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 11:00:27,029 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2018/5/7 0:00:00' (Type = DateTime2)

2018-05-15 11:00:27,029 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2018/5/8 0:00:00' (Type = DateTime2)

2018-05-15 11:00:27,029 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '3' (Type = Int64, IsNullable = false)

2018-05-15 11:00:27,029 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__4: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:00:27,029 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:00:27 +08:00

2018-05-15 11:00:27,030 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:00:27,030 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:00:27,030 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:00:27 +08:00

2018-05-15 11:00:27,030 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:00:27 +08:00

2018-05-15 11:00:27,030 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[CreateTime] >= @p__linq__1) AND ([Extent1].[CreateTime] <= @p__linq__2)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-15 11:00:27,030 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:00:27,030 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 11:00:27,030 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2018/5/7 0:00:00' (Type = DateTime2)

2018-05-15 11:00:27,030 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2018/5/8 0:00:00' (Type = DateTime2)

2018-05-15 11:00:27,030 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:00:27 +08:00

2018-05-15 11:00:27,031 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:00:27,031 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:00:27,031 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:00:27 +08:00

2018-05-15 11:00:27,031 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:00:27 +08:00

2018-05-15 11:00:27,031 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 11:00:27,031 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:00:27,031 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '6' (Type = Int64, IsNullable = false)

2018-05-15 11:00:27,031 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:00:27 +08:00

2018-05-15 11:00:27,032 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:00:27,032 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:00:27,032 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:00:27 +08:00

2018-05-15 11:00:27,032 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:00:27 +08:00

2018-05-15 11:00:27,032 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 11:00:27,032 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:00:27,032 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:00:27,032 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:00:27 +08:00

2018-05-15 11:00:27,032 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:00:27,032 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:00:27,032 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:00:27 +08:00

2018-05-15 11:00:27,033 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:00:27 +08:00

2018-05-15 11:00:27,033 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Name] IN (N'平台发放',N'平台扣除',N'积分增加'))
2018-05-15 11:00:27,033 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:00:27,033 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:00:27 +08:00

2018-05-15 11:00:27,033 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:00:27,033 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:00:27,033 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:00:27 +08:00

2018-05-15 11:01:08,803 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:01:08 +08:00

2018-05-15 11:01:08,804 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-05-15 11:01:08,804 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:08,804 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'PlatformUser201805051709360001' (Type = String, Size = 4000)

2018-05-15 11:01:08,804 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:01:08 +08:00

2018-05-15 11:01:08,805 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:01:08,805 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:08,805 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:08 +08:00

2018-05-15 11:01:08,805 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:01:08 +08:00

2018-05-15 11:01:08,806 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 11:01:08,806 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:08,806 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:01:08,806 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:01:08 +08:00

2018-05-15 11:01:08,806 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:01:08,807 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:08,807 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:08 +08:00

2018-05-15 11:01:08,807 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:01:08 +08:00

2018-05-15 11:01:08,807 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-15 11:01:08,807 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:08,808 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:01:08 +08:00

2018-05-15 11:01:08,808 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:01:08,808 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:08,808 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:08 +08:00

2018-05-15 11:01:08,808 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:01:08 +08:00

2018-05-15 11:01:08,808 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-15 11:01:08,808 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:08,808 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:01:08 +08:00

2018-05-15 11:01:08,809 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:01:08,809 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:08,809 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:08 +08:00

2018-05-15 11:01:08,809 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:01:08 +08:00

2018-05-15 11:01:08,809 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[CreateTime] >= @p__linq__1) AND ([Extent1].[CreateTime] <= @p__linq__2)
    )  AS [GroupBy1]
2018-05-15 11:01:08,809 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:08,809 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 11:01:08,809 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2018/5/7 0:00:00' (Type = DateTime2)

2018-05-15 11:01:08,809 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2018/5/8 0:00:00' (Type = DateTime2)

2018-05-15 11:01:08,809 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:01:08 +08:00

2018-05-15 11:01:08,810 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:01:08,810 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:08,810 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:08 +08:00

2018-05-15 11:01:08,810 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:01:08 +08:00

2018-05-15 11:01:08,811 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-15 11:01:08,811 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:08,811 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:01:08 +08:00

2018-05-15 11:01:08,811 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:01:08,811 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:08,811 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:08 +08:00

2018-05-15 11:01:08,811 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:01:08 +08:00

2018-05-15 11:01:08,812 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[CreateTime] >= @p__linq__1) AND ([Extent1].[CreateTime] <= @p__linq__2) AND ([Extent1].[ToIntegralTypeId] = @p__linq__3) AND ([Extent1].[PlatformUserId] = @p__linq__4)
    )  AS [GroupBy1]
2018-05-15 11:01:08,812 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:08,812 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 11:01:08,812 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2018/5/7 0:00:00' (Type = DateTime2)

2018-05-15 11:01:08,812 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2018/5/8 0:00:00' (Type = DateTime2)

2018-05-15 11:01:08,812 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '2' (Type = Int64, IsNullable = false)

2018-05-15 11:01:08,812 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__4: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:01:08,812 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:01:08 +08:00

2018-05-15 11:01:08,812 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:01:08,812 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:08,812 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:08 +08:00

2018-05-15 11:01:08,813 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:01:08 +08:00

2018-05-15 11:01:08,813 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[CreateTime] >= @p__linq__1) AND ([Extent1].[CreateTime] <= @p__linq__2) AND ([Extent1].[ToIntegralTypeId] = @p__linq__3) AND ([Extent1].[PlatformUserId] = @p__linq__4)
    )  AS [GroupBy1]
2018-05-15 11:01:08,813 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:08,813 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 11:01:08,813 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2018/5/7 0:00:00' (Type = DateTime2)

2018-05-15 11:01:08,813 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2018/5/8 0:00:00' (Type = DateTime2)

2018-05-15 11:01:08,813 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '3' (Type = Int64, IsNullable = false)

2018-05-15 11:01:08,813 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__4: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:01:08,813 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:01:08 +08:00

2018-05-15 11:01:08,814 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:01:08,814 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:08,814 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:08 +08:00

2018-05-15 11:01:08,814 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:01:08 +08:00

2018-05-15 11:01:08,814 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[CreateTime] >= @p__linq__1) AND ([Extent1].[CreateTime] <= @p__linq__2)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-15 11:01:08,814 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:08,814 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 11:01:08,814 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2018/5/7 0:00:00' (Type = DateTime2)

2018-05-15 11:01:08,815 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2018/5/8 0:00:00' (Type = DateTime2)

2018-05-15 11:01:08,815 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:01:08 +08:00

2018-05-15 11:01:08,815 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:01:08,815 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:08,815 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:08 +08:00

2018-05-15 11:01:08,815 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:01:08 +08:00

2018-05-15 11:01:08,815 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 11:01:08,815 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:08,815 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '6' (Type = Int64, IsNullable = false)

2018-05-15 11:01:08,815 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:01:08 +08:00

2018-05-15 11:01:08,816 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:01:08,816 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:08,816 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:08 +08:00

2018-05-15 11:01:08,816 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:01:08 +08:00

2018-05-15 11:01:08,816 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 11:01:08,816 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:08,816 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:01:08,816 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:01:08 +08:00

2018-05-15 11:01:08,816 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:01:08,816 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:08,816 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:08 +08:00

2018-05-15 11:01:08,817 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:01:08 +08:00

2018-05-15 11:01:08,817 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Name] IN (N'平台发放',N'平台扣除',N'积分增加'))
2018-05-15 11:01:08,817 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:08,817 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:01:08 +08:00

2018-05-15 11:01:08,817 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:01:08,817 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:08,818 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:08 +08:00

2018-05-15 11:01:14,621 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:01:14 +08:00

2018-05-15 11:01:14,622 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-05-15 11:01:14,622 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:14,622 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'PlatformUser201805051709360001' (Type = String, Size = 4000)

2018-05-15 11:01:14,622 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:01:14 +08:00

2018-05-15 11:01:14,622 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:01:14,622 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:14,622 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:14 +08:00

2018-05-15 11:01:14,623 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:01:14 +08:00

2018-05-15 11:01:14,623 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 11:01:14,623 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:14,623 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:01:14,623 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:01:14 +08:00

2018-05-15 11:01:14,623 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:01:14,623 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:14,623 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:14 +08:00

2018-05-15 11:01:14,624 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:01:14 +08:00

2018-05-15 11:01:14,624 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-15 11:01:14,624 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:14,624 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:01:14 +08:00

2018-05-15 11:01:14,624 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:01:14,624 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:14,624 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:14 +08:00

2018-05-15 11:01:14,624 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:01:14 +08:00

2018-05-15 11:01:14,625 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-15 11:01:14,625 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:14,625 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:01:14 +08:00

2018-05-15 11:01:14,625 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:01:14,625 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:14,625 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:14 +08:00

2018-05-15 11:01:14,625 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:01:14 +08:00

2018-05-15 11:01:14,627 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1) AND ([Extent1].[CreateTime] >= @p__linq__2) AND ([Extent1].[CreateTime] <= @p__linq__3)
    )  AS [GroupBy1]
2018-05-15 11:01:14,627 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:14,627 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 11:01:14,627 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2' (Type = Int64)

2018-05-15 11:01:14,627 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2018/5/7 0:00:00' (Type = DateTime2)

2018-05-15 11:01:14,627 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '2018/5/8 0:00:00' (Type = DateTime2)

2018-05-15 11:01:14,627 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:01:14 +08:00

2018-05-15 11:01:14,630 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-15 11:01:14,630 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:14,630 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:14 +08:00

2018-05-15 11:01:14,630 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:01:14 +08:00

2018-05-15 11:01:14,631 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-15 11:01:14,631 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:14,631 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:01:14 +08:00

2018-05-15 11:01:14,631 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:01:14,631 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:14,631 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:14 +08:00

2018-05-15 11:01:14,632 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:01:14 +08:00

2018-05-15 11:01:14,633 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1) AND ([Extent1].[CreateTime] >= @p__linq__2) AND ([Extent1].[CreateTime] <= @p__linq__3) AND ([Extent1].[ToIntegralTypeId] = @p__linq__4) AND ([Extent1].[PlatformUserId] = @p__linq__5)
    )  AS [GroupBy1]
2018-05-15 11:01:14,633 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:14,633 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 11:01:14,633 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2' (Type = Int64)

2018-05-15 11:01:14,633 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2018/5/7 0:00:00' (Type = DateTime2)

2018-05-15 11:01:14,633 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '2018/5/8 0:00:00' (Type = DateTime2)

2018-05-15 11:01:14,633 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__4: '2' (Type = Int64, IsNullable = false)

2018-05-15 11:01:14,633 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__5: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:01:14,633 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:01:14 +08:00

2018-05-15 11:01:14,636 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-15 11:01:14,636 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:14,636 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:14 +08:00

2018-05-15 11:01:14,637 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:01:14 +08:00

2018-05-15 11:01:14,637 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1) AND ([Extent1].[CreateTime] >= @p__linq__2) AND ([Extent1].[CreateTime] <= @p__linq__3) AND ([Extent1].[ToIntegralTypeId] = @p__linq__4) AND ([Extent1].[PlatformUserId] = @p__linq__5)
    )  AS [GroupBy1]
2018-05-15 11:01:14,637 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:14,637 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 11:01:14,637 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2' (Type = Int64)

2018-05-15 11:01:14,637 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2018/5/7 0:00:00' (Type = DateTime2)

2018-05-15 11:01:14,637 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '2018/5/8 0:00:00' (Type = DateTime2)

2018-05-15 11:01:14,637 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__4: '3' (Type = Int64, IsNullable = false)

2018-05-15 11:01:14,637 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__5: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:01:14,637 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:01:14 +08:00

2018-05-15 11:01:14,638 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:01:14,638 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:14,638 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:14 +08:00

2018-05-15 11:01:14,638 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:01:14 +08:00

2018-05-15 11:01:14,640 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1) AND ([Extent1].[CreateTime] >= @p__linq__2) AND ([Extent1].[CreateTime] <= @p__linq__3)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-15 11:01:14,640 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:14,640 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 11:01:14,640 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2' (Type = Int64)

2018-05-15 11:01:14,640 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2018/5/7 0:00:00' (Type = DateTime2)

2018-05-15 11:01:14,640 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '2018/5/8 0:00:00' (Type = DateTime2)

2018-05-15 11:01:14,640 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:01:14 +08:00

2018-05-15 11:01:14,643 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2018-05-15 11:01:14,644 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:14,644 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:14 +08:00

2018-05-15 11:01:14,644 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:01:14 +08:00

2018-05-15 11:01:14,644 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Name] IN (N'平台发放',N'平台扣除',N'积分增加'))
2018-05-15 11:01:14,644 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:14,644 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:01:14 +08:00

2018-05-15 11:01:14,645 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:01:14,645 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:14,645 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:14 +08:00

2018-05-15 11:01:16,906 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:01:16 +08:00

2018-05-15 11:01:16,906 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-05-15 11:01:16,906 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:16,906 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'PlatformUser201805051709360001' (Type = String, Size = 4000)

2018-05-15 11:01:16,906 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:01:16 +08:00

2018-05-15 11:01:16,907 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:01:16,907 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:16,907 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:16 +08:00

2018-05-15 11:01:16,907 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:01:16 +08:00

2018-05-15 11:01:16,907 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 11:01:16,907 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:16,907 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:01:16,907 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:01:16 +08:00

2018-05-15 11:01:16,908 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:01:16,908 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:16,908 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:16 +08:00

2018-05-15 11:01:16,909 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:01:16 +08:00

2018-05-15 11:01:16,909 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-15 11:01:16,909 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:16,909 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:01:16 +08:00

2018-05-15 11:01:16,909 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:01:16,909 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:16,909 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:16 +08:00

2018-05-15 11:01:16,909 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:01:16 +08:00

2018-05-15 11:01:16,910 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-15 11:01:16,910 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:16,910 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:01:16 +08:00

2018-05-15 11:01:16,910 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:01:16,910 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:16,910 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:16 +08:00

2018-05-15 11:01:16,910 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:01:16 +08:00

2018-05-15 11:01:16,911 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1) AND ([Extent1].[CreateTime] >= @p__linq__2) AND ([Extent1].[CreateTime] <= @p__linq__3)
    )  AS [GroupBy1]
2018-05-15 11:01:16,911 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:16,911 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 11:01:16,911 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '1' (Type = Int64)

2018-05-15 11:01:16,911 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2018/5/7 0:00:00' (Type = DateTime2)

2018-05-15 11:01:16,911 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '2018/5/8 0:00:00' (Type = DateTime2)

2018-05-15 11:01:16,911 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:01:16 +08:00

2018-05-15 11:01:16,911 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:01:16,911 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:16,911 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:16 +08:00

2018-05-15 11:01:16,912 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:01:16 +08:00

2018-05-15 11:01:16,912 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-15 11:01:16,912 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:16,912 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:01:16 +08:00

2018-05-15 11:01:16,912 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:01:16,912 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:16,913 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:16 +08:00

2018-05-15 11:01:16,913 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:01:16 +08:00

2018-05-15 11:01:16,913 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1) AND ([Extent1].[CreateTime] >= @p__linq__2) AND ([Extent1].[CreateTime] <= @p__linq__3) AND ([Extent1].[ToIntegralTypeId] = @p__linq__4) AND ([Extent1].[PlatformUserId] = @p__linq__5)
    )  AS [GroupBy1]
2018-05-15 11:01:16,913 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:16,913 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 11:01:16,913 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '1' (Type = Int64)

2018-05-15 11:01:16,913 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2018/5/7 0:00:00' (Type = DateTime2)

2018-05-15 11:01:16,913 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '2018/5/8 0:00:00' (Type = DateTime2)

2018-05-15 11:01:16,913 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__4: '2' (Type = Int64, IsNullable = false)

2018-05-15 11:01:16,913 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__5: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:01:16,913 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:01:16 +08:00

2018-05-15 11:01:16,914 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:01:16,914 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:16,914 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:16 +08:00

2018-05-15 11:01:16,914 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:01:16 +08:00

2018-05-15 11:01:16,915 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1) AND ([Extent1].[CreateTime] >= @p__linq__2) AND ([Extent1].[CreateTime] <= @p__linq__3) AND ([Extent1].[ToIntegralTypeId] = @p__linq__4) AND ([Extent1].[PlatformUserId] = @p__linq__5)
    )  AS [GroupBy1]
2018-05-15 11:01:16,915 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:16,915 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 11:01:16,915 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '1' (Type = Int64)

2018-05-15 11:01:16,915 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2018/5/7 0:00:00' (Type = DateTime2)

2018-05-15 11:01:16,915 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '2018/5/8 0:00:00' (Type = DateTime2)

2018-05-15 11:01:16,915 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__4: '3' (Type = Int64, IsNullable = false)

2018-05-15 11:01:16,915 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__5: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:01:16,915 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:01:16 +08:00

2018-05-15 11:01:16,915 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:01:16,915 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:16,915 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:16 +08:00

2018-05-15 11:01:16,915 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:01:16 +08:00

2018-05-15 11:01:16,916 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1) AND ([Extent1].[CreateTime] >= @p__linq__2) AND ([Extent1].[CreateTime] <= @p__linq__3)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-15 11:01:16,916 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:16,916 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 11:01:16,916 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '1' (Type = Int64)

2018-05-15 11:01:16,916 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2018/5/7 0:00:00' (Type = DateTime2)

2018-05-15 11:01:16,916 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '2018/5/8 0:00:00' (Type = DateTime2)

2018-05-15 11:01:16,916 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:01:16 +08:00

2018-05-15 11:01:16,916 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:01:16,916 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:16,917 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:16 +08:00

2018-05-15 11:01:16,917 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:01:16 +08:00

2018-05-15 11:01:16,917 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Name] IN (N'平台发放',N'平台扣除',N'积分增加'))
2018-05-15 11:01:16,917 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:16,917 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:01:16 +08:00

2018-05-15 11:01:16,918 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:01:16,918 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:16,918 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:16 +08:00

2018-05-15 11:01:35,187 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:01:35 +08:00

2018-05-15 11:01:35,188 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-05-15 11:01:35,188 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:35,188 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'PlatformUser201805051709360001' (Type = String, Size = 4000)

2018-05-15 11:01:35,188 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:01:35 +08:00

2018-05-15 11:01:35,188 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:01:35,188 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:35,189 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:35 +08:00

2018-05-15 11:01:35,189 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:01:35 +08:00

2018-05-15 11:01:35,189 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 11:01:35,189 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:35,189 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:01:35,189 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:01:35 +08:00

2018-05-15 11:01:35,189 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:01:35,189 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:35,189 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:35 +08:00

2018-05-15 11:01:35,190 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:01:35 +08:00

2018-05-15 11:01:35,190 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-15 11:01:35,190 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:35,190 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:01:35 +08:00

2018-05-15 11:01:35,190 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:01:35,190 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:35,190 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:35 +08:00

2018-05-15 11:01:35,191 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:01:35 +08:00

2018-05-15 11:01:35,191 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-15 11:01:35,191 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:35,191 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:01:35 +08:00

2018-05-15 11:01:35,191 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:01:35,191 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:35,191 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:35 +08:00

2018-05-15 11:01:35,191 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:01:35 +08:00

2018-05-15 11:01:35,192 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1) AND ([Extent1].[CreateTime] >= @p__linq__2) AND ([Extent1].[CreateTime] <= @p__linq__3)
    )  AS [GroupBy1]
2018-05-15 11:01:35,192 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:35,192 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 11:01:35,192 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '1' (Type = Int64)

2018-05-15 11:01:35,192 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2018/5/8 0:00:00' (Type = DateTime2)

2018-05-15 11:01:35,192 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '2018/5/9 0:00:00' (Type = DateTime2)

2018-05-15 11:01:35,192 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:01:35 +08:00

2018-05-15 11:01:35,193 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:01:35,193 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:35,193 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:35 +08:00

2018-05-15 11:01:35,193 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:01:35 +08:00

2018-05-15 11:01:35,193 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-15 11:01:35,193 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:35,193 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:01:35 +08:00

2018-05-15 11:01:35,194 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:01:35,194 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:35,194 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:35 +08:00

2018-05-15 11:01:35,194 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:01:35 +08:00

2018-05-15 11:01:35,194 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1) AND ([Extent1].[CreateTime] >= @p__linq__2) AND ([Extent1].[CreateTime] <= @p__linq__3) AND ([Extent1].[ToIntegralTypeId] = @p__linq__4) AND ([Extent1].[PlatformUserId] = @p__linq__5)
    )  AS [GroupBy1]
2018-05-15 11:01:35,194 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:35,195 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 11:01:35,195 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '1' (Type = Int64)

2018-05-15 11:01:35,195 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2018/5/8 0:00:00' (Type = DateTime2)

2018-05-15 11:01:35,195 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '2018/5/9 0:00:00' (Type = DateTime2)

2018-05-15 11:01:35,195 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__4: '2' (Type = Int64, IsNullable = false)

2018-05-15 11:01:35,195 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__5: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:01:35,195 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:01:35 +08:00

2018-05-15 11:01:35,195 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:01:35,195 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:35,195 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:35 +08:00

2018-05-15 11:01:35,195 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:01:35 +08:00

2018-05-15 11:01:35,196 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1) AND ([Extent1].[CreateTime] >= @p__linq__2) AND ([Extent1].[CreateTime] <= @p__linq__3) AND ([Extent1].[ToIntegralTypeId] = @p__linq__4) AND ([Extent1].[PlatformUserId] = @p__linq__5)
    )  AS [GroupBy1]
2018-05-15 11:01:35,196 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:35,196 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 11:01:35,196 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '1' (Type = Int64)

2018-05-15 11:01:35,196 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2018/5/8 0:00:00' (Type = DateTime2)

2018-05-15 11:01:35,196 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '2018/5/9 0:00:00' (Type = DateTime2)

2018-05-15 11:01:35,196 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__4: '3' (Type = Int64, IsNullable = false)

2018-05-15 11:01:35,196 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__5: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:01:35,196 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:01:35 +08:00

2018-05-15 11:01:35,196 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:01:35,196 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:35,196 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:35 +08:00

2018-05-15 11:01:35,197 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:01:35 +08:00

2018-05-15 11:01:35,197 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1) AND ([Extent1].[CreateTime] >= @p__linq__2) AND ([Extent1].[CreateTime] <= @p__linq__3)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-15 11:01:35,197 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:35,197 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 11:01:35,197 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '1' (Type = Int64)

2018-05-15 11:01:35,197 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2018/5/8 0:00:00' (Type = DateTime2)

2018-05-15 11:01:35,197 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '2018/5/9 0:00:00' (Type = DateTime2)

2018-05-15 11:01:35,197 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:01:35 +08:00

2018-05-15 11:01:35,197 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:01:35,198 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:35,198 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:35 +08:00

2018-05-15 11:01:35,198 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:01:35 +08:00

2018-05-15 11:01:35,198 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 11:01:35,198 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:35,198 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:01:35,198 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:01:35 +08:00

2018-05-15 11:01:35,198 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:01:35,198 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:35,198 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:35 +08:00

2018-05-15 11:01:35,199 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:01:35 +08:00

2018-05-15 11:01:35,199 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 11:01:35,199 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:35,199 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-15 11:01:35,199 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:01:35 +08:00

2018-05-15 11:01:35,199 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:01:35,199 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:35,199 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:35 +08:00

2018-05-15 11:01:35,199 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:01:35 +08:00

2018-05-15 11:01:35,199 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 11:01:35,199 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:35,199 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:01:35,199 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:01:35 +08:00

2018-05-15 11:01:35,199 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:01:35,199 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:35,200 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:35 +08:00

2018-05-15 11:01:35,200 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:01:35 +08:00

2018-05-15 11:01:35,200 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Name] IN (N'平台发放',N'平台扣除',N'积分增加'))
2018-05-15 11:01:35,200 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:35,200 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:01:35 +08:00

2018-05-15 11:01:35,200 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:01:35,200 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:35,201 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:35 +08:00

2018-05-15 11:01:40,801 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:01:40 +08:00

2018-05-15 11:01:40,801 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-05-15 11:01:40,802 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:40,802 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'PlatformUser201805051709360001' (Type = String, Size = 4000)

2018-05-15 11:01:40,802 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:01:40 +08:00

2018-05-15 11:01:40,802 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:01:40,802 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:40,803 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:40 +08:00

2018-05-15 11:01:40,803 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:01:40 +08:00

2018-05-15 11:01:40,803 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 11:01:40,803 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:40,803 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:01:40,803 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:01:40 +08:00

2018-05-15 11:01:40,803 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:01:40,803 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:40,803 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:40 +08:00

2018-05-15 11:01:40,804 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:01:40 +08:00

2018-05-15 11:01:40,804 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-15 11:01:40,804 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:40,804 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:01:40 +08:00

2018-05-15 11:01:40,804 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:01:40,804 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:40,805 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:40 +08:00

2018-05-15 11:01:40,805 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:01:40 +08:00

2018-05-15 11:01:40,805 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-15 11:01:40,805 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:40,805 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:01:40 +08:00

2018-05-15 11:01:40,805 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:01:40,805 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:40,805 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:40 +08:00

2018-05-15 11:01:40,805 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:01:40 +08:00

2018-05-15 11:01:40,806 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1) AND ([Extent1].[CreateTime] >= @p__linq__2) AND ([Extent1].[CreateTime] <= @p__linq__3)
    )  AS [GroupBy1]
2018-05-15 11:01:40,806 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:40,806 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 11:01:40,806 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '1' (Type = Int64)

2018-05-15 11:01:40,806 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2018/5/8 0:00:00' (Type = DateTime2)

2018-05-15 11:01:40,806 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '2018/5/9 0:00:00' (Type = DateTime2)

2018-05-15 11:01:40,806 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:01:40 +08:00

2018-05-15 11:01:40,806 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:01:40,806 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:40,806 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:40 +08:00

2018-05-15 11:01:40,807 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:01:40 +08:00

2018-05-15 11:01:40,807 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-15 11:01:40,807 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:40,807 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:01:40 +08:00

2018-05-15 11:01:40,807 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:01:40,807 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:40,807 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:40 +08:00

2018-05-15 11:01:40,808 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:01:40 +08:00

2018-05-15 11:01:40,808 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1) AND ([Extent1].[CreateTime] >= @p__linq__2) AND ([Extent1].[CreateTime] <= @p__linq__3) AND ([Extent1].[ToIntegralTypeId] = @p__linq__4) AND ([Extent1].[PlatformUserId] = @p__linq__5)
    )  AS [GroupBy1]
2018-05-15 11:01:40,808 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:40,808 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 11:01:40,808 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '1' (Type = Int64)

2018-05-15 11:01:40,808 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2018/5/8 0:00:00' (Type = DateTime2)

2018-05-15 11:01:40,808 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '2018/5/9 0:00:00' (Type = DateTime2)

2018-05-15 11:01:40,808 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__4: '2' (Type = Int64, IsNullable = false)

2018-05-15 11:01:40,808 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__5: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:01:40,808 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:01:40 +08:00

2018-05-15 11:01:40,809 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:01:40,809 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:40,809 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:40 +08:00

2018-05-15 11:01:40,809 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:01:40 +08:00

2018-05-15 11:01:40,810 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1) AND ([Extent1].[CreateTime] >= @p__linq__2) AND ([Extent1].[CreateTime] <= @p__linq__3) AND ([Extent1].[ToIntegralTypeId] = @p__linq__4) AND ([Extent1].[PlatformUserId] = @p__linq__5)
    )  AS [GroupBy1]
2018-05-15 11:01:40,810 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:40,810 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 11:01:40,810 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '1' (Type = Int64)

2018-05-15 11:01:40,810 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2018/5/8 0:00:00' (Type = DateTime2)

2018-05-15 11:01:40,810 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '2018/5/9 0:00:00' (Type = DateTime2)

2018-05-15 11:01:40,810 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__4: '3' (Type = Int64, IsNullable = false)

2018-05-15 11:01:40,810 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__5: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:01:40,810 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:01:40 +08:00

2018-05-15 11:01:40,810 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:01:40,810 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:40,810 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:40 +08:00

2018-05-15 11:01:40,810 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:01:40 +08:00

2018-05-15 11:01:40,813 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1) AND ([Extent1].[CreateTime] >= @p__linq__2) AND ([Extent1].[CreateTime] <= @p__linq__3)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 1
    ORDER BY [Project1].[CreateTime] DESC
2018-05-15 11:01:40,813 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:40,813 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 11:01:40,813 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '1' (Type = Int64)

2018-05-15 11:01:40,813 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2018/5/8 0:00:00' (Type = DateTime2)

2018-05-15 11:01:40,813 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '2018/5/9 0:00:00' (Type = DateTime2)

2018-05-15 11:01:40,813 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:01:40 +08:00

2018-05-15 11:01:40,816 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2018-05-15 11:01:40,816 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:40,816 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:40 +08:00

2018-05-15 11:01:40,816 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:01:40 +08:00

2018-05-15 11:01:40,816 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 11:01:40,816 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:40,817 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:01:40,817 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:01:40 +08:00

2018-05-15 11:01:40,817 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:01:40,817 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:40,817 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:40 +08:00

2018-05-15 11:01:40,817 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:01:40 +08:00

2018-05-15 11:01:40,817 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 11:01:40,817 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:40,817 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-15 11:01:40,817 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:01:40 +08:00

2018-05-15 11:01:40,817 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:01:40,817 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:40,818 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:40 +08:00

2018-05-15 11:01:40,818 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:01:40 +08:00

2018-05-15 11:01:40,818 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 11:01:40,818 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:40,818 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:01:40,818 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:01:40 +08:00

2018-05-15 11:01:40,818 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:01:40,818 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:40,818 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:40 +08:00

2018-05-15 11:01:40,835 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:01:40 +08:00

2018-05-15 11:01:40,835 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Name] IN (N'平台发放',N'平台扣除',N'积分增加'))
2018-05-15 11:01:40,835 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:40,835 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:01:40 +08:00

2018-05-15 11:01:40,836 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:01:40,836 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:40,836 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:40 +08:00

2018-05-15 11:01:42,078 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:01:42 +08:00

2018-05-15 11:01:42,078 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-05-15 11:01:42,078 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:42,078 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'PlatformUser201805051709360001' (Type = String, Size = 4000)

2018-05-15 11:01:42,078 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:01:42 +08:00

2018-05-15 11:01:42,079 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:01:42,079 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:42,079 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:42 +08:00

2018-05-15 11:01:42,080 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:01:42 +08:00

2018-05-15 11:01:42,080 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 11:01:42,080 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:42,080 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:01:42,080 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:01:42 +08:00

2018-05-15 11:01:42,080 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:01:42,080 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:42,080 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:42 +08:00

2018-05-15 11:01:42,081 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:01:42 +08:00

2018-05-15 11:01:42,081 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-15 11:01:42,081 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:42,081 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:01:42 +08:00

2018-05-15 11:01:42,081 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:01:42,081 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:42,081 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:42 +08:00

2018-05-15 11:01:42,082 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:01:42 +08:00

2018-05-15 11:01:42,082 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-15 11:01:42,082 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:42,082 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:01:42 +08:00

2018-05-15 11:01:42,082 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:01:42,082 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:42,082 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:42 +08:00

2018-05-15 11:01:42,082 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:01:42 +08:00

2018-05-15 11:01:42,083 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1) AND ([Extent1].[CreateTime] >= @p__linq__2) AND ([Extent1].[CreateTime] <= @p__linq__3)
    )  AS [GroupBy1]
2018-05-15 11:01:42,083 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:42,083 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 11:01:42,083 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '1' (Type = Int64)

2018-05-15 11:01:42,083 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2018/5/8 0:00:00' (Type = DateTime2)

2018-05-15 11:01:42,083 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '2018/5/9 0:00:00' (Type = DateTime2)

2018-05-15 11:01:42,083 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:01:42 +08:00

2018-05-15 11:01:42,083 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:01:42,083 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:42,083 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:42 +08:00

2018-05-15 11:01:42,084 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:01:42 +08:00

2018-05-15 11:01:42,084 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-15 11:01:42,084 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:42,084 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:01:42 +08:00

2018-05-15 11:01:42,084 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:01:42,084 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:42,084 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:42 +08:00

2018-05-15 11:01:42,085 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:01:42 +08:00

2018-05-15 11:01:42,085 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1) AND ([Extent1].[CreateTime] >= @p__linq__2) AND ([Extent1].[CreateTime] <= @p__linq__3) AND ([Extent1].[ToIntegralTypeId] = @p__linq__4) AND ([Extent1].[PlatformUserId] = @p__linq__5)
    )  AS [GroupBy1]
2018-05-15 11:01:42,085 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:42,085 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 11:01:42,085 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '1' (Type = Int64)

2018-05-15 11:01:42,085 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2018/5/8 0:00:00' (Type = DateTime2)

2018-05-15 11:01:42,085 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '2018/5/9 0:00:00' (Type = DateTime2)

2018-05-15 11:01:42,085 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__4: '2' (Type = Int64, IsNullable = false)

2018-05-15 11:01:42,085 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__5: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:01:42,085 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:01:42 +08:00

2018-05-15 11:01:42,086 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:01:42,086 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:42,086 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:42 +08:00

2018-05-15 11:01:42,086 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:01:42 +08:00

2018-05-15 11:01:42,086 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1) AND ([Extent1].[CreateTime] >= @p__linq__2) AND ([Extent1].[CreateTime] <= @p__linq__3) AND ([Extent1].[ToIntegralTypeId] = @p__linq__4) AND ([Extent1].[PlatformUserId] = @p__linq__5)
    )  AS [GroupBy1]
2018-05-15 11:01:42,086 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:42,086 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 11:01:42,086 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '1' (Type = Int64)

2018-05-15 11:01:42,086 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2018/5/8 0:00:00' (Type = DateTime2)

2018-05-15 11:01:42,086 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '2018/5/9 0:00:00' (Type = DateTime2)

2018-05-15 11:01:42,087 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__4: '3' (Type = Int64, IsNullable = false)

2018-05-15 11:01:42,087 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__5: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:01:42,087 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:01:42 +08:00

2018-05-15 11:01:42,087 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:01:42,087 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:42,087 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:42 +08:00

2018-05-15 11:01:42,087 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:01:42 +08:00

2018-05-15 11:01:42,089 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1) AND ([Extent1].[CreateTime] >= @p__linq__2) AND ([Extent1].[CreateTime] <= @p__linq__3)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 2
    ORDER BY [Project1].[CreateTime] DESC
2018-05-15 11:01:42,089 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:42,089 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 11:01:42,089 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '1' (Type = Int64)

2018-05-15 11:01:42,089 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2018/5/8 0:00:00' (Type = DateTime2)

2018-05-15 11:01:42,089 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '2018/5/9 0:00:00' (Type = DateTime2)

2018-05-15 11:01:42,089 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:01:42 +08:00

2018-05-15 11:01:42,092 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2018-05-15 11:01:42,093 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:42,093 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:42 +08:00

2018-05-15 11:01:42,093 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:01:42 +08:00

2018-05-15 11:01:42,093 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 11:01:42,093 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:42,093 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:01:42,093 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:01:42 +08:00

2018-05-15 11:01:42,094 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:01:42,094 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:42,094 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:42 +08:00

2018-05-15 11:01:42,094 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:01:42 +08:00

2018-05-15 11:01:42,094 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 11:01:42,094 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:42,094 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-15 11:01:42,094 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:01:42 +08:00

2018-05-15 11:01:42,094 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:01:42,094 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:42,094 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:42 +08:00

2018-05-15 11:01:42,094 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:01:42 +08:00

2018-05-15 11:01:42,094 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 11:01:42,094 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:42,094 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:01:42,095 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:01:42 +08:00

2018-05-15 11:01:42,095 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:01:42,095 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:42,095 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:42 +08:00

2018-05-15 11:01:42,095 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:01:42 +08:00

2018-05-15 11:01:42,095 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Name] IN (N'平台发放',N'平台扣除',N'积分增加'))
2018-05-15 11:01:42,096 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:42,096 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:01:42 +08:00

2018-05-15 11:01:42,096 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:01:42,096 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:42,096 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:42 +08:00

2018-05-15 11:01:52,516 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:01:52 +08:00

2018-05-15 11:01:52,516 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-05-15 11:01:52,516 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:52,516 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'PlatformUser201805051709360001' (Type = String, Size = 4000)

2018-05-15 11:01:52,516 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:01:52 +08:00

2018-05-15 11:01:52,517 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:01:52,517 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:52,518 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:52 +08:00

2018-05-15 11:01:52,518 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:01:52 +08:00

2018-05-15 11:01:52,518 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 11:01:52,518 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:52,519 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:01:52,519 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:01:52 +08:00

2018-05-15 11:01:52,520 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:01:52,520 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:52,520 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:52 +08:00

2018-05-15 11:01:52,521 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:01:52 +08:00

2018-05-15 11:01:52,521 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-15 11:01:52,521 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:52,521 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:01:52 +08:00

2018-05-15 11:01:52,522 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:01:52,522 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:52,522 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:52 +08:00

2018-05-15 11:01:52,522 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:01:52 +08:00

2018-05-15 11:01:52,523 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-15 11:01:52,523 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:52,523 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:01:52 +08:00

2018-05-15 11:01:52,523 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:01:52,523 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:52,523 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:52 +08:00

2018-05-15 11:01:52,523 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:01:52 +08:00

2018-05-15 11:01:52,524 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1) AND ([Extent1].[CreateTime] >= @p__linq__2) AND ([Extent1].[CreateTime] <= @p__linq__3)
    )  AS [GroupBy1]
2018-05-15 11:01:52,524 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:52,524 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 11:01:52,524 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '1' (Type = Int64)

2018-05-15 11:01:52,524 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2018/5/8 0:00:00' (Type = DateTime2)

2018-05-15 11:01:52,524 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '2018/5/9 0:00:00' (Type = DateTime2)

2018-05-15 11:01:52,524 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:01:52 +08:00

2018-05-15 11:01:52,525 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:01:52,525 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:52,525 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:52 +08:00

2018-05-15 11:01:52,525 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:01:52 +08:00

2018-05-15 11:01:52,526 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-15 11:01:52,526 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:52,526 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:01:52 +08:00

2018-05-15 11:01:52,526 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:01:52,526 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:52,527 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:52 +08:00

2018-05-15 11:01:52,527 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:01:52 +08:00

2018-05-15 11:01:52,527 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1) AND ([Extent1].[CreateTime] >= @p__linq__2) AND ([Extent1].[CreateTime] <= @p__linq__3) AND ([Extent1].[ToIntegralTypeId] = @p__linq__4) AND ([Extent1].[PlatformUserId] = @p__linq__5)
    )  AS [GroupBy1]
2018-05-15 11:01:52,528 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:52,528 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 11:01:52,528 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '1' (Type = Int64)

2018-05-15 11:01:52,528 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2018/5/8 0:00:00' (Type = DateTime2)

2018-05-15 11:01:52,528 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '2018/5/9 0:00:00' (Type = DateTime2)

2018-05-15 11:01:52,528 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__4: '2' (Type = Int64, IsNullable = false)

2018-05-15 11:01:52,528 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__5: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:01:52,528 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:01:52 +08:00

2018-05-15 11:01:52,528 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:01:52,528 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:52,528 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:52 +08:00

2018-05-15 11:01:52,528 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:01:52 +08:00

2018-05-15 11:01:52,529 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1) AND ([Extent1].[CreateTime] >= @p__linq__2) AND ([Extent1].[CreateTime] <= @p__linq__3) AND ([Extent1].[ToIntegralTypeId] = @p__linq__4) AND ([Extent1].[PlatformUserId] = @p__linq__5)
    )  AS [GroupBy1]
2018-05-15 11:01:52,529 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:52,529 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 11:01:52,529 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '1' (Type = Int64)

2018-05-15 11:01:52,529 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2018/5/8 0:00:00' (Type = DateTime2)

2018-05-15 11:01:52,529 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '2018/5/9 0:00:00' (Type = DateTime2)

2018-05-15 11:01:52,529 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__4: '3' (Type = Int64, IsNullable = false)

2018-05-15 11:01:52,529 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__5: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:01:52,529 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:01:52 +08:00

2018-05-15 11:01:52,529 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:01:52,529 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:52,530 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:52 +08:00

2018-05-15 11:01:52,530 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:01:52 +08:00

2018-05-15 11:01:52,530 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1) AND ([Extent1].[CreateTime] >= @p__linq__2) AND ([Extent1].[CreateTime] <= @p__linq__3)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 1
    ORDER BY [Project1].[CreateTime] DESC
2018-05-15 11:01:52,530 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:52,530 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 11:01:52,530 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '1' (Type = Int64)

2018-05-15 11:01:52,530 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2018/5/8 0:00:00' (Type = DateTime2)

2018-05-15 11:01:52,530 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '2018/5/9 0:00:00' (Type = DateTime2)

2018-05-15 11:01:52,530 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:01:52 +08:00

2018-05-15 11:01:52,531 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:01:52,531 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:52,531 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:52 +08:00

2018-05-15 11:01:52,531 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:01:52 +08:00

2018-05-15 11:01:52,531 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 11:01:52,531 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:52,531 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:01:52,531 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:01:52 +08:00

2018-05-15 11:01:52,531 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:01:52,531 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:52,532 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:52 +08:00

2018-05-15 11:01:52,532 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:01:52 +08:00

2018-05-15 11:01:52,532 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 11:01:52,532 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:52,532 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-15 11:01:52,532 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:01:52 +08:00

2018-05-15 11:01:52,532 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:01:52,532 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:52,532 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:52 +08:00

2018-05-15 11:01:52,532 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:01:52 +08:00

2018-05-15 11:01:52,532 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 11:01:52,532 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:52,532 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:01:52,532 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:01:52 +08:00

2018-05-15 11:01:52,533 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:01:52,533 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:52,533 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:52 +08:00

2018-05-15 11:01:52,533 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:01:52 +08:00

2018-05-15 11:01:52,533 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Name] IN (N'平台发放',N'平台扣除',N'积分增加'))
2018-05-15 11:01:52,533 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:52,533 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:01:52 +08:00

2018-05-15 11:01:52,533 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:01:52,534 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:52,534 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:52 +08:00

2018-05-15 11:01:53,462 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:01:53 +08:00

2018-05-15 11:01:53,463 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-05-15 11:01:53,463 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:53,463 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'PlatformUser201805051709360001' (Type = String, Size = 4000)

2018-05-15 11:01:53,463 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:01:53 +08:00

2018-05-15 11:01:53,463 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:01:53,463 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:53,464 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:53 +08:00

2018-05-15 11:01:53,464 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:01:53 +08:00

2018-05-15 11:01:53,464 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 11:01:53,464 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:53,464 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:01:53,464 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:01:53 +08:00

2018-05-15 11:01:53,464 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:01:53,464 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:53,464 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:53 +08:00

2018-05-15 11:01:53,465 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:01:53 +08:00

2018-05-15 11:01:53,465 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-15 11:01:53,465 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:53,465 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:01:53 +08:00

2018-05-15 11:01:53,465 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:01:53,465 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:53,466 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:53 +08:00

2018-05-15 11:01:53,466 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:01:53 +08:00

2018-05-15 11:01:53,466 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-15 11:01:53,466 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:53,466 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:01:53 +08:00

2018-05-15 11:01:53,466 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:01:53,466 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:53,466 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:53 +08:00

2018-05-15 11:01:53,466 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:01:53 +08:00

2018-05-15 11:01:53,467 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1) AND ([Extent1].[CreateTime] >= @p__linq__2) AND ([Extent1].[CreateTime] <= @p__linq__3)
    )  AS [GroupBy1]
2018-05-15 11:01:53,467 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:53,467 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 11:01:53,467 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '1' (Type = Int64)

2018-05-15 11:01:53,467 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2018/5/8 0:00:00' (Type = DateTime2)

2018-05-15 11:01:53,467 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '2018/5/9 0:00:00' (Type = DateTime2)

2018-05-15 11:01:53,467 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:01:53 +08:00

2018-05-15 11:01:53,467 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:01:53,467 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:53,467 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:53 +08:00

2018-05-15 11:01:53,468 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:01:53 +08:00

2018-05-15 11:01:53,468 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-15 11:01:53,468 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:53,468 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:01:53 +08:00

2018-05-15 11:01:53,468 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:01:53,468 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:53,468 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:53 +08:00

2018-05-15 11:01:53,469 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:01:53 +08:00

2018-05-15 11:01:53,469 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1) AND ([Extent1].[CreateTime] >= @p__linq__2) AND ([Extent1].[CreateTime] <= @p__linq__3) AND ([Extent1].[ToIntegralTypeId] = @p__linq__4) AND ([Extent1].[PlatformUserId] = @p__linq__5)
    )  AS [GroupBy1]
2018-05-15 11:01:53,469 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:53,469 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 11:01:53,469 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '1' (Type = Int64)

2018-05-15 11:01:53,469 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2018/5/8 0:00:00' (Type = DateTime2)

2018-05-15 11:01:53,469 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '2018/5/9 0:00:00' (Type = DateTime2)

2018-05-15 11:01:53,469 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__4: '2' (Type = Int64, IsNullable = false)

2018-05-15 11:01:53,469 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__5: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:01:53,469 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:01:53 +08:00

2018-05-15 11:01:53,470 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:01:53,470 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:53,470 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:53 +08:00

2018-05-15 11:01:53,470 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:01:53 +08:00

2018-05-15 11:01:53,470 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1) AND ([Extent1].[CreateTime] >= @p__linq__2) AND ([Extent1].[CreateTime] <= @p__linq__3) AND ([Extent1].[ToIntegralTypeId] = @p__linq__4) AND ([Extent1].[PlatformUserId] = @p__linq__5)
    )  AS [GroupBy1]
2018-05-15 11:01:53,470 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:53,470 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 11:01:53,471 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '1' (Type = Int64)

2018-05-15 11:01:53,471 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2018/5/8 0:00:00' (Type = DateTime2)

2018-05-15 11:01:53,471 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '2018/5/9 0:00:00' (Type = DateTime2)

2018-05-15 11:01:53,471 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__4: '3' (Type = Int64, IsNullable = false)

2018-05-15 11:01:53,471 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__5: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:01:53,471 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:01:53 +08:00

2018-05-15 11:01:53,471 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:01:53,471 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:53,471 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:53 +08:00

2018-05-15 11:01:53,471 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:01:53 +08:00

2018-05-15 11:01:53,472 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1) AND ([Extent1].[CreateTime] >= @p__linq__2) AND ([Extent1].[CreateTime] <= @p__linq__3)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-15 11:01:53,472 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:53,472 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 11:01:53,472 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '1' (Type = Int64)

2018-05-15 11:01:53,472 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2018/5/8 0:00:00' (Type = DateTime2)

2018-05-15 11:01:53,472 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '2018/5/9 0:00:00' (Type = DateTime2)

2018-05-15 11:01:53,472 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:01:53 +08:00

2018-05-15 11:01:53,472 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:01:53,472 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:53,472 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:53 +08:00

2018-05-15 11:01:53,473 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:01:53 +08:00

2018-05-15 11:01:53,473 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 11:01:53,473 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:53,473 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:01:53,473 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:01:53 +08:00

2018-05-15 11:01:53,473 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:01:53,473 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:53,473 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:53 +08:00

2018-05-15 11:01:53,473 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:01:53 +08:00

2018-05-15 11:01:53,473 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 11:01:53,473 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:53,473 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-15 11:01:53,473 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:01:53 +08:00

2018-05-15 11:01:53,474 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:01:53,474 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:53,474 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:53 +08:00

2018-05-15 11:01:53,474 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:01:53 +08:00

2018-05-15 11:01:53,474 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 11:01:53,474 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:53,474 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:01:53,474 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:01:53 +08:00

2018-05-15 11:01:53,474 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:01:53,474 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:53,474 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:53 +08:00

2018-05-15 11:01:53,475 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:01:53 +08:00

2018-05-15 11:01:53,475 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Name] IN (N'平台发放',N'平台扣除',N'积分增加'))
2018-05-15 11:01:53,475 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:53,475 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:01:53 +08:00

2018-05-15 11:01:53,475 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:01:53,475 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:53,475 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:53 +08:00

2018-05-15 11:01:54,349 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:01:54 +08:00

2018-05-15 11:01:54,349 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-05-15 11:01:54,349 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:54,349 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'PlatformUser201805051709360001' (Type = String, Size = 4000)

2018-05-15 11:01:54,349 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:01:54 +08:00

2018-05-15 11:01:54,350 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:01:54,350 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:54,350 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:54 +08:00

2018-05-15 11:01:54,350 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:01:54 +08:00

2018-05-15 11:01:54,350 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 11:01:54,350 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:54,350 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:01:54,350 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:01:54 +08:00

2018-05-15 11:01:54,350 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:01:54,350 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:54,351 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:54 +08:00

2018-05-15 11:01:54,351 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:01:54 +08:00

2018-05-15 11:01:54,351 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-15 11:01:54,351 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:54,351 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:01:54 +08:00

2018-05-15 11:01:54,352 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:01:54,352 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:54,352 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:54 +08:00

2018-05-15 11:01:54,352 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:01:54 +08:00

2018-05-15 11:01:54,352 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-15 11:01:54,352 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:54,352 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:01:54 +08:00

2018-05-15 11:01:54,352 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:01:54,352 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:54,352 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:54 +08:00

2018-05-15 11:01:54,353 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:01:54 +08:00

2018-05-15 11:01:54,353 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1) AND ([Extent1].[CreateTime] >= @p__linq__2) AND ([Extent1].[CreateTime] <= @p__linq__3)
    )  AS [GroupBy1]
2018-05-15 11:01:54,353 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:54,353 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 11:01:54,353 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '1' (Type = Int64)

2018-05-15 11:01:54,353 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2018/5/8 0:00:00' (Type = DateTime2)

2018-05-15 11:01:54,353 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '2018/5/9 0:00:00' (Type = DateTime2)

2018-05-15 11:01:54,353 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:01:54 +08:00

2018-05-15 11:01:54,354 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:01:54,354 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:54,354 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:54 +08:00

2018-05-15 11:01:54,354 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:01:54 +08:00

2018-05-15 11:01:54,354 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-15 11:01:54,354 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:54,354 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:01:54 +08:00

2018-05-15 11:01:54,354 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:01:54,354 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:54,355 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:54 +08:00

2018-05-15 11:01:54,355 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:01:54 +08:00

2018-05-15 11:01:54,355 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1) AND ([Extent1].[CreateTime] >= @p__linq__2) AND ([Extent1].[CreateTime] <= @p__linq__3) AND ([Extent1].[ToIntegralTypeId] = @p__linq__4) AND ([Extent1].[PlatformUserId] = @p__linq__5)
    )  AS [GroupBy1]
2018-05-15 11:01:54,355 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:54,355 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 11:01:54,355 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '1' (Type = Int64)

2018-05-15 11:01:54,355 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2018/5/8 0:00:00' (Type = DateTime2)

2018-05-15 11:01:54,355 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '2018/5/9 0:00:00' (Type = DateTime2)

2018-05-15 11:01:54,355 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__4: '2' (Type = Int64, IsNullable = false)

2018-05-15 11:01:54,355 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__5: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:01:54,356 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:01:54 +08:00

2018-05-15 11:01:54,356 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:01:54,356 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:54,356 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:54 +08:00

2018-05-15 11:01:54,356 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:01:54 +08:00

2018-05-15 11:01:54,357 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1) AND ([Extent1].[CreateTime] >= @p__linq__2) AND ([Extent1].[CreateTime] <= @p__linq__3) AND ([Extent1].[ToIntegralTypeId] = @p__linq__4) AND ([Extent1].[PlatformUserId] = @p__linq__5)
    )  AS [GroupBy1]
2018-05-15 11:01:54,357 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:54,357 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 11:01:54,357 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '1' (Type = Int64)

2018-05-15 11:01:54,357 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2018/5/8 0:00:00' (Type = DateTime2)

2018-05-15 11:01:54,357 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '2018/5/9 0:00:00' (Type = DateTime2)

2018-05-15 11:01:54,357 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__4: '3' (Type = Int64, IsNullable = false)

2018-05-15 11:01:54,357 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__5: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:01:54,357 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:01:54 +08:00

2018-05-15 11:01:54,357 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:01:54,357 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:54,357 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:54 +08:00

2018-05-15 11:01:54,358 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:01:54 +08:00

2018-05-15 11:01:54,358 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1) AND ([Extent1].[CreateTime] >= @p__linq__2) AND ([Extent1].[CreateTime] <= @p__linq__3)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 1
    ORDER BY [Project1].[CreateTime] DESC
2018-05-15 11:01:54,358 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:54,358 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 11:01:54,358 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '1' (Type = Int64)

2018-05-15 11:01:54,358 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2018/5/8 0:00:00' (Type = DateTime2)

2018-05-15 11:01:54,358 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '2018/5/9 0:00:00' (Type = DateTime2)

2018-05-15 11:01:54,358 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:01:54 +08:00

2018-05-15 11:01:54,359 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:01:54,359 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:54,359 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:54 +08:00

2018-05-15 11:01:54,359 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:01:54 +08:00

2018-05-15 11:01:54,359 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 11:01:54,359 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:54,359 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:01:54,359 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:01:54 +08:00

2018-05-15 11:01:54,360 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:01:54,360 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:54,360 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:54 +08:00

2018-05-15 11:01:54,360 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:01:54 +08:00

2018-05-15 11:01:54,360 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 11:01:54,360 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:54,360 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-15 11:01:54,360 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:01:54 +08:00

2018-05-15 11:01:54,360 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:01:54,360 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:54,360 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:54 +08:00

2018-05-15 11:01:54,360 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:01:54 +08:00

2018-05-15 11:01:54,360 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 11:01:54,360 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:54,360 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:01:54,360 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:01:54 +08:00

2018-05-15 11:01:54,361 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:01:54,361 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:54,361 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:54 +08:00

2018-05-15 11:01:54,361 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:01:54 +08:00

2018-05-15 11:01:54,361 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Name] IN (N'平台发放',N'平台扣除',N'积分增加'))
2018-05-15 11:01:54,361 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:54,361 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:01:54 +08:00

2018-05-15 11:01:54,362 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:01:54,362 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:54,362 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:54 +08:00

2018-05-15 11:01:56,032 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:01:56 +08:00

2018-05-15 11:01:56,032 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-05-15 11:01:56,032 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:56,032 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'PlatformUser201805051709360001' (Type = String, Size = 4000)

2018-05-15 11:01:56,032 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:01:56 +08:00

2018-05-15 11:01:56,033 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:01:56,033 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:56,033 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:56 +08:00

2018-05-15 11:01:56,033 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:01:56 +08:00

2018-05-15 11:01:56,033 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 11:01:56,033 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:56,033 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:01:56,033 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:01:56 +08:00

2018-05-15 11:01:56,033 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:01:56,033 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:56,033 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:56 +08:00

2018-05-15 11:01:56,034 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:01:56 +08:00

2018-05-15 11:01:56,034 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-15 11:01:56,034 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:56,034 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:01:56 +08:00

2018-05-15 11:01:56,035 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:01:56,035 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:56,035 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:56 +08:00

2018-05-15 11:01:56,035 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:01:56 +08:00

2018-05-15 11:01:56,035 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-15 11:01:56,035 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:56,035 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:01:56 +08:00

2018-05-15 11:01:56,035 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:01:56,035 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:56,035 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:56 +08:00

2018-05-15 11:01:56,036 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:01:56 +08:00

2018-05-15 11:01:56,036 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1) AND ([Extent1].[CreateTime] >= @p__linq__2) AND ([Extent1].[CreateTime] <= @p__linq__3)
    )  AS [GroupBy1]
2018-05-15 11:01:56,036 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:56,036 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 11:01:56,036 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '1' (Type = Int64)

2018-05-15 11:01:56,036 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2018/5/8 0:00:00' (Type = DateTime2)

2018-05-15 11:01:56,036 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '2018/5/9 0:00:00' (Type = DateTime2)

2018-05-15 11:01:56,036 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:01:56 +08:00

2018-05-15 11:01:56,037 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:01:56,037 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:56,037 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:56 +08:00

2018-05-15 11:01:56,037 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:01:56 +08:00

2018-05-15 11:01:56,037 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-15 11:01:56,037 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:56,037 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:01:56 +08:00

2018-05-15 11:01:56,037 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:01:56,037 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:56,038 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:56 +08:00

2018-05-15 11:01:56,038 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:01:56 +08:00

2018-05-15 11:01:56,039 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1) AND ([Extent1].[CreateTime] >= @p__linq__2) AND ([Extent1].[CreateTime] <= @p__linq__3) AND ([Extent1].[ToIntegralTypeId] = @p__linq__4) AND ([Extent1].[PlatformUserId] = @p__linq__5)
    )  AS [GroupBy1]
2018-05-15 11:01:56,039 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:56,039 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 11:01:56,039 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '1' (Type = Int64)

2018-05-15 11:01:56,039 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2018/5/8 0:00:00' (Type = DateTime2)

2018-05-15 11:01:56,039 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '2018/5/9 0:00:00' (Type = DateTime2)

2018-05-15 11:01:56,039 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__4: '2' (Type = Int64, IsNullable = false)

2018-05-15 11:01:56,039 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__5: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:01:56,039 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:01:56 +08:00

2018-05-15 11:01:56,039 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:01:56,039 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:56,039 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:56 +08:00

2018-05-15 11:01:56,040 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:01:56 +08:00

2018-05-15 11:01:56,040 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1) AND ([Extent1].[CreateTime] >= @p__linq__2) AND ([Extent1].[CreateTime] <= @p__linq__3) AND ([Extent1].[ToIntegralTypeId] = @p__linq__4) AND ([Extent1].[PlatformUserId] = @p__linq__5)
    )  AS [GroupBy1]
2018-05-15 11:01:56,040 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:56,040 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 11:01:56,040 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '1' (Type = Int64)

2018-05-15 11:01:56,040 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2018/5/8 0:00:00' (Type = DateTime2)

2018-05-15 11:01:56,040 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '2018/5/9 0:00:00' (Type = DateTime2)

2018-05-15 11:01:56,040 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__4: '3' (Type = Int64, IsNullable = false)

2018-05-15 11:01:56,040 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__5: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:01:56,040 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:01:56 +08:00

2018-05-15 11:01:56,041 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:01:56,041 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:56,041 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:56 +08:00

2018-05-15 11:01:56,041 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:01:56 +08:00

2018-05-15 11:01:56,042 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1) AND ([Extent1].[CreateTime] >= @p__linq__2) AND ([Extent1].[CreateTime] <= @p__linq__3)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 2
    ORDER BY [Project1].[CreateTime] DESC
2018-05-15 11:01:56,042 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:56,042 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 11:01:56,042 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '1' (Type = Int64)

2018-05-15 11:01:56,042 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2018/5/8 0:00:00' (Type = DateTime2)

2018-05-15 11:01:56,042 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '2018/5/9 0:00:00' (Type = DateTime2)

2018-05-15 11:01:56,042 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:01:56 +08:00

2018-05-15 11:01:56,043 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 11:01:56,043 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:56,044 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:56 +08:00

2018-05-15 11:01:56,044 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:01:56 +08:00

2018-05-15 11:01:56,044 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 11:01:56,044 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:56,044 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:01:56,044 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:01:56 +08:00

2018-05-15 11:01:56,044 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:01:56,044 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:56,045 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:56 +08:00

2018-05-15 11:01:56,045 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:01:56 +08:00

2018-05-15 11:01:56,045 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 11:01:56,045 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:56,045 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-15 11:01:56,045 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:01:56 +08:00

2018-05-15 11:01:56,045 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:01:56,045 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:56,045 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:56 +08:00

2018-05-15 11:01:56,045 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:01:56 +08:00

2018-05-15 11:01:56,045 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 11:01:56,045 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:56,045 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:01:56,046 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:01:56 +08:00

2018-05-15 11:01:56,046 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:01:56,046 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:56,046 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:56 +08:00

2018-05-15 11:01:56,046 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:01:56 +08:00

2018-05-15 11:01:56,047 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Name] IN (N'平台发放',N'平台扣除',N'积分增加'))
2018-05-15 11:01:56,047 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:56,047 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:01:56 +08:00

2018-05-15 11:01:56,047 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:01:56,047 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:56,047 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:56 +08:00

2018-05-15 11:01:56,788 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:01:56 +08:00

2018-05-15 11:01:56,789 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-05-15 11:01:56,789 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:56,789 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'PlatformUser201805051709360001' (Type = String, Size = 4000)

2018-05-15 11:01:56,789 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:01:56 +08:00

2018-05-15 11:01:56,789 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:01:56,789 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:56,789 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:56 +08:00

2018-05-15 11:01:56,790 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:01:56 +08:00

2018-05-15 11:01:56,790 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 11:01:56,790 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:56,790 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:01:56,790 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:01:56 +08:00

2018-05-15 11:01:56,790 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:01:56,790 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:56,790 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:56 +08:00

2018-05-15 11:01:56,791 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:01:56 +08:00

2018-05-15 11:01:56,791 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-15 11:01:56,791 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:56,791 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:01:56 +08:00

2018-05-15 11:01:56,791 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:01:56,791 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:56,791 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:56 +08:00

2018-05-15 11:01:56,791 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:01:56 +08:00

2018-05-15 11:01:56,792 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-15 11:01:56,792 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:56,792 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:01:56 +08:00

2018-05-15 11:01:56,792 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:01:56,792 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:56,792 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:56 +08:00

2018-05-15 11:01:56,793 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:01:56 +08:00

2018-05-15 11:01:56,793 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1) AND ([Extent1].[CreateTime] >= @p__linq__2) AND ([Extent1].[CreateTime] <= @p__linq__3)
    )  AS [GroupBy1]
2018-05-15 11:01:56,793 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:56,793 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 11:01:56,793 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '1' (Type = Int64)

2018-05-15 11:01:56,793 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2018/5/8 0:00:00' (Type = DateTime2)

2018-05-15 11:01:56,793 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '2018/5/9 0:00:00' (Type = DateTime2)

2018-05-15 11:01:56,793 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:01:56 +08:00

2018-05-15 11:01:56,793 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:01:56,794 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:56,794 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:56 +08:00

2018-05-15 11:01:56,794 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:01:56 +08:00

2018-05-15 11:01:56,794 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-15 11:01:56,794 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:56,794 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:01:56 +08:00

2018-05-15 11:01:56,794 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:01:56,794 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:56,795 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:56 +08:00

2018-05-15 11:01:56,795 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:01:56 +08:00

2018-05-15 11:01:56,795 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1) AND ([Extent1].[CreateTime] >= @p__linq__2) AND ([Extent1].[CreateTime] <= @p__linq__3) AND ([Extent1].[ToIntegralTypeId] = @p__linq__4) AND ([Extent1].[PlatformUserId] = @p__linq__5)
    )  AS [GroupBy1]
2018-05-15 11:01:56,795 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:56,795 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 11:01:56,795 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '1' (Type = Int64)

2018-05-15 11:01:56,795 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2018/5/8 0:00:00' (Type = DateTime2)

2018-05-15 11:01:56,795 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '2018/5/9 0:00:00' (Type = DateTime2)

2018-05-15 11:01:56,795 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__4: '2' (Type = Int64, IsNullable = false)

2018-05-15 11:01:56,795 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__5: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:01:56,795 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:01:56 +08:00

2018-05-15 11:01:56,796 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:01:56,796 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:56,796 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:56 +08:00

2018-05-15 11:01:56,796 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:01:56 +08:00

2018-05-15 11:01:56,797 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1) AND ([Extent1].[CreateTime] >= @p__linq__2) AND ([Extent1].[CreateTime] <= @p__linq__3) AND ([Extent1].[ToIntegralTypeId] = @p__linq__4) AND ([Extent1].[PlatformUserId] = @p__linq__5)
    )  AS [GroupBy1]
2018-05-15 11:01:56,797 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:56,797 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 11:01:56,797 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '1' (Type = Int64)

2018-05-15 11:01:56,797 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2018/5/8 0:00:00' (Type = DateTime2)

2018-05-15 11:01:56,797 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '2018/5/9 0:00:00' (Type = DateTime2)

2018-05-15 11:01:56,797 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__4: '3' (Type = Int64, IsNullable = false)

2018-05-15 11:01:56,797 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__5: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:01:56,797 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:01:56 +08:00

2018-05-15 11:01:56,797 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:01:56,797 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:56,797 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:56 +08:00

2018-05-15 11:01:56,797 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:01:56 +08:00

2018-05-15 11:01:56,798 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1) AND ([Extent1].[CreateTime] >= @p__linq__2) AND ([Extent1].[CreateTime] <= @p__linq__3)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 1
    ORDER BY [Project1].[CreateTime] DESC
2018-05-15 11:01:56,798 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:56,798 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 11:01:56,798 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '1' (Type = Int64)

2018-05-15 11:01:56,798 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2018/5/8 0:00:00' (Type = DateTime2)

2018-05-15 11:01:56,798 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '2018/5/9 0:00:00' (Type = DateTime2)

2018-05-15 11:01:56,798 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:01:56 +08:00

2018-05-15 11:01:56,798 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:01:56,798 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:56,799 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:56 +08:00

2018-05-15 11:01:56,799 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:01:56 +08:00

2018-05-15 11:01:56,799 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 11:01:56,799 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:56,799 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:01:56,799 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:01:56 +08:00

2018-05-15 11:01:56,799 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:01:56,799 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:56,799 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:56 +08:00

2018-05-15 11:01:56,799 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:01:56 +08:00

2018-05-15 11:01:56,799 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 11:01:56,799 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:56,799 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-15 11:01:56,800 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:01:56 +08:00

2018-05-15 11:01:56,800 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:01:56,800 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:56,800 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:56 +08:00

2018-05-15 11:01:56,800 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:01:56 +08:00

2018-05-15 11:01:56,800 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 11:01:56,800 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:56,800 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:01:56,800 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:01:56 +08:00

2018-05-15 11:01:56,800 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:01:56,800 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:56,801 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:56 +08:00

2018-05-15 11:01:56,801 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:01:56 +08:00

2018-05-15 11:01:56,801 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Name] IN (N'平台发放',N'平台扣除',N'积分增加'))
2018-05-15 11:01:56,801 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:56,801 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:01:56 +08:00

2018-05-15 11:01:56,801 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:01:56,801 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:56,802 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:56 +08:00

2018-05-15 11:01:57,789 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:01:57 +08:00

2018-05-15 11:01:57,789 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-05-15 11:01:57,789 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:57,789 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'PlatformUser201805051709360001' (Type = String, Size = 4000)

2018-05-15 11:01:57,789 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:01:57 +08:00

2018-05-15 11:01:57,790 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:01:57,790 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:57,790 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:57 +08:00

2018-05-15 11:01:57,790 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:01:57 +08:00

2018-05-15 11:01:57,790 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 11:01:57,790 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:57,790 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:01:57,790 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:01:57 +08:00

2018-05-15 11:01:57,791 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:01:57,791 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:57,791 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:57 +08:00

2018-05-15 11:01:57,791 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:01:57 +08:00

2018-05-15 11:01:57,791 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-15 11:01:57,792 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:57,792 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:01:57 +08:00

2018-05-15 11:01:57,792 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:01:57,792 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:57,792 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:57 +08:00

2018-05-15 11:01:57,792 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:01:57 +08:00

2018-05-15 11:01:57,792 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-15 11:01:57,792 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:57,792 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:01:57 +08:00

2018-05-15 11:01:57,793 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:01:57,793 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:57,793 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:57 +08:00

2018-05-15 11:01:57,793 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:01:57 +08:00

2018-05-15 11:01:57,794 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1) AND ([Extent1].[CreateTime] >= @p__linq__2) AND ([Extent1].[CreateTime] <= @p__linq__3)
    )  AS [GroupBy1]
2018-05-15 11:01:57,794 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:57,794 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 11:01:57,794 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '1' (Type = Int64)

2018-05-15 11:01:57,794 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2018/5/8 0:00:00' (Type = DateTime2)

2018-05-15 11:01:57,794 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '2018/5/9 0:00:00' (Type = DateTime2)

2018-05-15 11:01:57,794 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:01:57 +08:00

2018-05-15 11:01:57,794 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:01:57,794 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:57,794 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:57 +08:00

2018-05-15 11:01:57,795 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:01:57 +08:00

2018-05-15 11:01:57,795 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-15 11:01:57,795 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:57,795 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:01:57 +08:00

2018-05-15 11:01:57,795 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:01:57,795 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:57,796 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:57 +08:00

2018-05-15 11:01:57,796 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:01:57 +08:00

2018-05-15 11:01:57,796 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1) AND ([Extent1].[CreateTime] >= @p__linq__2) AND ([Extent1].[CreateTime] <= @p__linq__3) AND ([Extent1].[ToIntegralTypeId] = @p__linq__4) AND ([Extent1].[PlatformUserId] = @p__linq__5)
    )  AS [GroupBy1]
2018-05-15 11:01:57,796 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:57,796 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 11:01:57,796 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '1' (Type = Int64)

2018-05-15 11:01:57,796 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2018/5/8 0:00:00' (Type = DateTime2)

2018-05-15 11:01:57,796 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '2018/5/9 0:00:00' (Type = DateTime2)

2018-05-15 11:01:57,796 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__4: '2' (Type = Int64, IsNullable = false)

2018-05-15 11:01:57,796 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__5: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:01:57,796 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:01:57 +08:00

2018-05-15 11:01:57,797 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:01:57,797 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:57,797 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:57 +08:00

2018-05-15 11:01:57,797 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:01:57 +08:00

2018-05-15 11:01:57,798 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1) AND ([Extent1].[CreateTime] >= @p__linq__2) AND ([Extent1].[CreateTime] <= @p__linq__3) AND ([Extent1].[ToIntegralTypeId] = @p__linq__4) AND ([Extent1].[PlatformUserId] = @p__linq__5)
    )  AS [GroupBy1]
2018-05-15 11:01:57,798 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:57,798 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 11:01:57,798 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '1' (Type = Int64)

2018-05-15 11:01:57,798 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2018/5/8 0:00:00' (Type = DateTime2)

2018-05-15 11:01:57,798 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '2018/5/9 0:00:00' (Type = DateTime2)

2018-05-15 11:01:57,798 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__4: '3' (Type = Int64, IsNullable = false)

2018-05-15 11:01:57,798 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__5: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:01:57,798 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:01:57 +08:00

2018-05-15 11:01:57,798 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:01:57,798 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:57,798 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:57 +08:00

2018-05-15 11:01:57,798 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:01:57 +08:00

2018-05-15 11:01:57,799 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1) AND ([Extent1].[CreateTime] >= @p__linq__2) AND ([Extent1].[CreateTime] <= @p__linq__3)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-15 11:01:57,799 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:57,799 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 11:01:57,799 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '1' (Type = Int64)

2018-05-15 11:01:57,799 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2018/5/8 0:00:00' (Type = DateTime2)

2018-05-15 11:01:57,799 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '2018/5/9 0:00:00' (Type = DateTime2)

2018-05-15 11:01:57,799 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:01:57 +08:00

2018-05-15 11:01:57,799 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:01:57,799 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:57,800 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:57 +08:00

2018-05-15 11:01:57,800 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:01:57 +08:00

2018-05-15 11:01:57,800 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 11:01:57,800 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:57,800 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:01:57,800 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:01:57 +08:00

2018-05-15 11:01:57,800 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:01:57,800 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:57,800 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:57 +08:00

2018-05-15 11:01:57,800 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:01:57 +08:00

2018-05-15 11:01:57,800 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 11:01:57,800 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:57,800 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-15 11:01:57,801 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:01:57 +08:00

2018-05-15 11:01:57,801 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:01:57,801 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:57,801 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:57 +08:00

2018-05-15 11:01:57,801 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:01:57 +08:00

2018-05-15 11:01:57,801 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 11:01:57,801 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:57,801 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:01:57,801 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:01:57 +08:00

2018-05-15 11:01:57,801 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:01:57,801 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:57,801 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:57 +08:00

2018-05-15 11:01:57,802 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:01:57 +08:00

2018-05-15 11:01:57,802 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Name] IN (N'平台发放',N'平台扣除',N'积分增加'))
2018-05-15 11:01:57,802 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:57,802 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:01:57 +08:00

2018-05-15 11:01:57,802 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:01:57,802 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:57,803 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:57 +08:00

2018-05-15 11:01:58,790 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:01:58 +08:00

2018-05-15 11:01:58,790 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-05-15 11:01:58,790 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:58,790 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'PlatformUser201805051709360001' (Type = String, Size = 4000)

2018-05-15 11:01:58,790 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:01:58 +08:00

2018-05-15 11:01:58,790 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:01:58,791 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:58,791 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:58 +08:00

2018-05-15 11:01:58,791 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:01:58 +08:00

2018-05-15 11:01:58,791 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 11:01:58,791 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:58,791 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:01:58,791 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:01:58 +08:00

2018-05-15 11:01:58,791 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:01:58,791 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:58,792 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:58 +08:00

2018-05-15 11:01:58,792 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:01:58 +08:00

2018-05-15 11:01:58,792 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-15 11:01:58,792 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:58,792 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:01:58 +08:00

2018-05-15 11:01:58,793 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:01:58,793 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:58,793 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:58 +08:00

2018-05-15 11:01:58,793 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:01:58 +08:00

2018-05-15 11:01:58,793 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-15 11:01:58,793 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:58,793 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:01:58 +08:00

2018-05-15 11:01:58,793 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:01:58,794 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:58,794 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:58 +08:00

2018-05-15 11:01:58,794 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:01:58 +08:00

2018-05-15 11:01:58,794 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1) AND ([Extent1].[CreateTime] >= @p__linq__2) AND ([Extent1].[CreateTime] <= @p__linq__3)
    )  AS [GroupBy1]
2018-05-15 11:01:58,794 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:58,794 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 11:01:58,794 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '1' (Type = Int64)

2018-05-15 11:01:58,794 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2018/5/8 0:00:00' (Type = DateTime2)

2018-05-15 11:01:58,794 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '2018/5/9 0:00:00' (Type = DateTime2)

2018-05-15 11:01:58,794 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:01:58 +08:00

2018-05-15 11:01:58,795 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:01:58,795 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:58,795 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:58 +08:00

2018-05-15 11:01:58,795 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:01:58 +08:00

2018-05-15 11:01:58,795 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-15 11:01:58,795 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:58,795 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:01:58 +08:00

2018-05-15 11:01:58,796 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:01:58,796 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:58,796 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:58 +08:00

2018-05-15 11:01:58,796 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:01:58 +08:00

2018-05-15 11:01:58,797 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1) AND ([Extent1].[CreateTime] >= @p__linq__2) AND ([Extent1].[CreateTime] <= @p__linq__3) AND ([Extent1].[ToIntegralTypeId] = @p__linq__4) AND ([Extent1].[PlatformUserId] = @p__linq__5)
    )  AS [GroupBy1]
2018-05-15 11:01:58,797 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:58,797 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 11:01:58,797 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '1' (Type = Int64)

2018-05-15 11:01:58,797 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2018/5/8 0:00:00' (Type = DateTime2)

2018-05-15 11:01:58,797 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '2018/5/9 0:00:00' (Type = DateTime2)

2018-05-15 11:01:58,797 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__4: '2' (Type = Int64, IsNullable = false)

2018-05-15 11:01:58,797 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__5: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:01:58,797 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:01:58 +08:00

2018-05-15 11:01:58,797 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:01:58,797 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:58,797 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:58 +08:00

2018-05-15 11:01:58,798 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:01:58 +08:00

2018-05-15 11:01:58,798 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1) AND ([Extent1].[CreateTime] >= @p__linq__2) AND ([Extent1].[CreateTime] <= @p__linq__3) AND ([Extent1].[ToIntegralTypeId] = @p__linq__4) AND ([Extent1].[PlatformUserId] = @p__linq__5)
    )  AS [GroupBy1]
2018-05-15 11:01:58,798 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:58,798 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 11:01:58,798 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '1' (Type = Int64)

2018-05-15 11:01:58,798 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2018/5/8 0:00:00' (Type = DateTime2)

2018-05-15 11:01:58,798 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '2018/5/9 0:00:00' (Type = DateTime2)

2018-05-15 11:01:58,798 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__4: '3' (Type = Int64, IsNullable = false)

2018-05-15 11:01:58,798 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__5: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:01:58,798 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:01:58 +08:00

2018-05-15 11:01:58,799 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:01:58,799 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:58,799 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:58 +08:00

2018-05-15 11:01:58,799 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:01:58 +08:00

2018-05-15 11:01:58,799 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1) AND ([Extent1].[CreateTime] >= @p__linq__2) AND ([Extent1].[CreateTime] <= @p__linq__3)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 1
    ORDER BY [Project1].[CreateTime] DESC
2018-05-15 11:01:58,799 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:58,799 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 11:01:58,799 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '1' (Type = Int64)

2018-05-15 11:01:58,799 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2018/5/8 0:00:00' (Type = DateTime2)

2018-05-15 11:01:58,799 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '2018/5/9 0:00:00' (Type = DateTime2)

2018-05-15 11:01:58,799 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:01:58 +08:00

2018-05-15 11:01:58,800 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:01:58,800 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:58,800 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:58 +08:00

2018-05-15 11:01:58,800 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:01:58 +08:00

2018-05-15 11:01:58,800 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 11:01:58,800 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:58,800 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:01:58,800 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:01:58 +08:00

2018-05-15 11:01:58,801 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:01:58,801 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:58,801 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:58 +08:00

2018-05-15 11:01:58,801 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:01:58 +08:00

2018-05-15 11:01:58,801 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 11:01:58,801 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:58,801 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-15 11:01:58,801 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:01:58 +08:00

2018-05-15 11:01:58,801 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:01:58,801 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:58,801 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:58 +08:00

2018-05-15 11:01:58,802 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:01:58 +08:00

2018-05-15 11:01:58,802 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 11:01:58,802 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:58,802 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:01:58,802 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:01:58 +08:00

2018-05-15 11:01:58,802 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:01:58,802 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:58,802 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:58 +08:00

2018-05-15 11:01:58,802 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:01:58 +08:00

2018-05-15 11:01:58,803 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Name] IN (N'平台发放',N'平台扣除',N'积分增加'))
2018-05-15 11:01:58,803 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:58,803 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:01:58 +08:00

2018-05-15 11:01:58,803 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:01:58,803 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:58,803 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:58 +08:00

2018-05-15 11:01:59,941 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:01:59 +08:00

2018-05-15 11:01:59,941 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-05-15 11:01:59,941 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:59,941 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'PlatformUser201805051709360001' (Type = String, Size = 4000)

2018-05-15 11:01:59,941 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:01:59 +08:00

2018-05-15 11:01:59,942 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:01:59,942 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:59,942 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:59 +08:00

2018-05-15 11:01:59,942 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:01:59 +08:00

2018-05-15 11:01:59,942 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 11:01:59,942 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:59,942 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:01:59,942 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:01:59 +08:00

2018-05-15 11:01:59,943 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:01:59,943 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:59,943 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:59 +08:00

2018-05-15 11:01:59,943 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:01:59 +08:00

2018-05-15 11:01:59,944 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-15 11:01:59,944 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:59,944 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:01:59 +08:00

2018-05-15 11:01:59,944 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:01:59,944 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:59,944 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:59 +08:00

2018-05-15 11:01:59,944 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:01:59 +08:00

2018-05-15 11:01:59,944 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-15 11:01:59,944 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:59,944 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:01:59 +08:00

2018-05-15 11:01:59,945 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:01:59,945 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:59,945 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:59 +08:00

2018-05-15 11:01:59,945 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:01:59 +08:00

2018-05-15 11:01:59,945 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1) AND ([Extent1].[CreateTime] >= @p__linq__2) AND ([Extent1].[CreateTime] <= @p__linq__3)
    )  AS [GroupBy1]
2018-05-15 11:01:59,945 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:59,945 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 11:01:59,945 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '1' (Type = Int64)

2018-05-15 11:01:59,945 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2018/5/8 0:00:00' (Type = DateTime2)

2018-05-15 11:01:59,945 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '2018/5/9 0:00:00' (Type = DateTime2)

2018-05-15 11:01:59,945 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:01:59 +08:00

2018-05-15 11:01:59,946 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:01:59,946 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:59,946 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:59 +08:00

2018-05-15 11:01:59,946 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:01:59 +08:00

2018-05-15 11:01:59,946 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-15 11:01:59,946 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:59,946 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:01:59 +08:00

2018-05-15 11:01:59,947 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:01:59,947 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:59,947 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:59 +08:00

2018-05-15 11:01:59,947 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:01:59 +08:00

2018-05-15 11:01:59,948 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1) AND ([Extent1].[CreateTime] >= @p__linq__2) AND ([Extent1].[CreateTime] <= @p__linq__3) AND ([Extent1].[ToIntegralTypeId] = @p__linq__4) AND ([Extent1].[PlatformUserId] = @p__linq__5)
    )  AS [GroupBy1]
2018-05-15 11:01:59,948 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:59,948 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 11:01:59,948 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '1' (Type = Int64)

2018-05-15 11:01:59,948 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2018/5/8 0:00:00' (Type = DateTime2)

2018-05-15 11:01:59,948 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '2018/5/9 0:00:00' (Type = DateTime2)

2018-05-15 11:01:59,948 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__4: '2' (Type = Int64, IsNullable = false)

2018-05-15 11:01:59,948 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__5: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:01:59,948 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:01:59 +08:00

2018-05-15 11:01:59,948 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:01:59,948 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:59,948 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:59 +08:00

2018-05-15 11:01:59,949 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:01:59 +08:00

2018-05-15 11:01:59,949 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1) AND ([Extent1].[CreateTime] >= @p__linq__2) AND ([Extent1].[CreateTime] <= @p__linq__3) AND ([Extent1].[ToIntegralTypeId] = @p__linq__4) AND ([Extent1].[PlatformUserId] = @p__linq__5)
    )  AS [GroupBy1]
2018-05-15 11:01:59,949 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:59,949 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 11:01:59,949 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '1' (Type = Int64)

2018-05-15 11:01:59,949 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2018/5/8 0:00:00' (Type = DateTime2)

2018-05-15 11:01:59,949 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '2018/5/9 0:00:00' (Type = DateTime2)

2018-05-15 11:01:59,949 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__4: '3' (Type = Int64, IsNullable = false)

2018-05-15 11:01:59,949 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__5: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:01:59,949 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:01:59 +08:00

2018-05-15 11:01:59,950 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:01:59,950 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:59,950 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:59 +08:00

2018-05-15 11:01:59,950 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:01:59 +08:00

2018-05-15 11:01:59,950 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1) AND ([Extent1].[CreateTime] >= @p__linq__2) AND ([Extent1].[CreateTime] <= @p__linq__3)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 2
    ORDER BY [Project1].[CreateTime] DESC
2018-05-15 11:01:59,950 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:59,950 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 11:01:59,950 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '1' (Type = Int64)

2018-05-15 11:01:59,950 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2018/5/8 0:00:00' (Type = DateTime2)

2018-05-15 11:01:59,950 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '2018/5/9 0:00:00' (Type = DateTime2)

2018-05-15 11:01:59,950 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:01:59 +08:00

2018-05-15 11:01:59,951 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:01:59,951 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:59,951 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:59 +08:00

2018-05-15 11:01:59,951 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:01:59 +08:00

2018-05-15 11:01:59,951 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 11:01:59,951 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:59,951 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:01:59,951 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:01:59 +08:00

2018-05-15 11:01:59,952 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:01:59,952 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:59,952 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:59 +08:00

2018-05-15 11:01:59,952 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:01:59 +08:00

2018-05-15 11:01:59,952 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 11:01:59,952 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:59,952 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-15 11:01:59,952 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:01:59 +08:00

2018-05-15 11:01:59,952 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:01:59,952 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:59,952 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:59 +08:00

2018-05-15 11:01:59,953 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:01:59 +08:00

2018-05-15 11:01:59,953 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 11:01:59,953 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:59,953 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:01:59,953 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:01:59 +08:00

2018-05-15 11:01:59,953 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:01:59,953 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:59,953 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:59 +08:00

2018-05-15 11:01:59,953 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:01:59 +08:00

2018-05-15 11:01:59,954 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Name] IN (N'平台发放',N'平台扣除',N'积分增加'))
2018-05-15 11:01:59,954 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:59,954 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:01:59 +08:00

2018-05-15 11:01:59,954 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:01:59,954 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:01:59,954 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:01:59 +08:00

2018-05-15 11:02:01,301 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:02:01 +08:00

2018-05-15 11:02:01,301 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-05-15 11:02:01,301 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:01,301 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'PlatformUser201805051709360001' (Type = String, Size = 4000)

2018-05-15 11:02:01,301 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:02:01 +08:00

2018-05-15 11:02:01,301 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:01,301 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:01,302 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:01 +08:00

2018-05-15 11:02:01,302 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:02:01 +08:00

2018-05-15 11:02:01,302 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 11:02:01,302 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:01,302 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:02:01,302 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:02:01 +08:00

2018-05-15 11:02:01,302 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:01,302 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:01,302 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:01 +08:00

2018-05-15 11:02:01,303 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:02:01 +08:00

2018-05-15 11:02:01,303 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-15 11:02:01,303 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:01,303 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:02:01 +08:00

2018-05-15 11:02:01,303 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:01,304 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:01,304 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:01 +08:00

2018-05-15 11:02:01,304 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:02:01 +08:00

2018-05-15 11:02:01,304 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-15 11:02:01,304 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:01,304 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:02:01 +08:00

2018-05-15 11:02:01,304 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:01,304 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:01,304 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:01 +08:00

2018-05-15 11:02:01,304 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:02:01 +08:00

2018-05-15 11:02:01,305 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1) AND ([Extent1].[CreateTime] >= @p__linq__2) AND ([Extent1].[CreateTime] <= @p__linq__3)
    )  AS [GroupBy1]
2018-05-15 11:02:01,305 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:01,305 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 11:02:01,305 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '1' (Type = Int64)

2018-05-15 11:02:01,305 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2018/5/8 0:00:00' (Type = DateTime2)

2018-05-15 11:02:01,305 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '2018/5/9 0:00:00' (Type = DateTime2)

2018-05-15 11:02:01,305 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:02:01 +08:00

2018-05-15 11:02:01,305 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:01,305 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:01,306 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:01 +08:00

2018-05-15 11:02:01,306 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:02:01 +08:00

2018-05-15 11:02:01,306 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-15 11:02:01,306 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:01,306 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:02:01 +08:00

2018-05-15 11:02:01,306 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:01,306 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:01,307 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:01 +08:00

2018-05-15 11:02:01,307 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:02:01 +08:00

2018-05-15 11:02:01,307 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1) AND ([Extent1].[CreateTime] >= @p__linq__2) AND ([Extent1].[CreateTime] <= @p__linq__3) AND ([Extent1].[ToIntegralTypeId] = @p__linq__4) AND ([Extent1].[PlatformUserId] = @p__linq__5)
    )  AS [GroupBy1]
2018-05-15 11:02:01,307 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:01,307 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 11:02:01,307 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '1' (Type = Int64)

2018-05-15 11:02:01,307 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2018/5/8 0:00:00' (Type = DateTime2)

2018-05-15 11:02:01,307 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '2018/5/9 0:00:00' (Type = DateTime2)

2018-05-15 11:02:01,307 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__4: '2' (Type = Int64, IsNullable = false)

2018-05-15 11:02:01,308 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__5: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:02:01,308 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:02:01 +08:00

2018-05-15 11:02:01,308 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:01,308 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:01,308 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:01 +08:00

2018-05-15 11:02:01,308 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:02:01 +08:00

2018-05-15 11:02:01,309 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1) AND ([Extent1].[CreateTime] >= @p__linq__2) AND ([Extent1].[CreateTime] <= @p__linq__3) AND ([Extent1].[ToIntegralTypeId] = @p__linq__4) AND ([Extent1].[PlatformUserId] = @p__linq__5)
    )  AS [GroupBy1]
2018-05-15 11:02:01,309 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:01,309 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 11:02:01,309 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '1' (Type = Int64)

2018-05-15 11:02:01,309 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2018/5/8 0:00:00' (Type = DateTime2)

2018-05-15 11:02:01,309 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '2018/5/9 0:00:00' (Type = DateTime2)

2018-05-15 11:02:01,309 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__4: '3' (Type = Int64, IsNullable = false)

2018-05-15 11:02:01,309 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__5: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:02:01,309 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:02:01 +08:00

2018-05-15 11:02:01,310 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:01,310 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:01,310 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:01 +08:00

2018-05-15 11:02:01,310 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:02:01 +08:00

2018-05-15 11:02:01,310 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1) AND ([Extent1].[CreateTime] >= @p__linq__2) AND ([Extent1].[CreateTime] <= @p__linq__3)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 1
    ORDER BY [Project1].[CreateTime] DESC
2018-05-15 11:02:01,311 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:01,311 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 11:02:01,311 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '1' (Type = Int64)

2018-05-15 11:02:01,311 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2018/5/8 0:00:00' (Type = DateTime2)

2018-05-15 11:02:01,311 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '2018/5/9 0:00:00' (Type = DateTime2)

2018-05-15 11:02:01,311 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:02:01 +08:00

2018-05-15 11:02:01,311 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:01,311 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:01,311 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:01 +08:00

2018-05-15 11:02:01,312 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:02:01 +08:00

2018-05-15 11:02:01,312 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 11:02:01,312 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:01,312 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:02:01,312 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:02:01 +08:00

2018-05-15 11:02:01,312 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:01,312 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:01,312 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:01 +08:00

2018-05-15 11:02:01,312 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:02:01 +08:00

2018-05-15 11:02:01,312 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 11:02:01,312 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:01,312 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-15 11:02:01,312 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:02:01 +08:00

2018-05-15 11:02:01,313 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:01,313 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:01,313 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:01 +08:00

2018-05-15 11:02:01,313 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:02:01 +08:00

2018-05-15 11:02:01,313 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 11:02:01,313 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:01,313 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:02:01,313 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:02:01 +08:00

2018-05-15 11:02:01,313 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:01,313 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:01,313 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:01 +08:00

2018-05-15 11:02:01,314 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:02:01 +08:00

2018-05-15 11:02:01,314 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Name] IN (N'平台发放',N'平台扣除',N'积分增加'))
2018-05-15 11:02:01,314 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:01,314 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:02:01 +08:00

2018-05-15 11:02:01,314 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:01,315 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:01,315 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:01 +08:00

2018-05-15 11:02:03,144 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:02:03 +08:00

2018-05-15 11:02:03,145 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-05-15 11:02:03,145 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:03,145 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'PlatformUser201805051709360001' (Type = String, Size = 4000)

2018-05-15 11:02:03,145 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:02:03 +08:00

2018-05-15 11:02:03,145 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:03,145 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:03,146 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:03 +08:00

2018-05-15 11:02:03,146 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:02:03 +08:00

2018-05-15 11:02:03,146 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 11:02:03,146 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:03,146 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:02:03,146 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:02:03 +08:00

2018-05-15 11:02:03,147 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:03,147 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:03,147 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:03 +08:00

2018-05-15 11:02:03,147 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:02:03 +08:00

2018-05-15 11:02:03,148 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-15 11:02:03,148 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:03,148 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:02:03 +08:00

2018-05-15 11:02:03,148 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:03,148 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:03,148 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:03 +08:00

2018-05-15 11:02:03,148 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:02:03 +08:00

2018-05-15 11:02:03,149 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-15 11:02:03,149 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:03,149 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:02:03 +08:00

2018-05-15 11:02:03,149 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:03,149 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:03,149 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:03 +08:00

2018-05-15 11:02:03,149 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:02:03 +08:00

2018-05-15 11:02:03,149 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1) AND ([Extent1].[CreateTime] >= @p__linq__2) AND ([Extent1].[CreateTime] <= @p__linq__3)
    )  AS [GroupBy1]
2018-05-15 11:02:03,150 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:03,150 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 11:02:03,150 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '1' (Type = Int64)

2018-05-15 11:02:03,150 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2018/5/8 0:00:00' (Type = DateTime2)

2018-05-15 11:02:03,150 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '2018/5/9 0:00:00' (Type = DateTime2)

2018-05-15 11:02:03,150 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:02:03 +08:00

2018-05-15 11:02:03,150 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:03,150 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:03,150 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:03 +08:00

2018-05-15 11:02:03,150 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:02:03 +08:00

2018-05-15 11:02:03,151 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-15 11:02:03,151 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:03,151 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:02:03 +08:00

2018-05-15 11:02:03,151 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:03,151 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:03,151 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:03 +08:00

2018-05-15 11:02:03,152 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:02:03 +08:00

2018-05-15 11:02:03,152 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1) AND ([Extent1].[CreateTime] >= @p__linq__2) AND ([Extent1].[CreateTime] <= @p__linq__3) AND ([Extent1].[ToIntegralTypeId] = @p__linq__4) AND ([Extent1].[PlatformUserId] = @p__linq__5)
    )  AS [GroupBy1]
2018-05-15 11:02:03,152 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:03,152 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 11:02:03,152 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '1' (Type = Int64)

2018-05-15 11:02:03,152 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2018/5/8 0:00:00' (Type = DateTime2)

2018-05-15 11:02:03,152 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '2018/5/9 0:00:00' (Type = DateTime2)

2018-05-15 11:02:03,152 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__4: '2' (Type = Int64, IsNullable = false)

2018-05-15 11:02:03,152 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__5: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:02:03,152 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:02:03 +08:00

2018-05-15 11:02:03,153 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:03,153 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:03,153 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:03 +08:00

2018-05-15 11:02:03,153 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:02:03 +08:00

2018-05-15 11:02:03,153 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1) AND ([Extent1].[CreateTime] >= @p__linq__2) AND ([Extent1].[CreateTime] <= @p__linq__3) AND ([Extent1].[ToIntegralTypeId] = @p__linq__4) AND ([Extent1].[PlatformUserId] = @p__linq__5)
    )  AS [GroupBy1]
2018-05-15 11:02:03,153 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:03,153 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 11:02:03,153 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '1' (Type = Int64)

2018-05-15 11:02:03,153 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2018/5/8 0:00:00' (Type = DateTime2)

2018-05-15 11:02:03,153 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '2018/5/9 0:00:00' (Type = DateTime2)

2018-05-15 11:02:03,153 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__4: '3' (Type = Int64, IsNullable = false)

2018-05-15 11:02:03,153 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__5: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:02:03,154 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:02:03 +08:00

2018-05-15 11:02:03,154 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:03,154 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:03,154 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:03 +08:00

2018-05-15 11:02:03,154 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:02:03 +08:00

2018-05-15 11:02:03,155 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1) AND ([Extent1].[CreateTime] >= @p__linq__2) AND ([Extent1].[CreateTime] <= @p__linq__3)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-15 11:02:03,155 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:03,155 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 11:02:03,155 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '1' (Type = Int64)

2018-05-15 11:02:03,155 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2018/5/8 0:00:00' (Type = DateTime2)

2018-05-15 11:02:03,155 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '2018/5/9 0:00:00' (Type = DateTime2)

2018-05-15 11:02:03,155 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:02:03 +08:00

2018-05-15 11:02:03,155 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:03,155 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:03,155 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:03 +08:00

2018-05-15 11:02:03,156 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:02:03 +08:00

2018-05-15 11:02:03,156 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 11:02:03,156 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:03,156 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:02:03,156 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:02:03 +08:00

2018-05-15 11:02:03,156 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:03,156 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:03,156 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:03 +08:00

2018-05-15 11:02:03,156 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:02:03 +08:00

2018-05-15 11:02:03,156 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 11:02:03,156 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:03,156 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-15 11:02:03,156 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:02:03 +08:00

2018-05-15 11:02:03,157 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:03,157 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:03,157 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:03 +08:00

2018-05-15 11:02:03,157 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:02:03 +08:00

2018-05-15 11:02:03,157 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 11:02:03,157 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:03,157 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:02:03,157 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:02:03 +08:00

2018-05-15 11:02:03,157 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:03,157 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:03,157 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:03 +08:00

2018-05-15 11:02:03,158 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:02:03 +08:00

2018-05-15 11:02:03,158 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Name] IN (N'平台发放',N'平台扣除',N'积分增加'))
2018-05-15 11:02:03,158 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:03,158 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:02:03 +08:00

2018-05-15 11:02:03,158 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:03,158 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:03,158 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:03 +08:00

2018-05-15 11:02:04,772 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:02:04 +08:00

2018-05-15 11:02:04,772 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-05-15 11:02:04,772 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:04,772 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'PlatformUser201805051709360001' (Type = String, Size = 4000)

2018-05-15 11:02:04,772 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:02:04 +08:00

2018-05-15 11:02:04,773 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:04,773 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:04,773 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:04 +08:00

2018-05-15 11:02:04,773 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:02:04 +08:00

2018-05-15 11:02:04,773 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 11:02:04,773 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:04,773 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:02:04,773 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:02:04 +08:00

2018-05-15 11:02:04,773 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:04,773 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:04,773 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:04 +08:00

2018-05-15 11:02:04,774 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:02:04 +08:00

2018-05-15 11:02:04,774 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-15 11:02:04,774 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:04,774 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:02:04 +08:00

2018-05-15 11:02:04,775 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:04,775 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:04,775 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:04 +08:00

2018-05-15 11:02:04,775 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:02:04 +08:00

2018-05-15 11:02:04,775 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-15 11:02:04,775 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:04,775 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:02:04 +08:00

2018-05-15 11:02:04,775 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:04,775 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:04,775 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:04 +08:00

2018-05-15 11:02:04,776 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:02:04 +08:00

2018-05-15 11:02:04,776 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1) AND ([Extent1].[CreateTime] >= @p__linq__2) AND ([Extent1].[CreateTime] <= @p__linq__3)
    )  AS [GroupBy1]
2018-05-15 11:02:04,776 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:04,776 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 11:02:04,776 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '1' (Type = Int64)

2018-05-15 11:02:04,776 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2018/5/8 0:00:00' (Type = DateTime2)

2018-05-15 11:02:04,776 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '2018/5/9 0:00:00' (Type = DateTime2)

2018-05-15 11:02:04,776 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:02:04 +08:00

2018-05-15 11:02:04,777 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:04,777 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:04,777 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:04 +08:00

2018-05-15 11:02:04,777 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:02:04 +08:00

2018-05-15 11:02:04,777 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-15 11:02:04,777 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:04,777 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:02:04 +08:00

2018-05-15 11:02:04,778 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:04,778 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:04,778 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:04 +08:00

2018-05-15 11:02:04,778 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:02:04 +08:00

2018-05-15 11:02:04,779 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1) AND ([Extent1].[CreateTime] >= @p__linq__2) AND ([Extent1].[CreateTime] <= @p__linq__3) AND ([Extent1].[ToIntegralTypeId] = @p__linq__4) AND ([Extent1].[PlatformUserId] = @p__linq__5)
    )  AS [GroupBy1]
2018-05-15 11:02:04,779 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:04,779 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 11:02:04,779 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '1' (Type = Int64)

2018-05-15 11:02:04,779 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2018/5/8 0:00:00' (Type = DateTime2)

2018-05-15 11:02:04,779 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '2018/5/9 0:00:00' (Type = DateTime2)

2018-05-15 11:02:04,779 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__4: '2' (Type = Int64, IsNullable = false)

2018-05-15 11:02:04,779 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__5: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:02:04,779 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:02:04 +08:00

2018-05-15 11:02:04,779 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:04,779 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:04,779 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:04 +08:00

2018-05-15 11:02:04,780 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:02:04 +08:00

2018-05-15 11:02:04,780 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1) AND ([Extent1].[CreateTime] >= @p__linq__2) AND ([Extent1].[CreateTime] <= @p__linq__3) AND ([Extent1].[ToIntegralTypeId] = @p__linq__4) AND ([Extent1].[PlatformUserId] = @p__linq__5)
    )  AS [GroupBy1]
2018-05-15 11:02:04,780 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:04,780 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 11:02:04,780 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '1' (Type = Int64)

2018-05-15 11:02:04,780 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2018/5/8 0:00:00' (Type = DateTime2)

2018-05-15 11:02:04,780 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '2018/5/9 0:00:00' (Type = DateTime2)

2018-05-15 11:02:04,780 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__4: '3' (Type = Int64, IsNullable = false)

2018-05-15 11:02:04,780 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__5: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:02:04,780 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:02:04 +08:00

2018-05-15 11:02:04,780 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:04,781 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:04,781 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:04 +08:00

2018-05-15 11:02:04,781 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:02:04 +08:00

2018-05-15 11:02:04,781 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1) AND ([Extent1].[CreateTime] >= @p__linq__2) AND ([Extent1].[CreateTime] <= @p__linq__3)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-15 11:02:04,781 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:04,781 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 11:02:04,781 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '1' (Type = Int64)

2018-05-15 11:02:04,781 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2018/5/8 0:00:00' (Type = DateTime2)

2018-05-15 11:02:04,781 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '2018/5/9 0:00:00' (Type = DateTime2)

2018-05-15 11:02:04,781 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:02:04 +08:00

2018-05-15 11:02:04,782 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:04,782 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:04,782 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:04 +08:00

2018-05-15 11:02:04,782 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:02:04 +08:00

2018-05-15 11:02:04,782 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 11:02:04,782 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:04,782 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:02:04,782 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:02:04 +08:00

2018-05-15 11:02:04,783 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:04,783 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:04,783 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:04 +08:00

2018-05-15 11:02:04,783 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:02:04 +08:00

2018-05-15 11:02:04,783 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 11:02:04,783 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:04,783 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-15 11:02:04,783 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:02:04 +08:00

2018-05-15 11:02:04,783 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:04,783 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:04,783 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:04 +08:00

2018-05-15 11:02:04,783 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:02:04 +08:00

2018-05-15 11:02:04,783 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 11:02:04,783 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:04,783 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:02:04,783 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:02:04 +08:00

2018-05-15 11:02:04,784 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:04,784 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:04,784 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:04 +08:00

2018-05-15 11:02:04,784 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:02:04 +08:00

2018-05-15 11:02:04,784 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Name] IN (N'平台发放',N'平台扣除',N'积分增加'))
2018-05-15 11:02:04,784 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:04,784 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:02:04 +08:00

2018-05-15 11:02:04,785 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:04,785 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:04,785 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:04 +08:00

2018-05-15 11:02:06,759 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:02:06 +08:00

2018-05-15 11:02:06,760 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-05-15 11:02:06,760 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:06,760 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'PlatformUser201805051709360001' (Type = String, Size = 4000)

2018-05-15 11:02:06,760 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:02:06 +08:00

2018-05-15 11:02:06,760 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:06,760 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:06,760 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:06 +08:00

2018-05-15 11:02:06,760 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:02:06 +08:00

2018-05-15 11:02:06,761 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 11:02:06,761 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:06,761 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:02:06,761 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:02:06 +08:00

2018-05-15 11:02:06,761 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:06,761 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:06,761 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:06 +08:00

2018-05-15 11:02:06,762 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:02:06 +08:00

2018-05-15 11:02:06,762 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-15 11:02:06,762 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:06,762 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:02:06 +08:00

2018-05-15 11:02:06,762 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:06,762 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:06,762 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:06 +08:00

2018-05-15 11:02:06,762 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:02:06 +08:00

2018-05-15 11:02:06,763 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-15 11:02:06,763 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:06,763 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:02:06 +08:00

2018-05-15 11:02:06,763 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:06,763 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:06,763 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:06 +08:00

2018-05-15 11:02:06,763 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:02:06 +08:00

2018-05-15 11:02:06,764 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1) AND ([Extent1].[CreateTime] >= @p__linq__2) AND ([Extent1].[CreateTime] <= @p__linq__3)
    )  AS [GroupBy1]
2018-05-15 11:02:06,764 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:06,764 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 11:02:06,764 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '1' (Type = Int64)

2018-05-15 11:02:06,764 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2018/5/8 0:00:00' (Type = DateTime2)

2018-05-15 11:02:06,764 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '2018/5/9 0:00:00' (Type = DateTime2)

2018-05-15 11:02:06,764 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:02:06 +08:00

2018-05-15 11:02:06,764 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:06,764 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:06,764 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:06 +08:00

2018-05-15 11:02:06,764 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:02:06 +08:00

2018-05-15 11:02:06,765 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-15 11:02:06,765 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:06,765 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:02:06 +08:00

2018-05-15 11:02:06,765 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:06,765 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:06,765 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:06 +08:00

2018-05-15 11:02:06,765 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:02:06 +08:00

2018-05-15 11:02:06,766 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1) AND ([Extent1].[CreateTime] >= @p__linq__2) AND ([Extent1].[CreateTime] <= @p__linq__3) AND ([Extent1].[ToIntegralTypeId] = @p__linq__4) AND ([Extent1].[PlatformUserId] = @p__linq__5)
    )  AS [GroupBy1]
2018-05-15 11:02:06,766 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:06,766 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 11:02:06,766 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '1' (Type = Int64)

2018-05-15 11:02:06,766 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2018/5/8 0:00:00' (Type = DateTime2)

2018-05-15 11:02:06,766 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '2018/5/9 0:00:00' (Type = DateTime2)

2018-05-15 11:02:06,766 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__4: '2' (Type = Int64, IsNullable = false)

2018-05-15 11:02:06,766 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__5: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:02:06,766 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:02:06 +08:00

2018-05-15 11:02:06,766 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:06,766 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:06,766 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:06 +08:00

2018-05-15 11:02:06,767 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:02:06 +08:00

2018-05-15 11:02:06,767 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1) AND ([Extent1].[CreateTime] >= @p__linq__2) AND ([Extent1].[CreateTime] <= @p__linq__3) AND ([Extent1].[ToIntegralTypeId] = @p__linq__4) AND ([Extent1].[PlatformUserId] = @p__linq__5)
    )  AS [GroupBy1]
2018-05-15 11:02:06,767 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:06,767 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 11:02:06,767 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '1' (Type = Int64)

2018-05-15 11:02:06,767 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2018/5/8 0:00:00' (Type = DateTime2)

2018-05-15 11:02:06,767 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '2018/5/9 0:00:00' (Type = DateTime2)

2018-05-15 11:02:06,767 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__4: '3' (Type = Int64, IsNullable = false)

2018-05-15 11:02:06,767 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__5: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:02:06,767 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:02:06 +08:00

2018-05-15 11:02:06,768 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:06,768 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:06,768 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:06 +08:00

2018-05-15 11:02:06,768 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:02:06 +08:00

2018-05-15 11:02:06,768 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1) AND ([Extent1].[CreateTime] >= @p__linq__2) AND ([Extent1].[CreateTime] <= @p__linq__3)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 1
    ORDER BY [Project1].[CreateTime] DESC
2018-05-15 11:02:06,768 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:06,768 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 11:02:06,768 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '1' (Type = Int64)

2018-05-15 11:02:06,768 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2018/5/8 0:00:00' (Type = DateTime2)

2018-05-15 11:02:06,768 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '2018/5/9 0:00:00' (Type = DateTime2)

2018-05-15 11:02:06,768 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:02:06 +08:00

2018-05-15 11:02:06,769 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:06,769 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:06,769 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:06 +08:00

2018-05-15 11:02:06,769 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:02:06 +08:00

2018-05-15 11:02:06,769 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 11:02:06,769 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:06,769 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:02:06,769 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:02:06 +08:00

2018-05-15 11:02:06,770 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:06,770 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:06,770 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:06 +08:00

2018-05-15 11:02:06,770 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:02:06 +08:00

2018-05-15 11:02:06,770 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 11:02:06,770 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:06,770 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-15 11:02:06,770 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:02:06 +08:00

2018-05-15 11:02:06,770 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:06,770 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:06,770 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:06 +08:00

2018-05-15 11:02:06,771 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:02:06 +08:00

2018-05-15 11:02:06,771 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 11:02:06,771 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:06,771 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:02:06,771 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:02:06 +08:00

2018-05-15 11:02:06,771 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:06,771 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:06,771 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:06 +08:00

2018-05-15 11:02:06,771 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:02:06 +08:00

2018-05-15 11:02:06,772 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Name] IN (N'平台发放',N'平台扣除',N'积分增加'))
2018-05-15 11:02:06,772 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:06,772 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:02:06 +08:00

2018-05-15 11:02:06,772 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:06,772 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:06,772 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:06 +08:00

2018-05-15 11:02:11,341 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:02:11 +08:00

2018-05-15 11:02:11,342 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-05-15 11:02:11,342 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:11,342 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'PlatformUser201805051709360001' (Type = String, Size = 4000)

2018-05-15 11:02:11,342 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:02:11 +08:00

2018-05-15 11:02:11,342 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:11,342 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:11,343 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:11 +08:00

2018-05-15 11:02:11,343 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:02:11 +08:00

2018-05-15 11:02:11,343 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 11:02:11,343 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:11,343 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:02:11,343 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:02:11 +08:00

2018-05-15 11:02:11,343 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:11,343 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:11,343 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:11 +08:00

2018-05-15 11:02:11,344 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:02:11 +08:00

2018-05-15 11:02:11,344 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-15 11:02:11,344 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:11,344 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:02:11 +08:00

2018-05-15 11:02:11,345 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:11,345 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:11,345 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:11 +08:00

2018-05-15 11:02:11,345 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:02:11 +08:00

2018-05-15 11:02:11,345 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-15 11:02:11,345 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:11,345 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:02:11 +08:00

2018-05-15 11:02:11,345 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:11,345 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:11,345 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:11 +08:00

2018-05-15 11:02:11,346 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:02:11 +08:00

2018-05-15 11:02:11,346 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1) AND ([Extent1].[CreateTime] >= @p__linq__2) AND ([Extent1].[CreateTime] <= @p__linq__3)
    )  AS [GroupBy1]
2018-05-15 11:02:11,346 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:11,346 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 11:02:11,346 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '1' (Type = Int64)

2018-05-15 11:02:11,346 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2018/5/8 0:00:00' (Type = DateTime2)

2018-05-15 11:02:11,346 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '2018/5/9 0:00:00' (Type = DateTime2)

2018-05-15 11:02:11,346 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:02:11 +08:00

2018-05-15 11:02:11,347 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:11,347 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:11,347 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:11 +08:00

2018-05-15 11:02:11,347 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:02:11 +08:00

2018-05-15 11:02:11,347 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-15 11:02:11,347 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:11,347 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:02:11 +08:00

2018-05-15 11:02:11,348 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:11,348 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:11,348 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:11 +08:00

2018-05-15 11:02:11,348 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:02:11 +08:00

2018-05-15 11:02:11,348 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1) AND ([Extent1].[CreateTime] >= @p__linq__2) AND ([Extent1].[CreateTime] <= @p__linq__3) AND ([Extent1].[ToIntegralTypeId] = @p__linq__4) AND ([Extent1].[PlatformUserId] = @p__linq__5)
    )  AS [GroupBy1]
2018-05-15 11:02:11,348 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:11,348 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 11:02:11,349 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '1' (Type = Int64)

2018-05-15 11:02:11,349 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2018/5/8 0:00:00' (Type = DateTime2)

2018-05-15 11:02:11,349 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '2018/5/9 0:00:00' (Type = DateTime2)

2018-05-15 11:02:11,349 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__4: '2' (Type = Int64, IsNullable = false)

2018-05-15 11:02:11,349 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__5: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:02:11,349 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:02:11 +08:00

2018-05-15 11:02:11,349 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:11,349 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:11,349 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:11 +08:00

2018-05-15 11:02:11,349 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:02:11 +08:00

2018-05-15 11:02:11,350 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1) AND ([Extent1].[CreateTime] >= @p__linq__2) AND ([Extent1].[CreateTime] <= @p__linq__3) AND ([Extent1].[ToIntegralTypeId] = @p__linq__4) AND ([Extent1].[PlatformUserId] = @p__linq__5)
    )  AS [GroupBy1]
2018-05-15 11:02:11,350 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:11,350 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 11:02:11,350 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '1' (Type = Int64)

2018-05-15 11:02:11,350 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2018/5/8 0:00:00' (Type = DateTime2)

2018-05-15 11:02:11,350 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '2018/5/9 0:00:00' (Type = DateTime2)

2018-05-15 11:02:11,350 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__4: '3' (Type = Int64, IsNullable = false)

2018-05-15 11:02:11,350 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__5: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:02:11,350 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:02:11 +08:00

2018-05-15 11:02:11,350 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:11,350 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:11,350 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:11 +08:00

2018-05-15 11:02:11,351 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:02:11 +08:00

2018-05-15 11:02:11,351 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1) AND ([Extent1].[CreateTime] >= @p__linq__2) AND ([Extent1].[CreateTime] <= @p__linq__3)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 2
    ORDER BY [Project1].[CreateTime] DESC
2018-05-15 11:02:11,351 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:11,351 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 11:02:11,351 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '1' (Type = Int64)

2018-05-15 11:02:11,351 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2018/5/8 0:00:00' (Type = DateTime2)

2018-05-15 11:02:11,351 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '2018/5/9 0:00:00' (Type = DateTime2)

2018-05-15 11:02:11,351 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:02:11 +08:00

2018-05-15 11:02:11,352 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:11,352 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:11,352 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:11 +08:00

2018-05-15 11:02:11,352 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:02:11 +08:00

2018-05-15 11:02:11,352 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 11:02:11,352 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:11,352 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:02:11,352 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:02:11 +08:00

2018-05-15 11:02:11,352 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:11,352 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:11,353 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:11 +08:00

2018-05-15 11:02:11,353 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:02:11 +08:00

2018-05-15 11:02:11,353 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 11:02:11,353 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:11,353 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-15 11:02:11,353 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:02:11 +08:00

2018-05-15 11:02:11,353 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:11,353 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:11,353 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:11 +08:00

2018-05-15 11:02:11,353 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:02:11 +08:00

2018-05-15 11:02:11,353 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 11:02:11,353 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:11,353 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:02:11,353 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:02:11 +08:00

2018-05-15 11:02:11,354 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:11,354 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:11,354 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:11 +08:00

2018-05-15 11:02:11,354 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:02:11 +08:00

2018-05-15 11:02:11,354 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Name] IN (N'平台发放',N'平台扣除',N'积分增加'))
2018-05-15 11:02:11,354 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:11,354 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:02:11 +08:00

2018-05-15 11:02:11,355 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:11,355 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:11,355 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:11 +08:00

2018-05-15 11:02:12,492 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:02:12 +08:00

2018-05-15 11:02:12,493 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-05-15 11:02:12,493 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:12,493 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'PlatformUser201805051709360001' (Type = String, Size = 4000)

2018-05-15 11:02:12,493 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:02:12 +08:00

2018-05-15 11:02:12,493 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:12,493 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:12,494 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:12 +08:00

2018-05-15 11:02:12,494 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:02:12 +08:00

2018-05-15 11:02:12,494 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 11:02:12,494 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:12,494 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:02:12,494 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:02:12 +08:00

2018-05-15 11:02:12,494 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:12,494 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:12,494 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:12 +08:00

2018-05-15 11:02:12,495 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:02:12 +08:00

2018-05-15 11:02:12,495 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-15 11:02:12,495 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:12,495 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:02:12 +08:00

2018-05-15 11:02:12,495 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:12,495 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:12,496 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:12 +08:00

2018-05-15 11:02:12,496 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:02:12 +08:00

2018-05-15 11:02:12,496 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-15 11:02:12,496 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:12,496 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:02:12 +08:00

2018-05-15 11:02:12,496 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:12,496 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:12,496 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:12 +08:00

2018-05-15 11:02:12,496 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:02:12 +08:00

2018-05-15 11:02:12,497 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1) AND ([Extent1].[CreateTime] >= @p__linq__2) AND ([Extent1].[CreateTime] <= @p__linq__3)
    )  AS [GroupBy1]
2018-05-15 11:02:12,497 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:12,497 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 11:02:12,497 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '1' (Type = Int64)

2018-05-15 11:02:12,497 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2018/5/8 0:00:00' (Type = DateTime2)

2018-05-15 11:02:12,497 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '2018/5/9 0:00:00' (Type = DateTime2)

2018-05-15 11:02:12,497 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:02:12 +08:00

2018-05-15 11:02:12,497 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:12,497 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:12,497 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:12 +08:00

2018-05-15 11:02:12,498 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:02:12 +08:00

2018-05-15 11:02:12,498 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-15 11:02:12,498 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:12,498 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:02:12 +08:00

2018-05-15 11:02:12,498 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:12,498 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:12,498 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:12 +08:00

2018-05-15 11:02:12,499 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:02:12 +08:00

2018-05-15 11:02:12,499 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1) AND ([Extent1].[CreateTime] >= @p__linq__2) AND ([Extent1].[CreateTime] <= @p__linq__3) AND ([Extent1].[ToIntegralTypeId] = @p__linq__4) AND ([Extent1].[PlatformUserId] = @p__linq__5)
    )  AS [GroupBy1]
2018-05-15 11:02:12,499 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:12,499 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 11:02:12,499 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '1' (Type = Int64)

2018-05-15 11:02:12,499 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2018/5/8 0:00:00' (Type = DateTime2)

2018-05-15 11:02:12,499 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '2018/5/9 0:00:00' (Type = DateTime2)

2018-05-15 11:02:12,499 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__4: '2' (Type = Int64, IsNullable = false)

2018-05-15 11:02:12,499 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__5: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:02:12,499 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:02:12 +08:00

2018-05-15 11:02:12,500 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:12,500 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:12,500 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:12 +08:00

2018-05-15 11:02:12,500 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:02:12 +08:00

2018-05-15 11:02:12,500 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1) AND ([Extent1].[CreateTime] >= @p__linq__2) AND ([Extent1].[CreateTime] <= @p__linq__3) AND ([Extent1].[ToIntegralTypeId] = @p__linq__4) AND ([Extent1].[PlatformUserId] = @p__linq__5)
    )  AS [GroupBy1]
2018-05-15 11:02:12,500 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:12,501 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 11:02:12,501 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '1' (Type = Int64)

2018-05-15 11:02:12,501 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2018/5/8 0:00:00' (Type = DateTime2)

2018-05-15 11:02:12,501 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '2018/5/9 0:00:00' (Type = DateTime2)

2018-05-15 11:02:12,501 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__4: '3' (Type = Int64, IsNullable = false)

2018-05-15 11:02:12,501 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__5: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:02:12,501 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:02:12 +08:00

2018-05-15 11:02:12,501 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:12,501 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:12,501 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:12 +08:00

2018-05-15 11:02:12,501 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:02:12 +08:00

2018-05-15 11:02:12,502 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1) AND ([Extent1].[CreateTime] >= @p__linq__2) AND ([Extent1].[CreateTime] <= @p__linq__3)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 1
    ORDER BY [Project1].[CreateTime] DESC
2018-05-15 11:02:12,502 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:12,502 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 11:02:12,502 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '1' (Type = Int64)

2018-05-15 11:02:12,502 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2018/5/8 0:00:00' (Type = DateTime2)

2018-05-15 11:02:12,502 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '2018/5/9 0:00:00' (Type = DateTime2)

2018-05-15 11:02:12,502 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:02:12 +08:00

2018-05-15 11:02:12,502 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:12,502 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:12,503 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:12 +08:00

2018-05-15 11:02:12,503 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:02:12 +08:00

2018-05-15 11:02:12,503 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 11:02:12,503 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:12,503 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:02:12,503 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:02:12 +08:00

2018-05-15 11:02:12,503 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:12,503 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:12,503 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:12 +08:00

2018-05-15 11:02:12,503 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:02:12 +08:00

2018-05-15 11:02:12,503 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 11:02:12,503 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:12,503 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-15 11:02:12,503 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:02:12 +08:00

2018-05-15 11:02:12,504 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:12,504 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:12,504 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:12 +08:00

2018-05-15 11:02:12,504 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:02:12 +08:00

2018-05-15 11:02:12,504 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 11:02:12,504 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:12,504 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:02:12,504 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:02:12 +08:00

2018-05-15 11:02:12,504 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:12,504 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:12,504 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:12 +08:00

2018-05-15 11:02:12,505 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:02:12 +08:00

2018-05-15 11:02:12,505 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Name] IN (N'平台发放',N'平台扣除',N'积分增加'))
2018-05-15 11:02:12,505 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:12,505 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:02:12 +08:00

2018-05-15 11:02:12,505 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:12,505 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:12,505 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:12 +08:00

2018-05-15 11:02:12,761 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:02:12 +08:00

2018-05-15 11:02:12,761 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-05-15 11:02:12,761 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:12,761 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'PlatformUser201805051709360001' (Type = String, Size = 4000)

2018-05-15 11:02:12,761 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:02:12 +08:00

2018-05-15 11:02:12,762 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:12,762 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:12,762 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:12 +08:00

2018-05-15 11:02:12,762 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:02:12 +08:00

2018-05-15 11:02:12,762 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 11:02:12,762 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:12,762 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:02:12,762 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:02:12 +08:00

2018-05-15 11:02:12,763 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:12,763 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:12,763 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:12 +08:00

2018-05-15 11:02:12,763 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:02:12 +08:00

2018-05-15 11:02:12,763 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-15 11:02:12,763 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:12,763 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:02:12 +08:00

2018-05-15 11:02:12,764 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:12,764 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:12,764 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:12 +08:00

2018-05-15 11:02:12,764 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:02:12 +08:00

2018-05-15 11:02:12,764 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-15 11:02:12,764 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:12,764 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:02:12 +08:00

2018-05-15 11:02:12,764 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:12,764 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:12,765 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:12 +08:00

2018-05-15 11:02:12,765 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:02:12 +08:00

2018-05-15 11:02:12,765 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1) AND ([Extent1].[CreateTime] >= @p__linq__2) AND ([Extent1].[CreateTime] <= @p__linq__3)
    )  AS [GroupBy1]
2018-05-15 11:02:12,765 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:12,765 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 11:02:12,765 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '1' (Type = Int64)

2018-05-15 11:02:12,765 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2018/5/8 0:00:00' (Type = DateTime2)

2018-05-15 11:02:12,765 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '2018/5/9 0:00:00' (Type = DateTime2)

2018-05-15 11:02:12,765 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:02:12 +08:00

2018-05-15 11:02:12,765 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:12,766 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:12,766 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:12 +08:00

2018-05-15 11:02:12,766 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:02:12 +08:00

2018-05-15 11:02:12,766 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-15 11:02:12,766 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:12,766 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:02:12 +08:00

2018-05-15 11:02:12,766 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:12,766 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:12,767 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:12 +08:00

2018-05-15 11:02:12,767 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:02:12 +08:00

2018-05-15 11:02:12,767 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1) AND ([Extent1].[CreateTime] >= @p__linq__2) AND ([Extent1].[CreateTime] <= @p__linq__3) AND ([Extent1].[ToIntegralTypeId] = @p__linq__4) AND ([Extent1].[PlatformUserId] = @p__linq__5)
    )  AS [GroupBy1]
2018-05-15 11:02:12,767 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:12,767 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 11:02:12,767 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '1' (Type = Int64)

2018-05-15 11:02:12,767 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2018/5/8 0:00:00' (Type = DateTime2)

2018-05-15 11:02:12,767 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '2018/5/9 0:00:00' (Type = DateTime2)

2018-05-15 11:02:12,767 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__4: '2' (Type = Int64, IsNullable = false)

2018-05-15 11:02:12,767 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__5: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:02:12,767 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:02:12 +08:00

2018-05-15 11:02:12,768 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:12,768 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:12,768 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:12 +08:00

2018-05-15 11:02:12,768 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:02:12 +08:00

2018-05-15 11:02:12,769 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1) AND ([Extent1].[CreateTime] >= @p__linq__2) AND ([Extent1].[CreateTime] <= @p__linq__3) AND ([Extent1].[ToIntegralTypeId] = @p__linq__4) AND ([Extent1].[PlatformUserId] = @p__linq__5)
    )  AS [GroupBy1]
2018-05-15 11:02:12,769 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:12,769 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 11:02:12,769 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '1' (Type = Int64)

2018-05-15 11:02:12,769 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2018/5/8 0:00:00' (Type = DateTime2)

2018-05-15 11:02:12,769 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '2018/5/9 0:00:00' (Type = DateTime2)

2018-05-15 11:02:12,769 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__4: '3' (Type = Int64, IsNullable = false)

2018-05-15 11:02:12,769 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__5: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:02:12,769 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:02:12 +08:00

2018-05-15 11:02:12,769 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:12,769 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:12,769 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:12 +08:00

2018-05-15 11:02:12,769 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:02:12 +08:00

2018-05-15 11:02:12,770 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1) AND ([Extent1].[CreateTime] >= @p__linq__2) AND ([Extent1].[CreateTime] <= @p__linq__3)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-15 11:02:12,770 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:12,770 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 11:02:12,770 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '1' (Type = Int64)

2018-05-15 11:02:12,770 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2018/5/8 0:00:00' (Type = DateTime2)

2018-05-15 11:02:12,770 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '2018/5/9 0:00:00' (Type = DateTime2)

2018-05-15 11:02:12,770 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:02:12 +08:00

2018-05-15 11:02:12,770 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:12,770 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:12,771 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:12 +08:00

2018-05-15 11:02:12,771 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:02:12 +08:00

2018-05-15 11:02:12,771 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 11:02:12,771 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:12,771 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:02:12,771 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:02:12 +08:00

2018-05-15 11:02:12,771 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:12,771 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:12,771 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:12 +08:00

2018-05-15 11:02:12,771 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:02:12 +08:00

2018-05-15 11:02:12,771 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 11:02:12,771 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:12,771 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-15 11:02:12,771 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:02:12 +08:00

2018-05-15 11:02:12,772 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:12,772 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:12,772 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:12 +08:00

2018-05-15 11:02:12,772 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:02:12 +08:00

2018-05-15 11:02:12,772 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 11:02:12,772 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:12,772 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:02:12,772 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:02:12 +08:00

2018-05-15 11:02:12,772 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:12,772 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:12,772 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:12 +08:00

2018-05-15 11:02:12,773 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:02:12 +08:00

2018-05-15 11:02:12,773 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Name] IN (N'平台发放',N'平台扣除',N'积分增加'))
2018-05-15 11:02:12,773 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:12,773 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:02:12 +08:00

2018-05-15 11:02:12,773 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:12,773 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:12,773 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:12 +08:00

2018-05-15 11:02:13,441 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:02:13 +08:00

2018-05-15 11:02:13,441 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-05-15 11:02:13,441 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:13,441 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'PlatformUser201805051709360001' (Type = String, Size = 4000)

2018-05-15 11:02:13,441 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:02:13 +08:00

2018-05-15 11:02:13,441 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:13,441 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:13,442 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:13 +08:00

2018-05-15 11:02:13,442 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:02:13 +08:00

2018-05-15 11:02:13,442 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 11:02:13,442 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:13,442 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:02:13,442 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:02:13 +08:00

2018-05-15 11:02:13,442 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:13,442 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:13,442 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:13 +08:00

2018-05-15 11:02:13,443 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:02:13 +08:00

2018-05-15 11:02:13,443 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-15 11:02:13,443 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:13,443 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:02:13 +08:00

2018-05-15 11:02:13,444 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:13,444 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:13,444 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:13 +08:00

2018-05-15 11:02:13,444 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:02:13 +08:00

2018-05-15 11:02:13,444 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-15 11:02:13,444 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:13,444 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:02:13 +08:00

2018-05-15 11:02:13,444 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:13,444 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:13,445 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:13 +08:00

2018-05-15 11:02:13,445 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:02:13 +08:00

2018-05-15 11:02:13,445 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1) AND ([Extent1].[CreateTime] >= @p__linq__2) AND ([Extent1].[CreateTime] <= @p__linq__3)
    )  AS [GroupBy1]
2018-05-15 11:02:13,445 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:13,445 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 11:02:13,445 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '1' (Type = Int64)

2018-05-15 11:02:13,445 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2018/5/8 0:00:00' (Type = DateTime2)

2018-05-15 11:02:13,445 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '2018/5/9 0:00:00' (Type = DateTime2)

2018-05-15 11:02:13,445 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:02:13 +08:00

2018-05-15 11:02:13,446 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:13,446 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:13,446 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:13 +08:00

2018-05-15 11:02:13,446 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:02:13 +08:00

2018-05-15 11:02:13,446 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-15 11:02:13,446 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:13,446 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:02:13 +08:00

2018-05-15 11:02:13,447 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:13,447 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:13,447 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:13 +08:00

2018-05-15 11:02:13,447 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:02:13 +08:00

2018-05-15 11:02:13,448 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1) AND ([Extent1].[CreateTime] >= @p__linq__2) AND ([Extent1].[CreateTime] <= @p__linq__3) AND ([Extent1].[ToIntegralTypeId] = @p__linq__4) AND ([Extent1].[PlatformUserId] = @p__linq__5)
    )  AS [GroupBy1]
2018-05-15 11:02:13,448 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:13,448 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 11:02:13,448 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '1' (Type = Int64)

2018-05-15 11:02:13,448 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2018/5/8 0:00:00' (Type = DateTime2)

2018-05-15 11:02:13,448 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '2018/5/9 0:00:00' (Type = DateTime2)

2018-05-15 11:02:13,448 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__4: '2' (Type = Int64, IsNullable = false)

2018-05-15 11:02:13,448 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__5: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:02:13,448 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:02:13 +08:00

2018-05-15 11:02:13,448 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:13,448 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:13,448 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:13 +08:00

2018-05-15 11:02:13,448 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:02:13 +08:00

2018-05-15 11:02:13,449 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1) AND ([Extent1].[CreateTime] >= @p__linq__2) AND ([Extent1].[CreateTime] <= @p__linq__3) AND ([Extent1].[ToIntegralTypeId] = @p__linq__4) AND ([Extent1].[PlatformUserId] = @p__linq__5)
    )  AS [GroupBy1]
2018-05-15 11:02:13,449 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:13,449 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 11:02:13,449 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '1' (Type = Int64)

2018-05-15 11:02:13,449 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2018/5/8 0:00:00' (Type = DateTime2)

2018-05-15 11:02:13,449 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '2018/5/9 0:00:00' (Type = DateTime2)

2018-05-15 11:02:13,449 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__4: '3' (Type = Int64, IsNullable = false)

2018-05-15 11:02:13,449 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__5: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:02:13,449 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:02:13 +08:00

2018-05-15 11:02:13,449 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:13,449 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:13,449 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:13 +08:00

2018-05-15 11:02:13,450 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:02:13 +08:00

2018-05-15 11:02:13,450 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1) AND ([Extent1].[CreateTime] >= @p__linq__2) AND ([Extent1].[CreateTime] <= @p__linq__3)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 1
    ORDER BY [Project1].[CreateTime] DESC
2018-05-15 11:02:13,450 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:13,450 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 11:02:13,450 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '1' (Type = Int64)

2018-05-15 11:02:13,450 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2018/5/8 0:00:00' (Type = DateTime2)

2018-05-15 11:02:13,450 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '2018/5/9 0:00:00' (Type = DateTime2)

2018-05-15 11:02:13,450 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:02:13 +08:00

2018-05-15 11:02:13,451 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:13,451 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:13,451 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:13 +08:00

2018-05-15 11:02:13,451 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:02:13 +08:00

2018-05-15 11:02:13,451 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 11:02:13,451 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:13,451 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:02:13,451 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:02:13 +08:00

2018-05-15 11:02:13,451 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:13,451 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:13,451 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:13 +08:00

2018-05-15 11:02:13,452 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:02:13 +08:00

2018-05-15 11:02:13,452 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 11:02:13,452 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:13,452 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-15 11:02:13,452 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:02:13 +08:00

2018-05-15 11:02:13,452 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:13,452 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:13,452 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:13 +08:00

2018-05-15 11:02:13,452 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:02:13 +08:00

2018-05-15 11:02:13,452 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 11:02:13,452 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:13,452 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:02:13,452 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:02:13 +08:00

2018-05-15 11:02:13,452 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:13,453 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:13,453 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:13 +08:00

2018-05-15 11:02:13,453 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:02:13 +08:00

2018-05-15 11:02:13,453 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Name] IN (N'平台发放',N'平台扣除',N'积分增加'))
2018-05-15 11:02:13,453 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:13,453 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:02:13 +08:00

2018-05-15 11:02:13,454 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:13,454 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:13,454 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:13 +08:00

2018-05-15 11:02:13,884 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:02:13 +08:00

2018-05-15 11:02:13,884 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-05-15 11:02:13,884 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:13,884 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'PlatformUser201805051709360001' (Type = String, Size = 4000)

2018-05-15 11:02:13,884 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:02:13 +08:00

2018-05-15 11:02:13,885 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:13,885 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:13,885 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:13 +08:00

2018-05-15 11:02:13,885 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:02:13 +08:00

2018-05-15 11:02:13,885 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 11:02:13,885 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:13,885 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:02:13,885 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:02:13 +08:00

2018-05-15 11:02:13,886 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:13,886 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:13,886 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:13 +08:00

2018-05-15 11:02:13,886 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:02:13 +08:00

2018-05-15 11:02:13,887 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-15 11:02:13,887 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:13,887 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:02:13 +08:00

2018-05-15 11:02:13,887 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:13,887 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:13,887 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:13 +08:00

2018-05-15 11:02:13,887 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:02:13 +08:00

2018-05-15 11:02:13,887 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-15 11:02:13,887 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:13,887 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:02:13 +08:00

2018-05-15 11:02:13,888 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:13,888 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:13,888 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:13 +08:00

2018-05-15 11:02:13,888 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:02:13 +08:00

2018-05-15 11:02:13,888 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1) AND ([Extent1].[CreateTime] >= @p__linq__2) AND ([Extent1].[CreateTime] <= @p__linq__3)
    )  AS [GroupBy1]
2018-05-15 11:02:13,888 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:13,888 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 11:02:13,888 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '1' (Type = Int64)

2018-05-15 11:02:13,889 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2018/5/8 0:00:00' (Type = DateTime2)

2018-05-15 11:02:13,889 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '2018/5/9 0:00:00' (Type = DateTime2)

2018-05-15 11:02:13,889 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:02:13 +08:00

2018-05-15 11:02:13,889 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:13,889 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:13,889 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:13 +08:00

2018-05-15 11:02:13,889 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:02:13 +08:00

2018-05-15 11:02:13,890 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-15 11:02:13,890 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:13,890 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:02:13 +08:00

2018-05-15 11:02:13,890 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:13,890 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:13,890 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:13 +08:00

2018-05-15 11:02:13,890 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:02:13 +08:00

2018-05-15 11:02:13,891 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1) AND ([Extent1].[CreateTime] >= @p__linq__2) AND ([Extent1].[CreateTime] <= @p__linq__3) AND ([Extent1].[ToIntegralTypeId] = @p__linq__4) AND ([Extent1].[PlatformUserId] = @p__linq__5)
    )  AS [GroupBy1]
2018-05-15 11:02:13,891 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:13,891 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 11:02:13,891 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '1' (Type = Int64)

2018-05-15 11:02:13,891 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2018/5/8 0:00:00' (Type = DateTime2)

2018-05-15 11:02:13,891 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '2018/5/9 0:00:00' (Type = DateTime2)

2018-05-15 11:02:13,891 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__4: '2' (Type = Int64, IsNullable = false)

2018-05-15 11:02:13,891 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__5: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:02:13,891 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:02:13 +08:00

2018-05-15 11:02:13,891 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:13,891 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:13,892 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:13 +08:00

2018-05-15 11:02:13,892 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:02:13 +08:00

2018-05-15 11:02:13,892 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1) AND ([Extent1].[CreateTime] >= @p__linq__2) AND ([Extent1].[CreateTime] <= @p__linq__3) AND ([Extent1].[ToIntegralTypeId] = @p__linq__4) AND ([Extent1].[PlatformUserId] = @p__linq__5)
    )  AS [GroupBy1]
2018-05-15 11:02:13,892 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:13,892 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 11:02:13,892 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '1' (Type = Int64)

2018-05-15 11:02:13,892 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2018/5/8 0:00:00' (Type = DateTime2)

2018-05-15 11:02:13,892 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '2018/5/9 0:00:00' (Type = DateTime2)

2018-05-15 11:02:13,892 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__4: '3' (Type = Int64, IsNullable = false)

2018-05-15 11:02:13,892 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__5: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:02:13,892 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:02:13 +08:00

2018-05-15 11:02:13,893 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:13,893 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:13,893 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:13 +08:00

2018-05-15 11:02:13,894 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:02:13 +08:00

2018-05-15 11:02:13,894 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1) AND ([Extent1].[CreateTime] >= @p__linq__2) AND ([Extent1].[CreateTime] <= @p__linq__3)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 2
    ORDER BY [Project1].[CreateTime] DESC
2018-05-15 11:02:13,894 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:13,894 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 11:02:13,894 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '1' (Type = Int64)

2018-05-15 11:02:13,894 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2018/5/8 0:00:00' (Type = DateTime2)

2018-05-15 11:02:13,894 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '2018/5/9 0:00:00' (Type = DateTime2)

2018-05-15 11:02:13,894 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:02:13 +08:00

2018-05-15 11:02:13,895 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:13,895 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:13,895 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:13 +08:00

2018-05-15 11:02:13,895 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:02:13 +08:00

2018-05-15 11:02:13,895 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 11:02:13,895 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:13,895 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:02:13,895 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:02:13 +08:00

2018-05-15 11:02:13,895 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:13,895 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:13,896 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:13 +08:00

2018-05-15 11:02:13,896 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:02:13 +08:00

2018-05-15 11:02:13,896 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 11:02:13,896 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:13,896 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-15 11:02:13,896 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:02:13 +08:00

2018-05-15 11:02:13,896 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:13,896 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:13,896 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:13 +08:00

2018-05-15 11:02:13,896 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:02:13 +08:00

2018-05-15 11:02:13,896 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 11:02:13,896 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:13,896 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:02:13,896 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:02:13 +08:00

2018-05-15 11:02:13,897 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:13,897 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:13,897 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:13 +08:00

2018-05-15 11:02:13,897 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:02:13 +08:00

2018-05-15 11:02:13,897 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Name] IN (N'平台发放',N'平台扣除',N'积分增加'))
2018-05-15 11:02:13,897 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:13,897 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:02:13 +08:00

2018-05-15 11:02:13,898 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:13,898 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:13,898 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:13 +08:00

2018-05-15 11:02:40,001 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:02:40 +08:00

2018-05-15 11:02:40,002 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-05-15 11:02:40,002 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:40,002 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'PlatformUser201805051709360001' (Type = String, Size = 4000)

2018-05-15 11:02:40,002 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:02:40 +08:00

2018-05-15 11:02:40,002 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:40,003 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:40,003 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:40 +08:00

2018-05-15 11:02:40,003 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:02:40 +08:00

2018-05-15 11:02:40,003 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 11:02:40,003 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:40,003 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:02:40,003 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:02:40 +08:00

2018-05-15 11:02:40,003 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:40,003 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:40,004 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:40 +08:00

2018-05-15 11:02:40,004 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:02:40 +08:00

2018-05-15 11:02:40,004 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-15 11:02:40,004 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:40,004 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:02:40 +08:00

2018-05-15 11:02:40,005 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:40,005 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:40,005 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:40 +08:00

2018-05-15 11:02:40,005 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:02:40 +08:00

2018-05-15 11:02:40,005 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-15 11:02:40,005 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:40,005 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:02:40 +08:00

2018-05-15 11:02:40,005 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:40,005 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:40,006 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:40 +08:00

2018-05-15 11:02:40,006 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:02:40 +08:00

2018-05-15 11:02:40,006 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1) AND ([Extent1].[CreateTime] >= @p__linq__2) AND ([Extent1].[CreateTime] <= @p__linq__3)
    )  AS [GroupBy1]
2018-05-15 11:02:40,006 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:40,006 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 11:02:40,006 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '1' (Type = Int64)

2018-05-15 11:02:40,006 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2018/5/8 0:00:00' (Type = DateTime2)

2018-05-15 11:02:40,006 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '2018/5/9 0:00:00' (Type = DateTime2)

2018-05-15 11:02:40,006 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:02:40 +08:00

2018-05-15 11:02:40,007 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:40,007 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:40,007 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:40 +08:00

2018-05-15 11:02:40,007 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:02:40 +08:00

2018-05-15 11:02:40,007 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-15 11:02:40,007 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:40,007 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:02:40 +08:00

2018-05-15 11:02:40,008 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:40,008 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:40,008 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:40 +08:00

2018-05-15 11:02:40,008 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:02:40 +08:00

2018-05-15 11:02:40,009 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1) AND ([Extent1].[CreateTime] >= @p__linq__2) AND ([Extent1].[CreateTime] <= @p__linq__3) AND ([Extent1].[ToIntegralTypeId] = @p__linq__4) AND ([Extent1].[PlatformUserId] = @p__linq__5)
    )  AS [GroupBy1]
2018-05-15 11:02:40,009 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:40,009 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 11:02:40,009 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '1' (Type = Int64)

2018-05-15 11:02:40,009 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2018/5/8 0:00:00' (Type = DateTime2)

2018-05-15 11:02:40,009 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '2018/5/9 0:00:00' (Type = DateTime2)

2018-05-15 11:02:40,009 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__4: '2' (Type = Int64, IsNullable = false)

2018-05-15 11:02:40,009 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__5: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:02:40,009 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:02:40 +08:00

2018-05-15 11:02:40,009 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:40,009 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:40,010 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:40 +08:00

2018-05-15 11:02:40,010 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:02:40 +08:00

2018-05-15 11:02:40,010 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1) AND ([Extent1].[CreateTime] >= @p__linq__2) AND ([Extent1].[CreateTime] <= @p__linq__3) AND ([Extent1].[ToIntegralTypeId] = @p__linq__4) AND ([Extent1].[PlatformUserId] = @p__linq__5)
    )  AS [GroupBy1]
2018-05-15 11:02:40,010 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:40,010 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 11:02:40,010 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '1' (Type = Int64)

2018-05-15 11:02:40,010 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2018/5/8 0:00:00' (Type = DateTime2)

2018-05-15 11:02:40,010 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '2018/5/9 0:00:00' (Type = DateTime2)

2018-05-15 11:02:40,010 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__4: '3' (Type = Int64, IsNullable = false)

2018-05-15 11:02:40,010 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__5: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:02:40,010 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:02:40 +08:00

2018-05-15 11:02:40,011 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:40,011 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:40,011 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:40 +08:00

2018-05-15 11:02:40,011 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:02:40 +08:00

2018-05-15 11:02:40,011 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1) AND ([Extent1].[CreateTime] >= @p__linq__2) AND ([Extent1].[CreateTime] <= @p__linq__3)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 1
    ORDER BY [Project1].[CreateTime] DESC
2018-05-15 11:02:40,011 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:40,011 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 11:02:40,012 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '1' (Type = Int64)

2018-05-15 11:02:40,012 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2018/5/8 0:00:00' (Type = DateTime2)

2018-05-15 11:02:40,012 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '2018/5/9 0:00:00' (Type = DateTime2)

2018-05-15 11:02:40,012 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:02:40 +08:00

2018-05-15 11:02:40,012 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:40,012 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:40,012 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:40 +08:00

2018-05-15 11:02:40,012 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:02:40 +08:00

2018-05-15 11:02:40,012 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 11:02:40,012 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:40,012 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:02:40,013 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:02:40 +08:00

2018-05-15 11:02:40,013 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:40,013 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:40,013 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:40 +08:00

2018-05-15 11:02:40,013 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:02:40 +08:00

2018-05-15 11:02:40,013 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 11:02:40,013 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:40,013 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-15 11:02:40,013 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:02:40 +08:00

2018-05-15 11:02:40,013 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:40,013 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:40,013 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:40 +08:00

2018-05-15 11:02:40,014 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:02:40 +08:00

2018-05-15 11:02:40,014 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 11:02:40,014 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:40,014 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:02:40,014 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:02:40 +08:00

2018-05-15 11:02:40,014 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:40,014 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:40,014 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:40 +08:00

2018-05-15 11:02:40,014 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:02:40 +08:00

2018-05-15 11:02:40,015 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Name] IN (N'平台发放',N'平台扣除',N'积分增加'))
2018-05-15 11:02:40,015 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:40,015 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:02:40 +08:00

2018-05-15 11:02:40,015 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:40,015 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:40,015 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:40 +08:00

2018-05-15 11:02:40,939 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:02:40 +08:00

2018-05-15 11:02:40,939 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-05-15 11:02:40,939 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:40,939 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'PlatformUser201805051709360001' (Type = String, Size = 4000)

2018-05-15 11:02:40,939 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:02:40 +08:00

2018-05-15 11:02:40,940 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:40,940 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:40,940 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:40 +08:00

2018-05-15 11:02:40,940 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:02:40 +08:00

2018-05-15 11:02:40,940 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 11:02:40,940 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:40,940 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:02:40,940 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:02:40 +08:00

2018-05-15 11:02:40,941 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:40,941 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:40,941 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:40 +08:00

2018-05-15 11:02:40,941 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:02:40 +08:00

2018-05-15 11:02:40,941 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-15 11:02:40,941 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:40,941 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:02:40 +08:00

2018-05-15 11:02:40,942 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:40,942 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:40,942 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:40 +08:00

2018-05-15 11:02:40,942 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:02:40 +08:00

2018-05-15 11:02:40,942 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-15 11:02:40,942 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:40,943 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:02:40 +08:00

2018-05-15 11:02:40,943 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:40,943 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:40,943 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:40 +08:00

2018-05-15 11:02:40,943 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:02:40 +08:00

2018-05-15 11:02:40,943 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1) AND ([Extent1].[CreateTime] >= @p__linq__2) AND ([Extent1].[CreateTime] <= @p__linq__3)
    )  AS [GroupBy1]
2018-05-15 11:02:40,944 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:40,944 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 11:02:40,944 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '1' (Type = Int64)

2018-05-15 11:02:40,944 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2018/5/8 0:00:00' (Type = DateTime2)

2018-05-15 11:02:40,944 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '2018/5/9 0:00:00' (Type = DateTime2)

2018-05-15 11:02:40,944 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:02:40 +08:00

2018-05-15 11:02:40,944 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:40,944 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:40,944 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:40 +08:00

2018-05-15 11:02:40,944 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:02:40 +08:00

2018-05-15 11:02:40,945 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-15 11:02:40,945 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:40,945 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:02:40 +08:00

2018-05-15 11:02:40,945 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:40,945 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:40,945 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:40 +08:00

2018-05-15 11:02:40,945 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:02:40 +08:00

2018-05-15 11:02:40,946 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1) AND ([Extent1].[CreateTime] >= @p__linq__2) AND ([Extent1].[CreateTime] <= @p__linq__3) AND ([Extent1].[ToIntegralTypeId] = @p__linq__4) AND ([Extent1].[PlatformUserId] = @p__linq__5)
    )  AS [GroupBy1]
2018-05-15 11:02:40,946 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:40,946 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 11:02:40,946 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '1' (Type = Int64)

2018-05-15 11:02:40,946 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2018/5/8 0:00:00' (Type = DateTime2)

2018-05-15 11:02:40,946 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '2018/5/9 0:00:00' (Type = DateTime2)

2018-05-15 11:02:40,946 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__4: '2' (Type = Int64, IsNullable = false)

2018-05-15 11:02:40,946 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__5: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:02:40,946 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:02:40 +08:00

2018-05-15 11:02:40,946 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:40,946 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:40,947 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:40 +08:00

2018-05-15 11:02:40,947 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:02:40 +08:00

2018-05-15 11:02:40,951 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1) AND ([Extent1].[CreateTime] >= @p__linq__2) AND ([Extent1].[CreateTime] <= @p__linq__3) AND ([Extent1].[ToIntegralTypeId] = @p__linq__4) AND ([Extent1].[PlatformUserId] = @p__linq__5)
    )  AS [GroupBy1]
2018-05-15 11:02:40,951 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:40,951 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 11:02:40,951 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '1' (Type = Int64)

2018-05-15 11:02:40,951 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2018/5/8 0:00:00' (Type = DateTime2)

2018-05-15 11:02:40,951 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '2018/5/9 0:00:00' (Type = DateTime2)

2018-05-15 11:02:40,951 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__4: '3' (Type = Int64, IsNullable = false)

2018-05-15 11:02:40,951 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__5: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:02:40,951 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:02:40 +08:00

2018-05-15 11:02:40,952 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:40,952 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:40,952 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:40 +08:00

2018-05-15 11:02:40,952 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:02:40 +08:00

2018-05-15 11:02:40,952 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1) AND ([Extent1].[CreateTime] >= @p__linq__2) AND ([Extent1].[CreateTime] <= @p__linq__3)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-15 11:02:40,953 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:40,953 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 11:02:40,953 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '1' (Type = Int64)

2018-05-15 11:02:40,953 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2018/5/8 0:00:00' (Type = DateTime2)

2018-05-15 11:02:40,953 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '2018/5/9 0:00:00' (Type = DateTime2)

2018-05-15 11:02:40,953 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:02:40 +08:00

2018-05-15 11:02:40,953 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:40,953 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:40,953 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:40 +08:00

2018-05-15 11:02:40,953 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:02:40 +08:00

2018-05-15 11:02:40,954 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 11:02:40,954 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:40,954 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:02:40,954 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:02:40 +08:00

2018-05-15 11:02:40,954 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:40,954 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:40,954 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:40 +08:00

2018-05-15 11:02:40,954 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:02:40 +08:00

2018-05-15 11:02:40,954 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 11:02:40,954 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:40,954 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-15 11:02:40,954 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:02:40 +08:00

2018-05-15 11:02:40,954 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:40,954 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:40,955 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:40 +08:00

2018-05-15 11:02:40,955 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:02:40 +08:00

2018-05-15 11:02:40,955 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 11:02:40,955 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:40,955 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:02:40,955 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:02:40 +08:00

2018-05-15 11:02:40,955 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:40,955 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:40,955 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:40 +08:00

2018-05-15 11:02:40,956 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:02:40 +08:00

2018-05-15 11:02:40,956 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Name] IN (N'平台发放',N'平台扣除',N'积分增加'))
2018-05-15 11:02:40,956 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:40,956 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:02:40 +08:00

2018-05-15 11:02:40,956 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:40,956 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:40,956 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:40 +08:00

2018-05-15 11:02:41,482 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:02:41 +08:00

2018-05-15 11:02:41,483 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-05-15 11:02:41,483 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:41,483 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'PlatformUser201805051709360001' (Type = String, Size = 4000)

2018-05-15 11:02:41,483 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:02:41 +08:00

2018-05-15 11:02:41,483 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:41,483 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:41,483 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:41 +08:00

2018-05-15 11:02:41,484 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:02:41 +08:00

2018-05-15 11:02:41,484 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 11:02:41,484 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:41,484 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:02:41,484 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:02:41 +08:00

2018-05-15 11:02:41,484 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:41,484 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:41,484 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:41 +08:00

2018-05-15 11:02:41,485 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:02:41 +08:00

2018-05-15 11:02:41,485 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-15 11:02:41,485 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:41,485 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:02:41 +08:00

2018-05-15 11:02:41,485 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:41,485 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:41,485 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:41 +08:00

2018-05-15 11:02:41,485 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:02:41 +08:00

2018-05-15 11:02:41,486 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-15 11:02:41,486 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:41,486 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:02:41 +08:00

2018-05-15 11:02:41,486 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:41,486 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:41,486 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:41 +08:00

2018-05-15 11:02:41,486 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:02:41 +08:00

2018-05-15 11:02:41,487 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1) AND ([Extent1].[CreateTime] >= @p__linq__2) AND ([Extent1].[CreateTime] <= @p__linq__3)
    )  AS [GroupBy1]
2018-05-15 11:02:41,487 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:41,487 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 11:02:41,487 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '1' (Type = Int64)

2018-05-15 11:02:41,487 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2018/5/8 0:00:00' (Type = DateTime2)

2018-05-15 11:02:41,487 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '2018/5/9 0:00:00' (Type = DateTime2)

2018-05-15 11:02:41,487 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:02:41 +08:00

2018-05-15 11:02:41,487 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:41,487 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:41,487 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:41 +08:00

2018-05-15 11:02:41,487 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:02:41 +08:00

2018-05-15 11:02:41,488 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-15 11:02:41,488 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:41,488 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:02:41 +08:00

2018-05-15 11:02:41,488 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:41,488 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:41,488 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:41 +08:00

2018-05-15 11:02:41,488 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:02:41 +08:00

2018-05-15 11:02:41,489 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1) AND ([Extent1].[CreateTime] >= @p__linq__2) AND ([Extent1].[CreateTime] <= @p__linq__3) AND ([Extent1].[ToIntegralTypeId] = @p__linq__4) AND ([Extent1].[PlatformUserId] = @p__linq__5)
    )  AS [GroupBy1]
2018-05-15 11:02:41,489 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:41,489 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 11:02:41,489 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '1' (Type = Int64)

2018-05-15 11:02:41,489 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2018/5/8 0:00:00' (Type = DateTime2)

2018-05-15 11:02:41,489 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '2018/5/9 0:00:00' (Type = DateTime2)

2018-05-15 11:02:41,489 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__4: '2' (Type = Int64, IsNullable = false)

2018-05-15 11:02:41,489 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__5: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:02:41,489 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:02:41 +08:00

2018-05-15 11:02:41,489 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:41,489 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:41,490 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:41 +08:00

2018-05-15 11:02:41,490 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:02:41 +08:00

2018-05-15 11:02:41,490 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1) AND ([Extent1].[CreateTime] >= @p__linq__2) AND ([Extent1].[CreateTime] <= @p__linq__3) AND ([Extent1].[ToIntegralTypeId] = @p__linq__4) AND ([Extent1].[PlatformUserId] = @p__linq__5)
    )  AS [GroupBy1]
2018-05-15 11:02:41,490 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:41,490 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 11:02:41,490 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '1' (Type = Int64)

2018-05-15 11:02:41,490 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2018/5/8 0:00:00' (Type = DateTime2)

2018-05-15 11:02:41,490 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '2018/5/9 0:00:00' (Type = DateTime2)

2018-05-15 11:02:41,490 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__4: '3' (Type = Int64, IsNullable = false)

2018-05-15 11:02:41,490 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__5: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:02:41,490 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:02:41 +08:00

2018-05-15 11:02:41,491 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:41,491 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:41,491 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:41 +08:00

2018-05-15 11:02:41,491 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:02:41 +08:00

2018-05-15 11:02:41,492 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1) AND ([Extent1].[CreateTime] >= @p__linq__2) AND ([Extent1].[CreateTime] <= @p__linq__3)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 1
    ORDER BY [Project1].[CreateTime] DESC
2018-05-15 11:02:41,492 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:41,492 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 11:02:41,492 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '1' (Type = Int64)

2018-05-15 11:02:41,492 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2018/5/8 0:00:00' (Type = DateTime2)

2018-05-15 11:02:41,492 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '2018/5/9 0:00:00' (Type = DateTime2)

2018-05-15 11:02:41,492 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:02:41 +08:00

2018-05-15 11:02:41,493 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:41,493 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:41,493 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:41 +08:00

2018-05-15 11:02:41,493 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:02:41 +08:00

2018-05-15 11:02:41,493 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 11:02:41,493 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:41,493 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:02:41,493 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:02:41 +08:00

2018-05-15 11:02:41,493 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:41,493 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:41,494 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:41 +08:00

2018-05-15 11:02:41,494 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:02:41 +08:00

2018-05-15 11:02:41,494 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 11:02:41,494 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:41,494 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-15 11:02:41,494 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:02:41 +08:00

2018-05-15 11:02:41,494 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:41,494 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:41,494 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:41 +08:00

2018-05-15 11:02:41,494 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:02:41 +08:00

2018-05-15 11:02:41,494 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 11:02:41,494 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:41,494 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:02:41,494 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:02:41 +08:00

2018-05-15 11:02:41,495 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:41,495 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:41,495 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:41 +08:00

2018-05-15 11:02:41,495 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:02:41 +08:00

2018-05-15 11:02:41,495 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Name] IN (N'平台发放',N'平台扣除',N'积分增加'))
2018-05-15 11:02:41,495 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:41,495 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:02:41 +08:00

2018-05-15 11:02:41,496 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:41,496 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:41,496 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:41 +08:00

2018-05-15 11:02:42,007 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:02:42 +08:00

2018-05-15 11:02:42,008 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-05-15 11:02:42,008 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:42,008 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'PlatformUser201805051709360001' (Type = String, Size = 4000)

2018-05-15 11:02:42,008 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:02:42 +08:00

2018-05-15 11:02:42,008 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:42,008 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:42,008 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:42 +08:00

2018-05-15 11:02:42,009 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:02:42 +08:00

2018-05-15 11:02:42,009 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 11:02:42,009 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:42,009 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:02:42,009 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:02:42 +08:00

2018-05-15 11:02:42,009 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:42,009 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:42,009 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:42 +08:00

2018-05-15 11:02:42,010 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:02:42 +08:00

2018-05-15 11:02:42,010 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-15 11:02:42,010 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:42,010 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:02:42 +08:00

2018-05-15 11:02:42,011 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:42,011 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:42,011 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:42 +08:00

2018-05-15 11:02:42,011 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:02:42 +08:00

2018-05-15 11:02:42,011 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-15 11:02:42,011 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:42,011 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:02:42 +08:00

2018-05-15 11:02:42,011 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:42,011 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:42,011 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:42 +08:00

2018-05-15 11:02:42,011 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:02:42 +08:00

2018-05-15 11:02:42,012 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1) AND ([Extent1].[CreateTime] >= @p__linq__2) AND ([Extent1].[CreateTime] <= @p__linq__3)
    )  AS [GroupBy1]
2018-05-15 11:02:42,012 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:42,012 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 11:02:42,012 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '1' (Type = Int64)

2018-05-15 11:02:42,012 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2018/5/8 0:00:00' (Type = DateTime2)

2018-05-15 11:02:42,012 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '2018/5/9 0:00:00' (Type = DateTime2)

2018-05-15 11:02:42,012 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:02:42 +08:00

2018-05-15 11:02:42,012 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:42,012 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:42,013 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:42 +08:00

2018-05-15 11:02:42,013 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:02:42 +08:00

2018-05-15 11:02:42,013 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-15 11:02:42,013 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:42,013 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:02:42 +08:00

2018-05-15 11:02:42,013 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:42,013 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:42,014 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:42 +08:00

2018-05-15 11:02:42,014 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:02:42 +08:00

2018-05-15 11:02:42,014 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1) AND ([Extent1].[CreateTime] >= @p__linq__2) AND ([Extent1].[CreateTime] <= @p__linq__3) AND ([Extent1].[ToIntegralTypeId] = @p__linq__4) AND ([Extent1].[PlatformUserId] = @p__linq__5)
    )  AS [GroupBy1]
2018-05-15 11:02:42,014 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:42,014 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 11:02:42,014 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '1' (Type = Int64)

2018-05-15 11:02:42,014 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2018/5/8 0:00:00' (Type = DateTime2)

2018-05-15 11:02:42,015 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '2018/5/9 0:00:00' (Type = DateTime2)

2018-05-15 11:02:42,015 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__4: '2' (Type = Int64, IsNullable = false)

2018-05-15 11:02:42,015 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__5: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:02:42,015 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:02:42 +08:00

2018-05-15 11:02:42,015 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:42,015 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:42,015 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:42 +08:00

2018-05-15 11:02:42,015 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:02:42 +08:00

2018-05-15 11:02:42,016 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1) AND ([Extent1].[CreateTime] >= @p__linq__2) AND ([Extent1].[CreateTime] <= @p__linq__3) AND ([Extent1].[ToIntegralTypeId] = @p__linq__4) AND ([Extent1].[PlatformUserId] = @p__linq__5)
    )  AS [GroupBy1]
2018-05-15 11:02:42,016 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:42,016 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 11:02:42,016 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '1' (Type = Int64)

2018-05-15 11:02:42,016 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2018/5/8 0:00:00' (Type = DateTime2)

2018-05-15 11:02:42,016 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '2018/5/9 0:00:00' (Type = DateTime2)

2018-05-15 11:02:42,016 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__4: '3' (Type = Int64, IsNullable = false)

2018-05-15 11:02:42,016 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__5: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:02:42,016 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:02:42 +08:00

2018-05-15 11:02:42,016 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:42,016 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:42,016 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:42 +08:00

2018-05-15 11:02:42,017 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:02:42 +08:00

2018-05-15 11:02:42,017 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1) AND ([Extent1].[CreateTime] >= @p__linq__2) AND ([Extent1].[CreateTime] <= @p__linq__3)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 2
    ORDER BY [Project1].[CreateTime] DESC
2018-05-15 11:02:42,017 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:42,017 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 11:02:42,017 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '1' (Type = Int64)

2018-05-15 11:02:42,017 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2018/5/8 0:00:00' (Type = DateTime2)

2018-05-15 11:02:42,017 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '2018/5/9 0:00:00' (Type = DateTime2)

2018-05-15 11:02:42,017 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:02:42 +08:00

2018-05-15 11:02:42,018 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:42,018 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:42,018 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:42 +08:00

2018-05-15 11:02:42,018 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:02:42 +08:00

2018-05-15 11:02:42,018 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 11:02:42,018 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:42,018 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:02:42,018 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:02:42 +08:00

2018-05-15 11:02:42,018 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:42,018 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:42,019 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:42 +08:00

2018-05-15 11:02:42,019 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:02:42 +08:00

2018-05-15 11:02:42,019 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 11:02:42,019 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:42,019 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-15 11:02:42,019 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:02:42 +08:00

2018-05-15 11:02:42,019 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:42,019 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:42,019 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:42 +08:00

2018-05-15 11:02:42,019 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:02:42 +08:00

2018-05-15 11:02:42,019 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 11:02:42,020 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:42,020 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:02:42,020 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:02:42 +08:00

2018-05-15 11:02:42,020 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:42,020 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:42,020 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:42 +08:00

2018-05-15 11:02:42,020 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:02:42 +08:00

2018-05-15 11:02:42,020 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Name] IN (N'平台发放',N'平台扣除',N'积分增加'))
2018-05-15 11:02:42,021 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:42,021 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:02:42 +08:00

2018-05-15 11:02:42,021 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:42,021 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:42,021 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:42 +08:00

2018-05-15 11:02:44,027 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:02:44 +08:00

2018-05-15 11:02:44,027 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-05-15 11:02:44,027 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:44,027 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'PlatformUser201805051709360001' (Type = String, Size = 4000)

2018-05-15 11:02:44,027 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:02:44 +08:00

2018-05-15 11:02:44,028 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:44,028 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:44,028 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:44 +08:00

2018-05-15 11:02:44,028 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:02:44 +08:00

2018-05-15 11:02:44,028 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 11:02:44,028 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:44,028 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:02:44,028 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:02:44 +08:00

2018-05-15 11:02:44,028 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:44,028 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:44,029 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:44 +08:00

2018-05-15 11:02:44,029 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:02:44 +08:00

2018-05-15 11:02:44,029 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-15 11:02:44,029 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:44,029 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:02:44 +08:00

2018-05-15 11:02:44,030 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:44,030 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:44,030 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:44 +08:00

2018-05-15 11:02:44,030 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:02:44 +08:00

2018-05-15 11:02:44,030 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-15 11:02:44,030 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:44,030 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:02:44 +08:00

2018-05-15 11:02:44,030 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:44,030 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:44,030 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:44 +08:00

2018-05-15 11:02:44,031 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:02:44 +08:00

2018-05-15 11:02:44,031 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1) AND ([Extent1].[CreateTime] >= @p__linq__2) AND ([Extent1].[CreateTime] <= @p__linq__3)
    )  AS [GroupBy1]
2018-05-15 11:02:44,031 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:44,031 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 11:02:44,031 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '1' (Type = Int64)

2018-05-15 11:02:44,031 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2018/5/8 0:00:00' (Type = DateTime2)

2018-05-15 11:02:44,031 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '2018/5/9 0:00:00' (Type = DateTime2)

2018-05-15 11:02:44,031 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:02:44 +08:00

2018-05-15 11:02:44,031 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:44,032 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:44,032 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:44 +08:00

2018-05-15 11:02:44,032 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:02:44 +08:00

2018-05-15 11:02:44,032 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-15 11:02:44,032 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:44,032 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:02:44 +08:00

2018-05-15 11:02:44,032 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:44,032 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:44,033 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:44 +08:00

2018-05-15 11:02:44,033 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:02:44 +08:00

2018-05-15 11:02:44,033 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1) AND ([Extent1].[CreateTime] >= @p__linq__2) AND ([Extent1].[CreateTime] <= @p__linq__3) AND ([Extent1].[ToIntegralTypeId] = @p__linq__4) AND ([Extent1].[PlatformUserId] = @p__linq__5)
    )  AS [GroupBy1]
2018-05-15 11:02:44,033 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:44,033 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 11:02:44,033 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '1' (Type = Int64)

2018-05-15 11:02:44,033 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2018/5/8 0:00:00' (Type = DateTime2)

2018-05-15 11:02:44,033 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '2018/5/9 0:00:00' (Type = DateTime2)

2018-05-15 11:02:44,033 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__4: '2' (Type = Int64, IsNullable = false)

2018-05-15 11:02:44,034 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__5: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:02:44,034 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:02:44 +08:00

2018-05-15 11:02:44,034 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:44,034 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:44,034 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:44 +08:00

2018-05-15 11:02:44,034 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:02:44 +08:00

2018-05-15 11:02:44,035 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1) AND ([Extent1].[CreateTime] >= @p__linq__2) AND ([Extent1].[CreateTime] <= @p__linq__3) AND ([Extent1].[ToIntegralTypeId] = @p__linq__4) AND ([Extent1].[PlatformUserId] = @p__linq__5)
    )  AS [GroupBy1]
2018-05-15 11:02:44,035 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:44,035 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 11:02:44,035 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '1' (Type = Int64)

2018-05-15 11:02:44,035 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2018/5/8 0:00:00' (Type = DateTime2)

2018-05-15 11:02:44,035 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '2018/5/9 0:00:00' (Type = DateTime2)

2018-05-15 11:02:44,035 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__4: '3' (Type = Int64, IsNullable = false)

2018-05-15 11:02:44,035 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__5: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:02:44,035 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:02:44 +08:00

2018-05-15 11:02:44,035 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:44,035 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:44,035 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:44 +08:00

2018-05-15 11:02:44,036 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:02:44 +08:00

2018-05-15 11:02:44,036 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1) AND ([Extent1].[CreateTime] >= @p__linq__2) AND ([Extent1].[CreateTime] <= @p__linq__3)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-15 11:02:44,036 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:44,036 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 11:02:44,036 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '1' (Type = Int64)

2018-05-15 11:02:44,036 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2018/5/8 0:00:00' (Type = DateTime2)

2018-05-15 11:02:44,036 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '2018/5/9 0:00:00' (Type = DateTime2)

2018-05-15 11:02:44,036 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:02:44 +08:00

2018-05-15 11:02:44,037 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:44,037 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:44,037 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:44 +08:00

2018-05-15 11:02:44,037 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:02:44 +08:00

2018-05-15 11:02:44,037 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 11:02:44,037 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:44,037 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:02:44,037 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:02:44 +08:00

2018-05-15 11:02:44,037 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:44,037 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:44,037 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:44 +08:00

2018-05-15 11:02:44,038 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:02:44 +08:00

2018-05-15 11:02:44,038 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 11:02:44,038 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:44,038 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-15 11:02:44,038 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:02:44 +08:00

2018-05-15 11:02:44,038 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:44,038 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:44,038 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:44 +08:00

2018-05-15 11:02:44,038 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:02:44 +08:00

2018-05-15 11:02:44,038 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 11:02:44,038 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:44,038 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:02:44,038 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:02:44 +08:00

2018-05-15 11:02:44,038 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:44,038 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:44,039 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:44 +08:00

2018-05-15 11:02:44,039 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:02:44 +08:00

2018-05-15 11:02:44,039 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Name] IN (N'平台发放',N'平台扣除',N'积分增加'))
2018-05-15 11:02:44,039 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:44,039 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:02:44 +08:00

2018-05-15 11:02:44,040 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:44,040 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:44,040 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:44 +08:00

2018-05-15 11:02:47,837 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:02:47 +08:00

2018-05-15 11:02:47,837 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-05-15 11:02:47,837 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:47,837 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'PlatformUser201805051709360001' (Type = String, Size = 4000)

2018-05-15 11:02:47,837 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:02:47 +08:00

2018-05-15 11:02:47,838 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:47,838 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:47,838 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:47 +08:00

2018-05-15 11:02:47,838 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:02:47 +08:00

2018-05-15 11:02:47,838 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 11:02:47,838 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:47,838 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:02:47,838 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:02:47 +08:00

2018-05-15 11:02:47,839 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:47,839 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:47,839 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:47 +08:00

2018-05-15 11:02:47,839 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:02:47 +08:00

2018-05-15 11:02:47,840 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-15 11:02:47,840 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:47,840 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:02:47 +08:00

2018-05-15 11:02:47,840 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:47,840 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:47,840 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:47 +08:00

2018-05-15 11:02:47,840 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:02:47 +08:00

2018-05-15 11:02:47,840 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-15 11:02:47,840 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:47,840 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:02:47 +08:00

2018-05-15 11:02:47,841 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:47,841 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:47,841 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:47 +08:00

2018-05-15 11:02:47,841 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:02:47 +08:00

2018-05-15 11:02:47,841 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[CreateTime] >= @p__linq__1) AND ([Extent1].[CreateTime] <= @p__linq__2)
    )  AS [GroupBy1]
2018-05-15 11:02:47,841 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:47,841 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 11:02:47,841 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2018/5/8 0:00:00' (Type = DateTime2)

2018-05-15 11:02:47,841 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2018/5/9 0:00:00' (Type = DateTime2)

2018-05-15 11:02:47,841 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:02:47 +08:00

2018-05-15 11:02:47,842 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:47,842 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:47,842 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:47 +08:00

2018-05-15 11:02:47,842 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:02:47 +08:00

2018-05-15 11:02:47,843 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-15 11:02:47,843 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:47,843 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:02:47 +08:00

2018-05-15 11:02:47,843 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:47,843 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:47,843 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:47 +08:00

2018-05-15 11:02:47,843 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:02:47 +08:00

2018-05-15 11:02:47,844 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[CreateTime] >= @p__linq__1) AND ([Extent1].[CreateTime] <= @p__linq__2) AND ([Extent1].[ToIntegralTypeId] = @p__linq__3) AND ([Extent1].[PlatformUserId] = @p__linq__4)
    )  AS [GroupBy1]
2018-05-15 11:02:47,844 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:47,844 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 11:02:47,844 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2018/5/8 0:00:00' (Type = DateTime2)

2018-05-15 11:02:47,844 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2018/5/9 0:00:00' (Type = DateTime2)

2018-05-15 11:02:47,844 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '2' (Type = Int64, IsNullable = false)

2018-05-15 11:02:47,844 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__4: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:02:47,844 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:02:47 +08:00

2018-05-15 11:02:47,844 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:47,844 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:47,845 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:47 +08:00

2018-05-15 11:02:47,845 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:02:47 +08:00

2018-05-15 11:02:47,845 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[CreateTime] >= @p__linq__1) AND ([Extent1].[CreateTime] <= @p__linq__2) AND ([Extent1].[ToIntegralTypeId] = @p__linq__3) AND ([Extent1].[PlatformUserId] = @p__linq__4)
    )  AS [GroupBy1]
2018-05-15 11:02:47,845 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:47,845 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 11:02:47,845 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2018/5/8 0:00:00' (Type = DateTime2)

2018-05-15 11:02:47,845 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2018/5/9 0:00:00' (Type = DateTime2)

2018-05-15 11:02:47,845 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '3' (Type = Int64, IsNullable = false)

2018-05-15 11:02:47,845 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__4: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:02:47,845 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:02:47 +08:00

2018-05-15 11:02:47,846 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:47,846 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:47,846 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:47 +08:00

2018-05-15 11:02:47,846 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:02:47 +08:00

2018-05-15 11:02:47,846 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[CreateTime] >= @p__linq__1) AND ([Extent1].[CreateTime] <= @p__linq__2)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-15 11:02:47,846 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:47,846 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 11:02:47,847 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2018/5/8 0:00:00' (Type = DateTime2)

2018-05-15 11:02:47,847 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2018/5/9 0:00:00' (Type = DateTime2)

2018-05-15 11:02:47,847 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:02:47 +08:00

2018-05-15 11:02:47,847 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:47,847 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:47,847 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:47 +08:00

2018-05-15 11:02:47,847 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:02:47 +08:00

2018-05-15 11:02:47,847 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 11:02:47,847 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:47,847 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:02:47,847 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:02:47 +08:00

2018-05-15 11:02:47,848 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:47,848 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:47,848 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:47 +08:00

2018-05-15 11:02:47,848 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:02:47 +08:00

2018-05-15 11:02:47,848 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 11:02:47,848 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:47,848 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-15 11:02:47,848 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:02:47 +08:00

2018-05-15 11:02:47,848 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:47,848 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:47,848 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:47 +08:00

2018-05-15 11:02:47,849 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:02:47 +08:00

2018-05-15 11:02:47,849 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 11:02:47,849 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:47,849 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:02:47,849 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:02:47 +08:00

2018-05-15 11:02:47,849 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:47,849 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:47,849 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:47 +08:00

2018-05-15 11:02:47,849 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:02:47 +08:00

2018-05-15 11:02:47,850 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Name] IN (N'平台发放',N'平台扣除',N'积分增加'))
2018-05-15 11:02:47,850 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:47,850 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:02:47 +08:00

2018-05-15 11:02:47,850 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:47,850 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:47,850 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:47 +08:00

2018-05-15 11:02:49,153 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:02:49 +08:00

2018-05-15 11:02:49,154 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-05-15 11:02:49,154 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:49,154 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'PlatformUser201805051709360001' (Type = String, Size = 4000)

2018-05-15 11:02:49,154 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:02:49 +08:00

2018-05-15 11:02:49,154 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:49,154 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:49,155 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:49 +08:00

2018-05-15 11:02:49,155 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:02:49 +08:00

2018-05-15 11:02:49,155 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 11:02:49,155 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:49,155 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:02:49,155 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:02:49 +08:00

2018-05-15 11:02:49,155 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:49,155 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:49,155 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:49 +08:00

2018-05-15 11:02:49,156 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:02:49 +08:00

2018-05-15 11:02:49,156 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-15 11:02:49,156 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:49,156 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:02:49 +08:00

2018-05-15 11:02:49,156 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:49,156 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:49,156 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:49 +08:00

2018-05-15 11:02:49,157 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:02:49 +08:00

2018-05-15 11:02:49,157 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-15 11:02:49,157 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:49,157 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:02:49 +08:00

2018-05-15 11:02:49,157 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:49,157 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:49,157 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:49 +08:00

2018-05-15 11:02:49,157 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:02:49 +08:00

2018-05-15 11:02:49,158 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[CreateTime] >= @p__linq__1) AND ([Extent1].[CreateTime] <= @p__linq__2)
    )  AS [GroupBy1]
2018-05-15 11:02:49,158 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:49,158 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 11:02:49,158 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2018/5/8 0:00:00' (Type = DateTime2)

2018-05-15 11:02:49,158 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2018/5/9 0:00:00' (Type = DateTime2)

2018-05-15 11:02:49,158 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:02:49 +08:00

2018-05-15 11:02:49,158 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:49,158 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:49,159 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:49 +08:00

2018-05-15 11:02:49,159 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:02:49 +08:00

2018-05-15 11:02:49,159 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-15 11:02:49,159 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:49,159 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:02:49 +08:00

2018-05-15 11:02:49,159 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:49,159 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:49,160 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:49 +08:00

2018-05-15 11:02:49,160 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:02:49 +08:00

2018-05-15 11:02:49,160 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[CreateTime] >= @p__linq__1) AND ([Extent1].[CreateTime] <= @p__linq__2) AND ([Extent1].[ToIntegralTypeId] = @p__linq__3) AND ([Extent1].[PlatformUserId] = @p__linq__4)
    )  AS [GroupBy1]
2018-05-15 11:02:49,160 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:49,160 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 11:02:49,160 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2018/5/8 0:00:00' (Type = DateTime2)

2018-05-15 11:02:49,160 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2018/5/9 0:00:00' (Type = DateTime2)

2018-05-15 11:02:49,160 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '2' (Type = Int64, IsNullable = false)

2018-05-15 11:02:49,161 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__4: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:02:49,161 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:02:49 +08:00

2018-05-15 11:02:49,161 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:49,161 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:49,161 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:49 +08:00

2018-05-15 11:02:49,161 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:02:49 +08:00

2018-05-15 11:02:49,162 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[CreateTime] >= @p__linq__1) AND ([Extent1].[CreateTime] <= @p__linq__2) AND ([Extent1].[ToIntegralTypeId] = @p__linq__3) AND ([Extent1].[PlatformUserId] = @p__linq__4)
    )  AS [GroupBy1]
2018-05-15 11:02:49,162 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:49,162 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 11:02:49,162 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2018/5/8 0:00:00' (Type = DateTime2)

2018-05-15 11:02:49,162 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2018/5/9 0:00:00' (Type = DateTime2)

2018-05-15 11:02:49,162 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '3' (Type = Int64, IsNullable = false)

2018-05-15 11:02:49,162 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__4: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:02:49,162 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:02:49 +08:00

2018-05-15 11:02:49,162 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:49,162 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:49,162 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:49 +08:00

2018-05-15 11:02:49,162 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:02:49 +08:00

2018-05-15 11:02:49,163 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[CreateTime] >= @p__linq__1) AND ([Extent1].[CreateTime] <= @p__linq__2)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-15 11:02:49,163 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:49,163 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 11:02:49,163 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2018/5/8 0:00:00' (Type = DateTime2)

2018-05-15 11:02:49,163 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2018/5/9 0:00:00' (Type = DateTime2)

2018-05-15 11:02:49,163 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:02:49 +08:00

2018-05-15 11:02:49,163 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:49,163 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:49,164 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:49 +08:00

2018-05-15 11:02:49,164 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:02:49 +08:00

2018-05-15 11:02:49,164 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 11:02:49,164 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:49,164 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:02:49,164 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:02:49 +08:00

2018-05-15 11:02:49,164 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:49,164 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:49,164 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:49 +08:00

2018-05-15 11:02:49,164 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:02:49 +08:00

2018-05-15 11:02:49,164 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 11:02:49,164 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:49,164 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-15 11:02:49,164 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:02:49 +08:00

2018-05-15 11:02:49,165 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:49,165 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:49,165 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:49 +08:00

2018-05-15 11:02:49,165 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:02:49 +08:00

2018-05-15 11:02:49,165 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 11:02:49,165 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:49,165 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:02:49,165 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:02:49 +08:00

2018-05-15 11:02:49,165 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:49,165 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:49,165 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:49 +08:00

2018-05-15 11:02:49,166 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:02:49 +08:00

2018-05-15 11:02:49,166 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Name] IN (N'平台发放',N'平台扣除',N'积分增加'))
2018-05-15 11:02:49,166 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:49,166 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:02:49 +08:00

2018-05-15 11:02:49,166 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:49,166 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:49,166 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:49 +08:00

2018-05-15 11:02:56,580 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:02:56 +08:00

2018-05-15 11:02:56,580 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-05-15 11:02:56,580 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:56,580 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'PlatformUser201805051709360001' (Type = String, Size = 4000)

2018-05-15 11:02:56,580 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:02:56 +08:00

2018-05-15 11:02:56,581 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:56,581 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:56,581 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:56 +08:00

2018-05-15 11:02:56,581 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:02:56 +08:00

2018-05-15 11:02:56,581 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 11:02:56,581 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:56,581 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:02:56,581 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:02:56 +08:00

2018-05-15 11:02:56,582 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:56,582 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:56,582 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:56 +08:00

2018-05-15 11:02:56,583 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:02:56 +08:00

2018-05-15 11:02:56,583 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-15 11:02:56,583 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:56,583 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:02:56 +08:00

2018-05-15 11:02:56,583 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:56,583 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:56,583 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:56 +08:00

2018-05-15 11:02:56,583 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:02:56 +08:00

2018-05-15 11:02:56,584 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-15 11:02:56,584 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:56,584 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:02:56 +08:00

2018-05-15 11:02:56,584 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:56,584 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:56,584 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:56 +08:00

2018-05-15 11:02:56,584 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:02:56 +08:00

2018-05-15 11:02:56,585 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[CreateTime] >= @p__linq__1) AND ([Extent1].[CreateTime] <= @p__linq__2)
    )  AS [GroupBy1]
2018-05-15 11:02:56,585 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:56,585 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 11:02:56,585 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2018/5/8 0:00:00' (Type = DateTime2)

2018-05-15 11:02:56,585 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2018/5/9 0:00:00' (Type = DateTime2)

2018-05-15 11:02:56,585 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:02:56 +08:00

2018-05-15 11:02:56,585 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:56,585 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:56,585 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:56 +08:00

2018-05-15 11:02:56,585 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:02:56 +08:00

2018-05-15 11:02:56,586 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-15 11:02:56,586 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:56,586 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:02:56 +08:00

2018-05-15 11:02:56,586 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:56,586 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:56,586 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:56 +08:00

2018-05-15 11:02:56,586 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:02:56 +08:00

2018-05-15 11:02:56,587 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[CreateTime] >= @p__linq__1) AND ([Extent1].[CreateTime] <= @p__linq__2) AND ([Extent1].[ToIntegralTypeId] = @p__linq__3) AND ([Extent1].[PlatformUserId] = @p__linq__4)
    )  AS [GroupBy1]
2018-05-15 11:02:56,587 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:56,587 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 11:02:56,587 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2018/5/8 0:00:00' (Type = DateTime2)

2018-05-15 11:02:56,587 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2018/5/9 0:00:00' (Type = DateTime2)

2018-05-15 11:02:56,587 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '2' (Type = Int64, IsNullable = false)

2018-05-15 11:02:56,587 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__4: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:02:56,587 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:02:56 +08:00

2018-05-15 11:02:56,587 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:56,587 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:56,588 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:56 +08:00

2018-05-15 11:02:56,588 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:02:56 +08:00

2018-05-15 11:02:56,588 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[CreateTime] >= @p__linq__1) AND ([Extent1].[CreateTime] <= @p__linq__2) AND ([Extent1].[ToIntegralTypeId] = @p__linq__3) AND ([Extent1].[PlatformUserId] = @p__linq__4)
    )  AS [GroupBy1]
2018-05-15 11:02:56,588 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:56,588 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 11:02:56,588 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2018/5/8 0:00:00' (Type = DateTime2)

2018-05-15 11:02:56,588 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2018/5/9 0:00:00' (Type = DateTime2)

2018-05-15 11:02:56,588 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '3' (Type = Int64, IsNullable = false)

2018-05-15 11:02:56,588 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__4: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:02:56,588 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:02:56 +08:00

2018-05-15 11:02:56,589 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:56,589 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:56,589 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:56 +08:00

2018-05-15 11:02:56,589 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:02:56 +08:00

2018-05-15 11:02:56,589 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[CreateTime] >= @p__linq__1) AND ([Extent1].[CreateTime] <= @p__linq__2)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-15 11:02:56,589 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:56,589 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 11:02:56,589 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2018/5/8 0:00:00' (Type = DateTime2)

2018-05-15 11:02:56,589 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2018/5/9 0:00:00' (Type = DateTime2)

2018-05-15 11:02:56,589 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:02:56 +08:00

2018-05-15 11:02:56,590 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:56,590 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:56,590 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:56 +08:00

2018-05-15 11:02:56,590 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:02:56 +08:00

2018-05-15 11:02:56,590 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 11:02:56,590 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:56,590 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:02:56,590 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:02:56 +08:00

2018-05-15 11:02:56,591 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:56,591 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:56,591 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:56 +08:00

2018-05-15 11:02:56,591 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:02:56 +08:00

2018-05-15 11:02:56,591 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 11:02:56,591 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:56,591 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-15 11:02:56,591 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:02:56 +08:00

2018-05-15 11:02:56,592 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:56,592 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:56,592 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:56 +08:00

2018-05-15 11:02:56,592 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:02:56 +08:00

2018-05-15 11:02:56,592 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 11:02:56,592 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:56,592 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:02:56,592 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:02:56 +08:00

2018-05-15 11:02:56,592 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:56,592 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:56,593 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:56 +08:00

2018-05-15 11:02:56,593 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:02:56 +08:00

2018-05-15 11:02:56,593 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Name] IN (N'平台发放',N'平台扣除',N'积分增加'))
2018-05-15 11:02:56,593 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:56,593 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:02:56 +08:00

2018-05-15 11:02:56,594 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:02:56,594 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:02:56,594 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:02:56 +08:00

2018-05-15 11:03:01,406 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:03:01 +08:00

2018-05-15 11:03:01,406 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-05-15 11:03:01,406 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:03:01,406 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'PlatformUser201805051709360001' (Type = String, Size = 4000)

2018-05-15 11:03:01,406 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:03:01 +08:00

2018-05-15 11:03:01,407 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:03:01,407 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:03:01,407 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:03:01 +08:00

2018-05-15 11:03:01,407 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:03:01 +08:00

2018-05-15 11:03:01,407 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 11:03:01,407 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:03:01,407 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:03:01,407 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:03:01 +08:00

2018-05-15 11:03:01,407 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:03:01,407 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:03:01,408 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:03:01 +08:00

2018-05-15 11:03:01,408 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:03:01 +08:00

2018-05-15 11:03:01,408 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-15 11:03:01,408 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:03:01,408 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:03:01 +08:00

2018-05-15 11:03:01,409 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:03:01,409 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:03:01,409 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:03:01 +08:00

2018-05-15 11:03:01,409 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:03:01 +08:00

2018-05-15 11:03:01,409 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-15 11:03:01,409 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:03:01,409 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:03:01 +08:00

2018-05-15 11:03:01,409 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:03:01,410 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:03:01,410 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:03:01 +08:00

2018-05-15 11:03:01,410 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:03:01 +08:00

2018-05-15 11:03:01,410 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-15 11:03:01,410 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:03:01,410 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 11:03:01,410 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:03:01 +08:00

2018-05-15 11:03:01,411 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:03:01,411 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:03:01,411 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:03:01 +08:00

2018-05-15 11:03:01,411 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:03:01 +08:00

2018-05-15 11:03:01,411 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-15 11:03:01,411 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:03:01,411 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:03:01 +08:00

2018-05-15 11:03:01,411 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:03:01,412 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:03:01,412 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:03:01 +08:00

2018-05-15 11:03:01,412 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:03:01 +08:00

2018-05-15 11:03:01,412 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-15 11:03:01,412 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:03:01,412 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 11:03:01,412 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2' (Type = Int64, IsNullable = false)

2018-05-15 11:03:01,412 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:03:01,412 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:03:01 +08:00

2018-05-15 11:03:01,413 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:03:01,413 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:03:01,413 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:03:01 +08:00

2018-05-15 11:03:01,413 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:03:01 +08:00

2018-05-15 11:03:01,413 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-15 11:03:01,413 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:03:01,413 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 11:03:01,413 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '3' (Type = Int64, IsNullable = false)

2018-05-15 11:03:01,413 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:03:01,413 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:03:01 +08:00

2018-05-15 11:03:01,414 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:03:01,414 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:03:01,414 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:03:01 +08:00

2018-05-15 11:03:01,414 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:03:01 +08:00

2018-05-15 11:03:01,414 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-15 11:03:01,414 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:03:01,414 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 11:03:01,414 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:03:01 +08:00

2018-05-15 11:03:01,415 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:03:01,415 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:03:01,415 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:03:01 +08:00

2018-05-15 11:03:01,415 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:03:01 +08:00

2018-05-15 11:03:01,415 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 11:03:01,415 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:03:01,415 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:03:01,415 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:03:01 +08:00

2018-05-15 11:03:01,416 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:03:01,416 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:03:01,416 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:03:01 +08:00

2018-05-15 11:03:01,416 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:03:01 +08:00

2018-05-15 11:03:01,416 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 11:03:01,416 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:03:01,416 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-15 11:03:01,416 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:03:01 +08:00

2018-05-15 11:03:01,416 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:03:01,416 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:03:01,416 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:03:01 +08:00

2018-05-15 11:03:01,416 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:03:01 +08:00

2018-05-15 11:03:01,416 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 11:03:01,417 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:03:01,417 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:03:01,417 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:03:01 +08:00

2018-05-15 11:03:01,417 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:03:01,417 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:03:01,417 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:03:01 +08:00

2018-05-15 11:03:01,417 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:03:01 +08:00

2018-05-15 11:03:01,417 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Name] IN (N'平台发放',N'平台扣除',N'积分增加'))
2018-05-15 11:03:01,418 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:03:01,418 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:03:01 +08:00

2018-05-15 11:03:01,418 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:03:01,418 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:03:01,418 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:03:01 +08:00

2018-05-15 11:03:03,217 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:03:03 +08:00

2018-05-15 11:03:03,218 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-05-15 11:03:03,218 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:03:03,218 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'PlatformUser201805051709360001' (Type = String, Size = 4000)

2018-05-15 11:03:03,218 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:03:03 +08:00

2018-05-15 11:03:03,218 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:03:03,218 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:03:03,218 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:03:03 +08:00

2018-05-15 11:03:03,219 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:03:03 +08:00

2018-05-15 11:03:03,219 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 11:03:03,219 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:03:03,219 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:03:03,219 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:03:03 +08:00

2018-05-15 11:03:03,219 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:03:03,219 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:03:03,219 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:03:03 +08:00

2018-05-15 11:03:03,220 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:03:03 +08:00

2018-05-15 11:03:03,220 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-15 11:03:03,220 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:03:03,220 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:03:03 +08:00

2018-05-15 11:03:03,220 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:03:03,220 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:03:03,220 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:03:03 +08:00

2018-05-15 11:03:03,220 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:03:03 +08:00

2018-05-15 11:03:03,221 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-15 11:03:03,221 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:03:03,221 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:03:03 +08:00

2018-05-15 11:03:03,222 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:03:03,222 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:03:03,222 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:03:03 +08:00

2018-05-15 11:03:03,222 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:03:03 +08:00

2018-05-15 11:03:03,222 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-15 11:03:03,222 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:03:03,222 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 11:03:03,222 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:03:03 +08:00

2018-05-15 11:03:03,223 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:03:03,223 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:03:03,223 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:03:03 +08:00

2018-05-15 11:03:03,223 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:03:03 +08:00

2018-05-15 11:03:03,223 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-15 11:03:03,223 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:03:03,223 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:03:03 +08:00

2018-05-15 11:03:03,224 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:03:03,224 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:03:03,224 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:03:03 +08:00

2018-05-15 11:03:03,224 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:03:03 +08:00

2018-05-15 11:03:03,224 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-15 11:03:03,224 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:03:03,224 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 11:03:03,224 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2' (Type = Int64, IsNullable = false)

2018-05-15 11:03:03,225 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:03:03,225 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:03:03 +08:00

2018-05-15 11:03:03,225 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:03:03,225 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:03:03,225 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:03:03 +08:00

2018-05-15 11:03:03,226 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:03:03 +08:00

2018-05-15 11:03:03,226 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-15 11:03:03,226 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:03:03,226 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 11:03:03,226 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '3' (Type = Int64, IsNullable = false)

2018-05-15 11:03:03,226 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:03:03,226 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:03:03 +08:00

2018-05-15 11:03:03,227 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:03:03,227 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:03:03,227 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:03:03 +08:00

2018-05-15 11:03:03,227 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:03:03 +08:00

2018-05-15 11:03:03,229 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 3
    ORDER BY [Project1].[CreateTime] DESC
2018-05-15 11:03:03,229 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:03:03,229 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 11:03:03,229 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:03:03 +08:00

2018-05-15 11:03:03,233 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 4 ms with result: SqlDataReader

2018-05-15 11:03:03,233 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:03:03,234 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:03:03 +08:00

2018-05-15 11:03:03,234 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:03:03 +08:00

2018-05-15 11:03:03,234 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 11:03:03,234 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:03:03,234 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '6' (Type = Int64, IsNullable = false)

2018-05-15 11:03:03,234 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:03:03 +08:00

2018-05-15 11:03:03,234 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:03:03,234 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:03:03,234 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:03:03 +08:00

2018-05-15 11:03:03,234 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:03:03 +08:00

2018-05-15 11:03:03,234 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 11:03:03,234 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:03:03,234 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:03:03,235 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:03:03 +08:00

2018-05-15 11:03:03,235 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:03:03,235 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:03:03,235 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:03:03 +08:00

2018-05-15 11:03:03,236 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:03:03 +08:00

2018-05-15 11:03:03,236 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Name] IN (N'平台发放',N'平台扣除',N'积分增加'))
2018-05-15 11:03:03,236 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:03:03,236 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:03:03 +08:00

2018-05-15 11:03:03,236 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:03:03,236 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:03:03,236 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:03:03 +08:00

2018-05-15 11:03:45,018 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:03:45 +08:00

2018-05-15 11:03:45,018 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-05-15 11:03:45,018 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:03:45,018 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'PlatformUser201805051709360001' (Type = String, Size = 4000)

2018-05-15 11:03:45,018 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:03:45 +08:00

2018-05-15 11:03:45,019 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:03:45,019 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:03:45,019 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:03:45 +08:00

2018-05-15 11:03:45,019 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:03:45 +08:00

2018-05-15 11:03:45,019 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 11:03:45,019 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:03:45,019 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:03:45,019 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:03:45 +08:00

2018-05-15 11:03:45,020 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:03:45,020 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:03:45,020 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:03:45 +08:00

2018-05-15 11:03:45,020 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:03:45 +08:00

2018-05-15 11:03:45,020 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-15 11:03:45,020 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:03:45,020 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:03:45 +08:00

2018-05-15 11:03:45,021 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:03:45,021 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:03:45,021 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:03:45 +08:00

2018-05-15 11:03:45,021 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:03:45 +08:00

2018-05-15 11:03:45,021 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-15 11:03:45,021 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:03:45,021 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:03:45 +08:00

2018-05-15 11:03:45,021 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:03:45,022 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:03:45,022 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:03:45 +08:00

2018-05-15 11:03:45,022 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:03:45 +08:00

2018-05-15 11:03:45,022 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-15 11:03:45,022 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:03:45,022 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 11:03:45,022 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:03:45 +08:00

2018-05-15 11:03:45,022 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:03:45,023 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:03:45,023 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:03:45 +08:00

2018-05-15 11:03:45,023 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:03:45 +08:00

2018-05-15 11:03:45,023 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-15 11:03:45,023 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:03:45,023 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:03:45 +08:00

2018-05-15 11:03:45,024 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:03:45,024 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:03:45,024 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:03:45 +08:00

2018-05-15 11:03:45,024 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:03:45 +08:00

2018-05-15 11:03:45,025 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-15 11:03:45,025 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:03:45,025 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 11:03:45,025 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2' (Type = Int64, IsNullable = false)

2018-05-15 11:03:45,025 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:03:45,025 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:03:45 +08:00

2018-05-15 11:03:45,025 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:03:45,025 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:03:45,025 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:03:45 +08:00

2018-05-15 11:03:45,025 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:03:45 +08:00

2018-05-15 11:03:45,026 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-15 11:03:45,026 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:03:45,026 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 11:03:45,026 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '3' (Type = Int64, IsNullable = false)

2018-05-15 11:03:45,026 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:03:45,026 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:03:45 +08:00

2018-05-15 11:03:45,026 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:03:45,026 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:03:45,026 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:03:45 +08:00

2018-05-15 11:03:45,027 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:03:45 +08:00

2018-05-15 11:03:45,028 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 2
    ORDER BY [Project1].[CreateTime] DESC
2018-05-15 11:03:45,028 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:03:45,028 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 11:03:45,028 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:03:45 +08:00

2018-05-15 11:03:45,031 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-15 11:03:45,031 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:03:45,031 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:03:45 +08:00

2018-05-15 11:03:45,031 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:03:45 +08:00

2018-05-15 11:03:45,031 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 11:03:45,031 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:03:45,031 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:03:45,032 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:03:45 +08:00

2018-05-15 11:03:45,032 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:03:45,032 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:03:45,032 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:03:45 +08:00

2018-05-15 11:03:45,032 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:03:45 +08:00

2018-05-15 11:03:45,032 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 11:03:45,032 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:03:45,032 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-15 11:03:45,032 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:03:45 +08:00

2018-05-15 11:03:45,032 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:03:45,032 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:03:45,033 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:03:45 +08:00

2018-05-15 11:03:45,033 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:03:45 +08:00

2018-05-15 11:03:45,033 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 11:03:45,033 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:03:45,033 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:03:45,033 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:03:45 +08:00

2018-05-15 11:03:45,033 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:03:45,033 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:03:45,033 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:03:45 +08:00

2018-05-15 11:03:45,034 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:03:45 +08:00

2018-05-15 11:03:45,034 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Name] IN (N'平台发放',N'平台扣除',N'积分增加'))
2018-05-15 11:03:45,034 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:03:45,034 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:03:45 +08:00

2018-05-15 11:03:45,034 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:03:45,034 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:03:45,034 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:03:45 +08:00

2018-05-15 11:04:54,883 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:04:54 +08:00

2018-05-15 11:04:54,883 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-05-15 11:04:54,883 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:04:54,883 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'PlatformUser201805051709360001' (Type = String, Size = 4000)

2018-05-15 11:04:54,884 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:04:54 +08:00

2018-05-15 11:04:54,954 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 70 ms with result: SqlDataReader

2018-05-15 11:04:54,954 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:04:54,955 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:04:54 +08:00

2018-05-15 11:04:54,955 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:04:54 +08:00

2018-05-15 11:04:54,955 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 11:04:54,955 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:04:54,955 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:04:54,955 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:04:54 +08:00

2018-05-15 11:04:55,001 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 46 ms with result: SqlDataReader

2018-05-15 11:04:55,001 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:04:55,001 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:04:55 +08:00

2018-05-15 11:04:55,008 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:04:55 +08:00

2018-05-15 11:04:55,009 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费' = [Extent1].[Description])
2018-05-15 11:04:55,009 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:04:55,009 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:04:55 +08:00

2018-05-15 11:04:55,098 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 89 ms with result: SqlDataReader

2018-05-15 11:04:55,098 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:04:55,098 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:04:55 +08:00

2018-05-15 11:04:55,098 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:04:55 +08:00

2018-05-15 11:04:55,099 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'赠送' = [Extent1].[Description])
2018-05-15 11:04:55,099 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:04:55,099 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:04:55 +08:00

2018-05-15 11:04:55,159 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 59 ms with result: SqlDataReader

2018-05-15 11:04:55,159 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:04:55,159 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:04:55 +08:00

2018-05-15 11:04:55,160 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:04:55 +08:00

2018-05-15 11:04:55,169 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] <> [Extent1].[ToPlatformUserId]) AND ([Extent1].[JournalTypeId] IN (@p__linq__0,@p__linq__1))
    )  AS [GroupBy1]
2018-05-15 11:04:55,169 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:04:55,169 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '4' (Type = Int64, IsNullable = false)

2018-05-15 11:04:55,169 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '3' (Type = Int64, IsNullable = false)

2018-05-15 11:04:55,169 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:04:55 +08:00

2018-05-15 11:04:55,236 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 66 ms with result: SqlDataReader

2018-05-15 11:04:55,236 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:04:55,236 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:04:55 +08:00

2018-05-15 11:04:55,236 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:04:55 +08:00

2018-05-15 11:04:55,238 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] <> [Extent1].[ToPlatformUserId]) AND ([Extent1].[JournalTypeId] IN (@p__linq__0,@p__linq__1)) AND ([Extent1].[JournalTypeId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-15 11:04:55,238 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:04:55,238 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '4' (Type = Int64, IsNullable = false)

2018-05-15 11:04:55,238 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '3' (Type = Int64, IsNullable = false)

2018-05-15 11:04:55,238 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '3' (Type = Int64, IsNullable = false)

2018-05-15 11:04:55,238 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:04:55 +08:00

2018-05-15 11:04:55,243 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 4 ms with result: SqlDataReader

2018-05-15 11:04:55,243 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:04:55,243 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:04:55 +08:00

2018-05-15 11:04:55,244 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:04:55 +08:00

2018-05-15 11:04:55,244 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] <> [Extent1].[ToPlatformUserId]) AND ([Extent1].[JournalTypeId] IN (@p__linq__0,@p__linq__1)) AND ([Extent1].[JournalTypeId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-15 11:04:55,244 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:04:55,244 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '4' (Type = Int64, IsNullable = false)

2018-05-15 11:04:55,244 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '3' (Type = Int64, IsNullable = false)

2018-05-15 11:04:55,244 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '4' (Type = Int64, IsNullable = false)

2018-05-15 11:04:55,244 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:04:55 +08:00

2018-05-15 11:04:55,245 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:04:55,245 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:04:55,245 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:04:55 +08:00

2018-05-15 11:04:55,245 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:04:55 +08:00

2018-05-15 11:04:55,247 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] <> [Extent1].[ToPlatformUserId]) AND ([Extent1].[JournalTypeId] IN (@p__linq__0,@p__linq__1))
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-15 11:04:55,247 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:04:55,247 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '4' (Type = Int64, IsNullable = false)

2018-05-15 11:04:55,247 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '3' (Type = Int64, IsNullable = false)

2018-05-15 11:04:55,247 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:04:55 +08:00

2018-05-15 11:04:55,251 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2018-05-15 11:04:55,251 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:04:55,251 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:04:55 +08:00

2018-05-15 11:04:55,251 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:04:55 +08:00

2018-05-15 11:04:55,251 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 11:04:55,251 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:04:55,251 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-15 11:04:55,252 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:04:55 +08:00

2018-05-15 11:04:55,252 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:04:55,252 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:04:55,252 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:04:55 +08:00

2018-05-15 11:04:55,252 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:04:55 +08:00

2018-05-15 11:04:55,252 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 11:04:55,252 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:04:55,252 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-15 11:04:55,252 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:04:55 +08:00

2018-05-15 11:04:55,253 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:04:55,253 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:04:55,253 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:04:55 +08:00

2018-05-15 11:04:55,253 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:04:55 +08:00

2018-05-15 11:04:55,253 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 11:04:55,253 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:04:55,253 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-15 11:04:55,253 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:04:55 +08:00

2018-05-15 11:04:55,253 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:04:55,253 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:04:55,253 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:04:55 +08:00

2018-05-15 11:05:24,704 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:05:24 +08:00

2018-05-15 11:05:24,704 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-05-15 11:05:24,704 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:05:24,704 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'PlatformUser201805051709360001' (Type = String, Size = 4000)

2018-05-15 11:05:24,704 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:05:24 +08:00

2018-05-15 11:05:24,705 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:05:24,705 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:05:24,705 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:05:24 +08:00

2018-05-15 11:05:24,705 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:05:24 +08:00

2018-05-15 11:05:24,705 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 11:05:24,705 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:05:24,705 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 11:05:24,705 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:05:24 +08:00

2018-05-15 11:05:24,705 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:05:24,705 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:05:24,706 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:05:24 +08:00

2018-05-15 11:05:24,708 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:05:24 +08:00

2018-05-15 11:05:24,709 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费' = [Extent1].[Description])
2018-05-15 11:05:24,709 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:05:24,709 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:05:24 +08:00

2018-05-15 11:05:24,709 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:05:24,709 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:05:24,709 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:05:24 +08:00

2018-05-15 11:05:24,709 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:05:24 +08:00

2018-05-15 11:05:24,710 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'赠送' = [Extent1].[Description])
2018-05-15 11:05:24,710 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:05:24,710 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:05:24 +08:00

2018-05-15 11:05:24,711 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 11:05:24,711 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:05:24,711 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:05:24 +08:00

2018-05-15 11:05:24,712 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:05:24 +08:00

2018-05-15 11:05:24,790 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM  [dbo].[T_Journals] AS [Extent1]
        INNER JOIN [dbo].[T_PlatformUsers] AS [Extent2] ON [Extent1].[ToPlatformUserId] = [Extent2].[Id]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] <> [Extent1].[ToPlatformUserId]) AND ([Extent1].[JournalTypeId] IN (@p__linq__0,@p__linq__1)) AND (([Extent2].[Mobile] = @p__linq__2) OR (1 = 0))
    )  AS [GroupBy1]
2018-05-15 11:05:24,790 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:05:24,790 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '4' (Type = Int64, IsNullable = false)

2018-05-15 11:05:24,790 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '3' (Type = Int64, IsNullable = false)

2018-05-15 11:05:24,790 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '15615615661' (Type = String, Size = 4000)

2018-05-15 11:05:24,790 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:05:24 +08:00

2018-05-15 11:05:24,790 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 4 ms with result: SqlDataReader

2018-05-15 11:05:24,790 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:05:24,790 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:05:24 +08:00

2018-05-15 11:05:24,790 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:05:24 +08:00

2018-05-15 11:05:24,790 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM  [dbo].[T_Journals] AS [Extent1]
        INNER JOIN [dbo].[T_PlatformUsers] AS [Extent2] ON [Extent1].[ToPlatformUserId] = [Extent2].[Id]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] <> [Extent1].[ToPlatformUserId]) AND ([Extent1].[JournalTypeId] IN (@p__linq__0,@p__linq__1)) AND (([Extent2].[Mobile] = @p__linq__2) OR (1 = 0)) AND ([Extent1].[JournalTypeId] = @p__linq__3)
    )  AS [GroupBy1]
2018-05-15 11:05:24,790 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:05:24,790 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '4' (Type = Int64, IsNullable = false)

2018-05-15 11:05:24,790 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '3' (Type = Int64, IsNullable = false)

2018-05-15 11:05:24,790 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '15615615661' (Type = String, Size = 4000)

2018-05-15 11:05:24,790 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '3' (Type = Int64, IsNullable = false)

2018-05-15 11:05:24,790 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:05:24 +08:00

2018-05-15 11:05:24,805 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2018-05-15 11:05:24,805 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:05:24,805 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:05:24 +08:00

2018-05-15 11:05:24,805 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:05:24 +08:00

2018-05-15 11:05:24,805 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM  [dbo].[T_Journals] AS [Extent1]
        INNER JOIN [dbo].[T_PlatformUsers] AS [Extent2] ON [Extent1].[ToPlatformUserId] = [Extent2].[Id]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] <> [Extent1].[ToPlatformUserId]) AND ([Extent1].[JournalTypeId] IN (@p__linq__0,@p__linq__1)) AND (([Extent2].[Mobile] = @p__linq__2) OR (1 = 0)) AND ([Extent1].[JournalTypeId] = @p__linq__3)
    )  AS [GroupBy1]
2018-05-15 11:05:24,805 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:05:24,805 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '4' (Type = Int64, IsNullable = false)

2018-05-15 11:05:24,805 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '3' (Type = Int64, IsNullable = false)

2018-05-15 11:05:24,805 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '15615615661' (Type = String, Size = 4000)

2018-05-15 11:05:24,805 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '4' (Type = Int64, IsNullable = false)

2018-05-15 11:05:24,805 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:05:24 +08:00

2018-05-15 11:05:24,805 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:05:24,805 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:05:24,805 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:05:24 +08:00

2018-05-15 11:05:24,805 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 11:05:24 +08:00

2018-05-15 11:05:24,805 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM  [dbo].[T_Journals] AS [Extent1]
            INNER JOIN [dbo].[T_PlatformUsers] AS [Extent2] ON [Extent1].[ToPlatformUserId] = [Extent2].[Id]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] <> [Extent1].[ToPlatformUserId]) AND ([Extent1].[JournalTypeId] IN (@p__linq__0,@p__linq__1)) AND (([Extent2].[Mobile] = @p__linq__2) OR (1 = 0))
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-15 11:05:24,805 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:05:24,805 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '4' (Type = Int64, IsNullable = false)

2018-05-15 11:05:24,805 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '3' (Type = Int64, IsNullable = false)

2018-05-15 11:05:24,805 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '15615615661' (Type = String, Size = 4000)

2018-05-15 11:05:24,805 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 11:05:24 +08:00

2018-05-15 11:05:24,805 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 5 ms with result: SqlDataReader

2018-05-15 11:05:24,805 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:05:24,805 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:05:24 +08:00

2018-05-15 11:05:24,805 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:05:24 +08:00

2018-05-15 11:05:24,805 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 11:05:24,805 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:05:24,805 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-15 11:05:24,805 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:05:24 +08:00

2018-05-15 11:05:24,805 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:05:24,805 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:05:24,805 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:05:24 +08:00

2018-05-15 11:05:24,805 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:05:24 +08:00

2018-05-15 11:05:24,805 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 11:05:24,805 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:05:24,805 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-15 11:05:24,805 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 11:05:24 +08:00

2018-05-15 11:05:24,805 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 11:05:24,805 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:05:24,805 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 11:05:24 +08:00

2018-05-15 11:05:24,805 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 11:05:24 +08:00

2018-05-15 11:05:24,805 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 11:05:24,805 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 11:05:24,805 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

