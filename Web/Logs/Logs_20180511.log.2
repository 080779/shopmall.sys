2018-05-11 09:31:21,301 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:21,310 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:31:21 +08:00

2018-05-11 09:31:21,310 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:31:21 +08:00

2018-05-11 09:31:21,310 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:31:21,311 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:21,311 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-11 09:31:21,311 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:31:21 +08:00

2018-05-11 09:31:21,312 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:31:21,312 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:21,312 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:31:21 +08:00

2018-05-11 09:31:21,312 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:31:21 +08:00

2018-05-11 09:31:21,312 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:31:21,312 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:21,312 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '4' (Type = Int64, IsNullable = false)

2018-05-11 09:31:21,312 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:31:21 +08:00

2018-05-11 09:31:21,313 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:31:21,313 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:21,313 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:31:21 +08:00

2018-05-11 09:31:21,313 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:31:21 +08:00

2018-05-11 09:31:21,314 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:31:21,314 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:21,314 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:31:21,314 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:31:21 +08:00

2018-05-11 09:31:21,314 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:31:21,314 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:21,314 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:31:21 +08:00

2018-05-11 09:31:21,314 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:31:21 +08:00

2018-05-11 09:31:21,315 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'积分增加' <> [Extent1].[Name])
2018-05-11 09:31:21,315 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:21,315 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:31:21 +08:00

2018-05-11 09:31:21,315 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:31:21,315 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:21,315 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:31:21 +08:00

2018-05-11 09:31:21,316 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:31:21 +08:00

2018-05-11 09:31:21,316 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2018-05-11 09:31:21,316 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:21,316 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:31:21,316 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:31:21 +08:00

2018-05-11 09:31:21,316 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:31:21,316 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:21,316 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:31:21 +08:00

2018-05-11 09:31:21,317 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:31:21 +08:00

2018-05-11 09:31:21,317 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:31:21,317 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:21,317 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:31:21,317 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:31:21 +08:00

2018-05-11 09:31:21,317 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:31:21,317 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:21,317 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:31:21 +08:00

2018-05-11 09:31:21,696 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:31:21 +08:00

2018-05-11 09:31:21,697 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-11 09:31:21,697 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:21,697 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:31:21 +08:00

2018-05-11 09:31:21,697 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:31:21,697 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:21,697 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:31:21 +08:00

2018-05-11 09:31:21,697 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:31:21 +08:00

2018-05-11 09:31:21,697 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-11 09:31:21,697 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:21,697 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:31:21 +08:00

2018-05-11 09:31:21,698 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:31:21,698 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:21,698 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:31:21 +08:00

2018-05-11 09:31:21,698 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:31:21 +08:00

2018-05-11 09:31:21,698 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-11 09:31:21,698 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:21,698 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:31:21,698 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:31:21 +08:00

2018-05-11 09:31:21,698 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:31:21,698 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:21,698 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:31:21 +08:00

2018-05-11 09:31:21,699 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:31:21 +08:00

2018-05-11 09:31:21,699 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-11 09:31:21,699 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:21,699 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:31:21 +08:00

2018-05-11 09:31:21,699 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:31:21,699 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:21,699 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:31:21 +08:00

2018-05-11 09:31:21,700 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:31:21 +08:00

2018-05-11 09:31:21,700 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-11 09:31:21,700 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:21,700 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:31:21,700 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:31:21,700 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-11 09:31:21,700 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:31:21 +08:00

2018-05-11 09:31:21,700 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:31:21,700 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:21,700 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:31:21 +08:00

2018-05-11 09:31:21,701 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:31:21 +08:00

2018-05-11 09:31:21,701 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-11 09:31:21,701 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:21,701 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:31:21,701 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '3' (Type = Int64, IsNullable = false)

2018-05-11 09:31:21,701 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-11 09:31:21,701 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:31:21 +08:00

2018-05-11 09:31:21,701 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:31:21,701 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:21,701 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:31:21 +08:00

2018-05-11 09:31:21,702 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:31:21 +08:00

2018-05-11 09:31:21,702 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 2
    ORDER BY [Project1].[CreateTime] DESC
2018-05-11 09:31:21,702 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:21,702 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:31:21,702 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:31:21 +08:00

2018-05-11 09:31:21,703 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:31:21,703 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:21,703 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:31:21 +08:00

2018-05-11 09:31:21,703 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:31:21 +08:00

2018-05-11 09:31:21,703 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:31:21,703 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:21,703 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '5' (Type = Int64, IsNullable = false)

2018-05-11 09:31:21,703 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:31:21 +08:00

2018-05-11 09:31:21,703 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:31:21,703 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:21,704 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:31:21 +08:00

2018-05-11 09:31:21,704 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:31:21 +08:00

2018-05-11 09:31:21,704 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:31:21,704 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:21,704 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '4' (Type = Int64, IsNullable = false)

2018-05-11 09:31:21,704 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:31:21 +08:00

2018-05-11 09:31:21,704 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:31:21,704 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:21,704 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:31:21 +08:00

2018-05-11 09:31:21,704 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:31:21 +08:00

2018-05-11 09:31:21,704 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:31:21,704 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:21,704 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:31:21,704 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:31:21 +08:00

2018-05-11 09:31:21,705 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:31:21,705 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:21,705 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:31:21 +08:00

2018-05-11 09:31:21,705 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:31:21 +08:00

2018-05-11 09:31:21,705 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'积分增加' <> [Extent1].[Name])
2018-05-11 09:31:21,705 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:21,705 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:31:21 +08:00

2018-05-11 09:31:21,706 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:31:21,706 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:21,706 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:31:21 +08:00

2018-05-11 09:31:21,706 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:31:21 +08:00

2018-05-11 09:31:21,706 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2018-05-11 09:31:21,706 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:21,706 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:31:21,706 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:31:21 +08:00

2018-05-11 09:31:21,707 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:31:21,707 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:21,707 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:31:21 +08:00

2018-05-11 09:31:21,707 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:31:21 +08:00

2018-05-11 09:31:21,707 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:31:21,707 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:21,707 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:31:21,707 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:31:21 +08:00

2018-05-11 09:31:21,707 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:31:21,707 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:21,708 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:31:21 +08:00

2018-05-11 09:31:22,202 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:31:22 +08:00

2018-05-11 09:31:22,203 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-11 09:31:22,203 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:22,203 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:31:22 +08:00

2018-05-11 09:31:22,203 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:31:22,203 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:22,203 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:31:22 +08:00

2018-05-11 09:31:22,203 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:31:22 +08:00

2018-05-11 09:31:22,204 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-11 09:31:22,204 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:22,204 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:31:22 +08:00

2018-05-11 09:31:22,204 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:31:22,204 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:22,204 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:31:22 +08:00

2018-05-11 09:31:22,204 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:31:22 +08:00

2018-05-11 09:31:22,204 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-11 09:31:22,204 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:22,204 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:31:22,205 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:31:22 +08:00

2018-05-11 09:31:22,205 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:31:22,205 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:22,205 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:31:22 +08:00

2018-05-11 09:31:22,205 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:31:22 +08:00

2018-05-11 09:31:22,205 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-11 09:31:22,205 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:22,205 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:31:22 +08:00

2018-05-11 09:31:22,206 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:31:22,206 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:22,206 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:31:22 +08:00

2018-05-11 09:31:22,206 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:31:22 +08:00

2018-05-11 09:31:22,207 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-11 09:31:22,207 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:22,207 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:31:22,207 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:31:22,207 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-11 09:31:22,207 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:31:22 +08:00

2018-05-11 09:31:22,207 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:31:22,207 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:22,207 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:31:22 +08:00

2018-05-11 09:31:22,207 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:31:22 +08:00

2018-05-11 09:31:22,208 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-11 09:31:22,208 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:22,208 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:31:22,208 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '3' (Type = Int64, IsNullable = false)

2018-05-11 09:31:22,208 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-11 09:31:22,208 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:31:22 +08:00

2018-05-11 09:31:22,208 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:31:22,208 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:22,208 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:31:22 +08:00

2018-05-11 09:31:22,208 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:31:22 +08:00

2018-05-11 09:31:22,209 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 3
    ORDER BY [Project1].[CreateTime] DESC
2018-05-11 09:31:22,209 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:22,209 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:31:22,209 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:31:22 +08:00

2018-05-11 09:31:22,209 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:31:22,209 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:22,209 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:31:22 +08:00

2018-05-11 09:31:22,210 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:31:22 +08:00

2018-05-11 09:31:22,210 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:31:22,210 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:22,210 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:31:22,210 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:31:22 +08:00

2018-05-11 09:31:22,210 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:31:22,210 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:22,210 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:31:22 +08:00

2018-05-11 09:31:22,210 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:31:22 +08:00

2018-05-11 09:31:22,211 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:31:22,211 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:22,211 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-11 09:31:22,211 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:31:22 +08:00

2018-05-11 09:31:22,211 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:31:22,211 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:22,211 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:31:22 +08:00

2018-05-11 09:31:22,211 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:31:22 +08:00

2018-05-11 09:31:22,211 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:31:22,211 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:22,211 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '5' (Type = Int64, IsNullable = false)

2018-05-11 09:31:22,211 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:31:22 +08:00

2018-05-11 09:31:22,212 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:31:22,212 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:22,212 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:31:22 +08:00

2018-05-11 09:31:22,212 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:31:22 +08:00

2018-05-11 09:31:22,212 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'积分增加' <> [Extent1].[Name])
2018-05-11 09:31:22,212 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:22,212 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:31:22 +08:00

2018-05-11 09:31:22,213 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:31:22,213 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:22,213 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:31:22 +08:00

2018-05-11 09:31:22,213 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:31:22 +08:00

2018-05-11 09:31:22,213 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2018-05-11 09:31:22,213 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:22,214 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:31:22,214 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:31:22 +08:00

2018-05-11 09:31:22,214 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:31:22,214 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:22,214 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:31:22 +08:00

2018-05-11 09:31:22,214 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:31:22 +08:00

2018-05-11 09:31:22,214 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:31:22,214 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:22,214 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:31:22,214 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:31:22 +08:00

2018-05-11 09:31:22,215 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:31:22,215 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:22,215 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:31:22 +08:00

2018-05-11 09:31:23,171 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:31:23 +08:00

2018-05-11 09:31:23,172 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-11 09:31:23,172 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:23,172 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:31:23 +08:00

2018-05-11 09:31:23,172 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:31:23,172 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:23,172 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:31:23 +08:00

2018-05-11 09:31:23,172 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:31:23 +08:00

2018-05-11 09:31:23,172 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-11 09:31:23,172 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:23,172 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:31:23 +08:00

2018-05-11 09:31:23,173 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:31:23,173 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:23,173 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:31:23 +08:00

2018-05-11 09:31:23,173 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:31:23 +08:00

2018-05-11 09:31:23,174 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-11 09:31:23,174 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:23,174 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:31:23,174 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:31:23 +08:00

2018-05-11 09:31:23,174 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:31:23,174 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:23,174 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:31:23 +08:00

2018-05-11 09:31:23,175 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:31:23 +08:00

2018-05-11 09:31:23,175 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-11 09:31:23,175 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:23,175 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:31:23 +08:00

2018-05-11 09:31:23,175 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:31:23,175 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:23,175 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:31:23 +08:00

2018-05-11 09:31:23,176 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:31:23 +08:00

2018-05-11 09:31:23,176 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-11 09:31:23,176 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:23,176 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:31:23,176 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:31:23,176 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-11 09:31:23,176 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:31:23 +08:00

2018-05-11 09:31:23,176 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:31:23,176 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:23,176 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:31:23 +08:00

2018-05-11 09:31:23,177 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:31:23 +08:00

2018-05-11 09:31:23,177 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-11 09:31:23,177 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:23,177 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:31:23,177 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '3' (Type = Int64, IsNullable = false)

2018-05-11 09:31:23,177 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-11 09:31:23,177 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:31:23 +08:00

2018-05-11 09:31:23,178 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:31:23,178 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:23,178 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:31:23 +08:00

2018-05-11 09:31:23,178 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:31:23 +08:00

2018-05-11 09:31:23,179 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 4
    ORDER BY [Project1].[CreateTime] DESC
2018-05-11 09:31:23,179 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:23,179 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:31:23,179 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:31:23 +08:00

2018-05-11 09:31:23,179 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:31:23,179 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:23,179 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:31:23 +08:00

2018-05-11 09:31:23,180 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:31:23 +08:00

2018-05-11 09:31:23,180 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:31:23,180 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:23,180 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:31:23,180 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:31:23 +08:00

2018-05-11 09:31:23,180 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:31:23,180 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:23,180 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:31:23 +08:00

2018-05-11 09:31:23,180 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:31:23 +08:00

2018-05-11 09:31:23,180 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:31:23,180 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:23,180 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-11 09:31:23,180 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:31:23 +08:00

2018-05-11 09:31:23,180 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:31:23,180 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:23,181 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:31:23 +08:00

2018-05-11 09:31:23,181 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:31:23 +08:00

2018-05-11 09:31:23,181 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:31:23,181 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:23,181 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-11 09:31:23,181 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:31:23 +08:00

2018-05-11 09:31:23,181 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:31:23,181 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:23,181 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:31:23 +08:00

2018-05-11 09:31:23,182 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:31:23 +08:00

2018-05-11 09:31:23,182 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'积分增加' <> [Extent1].[Name])
2018-05-11 09:31:23,182 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:23,182 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:31:23 +08:00

2018-05-11 09:31:23,182 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:31:23,182 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:23,182 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:31:23 +08:00

2018-05-11 09:31:23,183 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:31:23 +08:00

2018-05-11 09:31:23,183 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2018-05-11 09:31:23,183 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:23,183 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:31:23,183 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:31:23 +08:00

2018-05-11 09:31:23,183 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:31:23,183 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:23,184 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:31:23 +08:00

2018-05-11 09:31:23,184 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:31:23 +08:00

2018-05-11 09:31:23,184 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:31:23,184 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:23,184 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:31:23,184 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:31:23 +08:00

2018-05-11 09:31:23,184 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:31:23,184 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:23,184 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:31:23 +08:00

2018-05-11 09:31:23,605 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:31:23 +08:00

2018-05-11 09:31:23,605 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-11 09:31:23,605 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:23,605 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:31:23 +08:00

2018-05-11 09:31:23,606 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:31:23,606 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:23,606 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:31:23 +08:00

2018-05-11 09:31:23,606 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:31:23 +08:00

2018-05-11 09:31:23,606 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-11 09:31:23,606 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:23,606 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:31:23 +08:00

2018-05-11 09:31:23,606 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:31:23,606 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:23,607 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:31:23 +08:00

2018-05-11 09:31:23,607 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:31:23 +08:00

2018-05-11 09:31:23,607 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-11 09:31:23,607 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:23,607 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:31:23,607 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:31:23 +08:00

2018-05-11 09:31:23,607 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:31:23,607 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:23,607 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:31:23 +08:00

2018-05-11 09:31:23,608 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:31:23 +08:00

2018-05-11 09:31:23,608 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-11 09:31:23,608 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:23,608 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:31:23 +08:00

2018-05-11 09:31:23,608 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:31:23,608 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:23,608 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:31:23 +08:00

2018-05-11 09:31:23,609 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:31:23 +08:00

2018-05-11 09:31:23,609 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-11 09:31:23,609 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:23,609 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:31:23,609 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:31:23,609 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-11 09:31:23,609 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:31:23 +08:00

2018-05-11 09:31:23,609 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:31:23,609 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:23,610 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:31:23 +08:00

2018-05-11 09:31:23,610 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:31:23 +08:00

2018-05-11 09:31:23,610 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-11 09:31:23,610 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:23,610 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:31:23,610 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '3' (Type = Int64, IsNullable = false)

2018-05-11 09:31:23,610 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-11 09:31:23,610 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:31:23 +08:00

2018-05-11 09:31:23,610 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:31:23,610 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:23,613 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:31:23 +08:00

2018-05-11 09:31:23,613 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:31:23 +08:00

2018-05-11 09:31:23,613 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 5
    ORDER BY [Project1].[CreateTime] DESC
2018-05-11 09:31:23,614 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:23,614 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:31:23,614 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:31:23 +08:00

2018-05-11 09:31:23,614 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:31:23,614 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:23,615 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:31:23 +08:00

2018-05-11 09:31:23,615 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:31:23 +08:00

2018-05-11 09:31:23,615 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:31:23,615 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:23,615 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:31:23,615 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:31:23 +08:00

2018-05-11 09:31:23,615 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:31:23,615 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:23,615 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:31:23 +08:00

2018-05-11 09:31:23,615 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:31:23 +08:00

2018-05-11 09:31:23,615 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:31:23,615 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:23,615 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-11 09:31:23,616 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:31:23 +08:00

2018-05-11 09:31:23,616 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:31:23,616 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:23,616 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:31:23 +08:00

2018-05-11 09:31:23,616 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:31:23 +08:00

2018-05-11 09:31:23,616 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:31:23,616 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:23,616 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-11 09:31:23,616 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:31:23 +08:00

2018-05-11 09:31:23,616 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:31:23,616 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:23,616 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:31:23 +08:00

2018-05-11 09:31:23,617 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:31:23 +08:00

2018-05-11 09:31:23,617 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'积分增加' <> [Extent1].[Name])
2018-05-11 09:31:23,617 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:23,617 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:31:23 +08:00

2018-05-11 09:31:23,617 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:31:23,617 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:23,618 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:31:23 +08:00

2018-05-11 09:31:23,618 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:31:23 +08:00

2018-05-11 09:31:23,618 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2018-05-11 09:31:23,618 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:23,618 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:31:23,618 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:31:23 +08:00

2018-05-11 09:31:23,619 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:31:23,619 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:23,619 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:31:23 +08:00

2018-05-11 09:31:23,619 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:31:23 +08:00

2018-05-11 09:31:23,619 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:31:23,619 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:23,619 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:31:23,619 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:31:23 +08:00

2018-05-11 09:31:23,619 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:31:23,619 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:23,619 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:31:23 +08:00

2018-05-11 09:31:24,662 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:31:24 +08:00

2018-05-11 09:31:24,663 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-11 09:31:24,663 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:24,663 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:31:24 +08:00

2018-05-11 09:31:24,663 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:31:24,663 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:24,663 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:31:24 +08:00

2018-05-11 09:31:24,663 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:31:24 +08:00

2018-05-11 09:31:24,663 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-11 09:31:24,663 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:24,663 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:31:24 +08:00

2018-05-11 09:31:24,664 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:31:24,664 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:24,664 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:31:24 +08:00

2018-05-11 09:31:24,664 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:31:24 +08:00

2018-05-11 09:31:24,664 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-11 09:31:24,664 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:24,664 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:31:24,664 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:31:24 +08:00

2018-05-11 09:31:24,665 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:31:24,665 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:24,665 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:31:24 +08:00

2018-05-11 09:31:24,665 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:31:24 +08:00

2018-05-11 09:31:24,665 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-11 09:31:24,665 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:24,665 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:31:24 +08:00

2018-05-11 09:31:24,666 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:31:24,666 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:24,666 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:31:24 +08:00

2018-05-11 09:31:24,666 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:31:24 +08:00

2018-05-11 09:31:24,666 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-11 09:31:24,666 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:24,666 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:31:24,666 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:31:24,666 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-11 09:31:24,666 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:31:24 +08:00

2018-05-11 09:31:24,667 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:31:24,667 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:24,667 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:31:24 +08:00

2018-05-11 09:31:24,667 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:31:24 +08:00

2018-05-11 09:31:24,667 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-11 09:31:24,667 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:24,668 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:31:24,668 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '3' (Type = Int64, IsNullable = false)

2018-05-11 09:31:24,668 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-11 09:31:24,668 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:31:24 +08:00

2018-05-11 09:31:24,668 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:31:24,668 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:24,668 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:31:24 +08:00

2018-05-11 09:31:24,668 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:31:24 +08:00

2018-05-11 09:31:24,668 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 6
    ORDER BY [Project1].[CreateTime] DESC
2018-05-11 09:31:24,669 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:24,669 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:31:24,669 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:31:24 +08:00

2018-05-11 09:31:24,669 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:31:24,669 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:24,669 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:31:24 +08:00

2018-05-11 09:31:24,669 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:31:24 +08:00

2018-05-11 09:31:24,669 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:31:24,669 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:24,669 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-11 09:31:24,669 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:31:24 +08:00

2018-05-11 09:31:24,670 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:31:24,670 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:24,670 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:31:24 +08:00

2018-05-11 09:31:24,670 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:31:24 +08:00

2018-05-11 09:31:24,670 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:31:24,670 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:24,670 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:31:24,670 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:31:24 +08:00

2018-05-11 09:31:24,670 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:31:24,670 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:24,670 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:31:24 +08:00

2018-05-11 09:31:24,671 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:31:24 +08:00

2018-05-11 09:31:24,671 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'积分增加' <> [Extent1].[Name])
2018-05-11 09:31:24,671 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:24,671 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:31:24 +08:00

2018-05-11 09:31:24,671 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:31:24,671 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:24,672 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:31:24 +08:00

2018-05-11 09:31:24,672 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:31:24 +08:00

2018-05-11 09:31:24,672 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2018-05-11 09:31:24,672 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:24,672 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:31:24,672 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:31:24 +08:00

2018-05-11 09:31:24,673 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:31:24,673 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:24,673 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:31:24 +08:00

2018-05-11 09:31:24,673 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:31:24 +08:00

2018-05-11 09:31:24,673 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:31:24,673 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:24,673 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:31:24,673 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:31:24 +08:00

2018-05-11 09:31:24,673 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:31:24,673 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:24,673 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:31:24 +08:00

2018-05-11 09:31:25,103 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:31:25 +08:00

2018-05-11 09:31:25,103 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-11 09:31:25,103 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:25,103 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:31:25 +08:00

2018-05-11 09:31:25,103 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:31:25,103 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:25,104 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:31:25 +08:00

2018-05-11 09:31:25,104 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:31:25 +08:00

2018-05-11 09:31:25,104 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-11 09:31:25,104 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:25,104 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:31:25 +08:00

2018-05-11 09:31:25,104 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:31:25,104 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:25,104 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:31:25 +08:00

2018-05-11 09:31:25,104 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:31:25 +08:00

2018-05-11 09:31:25,105 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-11 09:31:25,105 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:25,105 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:31:25,105 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:31:25 +08:00

2018-05-11 09:31:25,105 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:31:25,105 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:25,105 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:31:25 +08:00

2018-05-11 09:31:25,105 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:31:25 +08:00

2018-05-11 09:31:25,106 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-11 09:31:25,106 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:25,106 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:31:25 +08:00

2018-05-11 09:31:25,106 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:31:25,106 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:25,106 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:31:25 +08:00

2018-05-11 09:31:25,106 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:31:25 +08:00

2018-05-11 09:31:25,107 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-11 09:31:25,107 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:25,107 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:31:25,107 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:31:25,107 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-11 09:31:25,107 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:31:25 +08:00

2018-05-11 09:31:25,107 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:31:25,107 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:25,107 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:31:25 +08:00

2018-05-11 09:31:25,107 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:31:25 +08:00

2018-05-11 09:31:25,108 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-11 09:31:25,108 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:25,108 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:31:25,108 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '3' (Type = Int64, IsNullable = false)

2018-05-11 09:31:25,108 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-11 09:31:25,108 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:31:25 +08:00

2018-05-11 09:31:25,108 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:31:25,108 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:25,108 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:31:25 +08:00

2018-05-11 09:31:25,109 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:31:25 +08:00

2018-05-11 09:31:25,109 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 8
    ORDER BY [Project1].[CreateTime] DESC
2018-05-11 09:31:25,109 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:25,109 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:31:25,109 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:31:25 +08:00

2018-05-11 09:31:25,109 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:31:25,109 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:25,110 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:31:25 +08:00

2018-05-11 09:31:25,110 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:31:25 +08:00

2018-05-11 09:31:25,110 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:31:25,110 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:25,110 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:31:25,110 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:31:25 +08:00

2018-05-11 09:31:25,110 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:31:25,110 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:25,110 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:31:25 +08:00

2018-05-11 09:31:25,110 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:31:25 +08:00

2018-05-11 09:31:25,111 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:31:25,111 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:25,111 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '5' (Type = Int64, IsNullable = false)

2018-05-11 09:31:25,111 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:31:25 +08:00

2018-05-11 09:31:25,111 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:31:25,111 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:25,111 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:31:25 +08:00

2018-05-11 09:31:25,111 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:31:25 +08:00

2018-05-11 09:31:25,112 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'积分增加' <> [Extent1].[Name])
2018-05-11 09:31:25,112 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:25,112 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:31:25 +08:00

2018-05-11 09:31:25,112 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:31:25,112 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:25,112 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:31:25 +08:00

2018-05-11 09:31:25,113 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:31:25 +08:00

2018-05-11 09:31:25,113 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2018-05-11 09:31:25,113 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:25,113 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:31:25,113 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:31:25 +08:00

2018-05-11 09:31:25,113 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:31:25,113 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:25,113 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:31:25 +08:00

2018-05-11 09:31:25,113 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:31:25 +08:00

2018-05-11 09:31:25,114 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:31:25,114 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:25,114 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:31:25,114 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:31:25 +08:00

2018-05-11 09:31:25,114 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:31:25,114 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:25,114 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:31:25 +08:00

2018-05-11 09:31:25,865 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:31:25 +08:00

2018-05-11 09:31:25,866 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-11 09:31:25,866 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:25,866 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:31:25 +08:00

2018-05-11 09:31:25,866 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:31:25,866 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:25,866 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:31:25 +08:00

2018-05-11 09:31:25,866 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:31:25 +08:00

2018-05-11 09:31:25,866 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-11 09:31:25,866 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:25,866 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:31:25 +08:00

2018-05-11 09:31:25,867 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:31:25,867 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:25,867 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:31:25 +08:00

2018-05-11 09:31:25,867 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:31:25 +08:00

2018-05-11 09:31:25,867 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-11 09:31:25,867 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:25,867 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:31:25,867 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:31:25 +08:00

2018-05-11 09:31:25,868 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:31:25,868 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:25,868 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:31:25 +08:00

2018-05-11 09:31:25,868 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:31:25 +08:00

2018-05-11 09:31:25,868 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-11 09:31:25,868 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:25,868 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:31:25 +08:00

2018-05-11 09:31:25,868 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:31:25,868 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:25,869 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:31:25 +08:00

2018-05-11 09:31:25,869 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:31:25 +08:00

2018-05-11 09:31:25,869 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-11 09:31:25,869 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:25,869 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:31:25,869 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:31:25,869 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-11 09:31:25,869 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:31:25 +08:00

2018-05-11 09:31:25,870 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:31:25,870 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:25,870 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:31:25 +08:00

2018-05-11 09:31:25,870 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:31:25 +08:00

2018-05-11 09:31:25,870 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-11 09:31:25,870 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:25,870 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:31:25,870 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '3' (Type = Int64, IsNullable = false)

2018-05-11 09:31:25,870 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-11 09:31:25,870 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:31:25 +08:00

2018-05-11 09:31:25,871 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:31:25,871 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:25,871 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:31:25 +08:00

2018-05-11 09:31:25,871 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:31:25 +08:00

2018-05-11 09:31:25,871 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 9
    ORDER BY [Project1].[CreateTime] DESC
2018-05-11 09:31:25,871 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:25,871 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:31:25,871 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:31:25 +08:00

2018-05-11 09:31:25,872 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:31:25,872 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:25,872 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:31:25 +08:00

2018-05-11 09:31:25,872 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:31:25 +08:00

2018-05-11 09:31:25,872 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:31:25,873 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:25,873 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-11 09:31:25,873 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:31:25 +08:00

2018-05-11 09:31:25,873 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:31:25,873 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:25,873 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:31:25 +08:00

2018-05-11 09:31:25,873 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:31:25 +08:00

2018-05-11 09:31:25,873 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:31:25,873 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:25,873 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '4' (Type = Int64, IsNullable = false)

2018-05-11 09:31:25,873 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:31:25 +08:00

2018-05-11 09:31:25,873 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:31:25,873 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:25,874 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:31:25 +08:00

2018-05-11 09:31:25,874 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:31:25 +08:00

2018-05-11 09:31:25,874 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:31:25,874 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:25,874 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:31:25,874 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:31:25 +08:00

2018-05-11 09:31:25,874 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:31:25,874 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:25,874 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:31:25 +08:00

2018-05-11 09:31:25,875 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:31:25 +08:00

2018-05-11 09:31:25,875 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'积分增加' <> [Extent1].[Name])
2018-05-11 09:31:25,875 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:25,875 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:31:25 +08:00

2018-05-11 09:31:25,875 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:31:25,875 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:25,876 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:31:25 +08:00

2018-05-11 09:31:25,876 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:31:25 +08:00

2018-05-11 09:31:25,876 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2018-05-11 09:31:25,876 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:25,876 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:31:25,876 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:31:25 +08:00

2018-05-11 09:31:25,877 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:31:25,877 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:25,877 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:31:25 +08:00

2018-05-11 09:31:25,877 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:31:25 +08:00

2018-05-11 09:31:25,877 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:31:25,877 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:25,878 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:31:25,878 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:31:25 +08:00

2018-05-11 09:31:25,878 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:31:25,878 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:25,878 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:31:25 +08:00

2018-05-11 09:31:26,371 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:31:26 +08:00

2018-05-11 09:31:26,371 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-11 09:31:26,371 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:26,371 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:31:26 +08:00

2018-05-11 09:31:26,372 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:31:26,372 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:26,372 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:31:26 +08:00

2018-05-11 09:31:26,372 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:31:26 +08:00

2018-05-11 09:31:26,372 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-11 09:31:26,372 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:26,372 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:31:26 +08:00

2018-05-11 09:31:26,373 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:31:26,373 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:26,373 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:31:26 +08:00

2018-05-11 09:31:26,373 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:31:26 +08:00

2018-05-11 09:31:26,373 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-11 09:31:26,373 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:26,373 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:31:26,373 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:31:26 +08:00

2018-05-11 09:31:26,373 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:31:26,374 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:26,374 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:31:26 +08:00

2018-05-11 09:31:26,374 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:31:26 +08:00

2018-05-11 09:31:26,374 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-11 09:31:26,374 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:26,374 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:31:26 +08:00

2018-05-11 09:31:26,374 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:31:26,374 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:26,375 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:31:26 +08:00

2018-05-11 09:31:26,375 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:31:26 +08:00

2018-05-11 09:31:26,375 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-11 09:31:26,375 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:26,375 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:31:26,375 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:31:26,375 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-11 09:31:26,375 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:31:26 +08:00

2018-05-11 09:31:26,376 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:31:26,376 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:26,376 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:31:26 +08:00

2018-05-11 09:31:26,376 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:31:26 +08:00

2018-05-11 09:31:26,376 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-11 09:31:26,376 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:26,376 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:31:26,376 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '3' (Type = Int64, IsNullable = false)

2018-05-11 09:31:26,376 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-11 09:31:26,376 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:31:26 +08:00

2018-05-11 09:31:26,377 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:31:26,377 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:26,377 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:31:26 +08:00

2018-05-11 09:31:26,377 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:31:26 +08:00

2018-05-11 09:31:26,377 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 11
    ORDER BY [Project1].[CreateTime] DESC
2018-05-11 09:31:26,377 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:26,377 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:31:26,377 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:31:26 +08:00

2018-05-11 09:31:26,378 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:31:26,378 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:26,378 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:31:26 +08:00

2018-05-11 09:31:26,379 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:31:26 +08:00

2018-05-11 09:31:26,379 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:31:26,379 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:26,379 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:31:26,379 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:31:26 +08:00

2018-05-11 09:31:26,379 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:31:26,379 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:26,379 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:31:26 +08:00

2018-05-11 09:31:26,379 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:31:26 +08:00

2018-05-11 09:31:26,379 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:31:26,379 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:26,379 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:31:26,379 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:31:26 +08:00

2018-05-11 09:31:26,380 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:31:26,380 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:26,380 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:31:26 +08:00

2018-05-11 09:31:26,380 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:31:26 +08:00

2018-05-11 09:31:26,380 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'积分增加' <> [Extent1].[Name])
2018-05-11 09:31:26,380 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:26,381 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:31:26 +08:00

2018-05-11 09:31:26,381 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:31:26,381 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:26,381 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:31:26 +08:00

2018-05-11 09:31:26,381 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:31:26 +08:00

2018-05-11 09:31:26,382 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2018-05-11 09:31:26,382 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:26,382 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:31:26,382 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:31:26 +08:00

2018-05-11 09:31:26,382 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:31:26,382 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:26,382 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:31:26 +08:00

2018-05-11 09:31:26,382 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:31:26 +08:00

2018-05-11 09:31:26,382 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:31:26,382 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:26,382 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:31:26,382 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:31:26 +08:00

2018-05-11 09:31:26,383 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:31:26,383 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:26,383 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:31:26 +08:00

2018-05-11 09:31:31,946 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:31:31 +08:00

2018-05-11 09:31:31,946 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-11 09:31:31,946 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:31,947 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:31:31 +08:00

2018-05-11 09:31:31,947 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:31:31,947 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:31,947 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:31:31 +08:00

2018-05-11 09:31:31,947 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:31:31 +08:00

2018-05-11 09:31:31,947 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-11 09:31:31,947 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:31,947 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:31:31 +08:00

2018-05-11 09:31:31,948 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:31:31,948 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:31,948 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:31:31 +08:00

2018-05-11 09:31:31,948 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:31:31 +08:00

2018-05-11 09:31:31,948 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-11 09:31:31,948 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:31,948 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:31:31,948 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:31:31 +08:00

2018-05-11 09:31:31,949 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:31:31,949 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:31,949 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:31:31 +08:00

2018-05-11 09:31:31,949 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:31:31 +08:00

2018-05-11 09:31:31,949 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-11 09:31:31,949 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:31,949 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:31:31 +08:00

2018-05-11 09:31:31,950 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:31:31,950 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:31,950 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:31:31 +08:00

2018-05-11 09:31:31,950 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:31:31 +08:00

2018-05-11 09:31:31,950 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-11 09:31:31,950 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:31,950 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:31:31,950 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:31:31,950 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-11 09:31:31,950 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:31:31 +08:00

2018-05-11 09:31:31,951 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:31:31,951 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:31,951 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:31:31 +08:00

2018-05-11 09:31:31,951 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:31:31 +08:00

2018-05-11 09:31:31,951 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-11 09:31:31,951 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:31,951 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:31:31,951 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '3' (Type = Int64, IsNullable = false)

2018-05-11 09:31:31,952 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-11 09:31:31,952 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:31:31 +08:00

2018-05-11 09:31:31,952 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:31:31,952 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:31,952 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:31:31 +08:00

2018-05-11 09:31:31,952 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:31:31 +08:00

2018-05-11 09:31:31,952 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 9
    ORDER BY [Project1].[CreateTime] DESC
2018-05-11 09:31:31,952 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:31,953 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:31:31,953 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:31:31 +08:00

2018-05-11 09:31:31,953 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:31:31,953 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:31,953 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:31:31 +08:00

2018-05-11 09:31:31,953 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:31:31 +08:00

2018-05-11 09:31:31,953 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:31:31,953 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:31,953 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-11 09:31:31,953 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:31:31 +08:00

2018-05-11 09:31:31,954 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:31:31,954 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:31,954 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:31:31 +08:00

2018-05-11 09:31:31,954 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:31:31 +08:00

2018-05-11 09:31:31,954 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:31:31,954 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:31,954 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '4' (Type = Int64, IsNullable = false)

2018-05-11 09:31:31,954 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:31:31 +08:00

2018-05-11 09:31:31,954 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:31:31,954 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:31,954 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:31:31 +08:00

2018-05-11 09:31:31,955 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:31:31 +08:00

2018-05-11 09:31:31,955 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:31:31,955 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:31,955 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:31:31,955 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:31:31 +08:00

2018-05-11 09:31:31,955 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:31:31,955 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:31,955 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:31:31 +08:00

2018-05-11 09:31:31,955 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:31:31 +08:00

2018-05-11 09:31:31,956 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'积分增加' <> [Extent1].[Name])
2018-05-11 09:31:31,956 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:31,956 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:31:31 +08:00

2018-05-11 09:31:31,956 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:31:31,956 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:31,956 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:31:31 +08:00

2018-05-11 09:31:31,956 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:31:31 +08:00

2018-05-11 09:31:31,957 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2018-05-11 09:31:31,957 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:31,957 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:31:31,957 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:31:31 +08:00

2018-05-11 09:31:31,957 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:31:31,957 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:31,957 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:31:31 +08:00

2018-05-11 09:31:31,957 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:31:31 +08:00

2018-05-11 09:31:31,957 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:31:31,957 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:31,957 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:31:31,957 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:31:31 +08:00

2018-05-11 09:31:31,958 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:31:31,958 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:31,958 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:31:31 +08:00

2018-05-11 09:31:32,462 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:31:32 +08:00

2018-05-11 09:31:32,462 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-11 09:31:32,462 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:32,462 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:31:32 +08:00

2018-05-11 09:31:32,462 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:31:32,462 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:32,462 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:31:32 +08:00

2018-05-11 09:31:32,462 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:31:32 +08:00

2018-05-11 09:31:32,463 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-11 09:31:32,463 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:32,463 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:31:32 +08:00

2018-05-11 09:31:32,463 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:31:32,463 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:32,463 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:31:32 +08:00

2018-05-11 09:31:32,463 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:31:32 +08:00

2018-05-11 09:31:32,463 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-11 09:31:32,463 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:32,464 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:31:32,464 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:31:32 +08:00

2018-05-11 09:31:32,464 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:31:32,464 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:32,464 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:31:32 +08:00

2018-05-11 09:31:32,464 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:31:32 +08:00

2018-05-11 09:31:32,464 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-11 09:31:32,464 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:32,464 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:31:32 +08:00

2018-05-11 09:31:32,465 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:31:32,465 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:32,465 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:31:32 +08:00

2018-05-11 09:31:32,465 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:31:32 +08:00

2018-05-11 09:31:32,465 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-11 09:31:32,466 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:32,466 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:31:32,466 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:31:32,466 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-11 09:31:32,466 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:31:32 +08:00

2018-05-11 09:31:32,466 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:31:32,466 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:32,466 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:31:32 +08:00

2018-05-11 09:31:32,466 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:31:32 +08:00

2018-05-11 09:31:32,467 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-11 09:31:32,467 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:32,467 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:31:32,467 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '3' (Type = Int64, IsNullable = false)

2018-05-11 09:31:32,467 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-11 09:31:32,467 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:31:32 +08:00

2018-05-11 09:31:32,467 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:31:32,467 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:32,467 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:31:32 +08:00

2018-05-11 09:31:32,467 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:31:32 +08:00

2018-05-11 09:31:32,467 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 8
    ORDER BY [Project1].[CreateTime] DESC
2018-05-11 09:31:32,467 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:32,468 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:31:32,468 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:31:32 +08:00

2018-05-11 09:31:32,468 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:31:32,468 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:32,468 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:31:32 +08:00

2018-05-11 09:31:32,468 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:31:32 +08:00

2018-05-11 09:31:32,468 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:31:32,468 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:32,469 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:31:32,469 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:31:32 +08:00

2018-05-11 09:31:32,469 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:31:32,469 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:32,469 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:31:32 +08:00

2018-05-11 09:31:32,469 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:31:32 +08:00

2018-05-11 09:31:32,469 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:31:32,469 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:32,469 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '5' (Type = Int64, IsNullable = false)

2018-05-11 09:31:32,469 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:31:32 +08:00

2018-05-11 09:31:32,469 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:31:32,469 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:32,470 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:31:32 +08:00

2018-05-11 09:31:32,470 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:31:32 +08:00

2018-05-11 09:31:32,470 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'积分增加' <> [Extent1].[Name])
2018-05-11 09:31:32,470 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:32,470 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:31:32 +08:00

2018-05-11 09:31:32,471 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:31:32,471 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:32,471 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:31:32 +08:00

2018-05-11 09:31:32,471 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:31:32 +08:00

2018-05-11 09:31:32,471 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2018-05-11 09:31:32,471 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:32,471 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:31:32,471 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:31:32 +08:00

2018-05-11 09:31:32,472 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:31:32,472 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:32,472 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:31:32 +08:00

2018-05-11 09:31:32,472 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:31:32 +08:00

2018-05-11 09:31:32,472 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:31:32,472 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:32,472 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:31:32,472 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:31:32 +08:00

2018-05-11 09:31:32,472 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:31:32,472 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:31:32,473 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:31:32 +08:00

2018-05-11 09:37:38,324 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:37:38 +08:00

2018-05-11 09:37:38,340 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：
SELECT Count(*)
FROM INFORMATION_SCHEMA.TABLES AS t
WHERE t.TABLE_SCHEMA + '.' + t.TABLE_NAME IN ('dbo.T_AdminLogs','dbo.T_Admins','dbo.T_Permissions','dbo.T_PermissionTypes','dbo.T_IntegralTypes','dbo.T_Journals','dbo.T_PlatformUsers','dbo.T_PlatformUserTypes','dbo.T_JournalTypes','dbo.T_NavBars','dbo.T_Settings','dbo.T_SettingTypes','dbo.T_States','dbo.T_TakeCashes','dbo.T_AdminPermissions')
    OR t.TABLE_NAME = 'EdmMetadata'
2018-05-11 09:37:38,340 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:37:38,340 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:37:38 +08:00

2018-05-11 09:37:38,418 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 76 ms with result: 15

2018-05-11 09:37:38,418 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:37:38,418 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:37:38 +08:00

2018-05-11 09:37:38,512 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:37:38 +08:00

2018-05-11 09:37:39,361 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[__MigrationHistory] AS [Extent1]
        WHERE [Extent1].[ContextKey] = @p__linq__0
    )  AS [GroupBy1]
2018-05-11 09:37:39,361 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:37:39,361 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'IMS.Service.MyDbContext' (Type = String, Size = 4000)

2018-05-11 09:37:39,361 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:37:39 +08:00

2018-05-11 09:37:39,377 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Failed in 1 ms with error: 对象名 'dbo.__MigrationHistory' 无效。

2018-05-11 09:37:39,377 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:37:39,377 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:37:39 +08:00

2018-05-11 09:37:39,377 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:37:39 +08:00

2018-05-11 09:37:39,377 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[__MigrationHistory] AS [Extent1]
    )  AS [GroupBy1]
2018-05-11 09:37:39,377 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:37:39,377 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:37:39 +08:00

2018-05-11 09:37:39,377 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Failed in 0 ms with error: 对象名 'dbo.__MigrationHistory' 无效。

2018-05-11 09:37:39,377 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:37:39,377 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:37:39 +08:00

2018-05-11 09:37:39,517 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:37:39 +08:00

2018-05-11 09:37:39,659 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-05-11 09:37:39,659 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:37:39,659 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '15615615616' (Type = String, Size = 4000)

2018-05-11 09:37:39,659 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:37:39 +08:00

2018-05-11 09:37:39,659 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 8 ms with result: SqlDataReader

2018-05-11 09:37:39,659 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:37:39,737 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:37:39 +08:00

2018-05-11 09:37:39,753 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:37:39 +08:00

2018-05-11 09:37:39,784 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:37:39,784 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:37:39,784 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:37:39,784 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:37:39 +08:00

2018-05-11 09:37:39,784 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-11 09:37:39,784 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:37:39,833 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:37:39 +08:00

2018-05-11 09:37:39,995 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:37:39 +08:00

2018-05-11 09:37:39,997 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2018-05-11 09:37:39,997 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:37:39,997 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:37:39,997 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:37:39 +08:00

2018-05-11 09:37:39,998 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-11 09:37:39,998 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:37:39,999 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:37:39 +08:00

2018-05-11 09:37:40,001 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:37:40 +08:00

2018-05-11 09:37:40,001 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:37:40,001 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:37:40,001 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:37:40,001 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:37:40 +08:00

2018-05-11 09:37:40,002 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:37:40,002 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:37:40,002 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:37:40 +08:00

2018-05-11 09:37:40,011 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:37:40 +08:00

2018-05-11 09:37:40,019 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-11 09:37:40,019 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:37:40,019 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:37:40 +08:00

2018-05-11 09:37:40,021 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-11 09:37:40,021 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:37:40,023 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:37:40 +08:00

2018-05-11 09:37:40,023 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:37:40 +08:00

2018-05-11 09:37:40,024 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-11 09:37:40,024 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:37:40,024 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:37:40 +08:00

2018-05-11 09:37:40,025 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-11 09:37:40,025 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:37:40,026 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:37:40 +08:00

2018-05-11 09:37:40,038 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:37:40 +08:00

2018-05-11 09:37:40,051 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-11 09:37:40,051 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:37:40,051 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-11 09:37:40,051 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:37:40 +08:00

2018-05-11 09:37:40,056 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 4 ms with result: SqlDataReader

2018-05-11 09:37:40,056 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:37:40,065 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:37:40 +08:00

2018-05-11 09:37:40,066 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:37:40 +08:00

2018-05-11 09:37:40,068 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-11 09:37:40,068 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:37:40,068 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:37:40 +08:00

2018-05-11 09:37:40,072 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2018-05-11 09:37:40,072 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:37:40,072 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:37:40 +08:00

2018-05-11 09:37:40,087 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:37:40 +08:00

2018-05-11 09:37:40,104 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-11 09:37:40,104 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:37:40,104 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-11 09:37:40,104 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:37:40,104 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-11 09:37:40,104 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:37:40 +08:00

2018-05-11 09:37:40,106 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-11 09:37:40,106 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:37:40,114 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:37:40 +08:00

2018-05-11 09:37:40,115 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:37:40 +08:00

2018-05-11 09:37:40,116 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-11 09:37:40,116 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:37:40,116 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-11 09:37:40,116 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '3' (Type = Int64, IsNullable = false)

2018-05-11 09:37:40,116 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-11 09:37:40,116 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:37:40 +08:00

2018-05-11 09:37:40,116 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:37:40,116 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:37:40,116 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:37:40 +08:00

2018-05-11 09:37:40,125 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:37:40 +08:00

2018-05-11 09:37:40,168 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-11 09:37:40,168 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:37:40,168 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-11 09:37:40,168 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:37:40 +08:00

2018-05-11 09:37:40,172 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 4 ms with result: SqlDataReader

2018-05-11 09:37:40,172 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:37:40,184 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:37:40 +08:00

2018-05-11 09:37:40,190 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:37:40 +08:00

2018-05-11 09:37:40,202 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:37:40,202 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:37:40,202 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-11 09:37:40,202 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:37:40 +08:00

2018-05-11 09:37:40,203 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-11 09:37:40,203 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:37:40,207 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:37:40 +08:00

2018-05-11 09:37:40,209 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:37:40 +08:00

2018-05-11 09:37:40,210 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:37:40,210 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:37:40,210 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-11 09:37:40,210 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:37:40 +08:00

2018-05-11 09:37:40,216 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 5 ms with result: SqlDataReader

2018-05-11 09:37:40,216 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:37:40,216 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:37:40 +08:00

2018-05-11 09:37:40,217 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:37:40 +08:00

2018-05-11 09:37:40,218 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:37:40,218 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:37:40,218 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-11 09:37:40,218 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:37:40 +08:00

2018-05-11 09:37:40,223 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 5 ms with result: SqlDataReader

2018-05-11 09:37:40,223 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:37:40,224 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:37:40 +08:00

2018-05-11 09:37:40,225 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:37:40 +08:00

2018-05-11 09:37:40,226 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:37:40,226 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:37:40,226 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:37:40,226 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:37:40 +08:00

2018-05-11 09:37:40,228 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-11 09:37:40,228 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:37:40,228 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:37:40 +08:00

2018-05-11 09:37:40,228 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:37:40 +08:00

2018-05-11 09:37:40,228 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:37:40,228 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:37:40,228 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '6' (Type = Int64, IsNullable = false)

2018-05-11 09:37:40,228 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:37:40 +08:00

2018-05-11 09:37:40,229 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:37:40,229 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:37:40,229 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:37:40 +08:00

2018-05-11 09:37:43,890 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:37:43 +08:00

2018-05-11 09:37:43,890 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-11 09:37:43,890 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:37:43,890 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:37:43 +08:00

2018-05-11 09:37:43,891 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:37:43,891 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:37:43,891 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:37:43 +08:00

2018-05-11 09:37:43,891 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:37:43 +08:00

2018-05-11 09:37:43,892 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-11 09:37:43,892 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:37:43,892 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:37:43 +08:00

2018-05-11 09:37:43,893 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:37:43,893 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:37:43,893 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:37:43 +08:00

2018-05-11 09:37:43,893 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:37:43 +08:00

2018-05-11 09:37:43,893 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-11 09:37:43,893 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:37:43,893 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:37:43,893 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:37:43 +08:00

2018-05-11 09:37:43,894 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:37:43,894 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:37:43,894 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:37:43 +08:00

2018-05-11 09:37:43,895 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:37:43 +08:00

2018-05-11 09:37:43,895 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-11 09:37:43,895 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:37:43,895 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:37:43 +08:00

2018-05-11 09:37:43,895 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:37:43,895 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:37:43,895 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:37:43 +08:00

2018-05-11 09:37:43,896 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:37:43 +08:00

2018-05-11 09:37:43,896 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-11 09:37:43,896 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:37:43,896 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:37:43,896 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:37:43,896 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-11 09:37:43,896 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:37:43 +08:00

2018-05-11 09:37:43,896 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:37:43,896 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:37:43,897 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:37:43 +08:00

2018-05-11 09:37:43,897 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:37:43 +08:00

2018-05-11 09:37:43,897 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-11 09:37:43,897 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:37:43,897 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:37:43,897 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '3' (Type = Int64, IsNullable = false)

2018-05-11 09:37:43,898 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-11 09:37:43,898 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:37:43 +08:00

2018-05-11 09:37:43,898 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:37:43,898 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:37:43,898 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:37:43 +08:00

2018-05-11 09:37:43,898 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:37:43 +08:00

2018-05-11 09:37:43,900 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-11 09:37:43,900 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:37:43,900 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:37:43,900 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:37:43 +08:00

2018-05-11 09:37:43,903 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-11 09:37:43,903 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:37:43,904 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:37:43 +08:00

2018-05-11 09:37:43,904 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:37:43 +08:00

2018-05-11 09:37:43,904 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:37:43,904 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:37:43,904 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-11 09:37:43,904 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:37:43 +08:00

2018-05-11 09:37:43,904 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:37:43,904 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:37:43,905 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:37:43 +08:00

2018-05-11 09:37:43,905 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:37:43 +08:00

2018-05-11 09:37:43,905 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:37:43,905 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:37:43,905 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '4' (Type = Int64, IsNullable = false)

2018-05-11 09:37:43,905 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:37:43 +08:00

2018-05-11 09:37:43,905 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:37:43,905 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:37:43,905 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:37:43 +08:00

2018-05-11 09:37:43,905 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:37:43 +08:00

2018-05-11 09:37:43,905 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:37:43,905 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:37:43,906 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:37:43,906 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:37:43 +08:00

2018-05-11 09:37:43,906 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:37:43,906 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:37:43,906 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:37:43 +08:00

2018-05-11 09:37:43,910 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:37:43 +08:00

2018-05-11 09:37:43,914 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'积分增加' <> [Extent1].[Name])
2018-05-11 09:37:43,914 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:37:43,914 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:37:43 +08:00

2018-05-11 09:37:43,918 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 4 ms with result: SqlDataReader

2018-05-11 09:37:43,919 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:37:43,919 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:37:43 +08:00

2018-05-11 09:37:43,921 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:37:43 +08:00

2018-05-11 09:37:43,921 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2018-05-11 09:37:43,921 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:37:43,921 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:37:43,921 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:37:43 +08:00

2018-05-11 09:37:43,921 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:37:43,922 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:37:43,922 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:37:43 +08:00

2018-05-11 09:37:43,922 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:37:43 +08:00

2018-05-11 09:37:43,922 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:37:43,922 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:37:43,922 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:37:43,922 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:37:43 +08:00

2018-05-11 09:37:43,922 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:37:43,922 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:37:43,922 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:37:43 +08:00

2018-05-11 09:37:49,457 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:37:49 +08:00

2018-05-11 09:37:49,457 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-11 09:37:49,457 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:37:49,457 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:37:49 +08:00

2018-05-11 09:37:49,458 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:37:49,458 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:37:49,458 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:37:49 +08:00

2018-05-11 09:37:49,458 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:37:49 +08:00

2018-05-11 09:37:49,459 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-11 09:37:49,459 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:37:49,459 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:37:49 +08:00

2018-05-11 09:37:49,459 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:37:49,459 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:37:49,459 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:37:49 +08:00

2018-05-11 09:37:49,459 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:37:49 +08:00

2018-05-11 09:37:49,459 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-11 09:37:49,459 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:37:49,460 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:37:49,460 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:37:49 +08:00

2018-05-11 09:37:49,460 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:37:49,460 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:37:49,460 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:37:49 +08:00

2018-05-11 09:37:49,460 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:37:49 +08:00

2018-05-11 09:37:49,461 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-11 09:37:49,461 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:37:49,461 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:37:49 +08:00

2018-05-11 09:37:49,461 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:37:49,461 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:37:49,461 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:37:49 +08:00

2018-05-11 09:37:49,461 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:37:49 +08:00

2018-05-11 09:37:49,462 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-11 09:37:49,462 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:37:49,462 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:37:49,462 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:37:49,462 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-11 09:37:49,462 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:37:49 +08:00

2018-05-11 09:37:49,462 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:37:49,462 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:37:49,462 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:37:49 +08:00

2018-05-11 09:37:49,463 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:37:49 +08:00

2018-05-11 09:37:49,463 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-11 09:37:49,463 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:37:49,463 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:37:49,463 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '3' (Type = Int64, IsNullable = false)

2018-05-11 09:37:49,463 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-11 09:37:49,463 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:37:49 +08:00

2018-05-11 09:37:49,463 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:37:49,463 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:37:49,463 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:37:49 +08:00

2018-05-11 09:37:49,464 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:37:49 +08:00

2018-05-11 09:37:49,465 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 1
    ORDER BY [Project1].[CreateTime] DESC
2018-05-11 09:37:49,465 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:37:49,465 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:37:49,465 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:37:49 +08:00

2018-05-11 09:37:49,468 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-11 09:37:49,468 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:37:49,468 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:37:49 +08:00

2018-05-11 09:37:49,469 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:37:49 +08:00

2018-05-11 09:37:49,469 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:37:49,469 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:37:49,469 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-11 09:37:49,469 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:37:49 +08:00

2018-05-11 09:37:49,469 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:37:49,469 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:37:49,469 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:37:49 +08:00

2018-05-11 09:37:49,469 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:37:49 +08:00

2018-05-11 09:37:49,469 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:37:49,469 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:37:49,469 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '4' (Type = Int64, IsNullable = false)

2018-05-11 09:37:49,469 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:37:49 +08:00

2018-05-11 09:37:49,470 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:37:49,470 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:37:49,470 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:37:49 +08:00

2018-05-11 09:37:49,470 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:37:49 +08:00

2018-05-11 09:37:49,470 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:37:49,470 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:37:49,470 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:37:49,470 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:37:49 +08:00

2018-05-11 09:37:49,470 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:37:49,470 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:37:49,470 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:37:49 +08:00

2018-05-11 09:37:49,471 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:37:49 +08:00

2018-05-11 09:37:49,471 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'积分增加' <> [Extent1].[Name])
2018-05-11 09:37:49,471 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:37:49,471 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:37:49 +08:00

2018-05-11 09:37:49,471 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:37:49,471 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:37:49,472 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:37:49 +08:00

2018-05-11 09:37:49,472 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:37:49 +08:00

2018-05-11 09:37:49,472 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2018-05-11 09:37:49,472 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:37:49,472 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:37:49,472 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:37:49 +08:00

2018-05-11 09:37:49,473 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:37:49,473 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:37:49,473 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:37:49 +08:00

2018-05-11 09:37:49,473 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:37:49 +08:00

2018-05-11 09:37:49,473 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:37:49,473 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:37:49,473 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:37:49,473 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:37:49 +08:00

2018-05-11 09:37:49,473 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:37:49,473 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:37:49,473 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:37:49 +08:00

2018-05-11 09:37:51,231 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:37:51 +08:00

2018-05-11 09:37:51,231 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-11 09:37:51,231 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:37:51,231 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:37:51 +08:00

2018-05-11 09:37:51,232 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:37:51,232 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:37:51,232 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:37:51 +08:00

2018-05-11 09:37:51,232 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:37:51 +08:00

2018-05-11 09:37:51,232 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-11 09:37:51,232 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:37:51,232 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:37:51 +08:00

2018-05-11 09:37:51,232 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:37:51,232 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:37:51,232 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:37:51 +08:00

2018-05-11 09:37:51,232 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:37:51 +08:00

2018-05-11 09:37:51,233 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-11 09:37:51,233 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:37:51,233 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:37:51,233 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:37:51 +08:00

2018-05-11 09:37:51,233 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:37:51,233 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:37:51,233 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:37:51 +08:00

2018-05-11 09:37:51,234 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:37:51 +08:00

2018-05-11 09:37:51,234 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-11 09:37:51,234 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:37:51,234 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:37:51 +08:00

2018-05-11 09:37:51,234 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:37:51,234 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:37:51,234 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:37:51 +08:00

2018-05-11 09:37:51,234 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:37:51 +08:00

2018-05-11 09:37:51,235 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-11 09:37:51,235 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:37:51,235 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:37:51,235 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:37:51,235 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-11 09:37:51,235 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:37:51 +08:00

2018-05-11 09:37:51,235 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:37:51,235 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:37:51,235 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:37:51 +08:00

2018-05-11 09:37:51,236 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:37:51 +08:00

2018-05-11 09:37:51,236 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-11 09:37:51,236 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:37:51,236 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:37:51,236 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '3' (Type = Int64, IsNullable = false)

2018-05-11 09:37:51,236 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-11 09:37:51,236 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:37:51 +08:00

2018-05-11 09:37:51,236 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:37:51,236 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:37:51,236 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:37:51 +08:00

2018-05-11 09:37:51,237 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:37:51 +08:00

2018-05-11 09:37:51,238 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 2
    ORDER BY [Project1].[CreateTime] DESC
2018-05-11 09:37:51,238 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:37:51,238 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:37:51,238 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:37:51 +08:00

2018-05-11 09:37:51,241 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-11 09:37:51,241 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:37:51,241 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:37:51 +08:00

2018-05-11 09:37:51,241 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:37:51 +08:00

2018-05-11 09:37:51,241 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:37:51,242 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:37:51,242 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '5' (Type = Int64, IsNullable = false)

2018-05-11 09:37:51,242 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:37:51 +08:00

2018-05-11 09:37:51,242 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:37:51,242 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:37:51,242 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:37:51 +08:00

2018-05-11 09:37:51,242 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:37:51 +08:00

2018-05-11 09:37:51,242 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:37:51,242 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:37:51,242 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '4' (Type = Int64, IsNullable = false)

2018-05-11 09:37:51,242 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:37:51 +08:00

2018-05-11 09:37:51,243 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:37:51,243 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:37:51,243 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:37:51 +08:00

2018-05-11 09:37:51,243 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:37:51 +08:00

2018-05-11 09:37:51,243 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:37:51,243 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:37:51,243 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:37:51,243 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:37:51 +08:00

2018-05-11 09:37:51,243 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:37:51,243 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:37:51,243 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:37:51 +08:00

2018-05-11 09:37:51,244 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:37:51 +08:00

2018-05-11 09:37:51,244 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'积分增加' <> [Extent1].[Name])
2018-05-11 09:37:51,244 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:37:51,244 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:37:51 +08:00

2018-05-11 09:37:51,244 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:37:51,244 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:37:51,244 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:37:51 +08:00

2018-05-11 09:37:51,245 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:37:51 +08:00

2018-05-11 09:37:51,245 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2018-05-11 09:37:51,245 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:37:51,245 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:37:51,245 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:37:51 +08:00

2018-05-11 09:37:51,245 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:37:51,245 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:37:51,246 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:37:51 +08:00

2018-05-11 09:37:51,246 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:37:51 +08:00

2018-05-11 09:37:51,246 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:37:51,246 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:37:51,246 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:37:51,246 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:37:51 +08:00

2018-05-11 09:37:51,246 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:37:51,246 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:37:51,246 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:37:51 +08:00

2018-05-11 09:37:52,828 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:37:52 +08:00

2018-05-11 09:37:52,829 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-11 09:37:52,829 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:37:52,829 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:37:52 +08:00

2018-05-11 09:37:52,829 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:37:52,829 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:37:52,829 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:37:52 +08:00

2018-05-11 09:37:52,829 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:37:52 +08:00

2018-05-11 09:37:52,830 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-11 09:37:52,830 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:37:52,830 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:37:52 +08:00

2018-05-11 09:37:52,830 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:37:52,830 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:37:52,830 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:37:52 +08:00

2018-05-11 09:37:52,830 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:37:52 +08:00

2018-05-11 09:37:52,831 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-11 09:37:52,831 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:37:52,831 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:37:52,831 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:37:52 +08:00

2018-05-11 09:37:52,831 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:37:52,831 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:37:52,831 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:37:52 +08:00

2018-05-11 09:37:52,831 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:37:52 +08:00

2018-05-11 09:37:52,831 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-11 09:37:52,832 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:37:52,832 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:37:52 +08:00

2018-05-11 09:37:52,832 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:37:52,832 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:37:52,832 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:37:52 +08:00

2018-05-11 09:37:52,832 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:37:52 +08:00

2018-05-11 09:37:52,833 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-11 09:37:52,833 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:37:52,833 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:37:52,833 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:37:52,833 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-11 09:37:52,833 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:37:52 +08:00

2018-05-11 09:37:52,833 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:37:52,833 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:37:52,833 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:37:52 +08:00

2018-05-11 09:37:52,833 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:37:52 +08:00

2018-05-11 09:37:52,834 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-11 09:37:52,834 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:37:52,834 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:37:52,834 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '3' (Type = Int64, IsNullable = false)

2018-05-11 09:37:52,834 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-11 09:37:52,834 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:37:52 +08:00

2018-05-11 09:37:52,834 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:37:52,834 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:37:52,834 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:37:52 +08:00

2018-05-11 09:37:52,835 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:37:52 +08:00

2018-05-11 09:37:52,836 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 3
    ORDER BY [Project1].[CreateTime] DESC
2018-05-11 09:37:52,836 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:37:52,836 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:37:52,836 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:37:52 +08:00

2018-05-11 09:37:52,839 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-11 09:37:52,839 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:37:52,839 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:37:52 +08:00

2018-05-11 09:37:52,839 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:37:52 +08:00

2018-05-11 09:37:52,839 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:37:52,839 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:37:52,839 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:37:52,839 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:37:52 +08:00

2018-05-11 09:37:52,840 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:37:52,840 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:37:52,840 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:37:52 +08:00

2018-05-11 09:37:52,840 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:37:52 +08:00

2018-05-11 09:37:52,840 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:37:52,840 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:37:52,840 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-11 09:37:52,840 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:37:52 +08:00

2018-05-11 09:37:52,840 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:37:52,840 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:37:52,841 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:37:52 +08:00

2018-05-11 09:37:52,841 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:37:52 +08:00

2018-05-11 09:37:52,841 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:37:52,841 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:37:52,841 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '5' (Type = Int64, IsNullable = false)

2018-05-11 09:37:52,841 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:37:52 +08:00

2018-05-11 09:37:52,841 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:37:52,841 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:37:52,841 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:37:52 +08:00

2018-05-11 09:37:52,842 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:37:52 +08:00

2018-05-11 09:37:52,842 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'积分增加' <> [Extent1].[Name])
2018-05-11 09:37:52,842 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:37:52,842 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:37:52 +08:00

2018-05-11 09:37:52,842 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:37:52,842 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:37:52,842 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:37:52 +08:00

2018-05-11 09:37:52,843 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:37:52 +08:00

2018-05-11 09:37:52,843 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2018-05-11 09:37:52,843 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:37:52,843 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:37:52,843 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:37:52 +08:00

2018-05-11 09:37:52,843 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:37:52,843 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:37:52,844 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:37:52 +08:00

2018-05-11 09:37:52,844 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:37:52 +08:00

2018-05-11 09:37:52,844 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:37:52,844 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:37:52,844 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:37:52,844 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:37:52 +08:00

2018-05-11 09:37:52,844 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:37:52,844 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:37:52,844 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:37:52 +08:00

2018-05-11 09:37:57,446 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:37:57 +08:00

2018-05-11 09:37:57,446 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-11 09:37:57,446 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:37:57,446 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:37:57 +08:00

2018-05-11 09:37:57,446 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:37:57,446 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:37:57,446 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:37:57 +08:00

2018-05-11 09:37:57,447 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:37:57 +08:00

2018-05-11 09:37:57,447 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-11 09:37:57,447 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:37:57,447 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:37:57 +08:00

2018-05-11 09:37:57,447 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:37:57,447 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:37:57,447 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:37:57 +08:00

2018-05-11 09:37:57,447 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:37:57 +08:00

2018-05-11 09:37:57,448 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-11 09:37:57,448 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:37:57,448 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:37:57,448 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:37:57 +08:00

2018-05-11 09:37:57,448 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:37:57,448 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:37:57,448 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:37:57 +08:00

2018-05-11 09:37:57,448 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:37:57 +08:00

2018-05-11 09:37:57,449 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-11 09:37:57,449 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:37:57,449 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:37:57 +08:00

2018-05-11 09:37:57,449 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:37:57,449 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:37:57,449 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:37:57 +08:00

2018-05-11 09:37:57,449 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:37:57 +08:00

2018-05-11 09:37:57,450 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-11 09:37:57,450 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:37:57,450 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:37:57,450 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:37:57,450 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-11 09:37:57,450 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:37:57 +08:00

2018-05-11 09:37:57,450 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:37:57,450 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:37:57,450 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:37:57 +08:00

2018-05-11 09:37:57,451 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:37:57 +08:00

2018-05-11 09:37:57,451 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-11 09:37:57,451 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:37:57,451 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:37:57,451 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '3' (Type = Int64, IsNullable = false)

2018-05-11 09:37:57,451 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-11 09:37:57,451 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:37:57 +08:00

2018-05-11 09:37:57,451 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:37:57,451 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:37:57,451 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:37:57 +08:00

2018-05-11 09:37:57,452 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:37:57 +08:00

2018-05-11 09:37:57,453 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 4
    ORDER BY [Project1].[CreateTime] DESC
2018-05-11 09:37:57,453 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:37:57,453 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:37:57,453 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:37:57 +08:00

2018-05-11 09:37:57,456 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-11 09:37:57,456 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:37:57,456 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:37:57 +08:00

2018-05-11 09:37:57,456 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:37:57 +08:00

2018-05-11 09:37:57,457 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:37:57,457 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:37:57,457 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:37:57,457 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:37:57 +08:00

2018-05-11 09:37:57,457 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:37:57,457 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:37:57,457 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:37:57 +08:00

2018-05-11 09:37:57,457 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:37:57 +08:00

2018-05-11 09:37:57,457 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:37:57,457 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:37:57,457 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-11 09:37:57,457 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:37:57 +08:00

2018-05-11 09:37:57,458 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:37:57,458 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:37:57,458 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:37:57 +08:00

2018-05-11 09:37:57,458 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:37:57 +08:00

2018-05-11 09:37:57,458 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:37:57,458 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:37:57,458 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-11 09:37:57,458 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:37:57 +08:00

2018-05-11 09:37:57,458 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:37:57,458 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:37:57,458 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:37:57 +08:00

2018-05-11 09:37:57,459 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:37:57 +08:00

2018-05-11 09:37:57,459 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'积分增加' <> [Extent1].[Name])
2018-05-11 09:37:57,459 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:37:57,459 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:37:57 +08:00

2018-05-11 09:37:57,459 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:37:57,459 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:37:57,460 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:37:57 +08:00

2018-05-11 09:37:57,460 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:37:57 +08:00

2018-05-11 09:37:57,460 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2018-05-11 09:37:57,460 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:37:57,460 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:37:57,460 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:37:57 +08:00

2018-05-11 09:37:57,460 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:37:57,461 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:37:57,461 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:37:57 +08:00

2018-05-11 09:37:57,461 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:37:57 +08:00

2018-05-11 09:37:57,461 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:37:57,461 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:37:57,461 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:37:57,461 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:37:57 +08:00

2018-05-11 09:37:57,461 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:37:57,461 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:37:57,461 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:37:57 +08:00

2018-05-11 09:38:00,386 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:38:00 +08:00

2018-05-11 09:38:00,386 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-11 09:38:00,387 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:38:00,387 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:38:00 +08:00

2018-05-11 09:38:00,387 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:38:00,387 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:38:00,387 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:38:00 +08:00

2018-05-11 09:38:00,387 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:38:00 +08:00

2018-05-11 09:38:00,387 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-11 09:38:00,388 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:38:00,388 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:38:00 +08:00

2018-05-11 09:38:00,388 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:38:00,388 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:38:00,388 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:38:00 +08:00

2018-05-11 09:38:00,388 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:38:00 +08:00

2018-05-11 09:38:00,388 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-11 09:38:00,388 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:38:00,388 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:38:00,388 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:38:00 +08:00

2018-05-11 09:38:00,389 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:38:00,389 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:38:00,389 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:38:00 +08:00

2018-05-11 09:38:00,389 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:38:00 +08:00

2018-05-11 09:38:00,389 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-11 09:38:00,389 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:38:00,389 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:38:00 +08:00

2018-05-11 09:38:00,390 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:38:00,390 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:38:00,390 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:38:00 +08:00

2018-05-11 09:38:00,390 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:38:00 +08:00

2018-05-11 09:38:00,390 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-11 09:38:00,390 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:38:00,391 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:38:00,391 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:38:00,391 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-11 09:38:00,391 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:38:00 +08:00

2018-05-11 09:38:00,391 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:38:00,391 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:38:00,391 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:38:00 +08:00

2018-05-11 09:38:00,391 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:38:00 +08:00

2018-05-11 09:38:00,392 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-11 09:38:00,392 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:38:00,392 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:38:00,392 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '3' (Type = Int64, IsNullable = false)

2018-05-11 09:38:00,392 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-11 09:38:00,392 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:38:00 +08:00

2018-05-11 09:38:00,392 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:38:00,392 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:38:00,393 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:38:00 +08:00

2018-05-11 09:38:00,393 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:38:00 +08:00

2018-05-11 09:38:00,394 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 5
    ORDER BY [Project1].[CreateTime] DESC
2018-05-11 09:38:00,394 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:38:00,394 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:38:00,394 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:38:00 +08:00

2018-05-11 09:38:00,397 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-11 09:38:00,397 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:38:00,397 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:38:00 +08:00

2018-05-11 09:38:00,397 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:38:00 +08:00

2018-05-11 09:38:00,398 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:38:00,398 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:38:00,398 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:38:00,398 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:38:00 +08:00

2018-05-11 09:38:00,398 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:38:00,398 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:38:00,398 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:38:00 +08:00

2018-05-11 09:38:00,398 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:38:00 +08:00

2018-05-11 09:38:00,398 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:38:00,398 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:38:00,398 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-11 09:38:00,398 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:38:00 +08:00

2018-05-11 09:38:00,399 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:38:00,399 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:38:00,399 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:38:00 +08:00

2018-05-11 09:38:00,399 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:38:00 +08:00

2018-05-11 09:38:00,399 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:38:00,399 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:38:00,399 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-11 09:38:00,399 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:38:00 +08:00

2018-05-11 09:38:00,399 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:38:00,399 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:38:00,399 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:38:00 +08:00

2018-05-11 09:38:00,400 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:38:00 +08:00

2018-05-11 09:38:00,400 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'积分增加' <> [Extent1].[Name])
2018-05-11 09:38:00,400 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:38:00,400 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:38:00 +08:00

2018-05-11 09:38:00,400 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:38:00,400 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:38:00,400 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:38:00 +08:00

2018-05-11 09:38:00,401 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:38:00 +08:00

2018-05-11 09:38:00,401 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2018-05-11 09:38:00,401 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:38:00,401 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:38:00,401 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:38:00 +08:00

2018-05-11 09:38:00,401 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:38:00,401 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:38:00,402 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:38:00 +08:00

2018-05-11 09:38:00,402 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:38:00 +08:00

2018-05-11 09:38:00,402 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:38:00,402 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:38:00,402 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:38:00,402 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:38:00 +08:00

2018-05-11 09:38:00,402 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:38:00,402 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:38:00,402 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:38:00 +08:00

2018-05-11 09:38:02,088 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:38:02 +08:00

2018-05-11 09:38:02,089 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-11 09:38:02,089 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:38:02,089 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:38:02 +08:00

2018-05-11 09:38:02,089 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:38:02,089 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:38:02,089 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:38:02 +08:00

2018-05-11 09:38:02,090 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:38:02 +08:00

2018-05-11 09:38:02,090 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-11 09:38:02,090 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:38:02,090 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:38:02 +08:00

2018-05-11 09:38:02,090 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:38:02,090 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:38:02,090 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:38:02 +08:00

2018-05-11 09:38:02,090 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:38:02 +08:00

2018-05-11 09:38:02,091 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-11 09:38:02,091 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:38:02,091 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:38:02,091 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:38:02 +08:00

2018-05-11 09:38:02,091 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:38:02,091 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:38:02,091 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:38:02 +08:00

2018-05-11 09:38:02,091 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:38:02 +08:00

2018-05-11 09:38:02,092 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-11 09:38:02,092 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:38:02,092 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:38:02 +08:00

2018-05-11 09:38:02,092 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:38:02,092 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:38:02,092 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:38:02 +08:00

2018-05-11 09:38:02,093 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:38:02 +08:00

2018-05-11 09:38:02,093 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-11 09:38:02,093 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:38:02,093 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:38:02,093 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:38:02,093 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-11 09:38:02,093 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:38:02 +08:00

2018-05-11 09:38:02,093 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:38:02,093 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:38:02,093 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:38:02 +08:00

2018-05-11 09:38:02,094 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:38:02 +08:00

2018-05-11 09:38:02,094 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-11 09:38:02,094 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:38:02,094 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:38:02,094 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '3' (Type = Int64, IsNullable = false)

2018-05-11 09:38:02,094 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-11 09:38:02,094 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:38:02 +08:00

2018-05-11 09:38:02,094 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:38:02,094 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:38:02,094 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:38:02 +08:00

2018-05-11 09:38:02,095 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:38:02 +08:00

2018-05-11 09:38:02,096 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 6
    ORDER BY [Project1].[CreateTime] DESC
2018-05-11 09:38:02,096 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:38:02,096 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:38:02,096 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:38:02 +08:00

2018-05-11 09:38:02,099 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-11 09:38:02,099 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:38:02,099 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:38:02 +08:00

2018-05-11 09:38:02,099 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:38:02 +08:00

2018-05-11 09:38:02,100 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:38:02,100 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:38:02,100 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-11 09:38:02,100 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:38:02 +08:00

2018-05-11 09:38:02,100 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:38:02,100 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:38:02,100 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:38:02 +08:00

2018-05-11 09:38:02,100 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:38:02 +08:00

2018-05-11 09:38:02,100 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:38:02,100 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:38:02,100 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:38:02,100 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:38:02 +08:00

2018-05-11 09:38:02,100 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:38:02,101 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:38:02,101 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:38:02 +08:00

2018-05-11 09:38:02,101 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:38:02 +08:00

2018-05-11 09:38:02,101 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:38:02,101 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:38:02,101 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-11 09:38:02,101 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:38:02 +08:00

2018-05-11 09:38:02,101 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:38:02,101 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:38:02,101 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:38:02 +08:00

2018-05-11 09:38:02,102 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:38:02 +08:00

2018-05-11 09:38:02,102 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'积分增加' <> [Extent1].[Name])
2018-05-11 09:38:02,102 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:38:02,102 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:38:02 +08:00

2018-05-11 09:38:02,102 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:38:02,102 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:38:02,102 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:38:02 +08:00

2018-05-11 09:38:02,103 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:38:02 +08:00

2018-05-11 09:38:02,103 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2018-05-11 09:38:02,103 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:38:02,103 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:38:02,103 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:38:02 +08:00

2018-05-11 09:38:02,103 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:38:02,103 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:38:02,104 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:38:02 +08:00

2018-05-11 09:38:02,104 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:38:02 +08:00

2018-05-11 09:38:02,104 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:38:02,104 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:38:02,104 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:38:02,104 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:38:02 +08:00

2018-05-11 09:38:02,104 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:38:02,104 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:38:02,104 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:38:02 +08:00

2018-05-11 09:39:31,551 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:39:31 +08:00

2018-05-11 09:39:31,563 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：
SELECT Count(*)
FROM INFORMATION_SCHEMA.TABLES AS t
WHERE t.TABLE_SCHEMA + '.' + t.TABLE_NAME IN ('dbo.T_AdminLogs','dbo.T_Admins','dbo.T_Permissions','dbo.T_PermissionTypes','dbo.T_IntegralTypes','dbo.T_Journals','dbo.T_PlatformUsers','dbo.T_PlatformUserTypes','dbo.T_JournalTypes','dbo.T_NavBars','dbo.T_Settings','dbo.T_SettingTypes','dbo.T_States','dbo.T_TakeCashes','dbo.T_AdminPermissions')
    OR t.TABLE_NAME = 'EdmMetadata'
2018-05-11 09:39:31,563 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:31,563 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:39:31 +08:00

2018-05-11 09:39:31,565 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: 15

2018-05-11 09:39:31,565 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:31,565 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:31 +08:00

2018-05-11 09:39:31,653 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:39:31 +08:00

2018-05-11 09:39:32,508 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[__MigrationHistory] AS [Extent1]
        WHERE [Extent1].[ContextKey] = @p__linq__0
    )  AS [GroupBy1]
2018-05-11 09:39:32,508 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:32,508 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'IMS.Service.MyDbContext' (Type = String, Size = 4000)

2018-05-11 09:39:32,508 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:39:32 +08:00

2018-05-11 09:39:32,524 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Failed in 1 ms with error: 对象名 'dbo.__MigrationHistory' 无效。

2018-05-11 09:39:32,524 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:32,524 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:32 +08:00

2018-05-11 09:39:32,524 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:39:32 +08:00

2018-05-11 09:39:32,524 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[__MigrationHistory] AS [Extent1]
    )  AS [GroupBy1]
2018-05-11 09:39:32,524 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:32,524 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:39:32 +08:00

2018-05-11 09:39:32,524 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Failed in 0 ms with error: 对象名 'dbo.__MigrationHistory' 无效。

2018-05-11 09:39:32,524 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:32,524 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:32 +08:00

2018-05-11 09:39:32,664 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:39:32 +08:00

2018-05-11 09:39:32,789 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-05-11 09:39:32,789 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:32,789 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '15615615616' (Type = String, Size = 4000)

2018-05-11 09:39:32,789 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:39:32 +08:00

2018-05-11 09:39:32,789 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2018-05-11 09:39:32,789 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:32,868 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:32 +08:00

2018-05-11 09:39:32,868 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:39:32 +08:00

2018-05-11 09:39:32,914 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:39:32,914 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:32,914 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:39:32,914 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:39:32 +08:00

2018-05-11 09:39:32,914 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:32,914 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:32,930 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:32 +08:00

2018-05-11 09:39:33,096 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:39:33 +08:00

2018-05-11 09:39:33,098 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2018-05-11 09:39:33,098 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:33,098 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:39:33,098 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:39:33 +08:00

2018-05-11 09:39:33,101 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-11 09:39:33,101 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:33,101 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:33 +08:00

2018-05-11 09:39:33,103 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:39:33 +08:00

2018-05-11 09:39:33,103 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:39:33,103 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:33,103 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:39:33,103 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:39:33 +08:00

2018-05-11 09:39:33,103 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:33,103 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:33,104 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:33 +08:00

2018-05-11 09:39:33,113 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:39:33 +08:00

2018-05-11 09:39:33,121 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-11 09:39:33,121 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:33,121 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:39:33 +08:00

2018-05-11 09:39:33,121 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:33,121 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:33,123 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:33 +08:00

2018-05-11 09:39:33,123 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:39:33 +08:00

2018-05-11 09:39:33,124 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-11 09:39:33,124 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:33,124 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:39:33 +08:00

2018-05-11 09:39:33,125 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:33,125 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:33,125 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:33 +08:00

2018-05-11 09:39:33,137 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:39:33 +08:00

2018-05-11 09:39:33,151 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-11 09:39:33,151 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:33,151 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-11 09:39:33,151 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:39:33 +08:00

2018-05-11 09:39:33,159 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 7 ms with result: SqlDataReader

2018-05-11 09:39:33,159 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:33,167 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:33 +08:00

2018-05-11 09:39:33,168 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:39:33 +08:00

2018-05-11 09:39:33,169 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-11 09:39:33,169 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:33,169 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:39:33 +08:00

2018-05-11 09:39:33,169 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:33,169 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:33,170 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:33 +08:00

2018-05-11 09:39:33,184 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:39:33 +08:00

2018-05-11 09:39:33,199 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-11 09:39:33,199 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:33,199 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-11 09:39:33,199 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:39:33,199 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-11 09:39:33,199 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:39:33 +08:00

2018-05-11 09:39:33,200 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:33,200 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:33,210 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:33 +08:00

2018-05-11 09:39:33,211 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:39:33 +08:00

2018-05-11 09:39:33,212 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-11 09:39:33,212 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:33,212 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-11 09:39:33,212 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '3' (Type = Int64, IsNullable = false)

2018-05-11 09:39:33,212 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-11 09:39:33,212 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:39:33 +08:00

2018-05-11 09:39:33,212 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:33,212 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:33,212 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:33 +08:00

2018-05-11 09:39:33,220 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:39:33 +08:00

2018-05-11 09:39:33,257 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-11 09:39:33,257 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:33,257 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-11 09:39:33,257 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:39:33 +08:00

2018-05-11 09:39:33,259 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-11 09:39:33,259 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:33,271 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:33 +08:00

2018-05-11 09:39:33,275 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:39:33 +08:00

2018-05-11 09:39:33,284 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:39:33,284 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:33,285 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-11 09:39:33,285 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:39:33 +08:00

2018-05-11 09:39:33,285 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:33,285 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:33,289 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:33 +08:00

2018-05-11 09:39:33,290 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:39:33 +08:00

2018-05-11 09:39:33,291 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:39:33,291 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:33,291 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-11 09:39:33,291 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:39:33 +08:00

2018-05-11 09:39:33,292 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:33,292 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:33,292 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:33 +08:00

2018-05-11 09:39:33,293 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:39:33 +08:00

2018-05-11 09:39:33,294 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:39:33,294 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:33,294 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-11 09:39:33,294 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:39:33 +08:00

2018-05-11 09:39:33,295 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:33,295 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:33,296 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:33 +08:00

2018-05-11 09:39:33,296 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:39:33 +08:00

2018-05-11 09:39:33,296 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:39:33,297 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:33,297 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:39:33,297 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:39:33 +08:00

2018-05-11 09:39:33,297 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:33,297 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:33,297 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:33 +08:00

2018-05-11 09:39:33,297 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:39:33 +08:00

2018-05-11 09:39:33,297 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:39:33,297 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:33,297 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '6' (Type = Int64, IsNullable = false)

2018-05-11 09:39:33,297 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:39:33 +08:00

2018-05-11 09:39:33,298 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:33,298 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:33,298 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:33 +08:00

2018-05-11 09:39:38,637 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:39:38 +08:00

2018-05-11 09:39:38,638 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-11 09:39:38,638 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:38,638 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:39:38 +08:00

2018-05-11 09:39:38,638 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:38,638 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:38,638 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:38 +08:00

2018-05-11 09:39:38,638 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:39:38 +08:00

2018-05-11 09:39:38,639 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-11 09:39:38,639 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:38,639 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:39:38 +08:00

2018-05-11 09:39:38,639 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:38,639 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:38,639 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:38 +08:00

2018-05-11 09:39:38,639 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:39:38 +08:00

2018-05-11 09:39:38,639 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-11 09:39:38,639 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:38,639 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:39:38,639 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:39:38 +08:00

2018-05-11 09:39:38,642 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-11 09:39:38,642 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:38,642 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:38 +08:00

2018-05-11 09:39:38,643 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:39:38 +08:00

2018-05-11 09:39:38,643 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-11 09:39:38,643 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:38,643 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:39:38 +08:00

2018-05-11 09:39:38,643 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:38,643 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:38,644 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:38 +08:00

2018-05-11 09:39:38,644 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:39:38 +08:00

2018-05-11 09:39:38,644 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-11 09:39:38,644 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:38,644 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:39:38,644 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:39:38,644 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-11 09:39:38,644 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:39:38 +08:00

2018-05-11 09:39:38,645 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:38,645 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:38,645 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:38 +08:00

2018-05-11 09:39:38,645 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:39:38 +08:00

2018-05-11 09:39:38,645 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-11 09:39:38,645 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:38,645 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:39:38,645 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '3' (Type = Int64, IsNullable = false)

2018-05-11 09:39:38,645 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-11 09:39:38,646 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:39:38 +08:00

2018-05-11 09:39:38,646 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:38,646 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:38,646 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:38 +08:00

2018-05-11 09:39:38,646 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:39:38 +08:00

2018-05-11 09:39:38,648 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-11 09:39:38,648 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:38,648 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:39:38,648 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:39:38 +08:00

2018-05-11 09:39:38,649 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:38,649 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:38,649 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:38 +08:00

2018-05-11 09:39:38,649 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:39:38 +08:00

2018-05-11 09:39:38,649 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:39:38,649 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:38,649 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-11 09:39:38,649 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:39:38 +08:00

2018-05-11 09:39:38,650 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:38,650 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:38,650 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:38 +08:00

2018-05-11 09:39:38,650 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:39:38 +08:00

2018-05-11 09:39:38,650 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:39:38,650 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:38,650 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '4' (Type = Int64, IsNullable = false)

2018-05-11 09:39:38,650 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:39:38 +08:00

2018-05-11 09:39:38,650 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:38,650 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:38,650 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:38 +08:00

2018-05-11 09:39:38,650 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:39:38 +08:00

2018-05-11 09:39:38,651 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:39:38,651 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:38,651 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:39:38,651 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:39:38 +08:00

2018-05-11 09:39:38,651 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:38,651 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:38,651 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:38 +08:00

2018-05-11 09:39:38,655 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:39:38 +08:00

2018-05-11 09:39:38,660 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'积分增加' <> [Extent1].[Name])
2018-05-11 09:39:38,660 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:38,660 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:39:38 +08:00

2018-05-11 09:39:38,661 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-11 09:39:38,661 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:38,662 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:38 +08:00

2018-05-11 09:39:38,663 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:39:38 +08:00

2018-05-11 09:39:38,664 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2018-05-11 09:39:38,664 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:38,664 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:39:38,664 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:39:38 +08:00

2018-05-11 09:39:38,664 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:38,664 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:38,665 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:38 +08:00

2018-05-11 09:39:38,665 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:39:38 +08:00

2018-05-11 09:39:38,665 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:39:38,665 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:38,665 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:39:38,665 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:39:38 +08:00

2018-05-11 09:39:38,665 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:38,665 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:38,665 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:38 +08:00

2018-05-11 09:39:41,078 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:39:41 +08:00

2018-05-11 09:39:41,079 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-11 09:39:41,079 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:41,079 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:39:41 +08:00

2018-05-11 09:39:41,081 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-11 09:39:41,081 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:41,081 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:41 +08:00

2018-05-11 09:39:41,081 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:39:41 +08:00

2018-05-11 09:39:41,081 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-11 09:39:41,081 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:41,081 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:39:41 +08:00

2018-05-11 09:39:41,082 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:41,082 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:41,082 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:41 +08:00

2018-05-11 09:39:41,082 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:39:41 +08:00

2018-05-11 09:39:41,082 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-11 09:39:41,082 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:41,082 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:39:41,082 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:39:41 +08:00

2018-05-11 09:39:41,083 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:41,083 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:41,083 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:41 +08:00

2018-05-11 09:39:41,083 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:39:41 +08:00

2018-05-11 09:39:41,084 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-11 09:39:41,084 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:41,084 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:39:41 +08:00

2018-05-11 09:39:41,084 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:41,084 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:41,084 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:41 +08:00

2018-05-11 09:39:41,085 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:39:41 +08:00

2018-05-11 09:39:41,085 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-11 09:39:41,085 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:41,085 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:39:41,085 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:39:41,085 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-11 09:39:41,085 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:39:41 +08:00

2018-05-11 09:39:41,085 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:41,085 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:41,085 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:41 +08:00

2018-05-11 09:39:41,086 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:39:41 +08:00

2018-05-11 09:39:41,086 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-11 09:39:41,086 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:41,086 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:39:41,086 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '3' (Type = Int64, IsNullable = false)

2018-05-11 09:39:41,086 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-11 09:39:41,086 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:39:41 +08:00

2018-05-11 09:39:41,086 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:41,087 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:41,087 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:41 +08:00

2018-05-11 09:39:41,087 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:39:41 +08:00

2018-05-11 09:39:41,088 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 1
    ORDER BY [Project1].[CreateTime] DESC
2018-05-11 09:39:41,088 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:41,088 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:39:41,088 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:39:41 +08:00

2018-05-11 09:39:41,089 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:41,089 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:41,089 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:41 +08:00

2018-05-11 09:39:41,089 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:39:41 +08:00

2018-05-11 09:39:41,089 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:39:41,089 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:41,089 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-11 09:39:41,089 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:39:41 +08:00

2018-05-11 09:39:41,090 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:41,090 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:41,090 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:41 +08:00

2018-05-11 09:39:41,090 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:39:41 +08:00

2018-05-11 09:39:41,090 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:39:41,090 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:41,090 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '4' (Type = Int64, IsNullable = false)

2018-05-11 09:39:41,090 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:39:41 +08:00

2018-05-11 09:39:41,090 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:41,090 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:41,091 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:41 +08:00

2018-05-11 09:39:41,091 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:39:41 +08:00

2018-05-11 09:39:41,091 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:39:41,091 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:41,091 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:39:41,091 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:39:41 +08:00

2018-05-11 09:39:41,091 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:41,091 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:41,091 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:41 +08:00

2018-05-11 09:39:41,092 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:39:41 +08:00

2018-05-11 09:39:41,092 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'积分增加' <> [Extent1].[Name])
2018-05-11 09:39:41,092 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:41,092 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:39:41 +08:00

2018-05-11 09:39:41,092 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:41,092 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:41,093 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:41 +08:00

2018-05-11 09:39:41,093 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:39:41 +08:00

2018-05-11 09:39:41,093 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2018-05-11 09:39:41,093 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:41,093 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:39:41,093 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:39:41 +08:00

2018-05-11 09:39:41,094 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:41,094 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:41,094 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:41 +08:00

2018-05-11 09:39:41,094 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:39:41 +08:00

2018-05-11 09:39:41,094 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:39:41,094 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:41,094 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:39:41,094 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:39:41 +08:00

2018-05-11 09:39:41,094 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:41,094 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:41,094 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:41 +08:00

2018-05-11 09:39:42,719 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:39:42 +08:00

2018-05-11 09:39:42,719 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-11 09:39:42,719 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:42,719 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:39:42 +08:00

2018-05-11 09:39:42,720 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:42,720 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:42,720 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:42 +08:00

2018-05-11 09:39:42,720 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:39:42 +08:00

2018-05-11 09:39:42,720 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-11 09:39:42,720 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:42,720 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:39:42 +08:00

2018-05-11 09:39:42,721 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:42,721 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:42,721 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:42 +08:00

2018-05-11 09:39:42,721 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:39:42 +08:00

2018-05-11 09:39:42,721 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-11 09:39:42,721 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:42,721 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:39:42,721 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:39:42 +08:00

2018-05-11 09:39:42,721 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:42,722 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:42,722 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:42 +08:00

2018-05-11 09:39:42,722 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:39:42 +08:00

2018-05-11 09:39:42,722 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-11 09:39:42,722 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:42,722 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:39:42 +08:00

2018-05-11 09:39:42,722 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:42,722 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:42,723 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:42 +08:00

2018-05-11 09:39:42,723 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:39:42 +08:00

2018-05-11 09:39:42,723 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-11 09:39:42,723 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:42,723 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:39:42,723 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:39:42,723 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-11 09:39:42,723 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:39:42 +08:00

2018-05-11 09:39:42,724 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:42,724 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:42,724 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:42 +08:00

2018-05-11 09:39:42,724 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:39:42 +08:00

2018-05-11 09:39:42,724 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-11 09:39:42,724 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:42,724 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:39:42,725 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '3' (Type = Int64, IsNullable = false)

2018-05-11 09:39:42,725 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-11 09:39:42,725 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:39:42 +08:00

2018-05-11 09:39:42,725 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:42,725 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:42,725 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:42 +08:00

2018-05-11 09:39:42,725 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:39:42 +08:00

2018-05-11 09:39:42,727 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 2
    ORDER BY [Project1].[CreateTime] DESC
2018-05-11 09:39:42,727 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:42,727 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:39:42,727 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:39:42 +08:00

2018-05-11 09:39:42,727 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:42,727 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:42,728 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:42 +08:00

2018-05-11 09:39:42,728 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:39:42 +08:00

2018-05-11 09:39:42,728 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:39:42,728 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:42,728 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '5' (Type = Int64, IsNullable = false)

2018-05-11 09:39:42,728 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:39:42 +08:00

2018-05-11 09:39:42,728 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:42,728 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:42,728 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:42 +08:00

2018-05-11 09:39:42,728 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:39:42 +08:00

2018-05-11 09:39:42,728 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:39:42,728 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:42,728 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '4' (Type = Int64, IsNullable = false)

2018-05-11 09:39:42,728 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:39:42 +08:00

2018-05-11 09:39:42,729 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:42,729 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:42,729 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:42 +08:00

2018-05-11 09:39:42,729 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:39:42 +08:00

2018-05-11 09:39:42,729 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:39:42,729 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:42,729 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:39:42,729 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:39:42 +08:00

2018-05-11 09:39:42,729 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:42,729 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:42,729 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:42 +08:00

2018-05-11 09:39:42,730 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:39:42 +08:00

2018-05-11 09:39:42,730 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'积分增加' <> [Extent1].[Name])
2018-05-11 09:39:42,730 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:42,730 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:39:42 +08:00

2018-05-11 09:39:42,730 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:42,730 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:42,731 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:42 +08:00

2018-05-11 09:39:42,731 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:39:42 +08:00

2018-05-11 09:39:42,731 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2018-05-11 09:39:42,731 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:42,731 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:39:42,731 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:39:42 +08:00

2018-05-11 09:39:42,731 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:42,732 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:42,732 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:42 +08:00

2018-05-11 09:39:42,732 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:39:42 +08:00

2018-05-11 09:39:42,732 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:39:42,732 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:42,732 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:39:42,732 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:39:42 +08:00

2018-05-11 09:39:42,732 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:42,732 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:42,732 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:42 +08:00

2018-05-11 09:39:43,583 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:39:43 +08:00

2018-05-11 09:39:43,583 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-11 09:39:43,583 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:43,583 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:39:43 +08:00

2018-05-11 09:39:43,583 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:43,583 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:43,583 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:43 +08:00

2018-05-11 09:39:43,584 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:39:43 +08:00

2018-05-11 09:39:43,584 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-11 09:39:43,584 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:43,584 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:39:43 +08:00

2018-05-11 09:39:43,584 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:43,584 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:43,584 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:43 +08:00

2018-05-11 09:39:43,584 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:39:43 +08:00

2018-05-11 09:39:43,585 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-11 09:39:43,585 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:43,585 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:39:43,585 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:39:43 +08:00

2018-05-11 09:39:43,585 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:43,585 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:43,585 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:43 +08:00

2018-05-11 09:39:43,586 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:39:43 +08:00

2018-05-11 09:39:43,586 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-11 09:39:43,586 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:43,586 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:39:43 +08:00

2018-05-11 09:39:43,586 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:43,586 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:43,587 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:43 +08:00

2018-05-11 09:39:43,587 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:39:43 +08:00

2018-05-11 09:39:43,587 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-11 09:39:43,587 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:43,587 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:39:43,587 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:39:43,587 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-11 09:39:43,587 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:39:43 +08:00

2018-05-11 09:39:43,588 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:43,588 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:43,588 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:43 +08:00

2018-05-11 09:39:43,588 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:39:43 +08:00

2018-05-11 09:39:43,589 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-11 09:39:43,589 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:43,589 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:39:43,589 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '3' (Type = Int64, IsNullable = false)

2018-05-11 09:39:43,589 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-11 09:39:43,589 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:39:43 +08:00

2018-05-11 09:39:43,589 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:43,589 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:43,589 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:43 +08:00

2018-05-11 09:39:43,590 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:39:43 +08:00

2018-05-11 09:39:43,592 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 3
    ORDER BY [Project1].[CreateTime] DESC
2018-05-11 09:39:43,592 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:43,592 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:39:43,592 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:39:43 +08:00

2018-05-11 09:39:43,592 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:43,592 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:43,593 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:43 +08:00

2018-05-11 09:39:43,593 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:39:43 +08:00

2018-05-11 09:39:43,593 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:39:43,593 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:43,593 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:39:43,593 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:39:43 +08:00

2018-05-11 09:39:43,593 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:43,593 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:43,594 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:43 +08:00

2018-05-11 09:39:43,594 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:39:43 +08:00

2018-05-11 09:39:43,594 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:39:43,594 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:43,594 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-11 09:39:43,594 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:39:43 +08:00

2018-05-11 09:39:43,594 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:43,594 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:43,594 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:43 +08:00

2018-05-11 09:39:43,594 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:39:43 +08:00

2018-05-11 09:39:43,594 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:39:43,594 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:43,594 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '5' (Type = Int64, IsNullable = false)

2018-05-11 09:39:43,594 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:39:43 +08:00

2018-05-11 09:39:43,595 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:43,595 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:43,595 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:43 +08:00

2018-05-11 09:39:43,595 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:39:43 +08:00

2018-05-11 09:39:43,596 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'积分增加' <> [Extent1].[Name])
2018-05-11 09:39:43,596 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:43,596 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:39:43 +08:00

2018-05-11 09:39:43,596 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:43,596 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:43,596 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:43 +08:00

2018-05-11 09:39:43,597 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:39:43 +08:00

2018-05-11 09:39:43,597 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2018-05-11 09:39:43,597 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:43,597 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:39:43,597 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:39:43 +08:00

2018-05-11 09:39:43,598 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:43,598 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:43,598 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:43 +08:00

2018-05-11 09:39:43,598 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:39:43 +08:00

2018-05-11 09:39:43,598 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:39:43,598 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:43,598 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:39:43,598 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:39:43 +08:00

2018-05-11 09:39:43,599 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:43,599 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:43,599 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:43 +08:00

2018-05-11 09:39:44,680 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:39:44 +08:00

2018-05-11 09:39:44,681 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-11 09:39:44,681 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:44,681 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:39:44 +08:00

2018-05-11 09:39:44,681 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:44,681 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:44,681 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:44 +08:00

2018-05-11 09:39:44,682 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:39:44 +08:00

2018-05-11 09:39:44,682 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-11 09:39:44,682 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:44,682 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:39:44 +08:00

2018-05-11 09:39:44,682 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:44,682 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:44,682 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:44 +08:00

2018-05-11 09:39:44,682 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:39:44 +08:00

2018-05-11 09:39:44,683 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-11 09:39:44,683 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:44,683 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:39:44,683 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:39:44 +08:00

2018-05-11 09:39:44,683 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:44,683 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:44,683 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:44 +08:00

2018-05-11 09:39:44,683 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:39:44 +08:00

2018-05-11 09:39:44,684 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-11 09:39:44,684 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:44,684 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:39:44 +08:00

2018-05-11 09:39:44,684 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:44,684 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:44,684 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:44 +08:00

2018-05-11 09:39:44,684 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:39:44 +08:00

2018-05-11 09:39:44,685 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-11 09:39:44,685 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:44,685 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:39:44,685 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:39:44,685 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-11 09:39:44,685 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:39:44 +08:00

2018-05-11 09:39:44,685 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:44,685 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:44,685 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:44 +08:00

2018-05-11 09:39:44,685 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:39:44 +08:00

2018-05-11 09:39:44,686 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-11 09:39:44,686 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:44,686 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:39:44,686 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '3' (Type = Int64, IsNullable = false)

2018-05-11 09:39:44,686 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-11 09:39:44,686 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:39:44 +08:00

2018-05-11 09:39:44,686 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:44,686 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:44,686 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:44 +08:00

2018-05-11 09:39:44,687 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:39:44 +08:00

2018-05-11 09:39:44,688 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 4
    ORDER BY [Project1].[CreateTime] DESC
2018-05-11 09:39:44,688 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:44,688 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:39:44,688 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:39:44 +08:00

2018-05-11 09:39:44,689 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:44,689 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:44,689 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:44 +08:00

2018-05-11 09:39:44,689 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:39:44 +08:00

2018-05-11 09:39:44,689 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:39:44,689 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:44,689 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:39:44,689 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:39:44 +08:00

2018-05-11 09:39:44,689 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:44,689 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:44,690 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:44 +08:00

2018-05-11 09:39:44,690 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:39:44 +08:00

2018-05-11 09:39:44,690 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:39:44,690 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:44,690 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-11 09:39:44,690 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:39:44 +08:00

2018-05-11 09:39:44,690 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:44,690 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:44,690 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:44 +08:00

2018-05-11 09:39:44,690 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:39:44 +08:00

2018-05-11 09:39:44,690 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:39:44,690 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:44,690 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-11 09:39:44,690 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:39:44 +08:00

2018-05-11 09:39:44,691 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:44,691 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:44,691 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:44 +08:00

2018-05-11 09:39:44,692 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:39:44 +08:00

2018-05-11 09:39:44,692 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'积分增加' <> [Extent1].[Name])
2018-05-11 09:39:44,692 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:44,692 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:39:44 +08:00

2018-05-11 09:39:44,692 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:44,692 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:44,693 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:44 +08:00

2018-05-11 09:39:44,693 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:39:44 +08:00

2018-05-11 09:39:44,693 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2018-05-11 09:39:44,693 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:44,693 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:39:44,693 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:39:44 +08:00

2018-05-11 09:39:44,694 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:44,694 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:44,694 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:44 +08:00

2018-05-11 09:39:44,694 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:39:44 +08:00

2018-05-11 09:39:44,694 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:39:44,694 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:44,694 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:39:44,694 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:39:44 +08:00

2018-05-11 09:39:44,694 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:44,694 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:44,694 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:44 +08:00

2018-05-11 09:39:45,726 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:39:45 +08:00

2018-05-11 09:39:45,726 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-11 09:39:45,726 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:45,727 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:39:45 +08:00

2018-05-11 09:39:45,727 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:45,727 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:45,727 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:45 +08:00

2018-05-11 09:39:45,727 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:39:45 +08:00

2018-05-11 09:39:45,727 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-11 09:39:45,727 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:45,727 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:39:45 +08:00

2018-05-11 09:39:45,728 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:45,728 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:45,728 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:45 +08:00

2018-05-11 09:39:45,728 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:39:45 +08:00

2018-05-11 09:39:45,728 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-11 09:39:45,728 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:45,728 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:39:45,728 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:39:45 +08:00

2018-05-11 09:39:45,729 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:45,729 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:45,729 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:45 +08:00

2018-05-11 09:39:45,729 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:39:45 +08:00

2018-05-11 09:39:45,729 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-11 09:39:45,729 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:45,729 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:39:45 +08:00

2018-05-11 09:39:45,731 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-11 09:39:45,731 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:45,731 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:45 +08:00

2018-05-11 09:39:45,732 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:39:45 +08:00

2018-05-11 09:39:45,732 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-11 09:39:45,732 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:45,732 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:39:45,732 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:39:45,732 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-11 09:39:45,732 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:39:45 +08:00

2018-05-11 09:39:45,732 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:45,732 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:45,732 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:45 +08:00

2018-05-11 09:39:45,733 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:39:45 +08:00

2018-05-11 09:39:45,733 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-11 09:39:45,733 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:45,733 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:39:45,733 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '3' (Type = Int64, IsNullable = false)

2018-05-11 09:39:45,733 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-11 09:39:45,733 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:39:45 +08:00

2018-05-11 09:39:45,733 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:45,733 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:45,733 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:45 +08:00

2018-05-11 09:39:45,734 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:39:45 +08:00

2018-05-11 09:39:45,735 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 5
    ORDER BY [Project1].[CreateTime] DESC
2018-05-11 09:39:45,735 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:45,735 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:39:45,735 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:39:45 +08:00

2018-05-11 09:39:45,736 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:45,736 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:45,736 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:45 +08:00

2018-05-11 09:39:45,736 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:39:45 +08:00

2018-05-11 09:39:45,736 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:39:45,736 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:45,736 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:39:45,736 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:39:45 +08:00

2018-05-11 09:39:45,737 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:45,737 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:45,737 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:45 +08:00

2018-05-11 09:39:45,737 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:39:45 +08:00

2018-05-11 09:39:45,737 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:39:45,737 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:45,737 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-11 09:39:45,737 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:39:45 +08:00

2018-05-11 09:39:45,737 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:45,737 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:45,738 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:45 +08:00

2018-05-11 09:39:45,738 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:39:45 +08:00

2018-05-11 09:39:45,738 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:39:45,738 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:45,738 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-11 09:39:45,738 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:39:45 +08:00

2018-05-11 09:39:45,738 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:45,738 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:45,738 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:45 +08:00

2018-05-11 09:39:45,739 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:39:45 +08:00

2018-05-11 09:39:45,739 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'积分增加' <> [Extent1].[Name])
2018-05-11 09:39:45,739 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:45,739 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:39:45 +08:00

2018-05-11 09:39:45,739 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:45,739 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:45,739 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:45 +08:00

2018-05-11 09:39:45,740 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:39:45 +08:00

2018-05-11 09:39:45,740 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2018-05-11 09:39:45,740 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:45,740 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:39:45,740 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:39:45 +08:00

2018-05-11 09:39:45,740 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:45,740 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:45,741 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:45 +08:00

2018-05-11 09:39:45,741 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:39:45 +08:00

2018-05-11 09:39:45,741 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:39:45,741 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:45,741 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:39:45,741 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:39:45 +08:00

2018-05-11 09:39:45,741 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:45,741 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:45,741 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:45 +08:00

2018-05-11 09:39:46,815 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:39:46 +08:00

2018-05-11 09:39:46,815 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-11 09:39:46,815 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:46,815 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:39:46 +08:00

2018-05-11 09:39:46,815 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:46,815 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:46,815 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:46 +08:00

2018-05-11 09:39:46,815 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:39:46 +08:00

2018-05-11 09:39:46,816 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-11 09:39:46,816 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:46,816 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:39:46 +08:00

2018-05-11 09:39:46,816 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:46,816 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:46,816 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:46 +08:00

2018-05-11 09:39:46,816 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:39:46 +08:00

2018-05-11 09:39:46,816 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-11 09:39:46,817 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:46,817 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:39:46,817 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:39:46 +08:00

2018-05-11 09:39:46,817 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:46,817 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:46,817 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:46 +08:00

2018-05-11 09:39:46,817 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:39:46 +08:00

2018-05-11 09:39:46,817 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-11 09:39:46,818 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:46,818 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:39:46 +08:00

2018-05-11 09:39:46,818 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:46,818 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:46,818 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:46 +08:00

2018-05-11 09:39:46,818 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:39:46 +08:00

2018-05-11 09:39:46,819 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-11 09:39:46,819 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:46,819 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:39:46,819 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:39:46,819 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-11 09:39:46,819 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:39:46 +08:00

2018-05-11 09:39:46,819 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:46,819 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:46,819 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:46 +08:00

2018-05-11 09:39:46,819 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:39:46 +08:00

2018-05-11 09:39:46,820 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-11 09:39:46,820 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:46,820 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:39:46,820 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '3' (Type = Int64, IsNullable = false)

2018-05-11 09:39:46,820 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-11 09:39:46,820 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:39:46 +08:00

2018-05-11 09:39:46,820 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:46,820 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:46,820 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:46 +08:00

2018-05-11 09:39:46,820 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:39:46 +08:00

2018-05-11 09:39:46,822 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 6
    ORDER BY [Project1].[CreateTime] DESC
2018-05-11 09:39:46,822 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:46,822 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:39:46,822 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:39:46 +08:00

2018-05-11 09:39:46,823 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:46,823 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:46,823 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:46 +08:00

2018-05-11 09:39:46,823 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:39:46 +08:00

2018-05-11 09:39:46,823 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:39:46,823 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:46,823 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-11 09:39:46,823 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:39:46 +08:00

2018-05-11 09:39:46,823 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:46,823 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:46,824 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:46 +08:00

2018-05-11 09:39:46,824 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:39:46 +08:00

2018-05-11 09:39:46,824 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:39:46,824 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:46,824 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:39:46,824 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:39:46 +08:00

2018-05-11 09:39:46,824 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:46,824 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:46,824 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:46 +08:00

2018-05-11 09:39:46,824 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:39:46 +08:00

2018-05-11 09:39:46,824 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:39:46,824 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:46,824 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-11 09:39:46,825 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:39:46 +08:00

2018-05-11 09:39:46,825 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:46,825 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:46,825 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:46 +08:00

2018-05-11 09:39:46,825 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:39:46 +08:00

2018-05-11 09:39:46,825 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'积分增加' <> [Extent1].[Name])
2018-05-11 09:39:46,826 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:46,826 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:39:46 +08:00

2018-05-11 09:39:46,826 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:46,826 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:46,826 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:46 +08:00

2018-05-11 09:39:46,826 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:39:46 +08:00

2018-05-11 09:39:46,827 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2018-05-11 09:39:46,827 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:46,827 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:39:46,827 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:39:46 +08:00

2018-05-11 09:39:46,827 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:46,827 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:46,827 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:46 +08:00

2018-05-11 09:39:46,827 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:39:46 +08:00

2018-05-11 09:39:46,827 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:39:46,827 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:46,828 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:39:46,828 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:39:46 +08:00

2018-05-11 09:39:46,828 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:46,828 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:46,828 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:46 +08:00

2018-05-11 09:39:48,016 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:39:48 +08:00

2018-05-11 09:39:48,017 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-11 09:39:48,017 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:48,017 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:39:48 +08:00

2018-05-11 09:39:48,017 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:48,017 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:48,017 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:48 +08:00

2018-05-11 09:39:48,017 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:39:48 +08:00

2018-05-11 09:39:48,017 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-11 09:39:48,018 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:48,018 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:39:48 +08:00

2018-05-11 09:39:48,018 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:48,018 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:48,018 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:48 +08:00

2018-05-11 09:39:48,018 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:39:48 +08:00

2018-05-11 09:39:48,018 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-11 09:39:48,018 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:48,018 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:39:48,018 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:39:48 +08:00

2018-05-11 09:39:48,019 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:48,019 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:48,019 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:48 +08:00

2018-05-11 09:39:48,019 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:39:48 +08:00

2018-05-11 09:39:48,019 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-11 09:39:48,019 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:48,019 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:39:48 +08:00

2018-05-11 09:39:48,020 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:48,020 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:48,020 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:48 +08:00

2018-05-11 09:39:48,020 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:39:48 +08:00

2018-05-11 09:39:48,021 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-11 09:39:48,021 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:48,021 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:39:48,021 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:39:48,021 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-11 09:39:48,021 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:39:48 +08:00

2018-05-11 09:39:48,021 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:48,021 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:48,021 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:48 +08:00

2018-05-11 09:39:48,021 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:39:48 +08:00

2018-05-11 09:39:48,022 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-11 09:39:48,022 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:48,022 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:39:48,022 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '3' (Type = Int64, IsNullable = false)

2018-05-11 09:39:48,022 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-11 09:39:48,022 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:39:48 +08:00

2018-05-11 09:39:48,022 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:48,022 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:48,022 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:48 +08:00

2018-05-11 09:39:48,022 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:39:48 +08:00

2018-05-11 09:39:48,025 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 7
    ORDER BY [Project1].[CreateTime] DESC
2018-05-11 09:39:48,025 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:48,025 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:39:48,025 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:39:48 +08:00

2018-05-11 09:39:48,028 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-11 09:39:48,028 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:48,028 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:48 +08:00

2018-05-11 09:39:48,028 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:39:48 +08:00

2018-05-11 09:39:48,028 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:39:48,028 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:48,028 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-11 09:39:48,028 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:39:48 +08:00

2018-05-11 09:39:48,028 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:48,028 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:48,029 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:48 +08:00

2018-05-11 09:39:48,029 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:39:48 +08:00

2018-05-11 09:39:48,029 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:39:48,029 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:48,029 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:39:48,029 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:39:48 +08:00

2018-05-11 09:39:48,029 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:48,029 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:48,029 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:48 +08:00

2018-05-11 09:39:48,029 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:39:48 +08:00

2018-05-11 09:39:48,029 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:39:48,029 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:48,029 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-11 09:39:48,029 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:39:48 +08:00

2018-05-11 09:39:48,030 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:48,030 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:48,030 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:48 +08:00

2018-05-11 09:39:48,030 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:39:48 +08:00

2018-05-11 09:39:48,030 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'积分增加' <> [Extent1].[Name])
2018-05-11 09:39:48,030 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:48,030 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:39:48 +08:00

2018-05-11 09:39:48,031 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:48,031 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:48,031 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:48 +08:00

2018-05-11 09:39:48,031 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:39:48 +08:00

2018-05-11 09:39:48,032 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2018-05-11 09:39:48,032 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:48,032 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:39:48,032 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:39:48 +08:00

2018-05-11 09:39:48,032 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:48,032 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:48,032 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:48 +08:00

2018-05-11 09:39:48,032 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:39:48 +08:00

2018-05-11 09:39:48,032 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:39:48,032 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:48,032 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:39:48,032 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:39:48 +08:00

2018-05-11 09:39:48,033 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:48,033 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:48,033 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:48 +08:00

2018-05-11 09:39:52,033 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:39:52 +08:00

2018-05-11 09:39:52,034 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-11 09:39:52,034 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:52,034 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:39:52 +08:00

2018-05-11 09:39:52,034 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:52,034 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:52,034 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:52 +08:00

2018-05-11 09:39:52,034 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:39:52 +08:00

2018-05-11 09:39:52,035 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-11 09:39:52,035 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:52,035 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:39:52 +08:00

2018-05-11 09:39:52,035 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:52,035 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:52,035 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:52 +08:00

2018-05-11 09:39:52,035 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:39:52 +08:00

2018-05-11 09:39:52,036 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-11 09:39:52,036 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:52,036 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:39:52,036 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:39:52 +08:00

2018-05-11 09:39:52,036 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:52,036 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:52,036 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:52 +08:00

2018-05-11 09:39:52,036 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:39:52 +08:00

2018-05-11 09:39:52,037 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-11 09:39:52,037 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:52,037 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:39:52 +08:00

2018-05-11 09:39:52,037 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:52,037 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:52,037 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:52 +08:00

2018-05-11 09:39:52,037 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:39:52 +08:00

2018-05-11 09:39:52,038 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-11 09:39:52,038 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:52,038 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:39:52,038 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:39:52,038 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-11 09:39:52,038 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:39:52 +08:00

2018-05-11 09:39:52,038 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:52,038 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:52,038 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:52 +08:00

2018-05-11 09:39:52,038 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:39:52 +08:00

2018-05-11 09:39:52,039 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-11 09:39:52,039 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:52,039 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:39:52,039 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '3' (Type = Int64, IsNullable = false)

2018-05-11 09:39:52,039 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-11 09:39:52,039 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:39:52 +08:00

2018-05-11 09:39:52,039 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:52,039 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:52,039 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:52 +08:00

2018-05-11 09:39:52,040 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:39:52 +08:00

2018-05-11 09:39:52,041 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 8
    ORDER BY [Project1].[CreateTime] DESC
2018-05-11 09:39:52,042 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:52,042 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:39:52,042 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:39:52 +08:00

2018-05-11 09:39:52,044 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-11 09:39:52,045 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:52,045 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:52 +08:00

2018-05-11 09:39:52,045 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:39:52 +08:00

2018-05-11 09:39:52,045 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:39:52,045 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:52,045 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:39:52,045 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:39:52 +08:00

2018-05-11 09:39:52,045 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:52,046 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:52,046 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:52 +08:00

2018-05-11 09:39:52,046 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:39:52 +08:00

2018-05-11 09:39:52,046 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:39:52,046 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:52,046 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '5' (Type = Int64, IsNullable = false)

2018-05-11 09:39:52,046 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:39:52 +08:00

2018-05-11 09:39:52,046 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:52,046 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:52,046 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:52 +08:00

2018-05-11 09:39:52,047 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:39:52 +08:00

2018-05-11 09:39:52,047 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'积分增加' <> [Extent1].[Name])
2018-05-11 09:39:52,047 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:52,047 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:39:52 +08:00

2018-05-11 09:39:52,047 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:52,047 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:52,048 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:52 +08:00

2018-05-11 09:39:52,048 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:39:52 +08:00

2018-05-11 09:39:52,048 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2018-05-11 09:39:52,048 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:52,048 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:39:52,048 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:39:52 +08:00

2018-05-11 09:39:52,049 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:52,049 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:52,049 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:52 +08:00

2018-05-11 09:39:52,049 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:39:52 +08:00

2018-05-11 09:39:52,049 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:39:52,049 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:52,049 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:39:52,049 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:39:52 +08:00

2018-05-11 09:39:52,050 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:52,050 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:52,050 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:52 +08:00

2018-05-11 09:39:53,294 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:39:53 +08:00

2018-05-11 09:39:53,295 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-11 09:39:53,295 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:53,295 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:39:53 +08:00

2018-05-11 09:39:53,295 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:53,295 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:53,295 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:53 +08:00

2018-05-11 09:39:53,295 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:39:53 +08:00

2018-05-11 09:39:53,295 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-11 09:39:53,295 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:53,296 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:39:53 +08:00

2018-05-11 09:39:53,296 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:53,296 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:53,296 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:53 +08:00

2018-05-11 09:39:53,296 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:39:53 +08:00

2018-05-11 09:39:53,296 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-11 09:39:53,296 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:53,296 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:39:53,296 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:39:53 +08:00

2018-05-11 09:39:53,297 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:53,297 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:53,297 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:53 +08:00

2018-05-11 09:39:53,297 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:39:53 +08:00

2018-05-11 09:39:53,297 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-11 09:39:53,297 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:53,297 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:39:53 +08:00

2018-05-11 09:39:53,298 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:53,298 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:53,298 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:53 +08:00

2018-05-11 09:39:53,299 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:39:53 +08:00

2018-05-11 09:39:53,299 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-11 09:39:53,299 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:53,299 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:39:53,299 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:39:53,299 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-11 09:39:53,299 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:39:53 +08:00

2018-05-11 09:39:53,299 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:53,299 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:53,300 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:53 +08:00

2018-05-11 09:39:53,300 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:39:53 +08:00

2018-05-11 09:39:53,300 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-11 09:39:53,300 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:53,300 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:39:53,300 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '3' (Type = Int64, IsNullable = false)

2018-05-11 09:39:53,300 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-11 09:39:53,300 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:39:53 +08:00

2018-05-11 09:39:53,300 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:53,301 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:53,301 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:53 +08:00

2018-05-11 09:39:53,301 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:39:53 +08:00

2018-05-11 09:39:53,302 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 9
    ORDER BY [Project1].[CreateTime] DESC
2018-05-11 09:39:53,303 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:53,303 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:39:53,303 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:39:53 +08:00

2018-05-11 09:39:53,305 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-11 09:39:53,305 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:53,306 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:53 +08:00

2018-05-11 09:39:53,306 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:39:53 +08:00

2018-05-11 09:39:53,306 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:39:53,306 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:53,306 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-11 09:39:53,306 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:39:53 +08:00

2018-05-11 09:39:53,306 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:53,306 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:53,306 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:53 +08:00

2018-05-11 09:39:53,307 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:39:53 +08:00

2018-05-11 09:39:53,307 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:39:53,307 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:53,307 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '4' (Type = Int64, IsNullable = false)

2018-05-11 09:39:53,307 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:39:53 +08:00

2018-05-11 09:39:53,307 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:53,307 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:53,307 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:53 +08:00

2018-05-11 09:39:53,307 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:39:53 +08:00

2018-05-11 09:39:53,307 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:39:53,307 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:53,307 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:39:53,307 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:39:53 +08:00

2018-05-11 09:39:53,308 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:53,308 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:53,308 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:53 +08:00

2018-05-11 09:39:53,308 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:39:53 +08:00

2018-05-11 09:39:53,308 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'积分增加' <> [Extent1].[Name])
2018-05-11 09:39:53,308 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:53,308 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:39:53 +08:00

2018-05-11 09:39:53,309 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:53,309 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:53,309 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:53 +08:00

2018-05-11 09:39:53,309 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:39:53 +08:00

2018-05-11 09:39:53,310 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2018-05-11 09:39:53,310 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:53,310 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:39:53,310 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:39:53 +08:00

2018-05-11 09:39:53,310 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:53,310 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:53,310 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:53 +08:00

2018-05-11 09:39:53,310 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:39:53 +08:00

2018-05-11 09:39:53,310 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:39:53,310 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:53,310 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:39:53,311 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:39:53 +08:00

2018-05-11 09:39:53,311 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:53,311 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:53,311 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:53 +08:00

2018-05-11 09:39:54,481 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:39:54 +08:00

2018-05-11 09:39:54,481 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-11 09:39:54,481 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:54,481 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:39:54 +08:00

2018-05-11 09:39:54,481 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:54,481 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:54,481 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:54 +08:00

2018-05-11 09:39:54,482 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:39:54 +08:00

2018-05-11 09:39:54,482 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-11 09:39:54,482 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:54,482 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:39:54 +08:00

2018-05-11 09:39:54,482 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:54,482 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:54,482 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:54 +08:00

2018-05-11 09:39:54,482 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:39:54 +08:00

2018-05-11 09:39:54,483 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-11 09:39:54,483 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:54,483 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:39:54,483 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:39:54 +08:00

2018-05-11 09:39:54,483 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:54,483 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:54,483 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:54 +08:00

2018-05-11 09:39:54,484 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:39:54 +08:00

2018-05-11 09:39:54,484 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-11 09:39:54,484 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:54,484 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:39:54 +08:00

2018-05-11 09:39:54,484 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:54,484 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:54,484 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:54 +08:00

2018-05-11 09:39:54,485 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:39:54 +08:00

2018-05-11 09:39:54,485 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-11 09:39:54,485 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:54,485 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:39:54,485 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:39:54,485 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-11 09:39:54,485 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:39:54 +08:00

2018-05-11 09:39:54,486 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:54,486 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:54,486 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:54 +08:00

2018-05-11 09:39:54,486 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:39:54 +08:00

2018-05-11 09:39:54,486 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-11 09:39:54,486 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:54,486 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:39:54,486 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '3' (Type = Int64, IsNullable = false)

2018-05-11 09:39:54,486 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-11 09:39:54,486 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:39:54 +08:00

2018-05-11 09:39:54,487 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:54,487 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:54,487 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:54 +08:00

2018-05-11 09:39:54,487 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:39:54 +08:00

2018-05-11 09:39:54,489 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 10
    ORDER BY [Project1].[CreateTime] DESC
2018-05-11 09:39:54,489 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:54,489 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:39:54,489 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:39:54 +08:00

2018-05-11 09:39:54,492 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-11 09:39:54,492 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:54,492 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:54 +08:00

2018-05-11 09:39:54,492 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:39:54 +08:00

2018-05-11 09:39:54,492 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:39:54,492 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:54,492 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-11 09:39:54,492 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:39:54 +08:00

2018-05-11 09:39:54,493 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:54,493 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:54,493 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:54 +08:00

2018-05-11 09:39:54,493 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:39:54 +08:00

2018-05-11 09:39:54,493 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:39:54,493 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:54,493 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '4' (Type = Int64, IsNullable = false)

2018-05-11 09:39:54,493 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:39:54 +08:00

2018-05-11 09:39:54,493 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:54,493 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:54,493 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:54 +08:00

2018-05-11 09:39:54,493 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:39:54 +08:00

2018-05-11 09:39:54,494 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:39:54,494 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:54,494 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:39:54,494 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:39:54 +08:00

2018-05-11 09:39:54,494 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:54,494 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:54,494 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:54 +08:00

2018-05-11 09:39:54,494 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:39:54 +08:00

2018-05-11 09:39:54,495 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'积分增加' <> [Extent1].[Name])
2018-05-11 09:39:54,495 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:54,495 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:39:54 +08:00

2018-05-11 09:39:54,495 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:54,495 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:54,495 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:54 +08:00

2018-05-11 09:39:54,496 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:39:54 +08:00

2018-05-11 09:39:54,496 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2018-05-11 09:39:54,496 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:54,496 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:39:54,496 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:39:54 +08:00

2018-05-11 09:39:54,496 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:54,496 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:54,496 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:54 +08:00

2018-05-11 09:39:54,497 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:39:54 +08:00

2018-05-11 09:39:54,497 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:39:54,497 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:54,497 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:39:54,497 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:39:54 +08:00

2018-05-11 09:39:54,497 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:54,497 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:54,497 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:54 +08:00

2018-05-11 09:39:55,180 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:39:55 +08:00

2018-05-11 09:39:55,180 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-11 09:39:55,180 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:55,180 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:39:55 +08:00

2018-05-11 09:39:55,181 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:55,181 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:55,181 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:55 +08:00

2018-05-11 09:39:55,181 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:39:55 +08:00

2018-05-11 09:39:55,181 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-11 09:39:55,181 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:55,181 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:39:55 +08:00

2018-05-11 09:39:55,181 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:55,182 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:55,182 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:55 +08:00

2018-05-11 09:39:55,182 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:39:55 +08:00

2018-05-11 09:39:55,182 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-11 09:39:55,182 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:55,182 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:39:55,182 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:39:55 +08:00

2018-05-11 09:39:55,182 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:55,183 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:55,183 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:55 +08:00

2018-05-11 09:39:55,183 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:39:55 +08:00

2018-05-11 09:39:55,183 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-11 09:39:55,183 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:55,183 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:39:55 +08:00

2018-05-11 09:39:55,183 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:55,183 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:55,184 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:55 +08:00

2018-05-11 09:39:55,184 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:39:55 +08:00

2018-05-11 09:39:55,184 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-11 09:39:55,184 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:55,184 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:39:55,184 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:39:55,184 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-11 09:39:55,184 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:39:55 +08:00

2018-05-11 09:39:55,185 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:55,185 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:55,185 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:55 +08:00

2018-05-11 09:39:55,185 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:39:55 +08:00

2018-05-11 09:39:55,185 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-11 09:39:55,185 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:55,185 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:39:55,185 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '3' (Type = Int64, IsNullable = false)

2018-05-11 09:39:55,185 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-11 09:39:55,185 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:39:55 +08:00

2018-05-11 09:39:55,186 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:55,186 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:55,186 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:55 +08:00

2018-05-11 09:39:55,186 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:39:55 +08:00

2018-05-11 09:39:55,188 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 11
    ORDER BY [Project1].[CreateTime] DESC
2018-05-11 09:39:55,188 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:55,188 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:39:55,188 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:39:55 +08:00

2018-05-11 09:39:55,190 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-11 09:39:55,190 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:55,191 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:55 +08:00

2018-05-11 09:39:55,191 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:39:55 +08:00

2018-05-11 09:39:55,191 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:39:55,191 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:55,191 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:39:55,191 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:39:55 +08:00

2018-05-11 09:39:55,191 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:55,191 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:55,192 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:55 +08:00

2018-05-11 09:39:55,192 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:39:55 +08:00

2018-05-11 09:39:55,192 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:39:55,192 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:55,192 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:39:55,192 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:39:55 +08:00

2018-05-11 09:39:55,192 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:55,192 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:55,192 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:55 +08:00

2018-05-11 09:39:55,193 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:39:55 +08:00

2018-05-11 09:39:55,193 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'积分增加' <> [Extent1].[Name])
2018-05-11 09:39:55,193 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:55,193 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:39:55 +08:00

2018-05-11 09:39:55,194 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:55,194 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:55,194 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:55 +08:00

2018-05-11 09:39:55,194 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:39:55 +08:00

2018-05-11 09:39:55,195 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2018-05-11 09:39:55,195 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:55,195 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:39:55,195 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:39:55 +08:00

2018-05-11 09:39:55,195 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:55,195 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:55,195 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:55 +08:00

2018-05-11 09:39:55,195 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:39:55 +08:00

2018-05-11 09:39:55,195 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:39:55,195 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:55,195 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:39:55,195 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:39:55 +08:00

2018-05-11 09:39:55,196 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:55,196 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:55,196 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:55 +08:00

2018-05-11 09:39:56,243 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:39:56 +08:00

2018-05-11 09:39:56,244 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-11 09:39:56,244 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:56,244 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:39:56 +08:00

2018-05-11 09:39:56,244 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:56,244 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:56,244 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:56 +08:00

2018-05-11 09:39:56,245 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:39:56 +08:00

2018-05-11 09:39:56,245 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-11 09:39:56,245 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:56,245 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:39:56 +08:00

2018-05-11 09:39:56,245 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:56,245 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:56,245 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:56 +08:00

2018-05-11 09:39:56,245 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:39:56 +08:00

2018-05-11 09:39:56,246 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-11 09:39:56,246 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:56,246 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:39:56,246 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:39:56 +08:00

2018-05-11 09:39:56,246 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:56,246 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:56,246 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:56 +08:00

2018-05-11 09:39:56,246 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:39:56 +08:00

2018-05-11 09:39:56,247 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-11 09:39:56,247 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:56,247 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:39:56 +08:00

2018-05-11 09:39:56,247 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:56,247 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:56,247 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:56 +08:00

2018-05-11 09:39:56,247 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:39:56 +08:00

2018-05-11 09:39:56,248 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-11 09:39:56,248 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:56,248 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:39:56,248 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:39:56,248 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-11 09:39:56,248 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:39:56 +08:00

2018-05-11 09:39:56,248 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:56,248 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:56,248 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:56 +08:00

2018-05-11 09:39:56,249 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:39:56 +08:00

2018-05-11 09:39:56,249 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-11 09:39:56,249 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:56,249 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:39:56,249 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '3' (Type = Int64, IsNullable = false)

2018-05-11 09:39:56,249 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-11 09:39:56,249 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:39:56 +08:00

2018-05-11 09:39:56,249 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:56,249 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:56,249 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:56 +08:00

2018-05-11 09:39:56,250 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:39:56 +08:00

2018-05-11 09:39:56,251 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 12
    ORDER BY [Project1].[CreateTime] DESC
2018-05-11 09:39:56,251 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:56,251 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:39:56,251 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:39:56 +08:00

2018-05-11 09:39:56,254 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-11 09:39:56,254 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:56,254 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:56 +08:00

2018-05-11 09:39:56,254 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:39:56 +08:00

2018-05-11 09:39:56,255 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:39:56,255 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:56,255 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:39:56,255 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:39:56 +08:00

2018-05-11 09:39:56,255 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:56,255 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:56,255 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:56 +08:00

2018-05-11 09:39:56,255 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:39:56 +08:00

2018-05-11 09:39:56,255 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:39:56,255 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:56,255 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-11 09:39:56,255 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:39:56 +08:00

2018-05-11 09:39:56,256 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:56,256 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:56,256 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:56 +08:00

2018-05-11 09:39:56,256 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:39:56 +08:00

2018-05-11 09:39:56,256 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:39:56,256 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:56,256 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-11 09:39:56,256 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:39:56 +08:00

2018-05-11 09:39:56,256 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:56,256 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:56,256 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:56 +08:00

2018-05-11 09:39:56,257 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:39:56 +08:00

2018-05-11 09:39:56,257 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'积分增加' <> [Extent1].[Name])
2018-05-11 09:39:56,257 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:56,257 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:39:56 +08:00

2018-05-11 09:39:56,257 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:56,258 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:56,258 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:56 +08:00

2018-05-11 09:39:56,258 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:39:56 +08:00

2018-05-11 09:39:56,258 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2018-05-11 09:39:56,259 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:56,259 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:39:56,259 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:39:56 +08:00

2018-05-11 09:39:56,259 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:56,259 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:56,259 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:56 +08:00

2018-05-11 09:39:56,259 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:39:56 +08:00

2018-05-11 09:39:56,259 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:39:56,259 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:56,259 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:39:56,259 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:39:56 +08:00

2018-05-11 09:39:56,260 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:56,260 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:56,260 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:56 +08:00

2018-05-11 09:39:57,853 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:39:57 +08:00

2018-05-11 09:39:57,853 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-11 09:39:57,853 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:57,853 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:39:57 +08:00

2018-05-11 09:39:57,854 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:57,854 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:57,854 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:57 +08:00

2018-05-11 09:39:57,854 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:39:57 +08:00

2018-05-11 09:39:57,854 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-11 09:39:57,854 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:57,854 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:39:57 +08:00

2018-05-11 09:39:57,855 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:57,855 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:57,855 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:57 +08:00

2018-05-11 09:39:57,855 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:39:57 +08:00

2018-05-11 09:39:57,855 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-11 09:39:57,855 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:57,855 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:39:57,855 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:39:57 +08:00

2018-05-11 09:39:57,855 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:57,856 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:57,856 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:57 +08:00

2018-05-11 09:39:57,856 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:39:57 +08:00

2018-05-11 09:39:57,856 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-11 09:39:57,856 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:57,856 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:39:57 +08:00

2018-05-11 09:39:57,856 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:57,856 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:57,857 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:57 +08:00

2018-05-11 09:39:57,857 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:39:57 +08:00

2018-05-11 09:39:57,857 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-11 09:39:57,857 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:57,857 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:39:57,857 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:39:57,857 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-11 09:39:57,857 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:39:57 +08:00

2018-05-11 09:39:57,858 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:57,858 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:57,858 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:57 +08:00

2018-05-11 09:39:57,858 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:39:57 +08:00

2018-05-11 09:39:57,859 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-11 09:39:57,859 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:57,859 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:39:57,859 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '3' (Type = Int64, IsNullable = false)

2018-05-11 09:39:57,859 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-11 09:39:57,859 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:39:57 +08:00

2018-05-11 09:39:57,859 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:57,859 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:57,859 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:57 +08:00

2018-05-11 09:39:57,860 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:39:57 +08:00

2018-05-11 09:39:57,860 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 11
    ORDER BY [Project1].[CreateTime] DESC
2018-05-11 09:39:57,860 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:57,860 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:39:57,860 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:39:57 +08:00

2018-05-11 09:39:57,860 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:57,860 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:57,861 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:57 +08:00

2018-05-11 09:39:57,861 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:39:57 +08:00

2018-05-11 09:39:57,861 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:39:57,861 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:57,861 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:39:57,861 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:39:57 +08:00

2018-05-11 09:39:57,861 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:57,861 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:57,861 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:57 +08:00

2018-05-11 09:39:57,862 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:39:57 +08:00

2018-05-11 09:39:57,862 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:39:57,862 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:57,862 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:39:57,862 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:39:57 +08:00

2018-05-11 09:39:57,862 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:57,862 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:57,862 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:57 +08:00

2018-05-11 09:39:57,862 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:39:57 +08:00

2018-05-11 09:39:57,863 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'积分增加' <> [Extent1].[Name])
2018-05-11 09:39:57,863 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:57,863 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:39:57 +08:00

2018-05-11 09:39:57,863 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:57,863 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:57,863 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:57 +08:00

2018-05-11 09:39:57,864 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:39:57 +08:00

2018-05-11 09:39:57,864 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2018-05-11 09:39:57,864 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:57,864 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:39:57,864 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:39:57 +08:00

2018-05-11 09:39:57,864 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:57,864 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:57,864 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:57 +08:00

2018-05-11 09:39:57,865 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:39:57 +08:00

2018-05-11 09:39:57,865 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:39:57,865 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:57,865 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:39:57,865 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:39:57 +08:00

2018-05-11 09:39:57,865 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:57,865 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:57,865 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:57 +08:00

2018-05-11 09:39:58,449 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:39:58 +08:00

2018-05-11 09:39:58,450 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-11 09:39:58,450 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:58,450 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:39:58 +08:00

2018-05-11 09:39:58,450 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:58,450 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:58,450 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:58 +08:00

2018-05-11 09:39:58,450 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:39:58 +08:00

2018-05-11 09:39:58,451 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-11 09:39:58,451 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:58,451 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:39:58 +08:00

2018-05-11 09:39:58,451 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:58,451 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:58,451 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:58 +08:00

2018-05-11 09:39:58,451 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:39:58 +08:00

2018-05-11 09:39:58,451 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-11 09:39:58,451 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:58,452 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:39:58,452 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:39:58 +08:00

2018-05-11 09:39:58,452 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:58,452 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:58,452 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:58 +08:00

2018-05-11 09:39:58,452 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:39:58 +08:00

2018-05-11 09:39:58,453 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-11 09:39:58,453 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:58,453 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:39:58 +08:00

2018-05-11 09:39:58,453 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:58,453 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:58,453 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:58 +08:00

2018-05-11 09:39:58,453 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:39:58 +08:00

2018-05-11 09:39:58,454 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-11 09:39:58,454 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:58,454 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:39:58,454 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:39:58,454 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-11 09:39:58,454 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:39:58 +08:00

2018-05-11 09:39:58,454 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:58,454 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:58,454 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:58 +08:00

2018-05-11 09:39:58,454 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:39:58 +08:00

2018-05-11 09:39:58,455 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-11 09:39:58,455 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:58,455 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:39:58,455 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '3' (Type = Int64, IsNullable = false)

2018-05-11 09:39:58,455 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-11 09:39:58,455 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:39:58 +08:00

2018-05-11 09:39:58,455 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:58,455 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:58,455 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:58 +08:00

2018-05-11 09:39:58,456 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:39:58 +08:00

2018-05-11 09:39:58,456 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 9
    ORDER BY [Project1].[CreateTime] DESC
2018-05-11 09:39:58,456 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:58,456 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:39:58,456 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:39:58 +08:00

2018-05-11 09:39:58,456 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:58,456 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:58,457 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:58 +08:00

2018-05-11 09:39:58,457 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:39:58 +08:00

2018-05-11 09:39:58,457 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:39:58,457 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:58,457 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-11 09:39:58,457 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:39:58 +08:00

2018-05-11 09:39:58,457 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:58,457 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:58,457 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:58 +08:00

2018-05-11 09:39:58,458 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:39:58 +08:00

2018-05-11 09:39:58,458 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:39:58,458 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:58,458 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '4' (Type = Int64, IsNullable = false)

2018-05-11 09:39:58,458 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:39:58 +08:00

2018-05-11 09:39:58,458 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:58,458 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:58,458 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:58 +08:00

2018-05-11 09:39:58,458 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:39:58 +08:00

2018-05-11 09:39:58,458 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:39:58,458 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:58,458 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:39:58,458 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:39:58 +08:00

2018-05-11 09:39:58,459 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:58,459 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:58,475 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:58 +08:00

2018-05-11 09:39:58,475 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:39:58 +08:00

2018-05-11 09:39:58,475 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'积分增加' <> [Extent1].[Name])
2018-05-11 09:39:58,475 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:58,475 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:39:58 +08:00

2018-05-11 09:39:58,475 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:58,475 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:58,475 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:58 +08:00

2018-05-11 09:39:58,475 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:39:58 +08:00

2018-05-11 09:39:58,475 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2018-05-11 09:39:58,475 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:58,475 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:39:58,475 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:39:58 +08:00

2018-05-11 09:39:58,475 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:58,475 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:58,475 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:58 +08:00

2018-05-11 09:39:58,475 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:39:58 +08:00

2018-05-11 09:39:58,475 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:39:58,475 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:58,475 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:39:58,475 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:39:58 +08:00

2018-05-11 09:39:58,475 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:58,475 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:58,475 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:58 +08:00

2018-05-11 09:39:58,916 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:39:58 +08:00

2018-05-11 09:39:58,916 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-11 09:39:58,916 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:58,916 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:39:58 +08:00

2018-05-11 09:39:58,917 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:58,917 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:58,917 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:58 +08:00

2018-05-11 09:39:58,917 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:39:58 +08:00

2018-05-11 09:39:58,917 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-11 09:39:58,917 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:58,917 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:39:58 +08:00

2018-05-11 09:39:58,917 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:58,917 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:58,918 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:58 +08:00

2018-05-11 09:39:58,918 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:39:58 +08:00

2018-05-11 09:39:58,918 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-11 09:39:58,918 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:58,918 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:39:58,918 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:39:58 +08:00

2018-05-11 09:39:58,918 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:58,918 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:58,919 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:58 +08:00

2018-05-11 09:39:58,919 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:39:58 +08:00

2018-05-11 09:39:58,919 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-11 09:39:58,919 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:58,919 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:39:58 +08:00

2018-05-11 09:39:58,919 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:58,919 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:58,920 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:58 +08:00

2018-05-11 09:39:58,920 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:39:58 +08:00

2018-05-11 09:39:58,920 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-11 09:39:58,920 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:58,920 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:39:58,920 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:39:58,921 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-11 09:39:58,921 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:39:58 +08:00

2018-05-11 09:39:58,921 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:58,921 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:58,921 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:58 +08:00

2018-05-11 09:39:58,921 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:39:58 +08:00

2018-05-11 09:39:58,922 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-11 09:39:58,922 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:58,922 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:39:58,922 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '3' (Type = Int64, IsNullable = false)

2018-05-11 09:39:58,922 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-11 09:39:58,922 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:39:58 +08:00

2018-05-11 09:39:58,922 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:58,922 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:58,922 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:58 +08:00

2018-05-11 09:39:58,922 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:39:58 +08:00

2018-05-11 09:39:58,923 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 6
    ORDER BY [Project1].[CreateTime] DESC
2018-05-11 09:39:58,923 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:58,923 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:39:58,923 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:39:58 +08:00

2018-05-11 09:39:58,923 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:58,923 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:58,923 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:58 +08:00

2018-05-11 09:39:58,924 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:39:58 +08:00

2018-05-11 09:39:58,924 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:39:58,924 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:58,924 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-11 09:39:58,924 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:39:58 +08:00

2018-05-11 09:39:58,924 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:58,924 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:58,924 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:58 +08:00

2018-05-11 09:39:58,924 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:39:58 +08:00

2018-05-11 09:39:58,924 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:39:58,924 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:58,924 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:39:58,924 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:39:58 +08:00

2018-05-11 09:39:58,925 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:58,925 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:58,925 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:58 +08:00

2018-05-11 09:39:58,925 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:39:58 +08:00

2018-05-11 09:39:58,925 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:39:58,925 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:58,925 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-11 09:39:58,925 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:39:58 +08:00

2018-05-11 09:39:58,925 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:58,925 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:58,925 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:58 +08:00

2018-05-11 09:39:58,926 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:39:58 +08:00

2018-05-11 09:39:58,926 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'积分增加' <> [Extent1].[Name])
2018-05-11 09:39:58,926 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:58,926 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:39:58 +08:00

2018-05-11 09:39:58,926 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:58,926 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:58,927 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:58 +08:00

2018-05-11 09:39:58,927 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:39:58 +08:00

2018-05-11 09:39:58,927 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2018-05-11 09:39:58,927 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:58,927 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:39:58,927 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:39:58 +08:00

2018-05-11 09:39:58,928 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:58,928 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:58,928 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:58 +08:00

2018-05-11 09:39:58,928 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:39:58 +08:00

2018-05-11 09:39:58,928 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:39:58,928 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:58,928 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:39:58,928 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:39:58 +08:00

2018-05-11 09:39:58,928 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:39:58,928 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:39:58,928 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:39:58 +08:00

2018-05-11 09:42:20,449 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:42:20 +08:00

2018-05-11 09:42:20,449 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-11 09:42:20,449 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:20,449 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:42:20 +08:00

2018-05-11 09:42:20,500 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 51 ms with result: SqlDataReader

2018-05-11 09:42:20,500 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:20,501 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:20 +08:00

2018-05-11 09:42:20,501 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:42:20 +08:00

2018-05-11 09:42:20,501 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-11 09:42:20,501 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:20,501 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:42:20 +08:00

2018-05-11 09:42:20,553 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 51 ms with result: SqlDataReader

2018-05-11 09:42:20,553 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:20,553 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:20 +08:00

2018-05-11 09:42:20,553 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:42:20 +08:00

2018-05-11 09:42:20,553 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-11 09:42:20,553 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:20,553 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:42:20,554 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:42:20 +08:00

2018-05-11 09:42:20,644 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 91 ms with result: SqlDataReader

2018-05-11 09:42:20,644 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:20,644 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:20 +08:00

2018-05-11 09:42:20,644 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:42:20 +08:00

2018-05-11 09:42:20,644 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-11 09:42:20,644 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:20,644 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:42:20 +08:00

2018-05-11 09:42:20,692 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 48 ms with result: SqlDataReader

2018-05-11 09:42:20,692 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:20,692 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:20 +08:00

2018-05-11 09:42:20,692 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:42:20 +08:00

2018-05-11 09:42:20,696 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-11 09:42:20,696 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:20,696 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:42:20,696 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:42:20,696 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-11 09:42:20,696 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:42:20 +08:00

2018-05-11 09:42:20,716 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 23 ms with result: SqlDataReader

2018-05-11 09:42:20,716 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:20,716 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:20 +08:00

2018-05-11 09:42:20,716 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:42:20 +08:00

2018-05-11 09:42:20,720 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-11 09:42:20,720 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:20,720 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:42:20,720 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '3' (Type = Int64, IsNullable = false)

2018-05-11 09:42:20,720 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-11 09:42:20,720 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:42:20 +08:00

2018-05-11 09:42:20,720 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-11 09:42:20,720 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:20,720 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:20 +08:00

2018-05-11 09:42:20,720 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:42:20 +08:00

2018-05-11 09:42:20,720 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-11 09:42:20,720 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:20,720 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:42:20,720 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:42:20 +08:00

2018-05-11 09:42:20,724 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-11 09:42:20,724 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:20,724 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:20 +08:00

2018-05-11 09:42:20,724 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:42:20 +08:00

2018-05-11 09:42:20,724 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:42:20,724 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:20,724 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-11 09:42:20,724 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:42:20 +08:00

2018-05-11 09:42:20,788 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 63 ms with result: SqlDataReader

2018-05-11 09:42:20,788 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:20,788 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:20 +08:00

2018-05-11 09:42:20,788 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:42:20 +08:00

2018-05-11 09:42:20,788 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:42:20,788 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:20,788 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '4' (Type = Int64, IsNullable = false)

2018-05-11 09:42:20,788 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:42:20 +08:00

2018-05-11 09:42:20,820 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 33 ms with result: SqlDataReader

2018-05-11 09:42:20,820 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:20,820 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:20 +08:00

2018-05-11 09:42:20,820 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:42:20 +08:00

2018-05-11 09:42:20,820 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:42:20,820 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:20,820 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:42:20,820 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:42:20 +08:00

2018-05-11 09:42:20,824 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:42:20,824 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:20,824 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:20 +08:00

2018-05-11 09:42:20,824 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:42:20 +08:00

2018-05-11 09:42:20,824 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'积分增加' <> [Extent1].[Name])
2018-05-11 09:42:20,824 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:20,824 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:42:20 +08:00

2018-05-11 09:42:20,824 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:42:20,824 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:20,824 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:20 +08:00

2018-05-11 09:42:20,824 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:42:20 +08:00

2018-05-11 09:42:20,824 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2018-05-11 09:42:20,824 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:20,824 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:42:20,824 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:42:20 +08:00

2018-05-11 09:42:20,824 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:42:20,824 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:20,824 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:20 +08:00

2018-05-11 09:42:20,824 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:42:20 +08:00

2018-05-11 09:42:20,824 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:42:20,824 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:20,824 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:42:20,824 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:42:20 +08:00

2018-05-11 09:42:20,824 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:42:20,824 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:20,824 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:20 +08:00

2018-05-11 09:42:23,801 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:42:23 +08:00

2018-05-11 09:42:23,802 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-11 09:42:23,802 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:23,802 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:42:23 +08:00

2018-05-11 09:42:23,802 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:42:23,802 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:23,802 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:23 +08:00

2018-05-11 09:42:23,802 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:42:23 +08:00

2018-05-11 09:42:23,803 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-11 09:42:23,803 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:23,803 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:42:23 +08:00

2018-05-11 09:42:23,803 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:42:23,803 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:23,803 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:23 +08:00

2018-05-11 09:42:23,803 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:42:23 +08:00

2018-05-11 09:42:23,804 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-11 09:42:23,804 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:23,804 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:42:23,804 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:42:23 +08:00

2018-05-11 09:42:23,804 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:42:23,804 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:23,804 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:23 +08:00

2018-05-11 09:42:23,804 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:42:23 +08:00

2018-05-11 09:42:23,805 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-11 09:42:23,805 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:23,805 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:42:23 +08:00

2018-05-11 09:42:23,805 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:42:23,805 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:23,805 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:23 +08:00

2018-05-11 09:42:23,805 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:42:23 +08:00

2018-05-11 09:42:23,806 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-11 09:42:23,806 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:23,806 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:42:23,806 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:42:23,806 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-11 09:42:23,806 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:42:23 +08:00

2018-05-11 09:42:23,806 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:42:23,806 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:23,806 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:23 +08:00

2018-05-11 09:42:23,807 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:42:23 +08:00

2018-05-11 09:42:23,807 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-11 09:42:23,807 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:23,807 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:42:23,807 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '3' (Type = Int64, IsNullable = false)

2018-05-11 09:42:23,807 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-11 09:42:23,807 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:42:23 +08:00

2018-05-11 09:42:23,808 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:42:23,808 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:23,808 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:23 +08:00

2018-05-11 09:42:23,808 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:42:23 +08:00

2018-05-11 09:42:23,808 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-11 09:42:23,808 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:23,808 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:42:23,808 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:42:23 +08:00

2018-05-11 09:42:23,809 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:42:23,809 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:23,809 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:23 +08:00

2018-05-11 09:42:23,809 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:42:23 +08:00

2018-05-11 09:42:23,809 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:42:23,809 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:23,809 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-11 09:42:23,809 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:42:23 +08:00

2018-05-11 09:42:23,810 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:42:23,810 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:23,810 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:23 +08:00

2018-05-11 09:42:23,810 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:42:23 +08:00

2018-05-11 09:42:23,810 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:42:23,810 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:23,810 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '4' (Type = Int64, IsNullable = false)

2018-05-11 09:42:23,810 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:42:23 +08:00

2018-05-11 09:42:23,810 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:42:23,810 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:23,810 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:23 +08:00

2018-05-11 09:42:23,810 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:42:23 +08:00

2018-05-11 09:42:23,810 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:42:23,810 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:23,810 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:42:23,810 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:42:23 +08:00

2018-05-11 09:42:23,811 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:42:23,811 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:23,811 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:23 +08:00

2018-05-11 09:42:23,811 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:42:23 +08:00

2018-05-11 09:42:23,811 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'积分增加' <> [Extent1].[Name])
2018-05-11 09:42:23,811 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:23,811 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:42:23 +08:00

2018-05-11 09:42:23,812 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:42:23,812 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:23,812 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:23 +08:00

2018-05-11 09:42:23,812 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:42:23 +08:00

2018-05-11 09:42:23,813 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2018-05-11 09:42:23,813 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:23,813 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:42:23,813 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:42:23 +08:00

2018-05-11 09:42:23,813 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:42:23,813 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:23,813 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:23 +08:00

2018-05-11 09:42:23,813 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:42:23 +08:00

2018-05-11 09:42:23,814 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:42:23,814 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:23,814 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:42:23,814 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:42:23 +08:00

2018-05-11 09:42:23,814 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:42:23,814 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:23,814 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:23 +08:00

2018-05-11 09:42:27,479 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:42:27 +08:00

2018-05-11 09:42:27,479 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-11 09:42:27,479 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:27,479 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:42:27 +08:00

2018-05-11 09:42:27,479 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:42:27,480 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:27,480 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:27 +08:00

2018-05-11 09:42:27,480 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:42:27 +08:00

2018-05-11 09:42:27,480 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-11 09:42:27,480 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:27,480 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:42:27 +08:00

2018-05-11 09:42:27,480 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:42:27,480 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:27,480 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:27 +08:00

2018-05-11 09:42:27,480 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:42:27 +08:00

2018-05-11 09:42:27,481 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-11 09:42:27,481 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:27,481 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:42:27,481 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:42:27 +08:00

2018-05-11 09:42:27,481 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:42:27,481 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:27,481 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:27 +08:00

2018-05-11 09:42:27,481 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:42:27 +08:00

2018-05-11 09:42:27,482 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-11 09:42:27,482 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:27,482 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:42:27 +08:00

2018-05-11 09:42:27,482 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:42:27,482 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:27,482 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:27 +08:00

2018-05-11 09:42:27,482 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:42:27 +08:00

2018-05-11 09:42:27,483 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-11 09:42:27,483 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:27,483 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:42:27,483 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:42:27,483 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-11 09:42:27,483 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:42:27 +08:00

2018-05-11 09:42:27,483 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:42:27,483 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:27,483 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:27 +08:00

2018-05-11 09:42:27,484 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:42:27 +08:00

2018-05-11 09:42:27,484 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-11 09:42:27,484 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:27,484 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:42:27,484 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '3' (Type = Int64, IsNullable = false)

2018-05-11 09:42:27,484 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-11 09:42:27,484 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:42:27 +08:00

2018-05-11 09:42:27,484 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:42:27,484 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:27,484 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:27 +08:00

2018-05-11 09:42:27,485 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:42:27 +08:00

2018-05-11 09:42:27,485 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 1
    ORDER BY [Project1].[CreateTime] DESC
2018-05-11 09:42:27,485 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:27,485 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:42:27,485 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:42:27 +08:00

2018-05-11 09:42:27,485 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:42:27,485 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:27,486 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:27 +08:00

2018-05-11 09:42:27,486 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:42:27 +08:00

2018-05-11 09:42:27,486 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:42:27,486 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:27,486 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-11 09:42:27,486 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:42:27 +08:00

2018-05-11 09:42:27,486 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:42:27,486 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:27,486 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:27 +08:00

2018-05-11 09:42:27,486 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:42:27 +08:00

2018-05-11 09:42:27,486 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:42:27,486 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:27,486 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '4' (Type = Int64, IsNullable = false)

2018-05-11 09:42:27,486 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:42:27 +08:00

2018-05-11 09:42:27,487 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:42:27,487 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:27,487 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:27 +08:00

2018-05-11 09:42:27,487 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:42:27 +08:00

2018-05-11 09:42:27,487 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:42:27,487 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:27,487 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:42:27,487 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:42:27 +08:00

2018-05-11 09:42:27,487 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:42:27,487 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:27,487 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:27 +08:00

2018-05-11 09:42:27,488 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:42:27 +08:00

2018-05-11 09:42:27,488 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'积分增加' <> [Extent1].[Name])
2018-05-11 09:42:27,488 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:27,488 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:42:27 +08:00

2018-05-11 09:42:27,488 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:42:27,488 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:27,489 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:27 +08:00

2018-05-11 09:42:27,489 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:42:27 +08:00

2018-05-11 09:42:27,490 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2018-05-11 09:42:27,490 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:27,490 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:42:27,490 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:42:27 +08:00

2018-05-11 09:42:27,490 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:42:27,490 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:27,491 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:27 +08:00

2018-05-11 09:42:27,491 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:42:27 +08:00

2018-05-11 09:42:27,491 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:42:27,491 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:27,491 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:42:27,491 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:42:27 +08:00

2018-05-11 09:42:27,491 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:42:27,491 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:27,491 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:27 +08:00

2018-05-11 09:42:30,031 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:42:30 +08:00

2018-05-11 09:42:30,031 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-11 09:42:30,031 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:30,031 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:42:30 +08:00

2018-05-11 09:42:30,031 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:42:30,031 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:30,032 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:30 +08:00

2018-05-11 09:42:30,032 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:42:30 +08:00

2018-05-11 09:42:30,032 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-11 09:42:30,032 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:30,032 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:42:30 +08:00

2018-05-11 09:42:30,032 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:42:30,032 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:30,032 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:30 +08:00

2018-05-11 09:42:30,032 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:42:30 +08:00

2018-05-11 09:42:30,033 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-11 09:42:30,033 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:30,033 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:42:30,033 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:42:30 +08:00

2018-05-11 09:42:30,033 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:42:30,033 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:30,033 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:30 +08:00

2018-05-11 09:42:30,034 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:42:30 +08:00

2018-05-11 09:42:30,034 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-11 09:42:30,034 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:30,034 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:42:30 +08:00

2018-05-11 09:42:30,034 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:42:30,034 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:30,034 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:30 +08:00

2018-05-11 09:42:30,035 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:42:30 +08:00

2018-05-11 09:42:30,035 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-11 09:42:30,035 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:30,035 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:42:30,035 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:42:30,035 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-11 09:42:30,035 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:42:30 +08:00

2018-05-11 09:42:30,035 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:42:30,035 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:30,035 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:30 +08:00

2018-05-11 09:42:30,036 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:42:30 +08:00

2018-05-11 09:42:30,036 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-11 09:42:30,036 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:30,036 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:42:30,036 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '3' (Type = Int64, IsNullable = false)

2018-05-11 09:42:30,036 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-11 09:42:30,036 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:42:30 +08:00

2018-05-11 09:42:30,036 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:42:30,036 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:30,037 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:30 +08:00

2018-05-11 09:42:30,037 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:42:30 +08:00

2018-05-11 09:42:30,037 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 2
    ORDER BY [Project1].[CreateTime] DESC
2018-05-11 09:42:30,037 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:30,037 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:42:30,037 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:42:30 +08:00

2018-05-11 09:42:30,037 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:42:30,038 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:30,038 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:30 +08:00

2018-05-11 09:42:30,038 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:42:30 +08:00

2018-05-11 09:42:30,038 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:42:30,038 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:30,038 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '5' (Type = Int64, IsNullable = false)

2018-05-11 09:42:30,038 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:42:30 +08:00

2018-05-11 09:42:30,038 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:42:30,038 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:30,038 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:30 +08:00

2018-05-11 09:42:30,039 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:42:30 +08:00

2018-05-11 09:42:30,039 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:42:30,039 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:30,039 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '4' (Type = Int64, IsNullable = false)

2018-05-11 09:42:30,039 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:42:30 +08:00

2018-05-11 09:42:30,039 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:42:30,039 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:30,039 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:30 +08:00

2018-05-11 09:42:30,039 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:42:30 +08:00

2018-05-11 09:42:30,039 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:42:30,039 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:30,039 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:42:30,039 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:42:30 +08:00

2018-05-11 09:42:30,039 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:42:30,040 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:30,040 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:30 +08:00

2018-05-11 09:42:30,040 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:42:30 +08:00

2018-05-11 09:42:30,040 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'积分增加' <> [Extent1].[Name])
2018-05-11 09:42:30,040 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:30,040 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:42:30 +08:00

2018-05-11 09:42:30,040 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:42:30,040 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:30,040 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:30 +08:00

2018-05-11 09:42:30,040 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:42:30 +08:00

2018-05-11 09:42:30,040 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2018-05-11 09:42:30,040 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:30,040 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:42:30,040 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:42:30 +08:00

2018-05-11 09:42:30,040 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:42:30,040 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:30,040 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:30 +08:00

2018-05-11 09:42:30,040 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:42:30 +08:00

2018-05-11 09:42:30,040 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:42:30,040 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:30,040 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:42:30,040 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:42:30 +08:00

2018-05-11 09:42:30,040 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:42:30,040 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:30,040 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:30 +08:00

2018-05-11 09:42:31,466 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:42:31 +08:00

2018-05-11 09:42:31,466 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-11 09:42:31,467 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:31,467 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:42:31 +08:00

2018-05-11 09:42:31,467 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:42:31,467 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:31,467 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:31 +08:00

2018-05-11 09:42:31,467 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:42:31 +08:00

2018-05-11 09:42:31,467 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-11 09:42:31,467 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:31,467 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:42:31 +08:00

2018-05-11 09:42:31,468 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:42:31,468 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:31,468 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:31 +08:00

2018-05-11 09:42:31,468 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:42:31 +08:00

2018-05-11 09:42:31,468 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-11 09:42:31,468 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:31,468 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:42:31,468 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:42:31 +08:00

2018-05-11 09:42:31,469 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:42:31,469 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:31,469 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:31 +08:00

2018-05-11 09:42:31,469 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:42:31 +08:00

2018-05-11 09:42:31,469 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-11 09:42:31,469 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:31,469 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:42:31 +08:00

2018-05-11 09:42:31,470 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:42:31,470 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:31,470 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:31 +08:00

2018-05-11 09:42:31,470 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:42:31 +08:00

2018-05-11 09:42:31,470 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-11 09:42:31,470 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:31,470 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:42:31,470 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:42:31,470 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-11 09:42:31,470 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:42:31 +08:00

2018-05-11 09:42:31,471 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:42:31,471 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:31,471 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:31 +08:00

2018-05-11 09:42:31,471 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:42:31 +08:00

2018-05-11 09:42:31,471 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-11 09:42:31,471 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:31,471 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:42:31,472 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '3' (Type = Int64, IsNullable = false)

2018-05-11 09:42:31,472 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-11 09:42:31,472 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:42:31 +08:00

2018-05-11 09:42:31,472 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:42:31,472 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:31,472 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:31 +08:00

2018-05-11 09:42:31,472 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:42:31 +08:00

2018-05-11 09:42:31,472 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 3
    ORDER BY [Project1].[CreateTime] DESC
2018-05-11 09:42:31,472 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:31,472 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:42:31,473 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:42:31 +08:00

2018-05-11 09:42:31,473 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:42:31,473 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:31,473 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:31 +08:00

2018-05-11 09:42:31,474 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:42:31 +08:00

2018-05-11 09:42:31,474 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:42:31,474 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:31,474 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:42:31,474 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:42:31 +08:00

2018-05-11 09:42:31,474 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:42:31,474 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:31,474 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:31 +08:00

2018-05-11 09:42:31,474 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:42:31 +08:00

2018-05-11 09:42:31,474 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:42:31,474 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:31,475 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-11 09:42:31,475 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:42:31 +08:00

2018-05-11 09:42:31,475 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:42:31,475 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:31,475 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:31 +08:00

2018-05-11 09:42:31,475 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:42:31 +08:00

2018-05-11 09:42:31,475 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:42:31,475 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:31,475 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '5' (Type = Int64, IsNullable = false)

2018-05-11 09:42:31,475 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:42:31 +08:00

2018-05-11 09:42:31,475 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:42:31,475 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:31,475 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:31 +08:00

2018-05-11 09:42:31,476 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:42:31 +08:00

2018-05-11 09:42:31,476 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'积分增加' <> [Extent1].[Name])
2018-05-11 09:42:31,476 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:31,476 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:42:31 +08:00

2018-05-11 09:42:31,476 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:42:31,476 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:31,477 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:31 +08:00

2018-05-11 09:42:31,477 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:42:31 +08:00

2018-05-11 09:42:31,477 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2018-05-11 09:42:31,477 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:31,477 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:42:31,477 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:42:31 +08:00

2018-05-11 09:42:31,478 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:42:31,478 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:31,478 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:31 +08:00

2018-05-11 09:42:31,478 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:42:31 +08:00

2018-05-11 09:42:31,478 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:42:31,478 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:31,478 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:42:31,478 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:42:31 +08:00

2018-05-11 09:42:31,478 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:42:31,478 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:31,478 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:31 +08:00

2018-05-11 09:42:35,974 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:42:35 +08:00

2018-05-11 09:42:35,974 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-11 09:42:35,974 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:35,974 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:42:35 +08:00

2018-05-11 09:42:35,975 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:42:35,975 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:35,975 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:35 +08:00

2018-05-11 09:42:35,975 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:42:35 +08:00

2018-05-11 09:42:35,975 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-11 09:42:35,975 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:35,975 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:42:35 +08:00

2018-05-11 09:42:35,976 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:42:35,976 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:35,976 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:35 +08:00

2018-05-11 09:42:35,976 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:42:35 +08:00

2018-05-11 09:42:35,976 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-11 09:42:35,976 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:35,976 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:42:35,976 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:42:35 +08:00

2018-05-11 09:42:35,977 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:42:35,977 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:35,977 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:35 +08:00

2018-05-11 09:42:35,977 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:42:35 +08:00

2018-05-11 09:42:35,977 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-11 09:42:35,977 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:35,977 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:42:35 +08:00

2018-05-11 09:42:35,978 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:42:35,978 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:35,978 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:35 +08:00

2018-05-11 09:42:35,978 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:42:35 +08:00

2018-05-11 09:42:35,978 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-11 09:42:35,978 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:35,978 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:42:35,978 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:42:35,978 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-11 09:42:35,978 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:42:35 +08:00

2018-05-11 09:42:35,979 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:42:35,979 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:35,979 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:35 +08:00

2018-05-11 09:42:35,979 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:42:35 +08:00

2018-05-11 09:42:35,979 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-11 09:42:35,979 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:35,979 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:42:35,979 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '3' (Type = Int64, IsNullable = false)

2018-05-11 09:42:35,979 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-11 09:42:35,979 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:42:35 +08:00

2018-05-11 09:42:35,980 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:42:35,980 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:35,980 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:35 +08:00

2018-05-11 09:42:35,980 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:42:35 +08:00

2018-05-11 09:42:35,980 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 4
    ORDER BY [Project1].[CreateTime] DESC
2018-05-11 09:42:35,980 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:35,980 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:42:35,980 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:42:35 +08:00

2018-05-11 09:42:35,981 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:42:35,981 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:35,981 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:35 +08:00

2018-05-11 09:42:35,981 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:42:35 +08:00

2018-05-11 09:42:35,981 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:42:35,981 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:35,981 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:42:35,981 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:42:35 +08:00

2018-05-11 09:42:35,982 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:42:35,982 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:35,982 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:35 +08:00

2018-05-11 09:42:35,982 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:42:35 +08:00

2018-05-11 09:42:35,982 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:42:35,982 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:35,982 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-11 09:42:35,982 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:42:35 +08:00

2018-05-11 09:42:35,982 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:42:35,982 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:35,982 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:35 +08:00

2018-05-11 09:42:35,983 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:42:35 +08:00

2018-05-11 09:42:35,983 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:42:35,983 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:35,983 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-11 09:42:35,983 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:42:35 +08:00

2018-05-11 09:42:35,983 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:42:35,983 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:35,983 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:35 +08:00

2018-05-11 09:42:35,983 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:42:35 +08:00

2018-05-11 09:42:35,984 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'积分增加' <> [Extent1].[Name])
2018-05-11 09:42:35,984 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:35,984 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:42:35 +08:00

2018-05-11 09:42:35,984 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:42:35,984 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:35,984 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:35 +08:00

2018-05-11 09:42:35,985 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:42:35 +08:00

2018-05-11 09:42:35,985 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2018-05-11 09:42:35,985 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:35,985 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:42:35,985 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:42:35 +08:00

2018-05-11 09:42:35,985 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:42:35,985 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:35,985 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:35 +08:00

2018-05-11 09:42:35,986 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:42:35 +08:00

2018-05-11 09:42:35,986 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:42:35,986 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:35,986 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:42:35,986 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:42:35 +08:00

2018-05-11 09:42:35,986 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:42:35,986 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:35,986 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:35 +08:00

2018-05-11 09:42:38,191 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:42:38 +08:00

2018-05-11 09:42:38,192 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-11 09:42:38,192 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:38,192 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:42:38 +08:00

2018-05-11 09:42:38,192 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:42:38,192 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:38,192 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:38 +08:00

2018-05-11 09:42:38,192 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:42:38 +08:00

2018-05-11 09:42:38,193 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-11 09:42:38,193 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:38,193 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:42:38 +08:00

2018-05-11 09:42:38,193 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:42:38,193 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:38,193 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:38 +08:00

2018-05-11 09:42:38,193 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:42:38 +08:00

2018-05-11 09:42:38,193 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-11 09:42:38,193 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:38,193 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:42:38,193 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:42:38 +08:00

2018-05-11 09:42:38,194 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:42:38,194 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:38,194 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:38 +08:00

2018-05-11 09:42:38,194 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:42:38 +08:00

2018-05-11 09:42:38,194 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-11 09:42:38,194 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:38,194 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:42:38 +08:00

2018-05-11 09:42:38,195 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:42:38,195 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:38,195 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:38 +08:00

2018-05-11 09:42:38,195 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:42:38 +08:00

2018-05-11 09:42:38,195 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-11 09:42:38,196 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:38,196 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:42:38,196 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:42:38,196 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-11 09:42:38,196 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:42:38 +08:00

2018-05-11 09:42:38,196 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:42:38,196 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:38,196 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:38 +08:00

2018-05-11 09:42:38,196 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:42:38 +08:00

2018-05-11 09:42:38,197 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-11 09:42:38,197 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:38,197 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:42:38,197 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '3' (Type = Int64, IsNullable = false)

2018-05-11 09:42:38,197 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-11 09:42:38,197 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:42:38 +08:00

2018-05-11 09:42:38,197 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:42:38,197 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:38,197 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:38 +08:00

2018-05-11 09:42:38,197 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:42:38 +08:00

2018-05-11 09:42:38,198 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 5
    ORDER BY [Project1].[CreateTime] DESC
2018-05-11 09:42:38,198 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:38,198 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:42:38,198 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:42:38 +08:00

2018-05-11 09:42:38,198 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:42:38,198 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:38,198 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:38 +08:00

2018-05-11 09:42:38,198 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:42:38 +08:00

2018-05-11 09:42:38,199 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:42:38,199 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:38,199 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:42:38,199 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:42:38 +08:00

2018-05-11 09:42:38,199 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:42:38,199 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:38,199 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:38 +08:00

2018-05-11 09:42:38,199 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:42:38 +08:00

2018-05-11 09:42:38,199 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:42:38,199 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:38,199 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-11 09:42:38,199 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:42:38 +08:00

2018-05-11 09:42:38,199 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:42:38,200 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:38,200 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:38 +08:00

2018-05-11 09:42:38,200 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:42:38 +08:00

2018-05-11 09:42:38,200 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:42:38,200 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:38,200 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-11 09:42:38,200 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:42:38 +08:00

2018-05-11 09:42:38,200 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:42:38,200 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:38,200 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:38 +08:00

2018-05-11 09:42:38,201 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:42:38 +08:00

2018-05-11 09:42:38,201 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'积分增加' <> [Extent1].[Name])
2018-05-11 09:42:38,201 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:38,201 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:42:38 +08:00

2018-05-11 09:42:38,201 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:42:38,201 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:38,201 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:38 +08:00

2018-05-11 09:42:38,202 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:42:38 +08:00

2018-05-11 09:42:38,202 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2018-05-11 09:42:38,202 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:38,202 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:42:38,202 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:42:38 +08:00

2018-05-11 09:42:38,202 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:42:38,202 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:38,202 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:38 +08:00

2018-05-11 09:42:38,203 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:42:38 +08:00

2018-05-11 09:42:38,203 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:42:38,203 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:38,203 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:42:38,203 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:42:38 +08:00

2018-05-11 09:42:38,203 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:42:38,203 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:38,203 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:38 +08:00

2018-05-11 09:42:39,409 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:42:39 +08:00

2018-05-11 09:42:39,409 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-11 09:42:39,409 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:39,409 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:42:39 +08:00

2018-05-11 09:42:39,409 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:42:39,409 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:39,409 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:39 +08:00

2018-05-11 09:42:39,410 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:42:39 +08:00

2018-05-11 09:42:39,410 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-11 09:42:39,410 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:39,410 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:42:39 +08:00

2018-05-11 09:42:39,410 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:42:39,410 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:39,410 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:39 +08:00

2018-05-11 09:42:39,410 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:42:39 +08:00

2018-05-11 09:42:39,411 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-11 09:42:39,411 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:39,411 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:42:39,411 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:42:39 +08:00

2018-05-11 09:42:39,411 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:42:39,411 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:39,411 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:39 +08:00

2018-05-11 09:42:39,411 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:42:39 +08:00

2018-05-11 09:42:39,412 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-11 09:42:39,412 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:39,412 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:42:39 +08:00

2018-05-11 09:42:39,412 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:42:39,412 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:39,412 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:39 +08:00

2018-05-11 09:42:39,412 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:42:39 +08:00

2018-05-11 09:42:39,413 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-11 09:42:39,413 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:39,413 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:42:39,413 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:42:39,413 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-11 09:42:39,413 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:42:39 +08:00

2018-05-11 09:42:39,413 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:42:39,413 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:39,413 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:39 +08:00

2018-05-11 09:42:39,413 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:42:39 +08:00

2018-05-11 09:42:39,414 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-11 09:42:39,414 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:39,414 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:42:39,414 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '3' (Type = Int64, IsNullable = false)

2018-05-11 09:42:39,414 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-11 09:42:39,414 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:42:39 +08:00

2018-05-11 09:42:39,414 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:42:39,414 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:39,414 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:39 +08:00

2018-05-11 09:42:39,415 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:42:39 +08:00

2018-05-11 09:42:39,415 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 6
    ORDER BY [Project1].[CreateTime] DESC
2018-05-11 09:42:39,415 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:39,415 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:42:39,415 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:42:39 +08:00

2018-05-11 09:42:39,415 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:42:39,415 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:39,416 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:39 +08:00

2018-05-11 09:42:39,416 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:42:39 +08:00

2018-05-11 09:42:39,416 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:42:39,416 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:39,416 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-11 09:42:39,416 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:42:39 +08:00

2018-05-11 09:42:39,416 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:42:39,416 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:39,416 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:39 +08:00

2018-05-11 09:42:39,416 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:42:39 +08:00

2018-05-11 09:42:39,416 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:42:39,416 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:39,417 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:42:39,417 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:42:39 +08:00

2018-05-11 09:42:39,417 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:42:39,417 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:39,417 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:39 +08:00

2018-05-11 09:42:39,417 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:42:39 +08:00

2018-05-11 09:42:39,417 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:42:39,417 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:39,417 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-11 09:42:39,417 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:42:39 +08:00

2018-05-11 09:42:39,417 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:42:39,417 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:39,418 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:39 +08:00

2018-05-11 09:42:39,418 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:42:39 +08:00

2018-05-11 09:42:39,418 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'积分增加' <> [Extent1].[Name])
2018-05-11 09:42:39,418 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:39,418 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:42:39 +08:00

2018-05-11 09:42:39,418 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:42:39,418 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:39,419 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:39 +08:00

2018-05-11 09:42:39,419 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:42:39 +08:00

2018-05-11 09:42:39,419 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2018-05-11 09:42:39,419 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:39,419 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:42:39,419 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:42:39 +08:00

2018-05-11 09:42:39,420 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:42:39,420 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:39,420 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:39 +08:00

2018-05-11 09:42:39,420 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:42:39 +08:00

2018-05-11 09:42:39,420 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:42:39,420 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:39,420 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:42:39,420 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:42:39 +08:00

2018-05-11 09:42:39,420 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:42:39,420 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:39,420 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:39 +08:00

2018-05-11 09:42:45,778 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:42:45 +08:00

2018-05-11 09:42:45,779 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-11 09:42:45,779 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:45,779 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:42:45 +08:00

2018-05-11 09:42:45,779 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:42:45,779 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:45,779 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:45 +08:00

2018-05-11 09:42:45,779 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:42:45 +08:00

2018-05-11 09:42:45,779 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-11 09:42:45,779 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:45,779 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:42:45 +08:00

2018-05-11 09:42:45,780 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:42:45,780 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:45,780 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:45 +08:00

2018-05-11 09:42:45,780 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:42:45 +08:00

2018-05-11 09:42:45,780 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-11 09:42:45,780 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:45,780 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:42:45,780 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:42:45 +08:00

2018-05-11 09:42:45,781 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:42:45,781 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:45,781 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:45 +08:00

2018-05-11 09:42:45,781 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:42:45 +08:00

2018-05-11 09:42:45,781 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-11 09:42:45,781 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:45,781 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:42:45 +08:00

2018-05-11 09:42:45,782 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:42:45,782 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:45,782 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:45 +08:00

2018-05-11 09:42:45,782 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:42:45 +08:00

2018-05-11 09:42:45,782 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-11 09:42:45,782 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:45,782 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:42:45,782 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:42:45,782 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-11 09:42:45,782 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:42:45 +08:00

2018-05-11 09:42:45,783 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:42:45,783 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:45,783 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:45 +08:00

2018-05-11 09:42:45,783 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:42:45 +08:00

2018-05-11 09:42:45,783 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-11 09:42:45,783 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:45,784 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:42:45,784 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '3' (Type = Int64, IsNullable = false)

2018-05-11 09:42:45,784 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-11 09:42:45,784 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:42:45 +08:00

2018-05-11 09:42:45,784 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:42:45,784 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:45,784 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:45 +08:00

2018-05-11 09:42:45,784 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:42:45 +08:00

2018-05-11 09:42:45,784 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 7
    ORDER BY [Project1].[CreateTime] DESC
2018-05-11 09:42:45,785 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:45,785 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:42:45,785 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:42:45 +08:00

2018-05-11 09:42:45,785 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:42:45,785 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:45,785 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:45 +08:00

2018-05-11 09:42:45,785 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:42:45 +08:00

2018-05-11 09:42:45,785 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:42:45,785 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:45,785 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-11 09:42:45,785 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:42:45 +08:00

2018-05-11 09:42:45,786 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:42:45,786 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:45,786 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:45 +08:00

2018-05-11 09:42:45,786 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:42:45 +08:00

2018-05-11 09:42:45,786 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:42:45,786 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:45,786 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:42:45,786 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:42:45 +08:00

2018-05-11 09:42:45,786 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:42:45,786 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:45,786 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:45 +08:00

2018-05-11 09:42:45,787 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:42:45 +08:00

2018-05-11 09:42:45,787 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:42:45,787 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:45,787 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-11 09:42:45,787 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:42:45 +08:00

2018-05-11 09:42:45,787 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:42:45,787 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:45,787 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:45 +08:00

2018-05-11 09:42:45,787 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:42:45 +08:00

2018-05-11 09:42:45,788 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'积分增加' <> [Extent1].[Name])
2018-05-11 09:42:45,788 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:45,788 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:42:45 +08:00

2018-05-11 09:42:45,788 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:42:45,788 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:45,788 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:45 +08:00

2018-05-11 09:42:45,788 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:42:45 +08:00

2018-05-11 09:42:45,789 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2018-05-11 09:42:45,789 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:45,789 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:42:45,789 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:42:45 +08:00

2018-05-11 09:42:45,789 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:42:45,789 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:45,789 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:45 +08:00

2018-05-11 09:42:45,789 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:42:45 +08:00

2018-05-11 09:42:45,789 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:42:45,789 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:45,789 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:42:45,789 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:42:45 +08:00

2018-05-11 09:42:45,790 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:42:45,790 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:45,790 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:45 +08:00

2018-05-11 09:42:48,405 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:42:48 +08:00

2018-05-11 09:42:48,405 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-11 09:42:48,405 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:48,405 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:42:48 +08:00

2018-05-11 09:42:48,405 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:42:48,405 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:48,405 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:48 +08:00

2018-05-11 09:42:48,406 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:42:48 +08:00

2018-05-11 09:42:48,406 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-11 09:42:48,406 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:48,406 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:42:48 +08:00

2018-05-11 09:42:48,406 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:42:48,406 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:48,406 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:48 +08:00

2018-05-11 09:42:48,406 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:42:48 +08:00

2018-05-11 09:42:48,407 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-11 09:42:48,407 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:48,407 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:42:48,407 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:42:48 +08:00

2018-05-11 09:42:48,407 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:42:48,407 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:48,407 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:48 +08:00

2018-05-11 09:42:48,408 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:42:48 +08:00

2018-05-11 09:42:48,408 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-11 09:42:48,408 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:48,408 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:42:48 +08:00

2018-05-11 09:42:48,408 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:42:48,408 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:48,408 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:48 +08:00

2018-05-11 09:42:48,409 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:42:48 +08:00

2018-05-11 09:42:48,409 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-11 09:42:48,409 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:48,409 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:42:48,409 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:42:48,409 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-11 09:42:48,409 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:42:48 +08:00

2018-05-11 09:42:48,409 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:42:48,409 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:48,409 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:48 +08:00

2018-05-11 09:42:48,410 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:42:48 +08:00

2018-05-11 09:42:48,410 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-11 09:42:48,410 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:48,410 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:42:48,410 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '3' (Type = Int64, IsNullable = false)

2018-05-11 09:42:48,410 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-11 09:42:48,410 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:42:48 +08:00

2018-05-11 09:42:48,410 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:42:48,410 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:48,410 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:48 +08:00

2018-05-11 09:42:48,411 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:42:48 +08:00

2018-05-11 09:42:48,411 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 8
    ORDER BY [Project1].[CreateTime] DESC
2018-05-11 09:42:48,411 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:48,411 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:42:48,411 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:42:48 +08:00

2018-05-11 09:42:48,412 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:42:48,412 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:48,412 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:48 +08:00

2018-05-11 09:42:48,412 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:42:48 +08:00

2018-05-11 09:42:48,412 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:42:48,412 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:48,412 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:42:48,412 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:42:48 +08:00

2018-05-11 09:42:48,412 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:42:48,412 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:48,412 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:48 +08:00

2018-05-11 09:42:48,413 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:42:48 +08:00

2018-05-11 09:42:48,413 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:42:48,413 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:48,413 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '5' (Type = Int64, IsNullable = false)

2018-05-11 09:42:48,413 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:42:48 +08:00

2018-05-11 09:42:48,413 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:42:48,413 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:48,413 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:48 +08:00

2018-05-11 09:42:48,413 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:42:48 +08:00

2018-05-11 09:42:48,414 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'积分增加' <> [Extent1].[Name])
2018-05-11 09:42:48,414 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:48,414 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:42:48 +08:00

2018-05-11 09:42:48,414 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:42:48,414 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:48,414 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:48 +08:00

2018-05-11 09:42:48,414 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:42:48 +08:00

2018-05-11 09:42:48,415 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2018-05-11 09:42:48,415 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:48,415 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:42:48,415 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:42:48 +08:00

2018-05-11 09:42:48,415 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:42:48,415 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:48,415 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:48 +08:00

2018-05-11 09:42:48,415 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:42:48 +08:00

2018-05-11 09:42:48,415 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:42:48,415 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:48,415 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:42:48,416 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:42:48 +08:00

2018-05-11 09:42:48,416 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:42:48,416 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:48,416 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:48 +08:00

2018-05-11 09:42:50,890 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:42:50 +08:00

2018-05-11 09:42:50,890 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-11 09:42:50,890 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:50,890 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:42:50 +08:00

2018-05-11 09:42:50,890 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:42:50,891 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:50,891 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:50 +08:00

2018-05-11 09:42:50,891 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:42:50 +08:00

2018-05-11 09:42:50,891 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-11 09:42:50,891 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:50,891 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:42:50 +08:00

2018-05-11 09:42:50,891 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:42:50,891 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:50,892 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:50 +08:00

2018-05-11 09:42:50,892 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:42:50 +08:00

2018-05-11 09:42:50,892 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-11 09:42:50,892 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:50,892 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:42:50,892 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:42:50 +08:00

2018-05-11 09:42:50,892 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:42:50,892 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:50,892 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:50 +08:00

2018-05-11 09:42:50,893 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:42:50 +08:00

2018-05-11 09:42:50,893 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-11 09:42:50,893 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:50,893 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:42:50 +08:00

2018-05-11 09:42:50,893 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:42:50,893 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:50,893 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:50 +08:00

2018-05-11 09:42:50,894 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:42:50 +08:00

2018-05-11 09:42:50,894 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-11 09:42:50,894 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:50,894 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:42:50,894 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:42:50,894 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-11 09:42:50,894 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:42:50 +08:00

2018-05-11 09:42:50,894 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:42:50,894 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:50,894 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:50 +08:00

2018-05-11 09:42:50,895 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:42:50 +08:00

2018-05-11 09:42:50,895 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-11 09:42:50,895 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:50,895 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:42:50,895 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '3' (Type = Int64, IsNullable = false)

2018-05-11 09:42:50,895 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-11 09:42:50,895 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:42:50 +08:00

2018-05-11 09:42:50,895 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:42:50,895 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:50,895 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:50 +08:00

2018-05-11 09:42:50,896 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:42:50 +08:00

2018-05-11 09:42:50,896 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 9
    ORDER BY [Project1].[CreateTime] DESC
2018-05-11 09:42:50,896 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:50,896 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:42:50,896 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:42:50 +08:00

2018-05-11 09:42:50,896 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:42:50,896 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:50,897 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:50 +08:00

2018-05-11 09:42:50,897 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:42:50 +08:00

2018-05-11 09:42:50,897 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:42:50,897 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:50,897 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-11 09:42:50,897 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:42:50 +08:00

2018-05-11 09:42:50,897 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:42:50,897 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:50,897 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:50 +08:00

2018-05-11 09:42:50,898 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:42:50 +08:00

2018-05-11 09:42:50,898 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:42:50,898 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:50,898 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '4' (Type = Int64, IsNullable = false)

2018-05-11 09:42:50,898 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:42:50 +08:00

2018-05-11 09:42:50,898 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:42:50,898 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:50,898 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:50 +08:00

2018-05-11 09:42:50,898 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:42:50 +08:00

2018-05-11 09:42:50,898 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:42:50,898 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:50,898 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:42:50,898 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:42:50 +08:00

2018-05-11 09:42:50,899 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:42:50,899 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:50,899 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:50 +08:00

2018-05-11 09:42:50,899 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:42:50 +08:00

2018-05-11 09:42:50,899 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'积分增加' <> [Extent1].[Name])
2018-05-11 09:42:50,899 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:50,899 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:42:50 +08:00

2018-05-11 09:42:50,900 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:42:50,900 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:50,900 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:50 +08:00

2018-05-11 09:42:50,900 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:42:50 +08:00

2018-05-11 09:42:50,900 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2018-05-11 09:42:50,900 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:50,900 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:42:50,900 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:42:50 +08:00

2018-05-11 09:42:50,901 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:42:50,901 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:50,901 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:50 +08:00

2018-05-11 09:42:50,901 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:42:50 +08:00

2018-05-11 09:42:50,901 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:42:50,901 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:50,901 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:42:50,901 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:42:50 +08:00

2018-05-11 09:42:50,901 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:42:50,901 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:50,902 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:50 +08:00

2018-05-11 09:42:52,838 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:42:52 +08:00

2018-05-11 09:42:52,839 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-11 09:42:52,839 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:52,839 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:42:52 +08:00

2018-05-11 09:42:52,839 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:42:52,839 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:52,839 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:52 +08:00

2018-05-11 09:42:52,839 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:42:52 +08:00

2018-05-11 09:42:52,840 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-11 09:42:52,840 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:52,840 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:42:52 +08:00

2018-05-11 09:42:52,840 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:42:52,840 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:52,840 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:52 +08:00

2018-05-11 09:42:52,840 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:42:52 +08:00

2018-05-11 09:42:52,840 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-11 09:42:52,840 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:52,840 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:42:52,841 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:42:52 +08:00

2018-05-11 09:42:52,841 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:42:52,841 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:52,841 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:52 +08:00

2018-05-11 09:42:52,841 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:42:52 +08:00

2018-05-11 09:42:52,842 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-11 09:42:52,842 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:52,842 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:42:52 +08:00

2018-05-11 09:42:52,842 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:42:52,842 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:52,842 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:52 +08:00

2018-05-11 09:42:52,842 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:42:52 +08:00

2018-05-11 09:42:52,843 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-11 09:42:52,843 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:52,843 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:42:52,843 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:42:52,843 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-11 09:42:52,843 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:42:52 +08:00

2018-05-11 09:42:52,843 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:42:52,843 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:52,843 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:52 +08:00

2018-05-11 09:42:52,844 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:42:52 +08:00

2018-05-11 09:42:52,844 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-11 09:42:52,844 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:52,844 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:42:52,844 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '3' (Type = Int64, IsNullable = false)

2018-05-11 09:42:52,844 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-11 09:42:52,844 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:42:52 +08:00

2018-05-11 09:42:52,844 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:42:52,844 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:52,844 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:52 +08:00

2018-05-11 09:42:52,845 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:42:52 +08:00

2018-05-11 09:42:52,845 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 10
    ORDER BY [Project1].[CreateTime] DESC
2018-05-11 09:42:52,845 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:52,845 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:42:52,845 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:42:52 +08:00

2018-05-11 09:42:52,845 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:42:52,845 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:52,846 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:52 +08:00

2018-05-11 09:42:52,846 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:42:52 +08:00

2018-05-11 09:42:52,846 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:42:52,846 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:52,846 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-11 09:42:52,846 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:42:52 +08:00

2018-05-11 09:42:52,846 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:42:52,846 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:52,846 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:52 +08:00

2018-05-11 09:42:52,847 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:42:52 +08:00

2018-05-11 09:42:52,847 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:42:52,847 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:52,847 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '4' (Type = Int64, IsNullable = false)

2018-05-11 09:42:52,847 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:42:52 +08:00

2018-05-11 09:42:52,847 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:42:52,847 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:52,847 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:52 +08:00

2018-05-11 09:42:52,847 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:42:52 +08:00

2018-05-11 09:42:52,847 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:42:52,847 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:52,847 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:42:52,847 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:42:52 +08:00

2018-05-11 09:42:52,847 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:42:52,848 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:52,848 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:52 +08:00

2018-05-11 09:42:52,848 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:42:52 +08:00

2018-05-11 09:42:52,848 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'积分增加' <> [Extent1].[Name])
2018-05-11 09:42:52,848 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:52,848 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:42:52 +08:00

2018-05-11 09:42:52,849 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:42:52,849 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:52,849 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:52 +08:00

2018-05-11 09:42:52,849 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:42:52 +08:00

2018-05-11 09:42:52,849 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2018-05-11 09:42:52,849 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:52,849 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:42:52,849 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:42:52 +08:00

2018-05-11 09:42:52,850 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:42:52,850 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:52,850 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:52 +08:00

2018-05-11 09:42:52,850 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:42:52 +08:00

2018-05-11 09:42:52,850 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:42:52,850 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:52,850 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:42:52,850 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:42:52 +08:00

2018-05-11 09:42:52,850 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:42:52,850 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:52,851 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:52 +08:00

2018-05-11 09:42:54,168 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:42:54 +08:00

2018-05-11 09:42:54,169 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-11 09:42:54,169 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:54,169 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:42:54 +08:00

2018-05-11 09:42:54,169 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:42:54,169 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:54,169 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:54 +08:00

2018-05-11 09:42:54,169 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:42:54 +08:00

2018-05-11 09:42:54,170 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-11 09:42:54,170 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:54,170 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:42:54 +08:00

2018-05-11 09:42:54,170 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:42:54,170 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:54,170 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:54 +08:00

2018-05-11 09:42:54,170 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:42:54 +08:00

2018-05-11 09:42:54,170 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-11 09:42:54,170 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:54,171 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:42:54,171 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:42:54 +08:00

2018-05-11 09:42:54,171 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:42:54,171 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:54,171 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:54 +08:00

2018-05-11 09:42:54,171 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:42:54 +08:00

2018-05-11 09:42:54,171 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-11 09:42:54,172 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:54,172 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:42:54 +08:00

2018-05-11 09:42:54,172 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:42:54,172 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:54,172 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:54 +08:00

2018-05-11 09:42:54,172 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:42:54 +08:00

2018-05-11 09:42:54,173 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-11 09:42:54,173 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:54,173 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:42:54,173 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:42:54,173 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-11 09:42:54,173 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:42:54 +08:00

2018-05-11 09:42:54,173 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:42:54,173 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:54,173 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:54 +08:00

2018-05-11 09:42:54,173 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:42:54 +08:00

2018-05-11 09:42:54,174 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-11 09:42:54,174 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:54,174 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:42:54,174 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '3' (Type = Int64, IsNullable = false)

2018-05-11 09:42:54,174 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-11 09:42:54,174 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:42:54 +08:00

2018-05-11 09:42:54,174 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:42:54,174 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:54,175 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:54 +08:00

2018-05-11 09:42:54,175 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:42:54 +08:00

2018-05-11 09:42:54,175 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 11
    ORDER BY [Project1].[CreateTime] DESC
2018-05-11 09:42:54,175 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:54,175 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:42:54,175 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:42:54 +08:00

2018-05-11 09:42:54,176 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:42:54,176 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:54,176 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:54 +08:00

2018-05-11 09:42:54,176 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:42:54 +08:00

2018-05-11 09:42:54,176 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:42:54,176 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:54,176 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:42:54,176 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:42:54 +08:00

2018-05-11 09:42:54,177 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:42:54,177 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:54,177 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:54 +08:00

2018-05-11 09:42:54,177 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:42:54 +08:00

2018-05-11 09:42:54,177 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:42:54,177 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:54,177 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:42:54,177 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:42:54 +08:00

2018-05-11 09:42:54,177 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:42:54,177 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:54,177 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:54 +08:00

2018-05-11 09:42:54,178 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:42:54 +08:00

2018-05-11 09:42:54,178 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'积分增加' <> [Extent1].[Name])
2018-05-11 09:42:54,178 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:54,178 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:42:54 +08:00

2018-05-11 09:42:54,178 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:42:54,178 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:54,178 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:54 +08:00

2018-05-11 09:42:54,179 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:42:54 +08:00

2018-05-11 09:42:54,179 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2018-05-11 09:42:54,179 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:54,179 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:42:54,179 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:42:54 +08:00

2018-05-11 09:42:54,179 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:42:54,179 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:54,180 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:54 +08:00

2018-05-11 09:42:54,180 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:42:54 +08:00

2018-05-11 09:42:54,180 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:42:54,180 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:54,180 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:42:54,180 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:42:54 +08:00

2018-05-11 09:42:54,180 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:42:54,180 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:54,180 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:54 +08:00

2018-05-11 09:42:56,903 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:42:56 +08:00

2018-05-11 09:42:56,903 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-11 09:42:56,903 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:56,903 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:42:56 +08:00

2018-05-11 09:42:56,903 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:42:56,903 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:56,904 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:56 +08:00

2018-05-11 09:42:56,904 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:42:56 +08:00

2018-05-11 09:42:56,904 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-11 09:42:56,904 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:56,904 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:42:56 +08:00

2018-05-11 09:42:56,904 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:42:56,904 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:56,904 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:56 +08:00

2018-05-11 09:42:56,904 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:42:56 +08:00

2018-05-11 09:42:56,905 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-11 09:42:56,905 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:56,905 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:42:56,905 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:42:56 +08:00

2018-05-11 09:42:56,905 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:42:56,905 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:56,905 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:56 +08:00

2018-05-11 09:42:56,906 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:42:56 +08:00

2018-05-11 09:42:56,906 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-11 09:42:56,906 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:56,906 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:42:56 +08:00

2018-05-11 09:42:56,906 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:42:56,906 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:56,907 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:56 +08:00

2018-05-11 09:42:56,907 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:42:56 +08:00

2018-05-11 09:42:56,907 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-11 09:42:56,907 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:56,907 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:42:56,907 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:42:56,907 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-11 09:42:56,907 [42] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:42:56 +08:00

2018-05-11 09:42:56,908 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:42:56,908 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:56,908 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:56 +08:00

2018-05-11 09:42:56,908 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:42:56 +08:00

2018-05-11 09:42:56,908 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-11 09:42:56,908 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:56,908 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:42:56,908 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '3' (Type = Int64, IsNullable = false)

2018-05-11 09:42:56,908 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-11 09:42:56,908 [48] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:42:56 +08:00

2018-05-11 09:42:56,909 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:42:56,909 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:56,909 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:56 +08:00

2018-05-11 09:42:56,909 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:42:56 +08:00

2018-05-11 09:42:56,909 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 12
    ORDER BY [Project1].[CreateTime] DESC
2018-05-11 09:42:56,909 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:56,909 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:42:56,909 [53] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:42:56 +08:00

2018-05-11 09:42:56,910 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:42:56,910 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:56,910 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:56 +08:00

2018-05-11 09:42:56,910 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:42:56 +08:00

2018-05-11 09:42:56,910 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:42:56,910 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:56,910 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:42:56,910 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:42:56 +08:00

2018-05-11 09:42:56,911 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:42:56,911 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:56,911 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:56 +08:00

2018-05-11 09:42:56,911 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:42:56 +08:00

2018-05-11 09:42:56,911 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:42:56,911 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:56,911 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-11 09:42:56,911 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:42:56 +08:00

2018-05-11 09:42:56,911 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:42:56,911 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:56,911 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:56 +08:00

2018-05-11 09:42:56,912 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:42:56 +08:00

2018-05-11 09:42:56,912 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:42:56,912 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:56,912 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-11 09:42:56,912 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:42:56 +08:00

2018-05-11 09:42:56,912 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:42:56,912 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:56,912 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:56 +08:00

2018-05-11 09:42:56,912 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:42:56 +08:00

2018-05-11 09:42:56,913 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'积分增加' <> [Extent1].[Name])
2018-05-11 09:42:56,913 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:56,913 [43] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:42:56 +08:00

2018-05-11 09:42:56,913 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:42:56,913 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:56,913 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:56 +08:00

2018-05-11 09:42:56,914 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:42:56 +08:00

2018-05-11 09:42:56,914 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2018-05-11 09:42:56,914 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:56,914 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:42:56,914 [46] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:42:56 +08:00

2018-05-11 09:42:56,914 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:42:56,914 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:56,914 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:56 +08:00

2018-05-11 09:42:56,914 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:42:56 +08:00

2018-05-11 09:42:56,914 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:42:56,915 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:56,915 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:42:56,915 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:42:56 +08:00

2018-05-11 09:42:56,915 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:42:56,915 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:42:56,915 [40] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:42:56 +08:00

2018-05-11 09:50:21,809 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:50:21 +08:00

2018-05-11 09:50:21,809 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-11 09:50:21,809 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:50:21,809 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:50:21 +08:00

2018-05-11 09:50:21,809 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:50:21,809 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:50:21,810 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:50:21 +08:00

2018-05-11 09:50:21,810 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:50:21 +08:00

2018-05-11 09:50:21,810 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-11 09:50:21,810 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:50:21,810 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:50:21 +08:00

2018-05-11 09:50:21,810 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:50:21,810 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:50:21,810 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:50:21 +08:00

2018-05-11 09:50:21,811 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:50:21 +08:00

2018-05-11 09:50:21,811 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-11 09:50:21,811 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:50:21,811 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:50:21,811 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:50:21 +08:00

2018-05-11 09:50:21,811 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:50:21,811 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:50:21,812 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:50:21 +08:00

2018-05-11 09:50:21,812 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:50:21 +08:00

2018-05-11 09:50:21,812 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-11 09:50:21,812 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:50:21,812 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:50:21 +08:00

2018-05-11 09:50:21,812 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:50:21,812 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:50:21,813 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:50:21 +08:00

2018-05-11 09:50:21,813 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:50:21 +08:00

2018-05-11 09:50:21,813 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-11 09:50:21,813 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:50:21,813 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:50:21,813 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:50:21,813 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-11 09:50:21,813 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:50:21 +08:00

2018-05-11 09:50:21,814 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:50:21,814 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:50:21,814 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:50:21 +08:00

2018-05-11 09:50:21,814 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:50:21 +08:00

2018-05-11 09:50:21,815 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-11 09:50:21,815 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:50:21,815 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:50:21,815 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '3' (Type = Int64, IsNullable = false)

2018-05-11 09:50:21,815 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-11 09:50:21,815 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:50:21 +08:00

2018-05-11 09:50:21,815 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:50:21,815 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:50:21,815 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:50:21 +08:00

2018-05-11 09:50:21,816 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:50:21 +08:00

2018-05-11 09:50:21,816 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-11 09:50:21,816 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:50:21,816 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:50:21,816 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:50:21 +08:00

2018-05-11 09:50:21,817 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:50:21,817 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:50:21,817 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:50:21 +08:00

2018-05-11 09:50:21,817 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:50:21 +08:00

2018-05-11 09:50:21,817 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:50:21,817 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:50:21,817 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-11 09:50:21,817 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:50:21 +08:00

2018-05-11 09:50:21,818 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:50:21,818 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:50:21,818 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:50:21 +08:00

2018-05-11 09:50:21,818 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:50:21 +08:00

2018-05-11 09:50:21,818 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:50:21,818 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:50:21,818 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '4' (Type = Int64, IsNullable = false)

2018-05-11 09:50:21,818 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:50:21 +08:00

2018-05-11 09:50:21,818 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:50:21,818 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:50:21,819 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:50:21 +08:00

2018-05-11 09:50:21,819 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:50:21 +08:00

2018-05-11 09:50:21,819 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:50:21,819 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:50:21,819 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:50:21,819 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:50:21 +08:00

2018-05-11 09:50:21,822 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-11 09:50:21,822 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:50:21,822 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:50:21 +08:00

2018-05-11 09:50:21,822 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:50:21 +08:00

2018-05-11 09:50:21,823 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'积分增加' <> [Extent1].[Name])
2018-05-11 09:50:21,823 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:50:21,823 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:50:21 +08:00

2018-05-11 09:50:21,823 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:50:21,823 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:50:21,823 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:50:21 +08:00

2018-05-11 09:50:21,824 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:50:21 +08:00

2018-05-11 09:50:21,824 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2018-05-11 09:50:21,824 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:50:21,824 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:50:21,824 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:50:21 +08:00

2018-05-11 09:50:21,825 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:50:21,825 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:50:21,825 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:50:21 +08:00

2018-05-11 09:50:21,825 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:50:21 +08:00

2018-05-11 09:50:21,825 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:50:21,825 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:50:21,825 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:50:21,825 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:50:21 +08:00

2018-05-11 09:50:21,826 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:50:21,826 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:50:21,826 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:50:21 +08:00

2018-05-11 09:51:09,788 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:51:09 +08:00

2018-05-11 09:51:09,789 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-11 09:51:09,789 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:51:09,789 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:51:09 +08:00

2018-05-11 09:51:09,789 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:51:09,789 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:51:09,790 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:51:09 +08:00

2018-05-11 09:51:09,790 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:51:09 +08:00

2018-05-11 09:51:09,790 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-11 09:51:09,790 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:51:09,790 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:51:09 +08:00

2018-05-11 09:51:09,790 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:51:09,790 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:51:09,790 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:51:09 +08:00

2018-05-11 09:51:09,791 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:51:09 +08:00

2018-05-11 09:51:09,791 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-11 09:51:09,791 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:51:09,791 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:51:09,791 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:51:09 +08:00

2018-05-11 09:51:09,791 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:51:09,791 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:51:09,791 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:51:09 +08:00

2018-05-11 09:51:09,792 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:51:09 +08:00

2018-05-11 09:51:09,792 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-11 09:51:09,792 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:51:09,792 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:51:09 +08:00

2018-05-11 09:51:09,792 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:51:09,792 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:51:09,793 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:51:09 +08:00

2018-05-11 09:51:09,793 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:51:09 +08:00

2018-05-11 09:51:09,793 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-11 09:51:09,793 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:51:09,793 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:51:09,793 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:51:09,793 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-11 09:51:09,793 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:51:09 +08:00

2018-05-11 09:51:09,794 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:51:09,794 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:51:09,794 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:51:09 +08:00

2018-05-11 09:51:09,794 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:51:09 +08:00

2018-05-11 09:51:09,794 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-11 09:51:09,794 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:51:09,794 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:51:09,794 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '3' (Type = Int64, IsNullable = false)

2018-05-11 09:51:09,794 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-11 09:51:09,794 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:51:09 +08:00

2018-05-11 09:51:09,795 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:51:09,795 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:51:09,795 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:51:09 +08:00

2018-05-11 09:51:09,795 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:51:09 +08:00

2018-05-11 09:51:09,795 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-11 09:51:09,796 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:51:09,796 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:51:09,796 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:51:09 +08:00

2018-05-11 09:51:09,796 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:51:09,796 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:51:09,796 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:51:09 +08:00

2018-05-11 09:51:09,797 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:51:09 +08:00

2018-05-11 09:51:09,797 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:51:09,797 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:51:09,797 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-11 09:51:09,797 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:51:09 +08:00

2018-05-11 09:51:09,797 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:51:09,797 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:51:09,797 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:51:09 +08:00

2018-05-11 09:51:09,797 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:51:09 +08:00

2018-05-11 09:51:09,797 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:51:09,797 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:51:09,798 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '4' (Type = Int64, IsNullable = false)

2018-05-11 09:51:09,798 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:51:09 +08:00

2018-05-11 09:51:09,798 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:51:09,798 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:51:09,798 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:51:09 +08:00

2018-05-11 09:51:09,798 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:51:09 +08:00

2018-05-11 09:51:09,798 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:51:09,798 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:51:09,798 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:51:09,798 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:51:09 +08:00

2018-05-11 09:51:09,798 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:51:09,798 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:51:09,799 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:51:09 +08:00

2018-05-11 09:51:09,799 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:51:09 +08:00

2018-05-11 09:51:09,799 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'积分增加' <> [Extent1].[Name])
2018-05-11 09:51:09,799 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:51:09,799 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:51:09 +08:00

2018-05-11 09:51:09,800 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:51:09,800 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:51:09,800 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:51:09 +08:00

2018-05-11 09:51:09,800 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:51:09 +08:00

2018-05-11 09:51:09,801 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2018-05-11 09:51:09,801 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:51:09,801 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:51:09,801 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:51:09 +08:00

2018-05-11 09:51:09,801 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:51:09,801 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:51:09,801 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:51:09 +08:00

2018-05-11 09:51:09,801 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:51:09 +08:00

2018-05-11 09:51:09,801 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:51:09,801 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:51:09,801 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:51:09,801 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:51:09 +08:00

2018-05-11 09:51:09,802 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:51:09,802 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:51:09,802 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:51:09 +08:00

2018-05-11 09:52:14,258 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:52:14 +08:00

2018-05-11 09:52:14,259 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-11 09:52:14,259 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:52:14,259 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:52:14 +08:00

2018-05-11 09:52:14,259 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:52:14,259 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:52:14,259 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:52:14 +08:00

2018-05-11 09:52:14,259 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:52:14 +08:00

2018-05-11 09:52:14,260 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-11 09:52:14,260 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:52:14,260 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:52:14 +08:00

2018-05-11 09:52:14,260 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:52:14,260 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:52:14,260 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:52:14 +08:00

2018-05-11 09:52:14,260 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:52:14 +08:00

2018-05-11 09:52:14,261 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-11 09:52:14,261 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:52:14,261 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:52:14,261 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:52:14 +08:00

2018-05-11 09:52:14,261 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:52:14,261 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:52:14,261 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:52:14 +08:00

2018-05-11 09:52:14,261 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:52:14 +08:00

2018-05-11 09:52:14,262 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-11 09:52:14,262 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:52:14,262 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:52:14 +08:00

2018-05-11 09:52:14,262 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:52:14,262 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:52:14,262 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:52:14 +08:00

2018-05-11 09:52:14,263 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:52:14 +08:00

2018-05-11 09:52:14,263 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-11 09:52:14,263 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:52:14,263 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:52:14,263 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:52:14,263 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-11 09:52:14,263 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:52:14 +08:00

2018-05-11 09:52:14,263 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:52:14,263 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:52:14,263 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:52:14 +08:00

2018-05-11 09:52:14,264 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:52:14 +08:00

2018-05-11 09:52:14,264 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-11 09:52:14,264 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:52:14,264 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:52:14,264 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '3' (Type = Int64, IsNullable = false)

2018-05-11 09:52:14,264 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-11 09:52:14,264 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:52:14 +08:00

2018-05-11 09:52:14,265 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:52:14,265 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:52:14,265 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:52:14 +08:00

2018-05-11 09:52:14,265 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:52:14 +08:00

2018-05-11 09:52:14,265 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-11 09:52:14,265 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:52:14,265 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:52:14,265 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:52:14 +08:00

2018-05-11 09:52:14,266 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:52:14,266 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:52:14,266 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:52:14 +08:00

2018-05-11 09:52:14,266 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:52:14 +08:00

2018-05-11 09:52:14,266 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:52:14,266 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:52:14,266 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-11 09:52:14,266 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:52:14 +08:00

2018-05-11 09:52:14,272 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 5 ms with result: SqlDataReader

2018-05-11 09:52:14,272 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:52:14,272 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:52:14 +08:00

2018-05-11 09:52:14,272 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:52:14 +08:00

2018-05-11 09:52:14,272 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:52:14,272 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:52:14,272 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '4' (Type = Int64, IsNullable = false)

2018-05-11 09:52:14,272 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:52:14 +08:00

2018-05-11 09:52:14,272 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:52:14,273 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:52:14,273 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:52:14 +08:00

2018-05-11 09:52:14,273 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:52:14 +08:00

2018-05-11 09:52:14,273 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:52:14,273 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:52:14,273 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:52:14,273 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:52:14 +08:00

2018-05-11 09:52:14,274 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-11 09:52:14,274 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:52:14,275 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:52:14 +08:00

2018-05-11 09:52:14,275 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:52:14 +08:00

2018-05-11 09:52:14,275 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'积分增加' <> [Extent1].[Name])
2018-05-11 09:52:14,275 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:52:14,275 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:52:14 +08:00

2018-05-11 09:52:14,276 [36] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:52:14,276 [36] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:52:14,276 [36] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:52:14 +08:00

2018-05-11 09:52:14,276 [36] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:52:14 +08:00

2018-05-11 09:52:14,277 [36] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2018-05-11 09:52:14,277 [36] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:52:14,277 [36] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:52:14,277 [36] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:52:14 +08:00

2018-05-11 09:52:14,277 [36] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:52:14,277 [36] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:52:14,277 [36] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:52:14 +08:00

2018-05-11 09:52:14,277 [36] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:52:14 +08:00

2018-05-11 09:52:14,277 [36] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:52:14,277 [36] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:52:14,278 [36] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:52:14,278 [36] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:52:14 +08:00

2018-05-11 09:52:14,278 [36] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-11 09:52:14,278 [36] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:52:14,278 [36] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:52:14 +08:00

2018-05-11 09:52:16,144 [38] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:52:16 +08:00

2018-05-11 09:52:16,144 [38] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-11 09:52:16,144 [38] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:52:16,144 [38] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:52:16 +08:00

2018-05-11 09:52:16,195 [38] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 50 ms with result: SqlDataReader

2018-05-11 09:52:16,195 [38] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:52:16,195 [38] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:52:16 +08:00

2018-05-11 09:52:16,195 [38] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:52:16 +08:00

2018-05-11 09:52:16,196 [38] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-11 09:52:16,196 [38] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:52:16,196 [38] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:52:16 +08:00

2018-05-11 09:52:16,290 [38] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 94 ms with result: SqlDataReader

2018-05-11 09:52:16,290 [38] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:52:16,290 [38] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:52:16 +08:00

2018-05-11 09:52:16,290 [38] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:52:16 +08:00

2018-05-11 09:52:16,290 [38] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-11 09:52:16,290 [38] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:52:16,291 [38] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:52:16,291 [38] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:52:16 +08:00

2018-05-11 09:52:16,333 [36] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 42 ms with result: SqlDataReader

2018-05-11 09:52:16,333 [36] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:52:16,333 [36] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:52:16 +08:00

2018-05-11 09:52:16,333 [36] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:52:16 +08:00

2018-05-11 09:52:16,334 [36] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-11 09:52:16,334 [36] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:52:16,334 [36] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:52:16 +08:00

2018-05-11 09:52:16,379 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 45 ms with result: SqlDataReader

2018-05-11 09:52:16,379 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:52:16,379 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:52:16 +08:00

2018-05-11 09:52:16,379 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:52:16 +08:00

2018-05-11 09:52:16,380 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-11 09:52:16,380 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:52:16,380 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:52:16,380 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2' (Type = Int64, IsNullable = false)

2018-05-11 09:52:16,380 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-11 09:52:16,380 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:52:16 +08:00

2018-05-11 09:52:16,419 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 38 ms with result: SqlDataReader

2018-05-11 09:52:16,419 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:52:16,419 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:52:16 +08:00

2018-05-11 09:52:16,419 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:52:16 +08:00

2018-05-11 09:52:16,421 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-11 09:52:16,421 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:52:16,421 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:52:16,421 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '3' (Type = Int64, IsNullable = false)

2018-05-11 09:52:16,421 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-11 09:52:16,421 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:52:16 +08:00

2018-05-11 09:52:16,453 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 32 ms with result: SqlDataReader

2018-05-11 09:52:16,453 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:52:16,453 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:52:16 +08:00

2018-05-11 09:52:16,454 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/11 9:52:16 +08:00

2018-05-11 09:52:16,454 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-11 09:52:16,454 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:52:16,454 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-11 09:52:16,454 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/11 9:52:16 +08:00

2018-05-11 09:52:16,489 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 35 ms with result: SqlDataReader

2018-05-11 09:52:16,489 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:52:16,490 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:52:16 +08:00

2018-05-11 09:52:16,490 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:52:16 +08:00

2018-05-11 09:52:16,490 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-11 09:52:16,490 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:52:16,490 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-11 09:52:16,490 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/11 9:52:16 +08:00

2018-05-11 09:52:16,523 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 32 ms with result: SqlDataReader

2018-05-11 09:52:16,523 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-11 09:52:16,523 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/11 9:52:16 +08:00

2018-05-11 09:52:16,523 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/11 9:52:16 +08:00

2018-05-11 09:52:16,523 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
