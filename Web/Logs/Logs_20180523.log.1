2018-05-23 15:37:21,974 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:37:22,004 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '34' (Type = Int64, IsNullable = false)

2018-05-23 15:37:22,004 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 15:37:22 +08:00

2018-05-23 15:37:22,007 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-23 15:37:22,007 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:37:22,007 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:37:22 +08:00

2018-05-23 15:37:22,008 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 15:37:22 +08:00

2018-05-23 15:37:22,008 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 15:37:22,008 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:37:22,008 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-23 15:37:22,008 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 15:37:22 +08:00

2018-05-23 15:37:22,009 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 15:37:22,009 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:37:22,009 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:37:22 +08:00

2018-05-23 15:37:22,009 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 15:37:22 +08:00

2018-05-23 15:37:22,010 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 15:37:22,010 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:37:22,010 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-23 15:37:22,010 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 15:37:22 +08:00

2018-05-23 15:37:22,011 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 15:37:22,011 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:37:22,011 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:37:22 +08:00

2018-05-23 15:37:40,389 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 15:37:40 +08:00

2018-05-23 15:37:40,390 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM  [dbo].[T_PlatformUsers] AS [Extent1]
        INNER JOIN [dbo].[T_PlatformUserTypes] AS [Extent2] ON [Extent1].[PlatformUserTypeId] = [Extent2].[Id]
        WHERE (0 = [Extent1].[IsDeleted]) AND (([Extent2].[Name] = @p__linq__0) OR (1 = 0))
    )  AS [GroupBy1]
2018-05-23 15:37:40,390 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:37:40,390 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '客户' (Type = String, Size = 4000)

2018-05-23 15:37:40,390 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 15:37:40 +08:00

2018-05-23 15:37:40,392 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 15:37:40,392 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:37:40,392 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:37:40 +08:00

2018-05-23 15:37:40,392 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/23 15:37:40 +08:00

2018-05-23 15:37:40,392 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Code] AS [Code], 
    [Project1].[Description] AS [Description], 
    [Project1].[PlatformIntegral] AS [PlatformIntegral], 
    [Project1].[GivingIntegral] AS [GivingIntegral], 
    [Project1].[UseIntegral] AS [UseIntegral], 
    [Project1].[Salt] AS [Salt], 
    [Project1].[Password] AS [Password], 
    [Project1].[TradePassword] AS [TradePassword], 
    [Project1].[ErrorCount] AS [ErrorCount], 
    [Project1].[ErrorTime] AS [ErrorTime], 
    [Project1].[IsEnabled] AS [IsEnabled], 
    [Project1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Mobile] AS [Mobile], [Project1].[Code] AS [Code], [Project1].[Description] AS [Description], [Project1].[PlatformIntegral] AS [PlatformIntegral], [Project1].[GivingIntegral] AS [GivingIntegral], [Project1].[UseIntegral] AS [UseIntegral], [Project1].[Salt] AS [Salt], [Project1].[Password] AS [Password], [Project1].[TradePassword] AS [TradePassword], [Project1].[ErrorCount] AS [ErrorCount], [Project1].[ErrorTime] AS [ErrorTime], [Project1].[IsEnabled] AS [IsEnabled], [Project1].[PlatformUserTypeId] AS [PlatformUserTypeId], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Code] AS [Code], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
            [Extent1].[GivingIntegral] AS [GivingIntegral], 
            [Extent1].[UseIntegral] AS [UseIntegral], 
            [Extent1].[Salt] AS [Salt], 
            [Extent1].[Password] AS [Password], 
            [Extent1].[TradePassword] AS [TradePassword], 
            [Extent1].[ErrorCount] AS [ErrorCount], 
            [Extent1].[ErrorTime] AS [ErrorTime], 
            [Extent1].[IsEnabled] AS [IsEnabled], 
            [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM  [dbo].[T_PlatformUsers] AS [Extent1]
            INNER JOIN [dbo].[T_PlatformUserTypes] AS [Extent2] ON [Extent1].[PlatformUserTypeId] = [Extent2].[Id]
            WHERE (0 = [Extent1].[IsDeleted]) AND (([Extent2].[Name] = @p__linq__0) OR (1 = 0))
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-23 15:37:40,392 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:37:40,393 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '客户' (Type = String, Size = 4000)

2018-05-23 15:37:40,393 [6] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 15:37:40 +08:00

2018-05-23 15:37:40,396 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2018-05-23 15:37:40,396 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:37:40,397 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:37:40 +08:00

2018-05-23 15:37:40,397 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 15:37:40 +08:00

2018-05-23 15:37:40,397 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 15:37:40,397 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:37:40,397 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-23 15:37:40,397 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 15:37:40 +08:00

2018-05-23 15:37:40,399 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 15:37:40,399 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:37:40,399 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:37:40 +08:00

2018-05-23 15:37:40,400 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/23 15:37:40 +08:00

2018-05-23 15:37:40,400 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2018-05-23 15:37:40,400 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:37:40,400 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2018-05-23 15:37:40,400 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 15:37:40 +08:00

2018-05-23 15:37:40,404 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2018-05-23 15:37:40,404 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:37:40,404 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:37:40 +08:00

2018-05-23 15:37:40,404 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 15:37:40 +08:00

2018-05-23 15:37:40,404 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 15:37:40,404 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:37:40,404 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-23 15:37:40,404 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 15:37:40 +08:00

2018-05-23 15:37:40,406 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 15:37:40,406 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:37:40,406 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:37:40 +08:00

2018-05-23 15:37:41,548 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 15:37:41 +08:00

2018-05-23 15:37:41,548 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费' = [Extent1].[Description])
2018-05-23 15:37:41,548 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:37:41,549 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 15:37:41 +08:00

2018-05-23 15:37:41,550 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 15:37:41,550 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:37:41,550 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:37:41 +08:00

2018-05-23 15:37:41,551 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/23 15:37:41 +08:00

2018-05-23 15:37:41,551 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ((([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[PlatformUserId] = [Extent1].[ToPlatformUserId])) OR (([Extent1].[PlatformUserId] = @p__linq__1) AND ([Extent1].[JournalTypeId] = @p__linq__2)) OR (([Extent1].[ToPlatformUserId] = @p__linq__3) AND ([Extent1].[ToPlatformUserId] = [Extent1].[FormPlatformUserId])))
    )  AS [GroupBy1]
2018-05-23 15:37:41,551 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:37:41,551 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '34' (Type = Int64, IsNullable = false)

2018-05-23 15:37:41,551 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '34' (Type = Int64, IsNullable = false)

2018-05-23 15:37:41,552 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '4' (Type = Int64, IsNullable = false)

2018-05-23 15:37:41,552 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '34' (Type = Int64, IsNullable = false)

2018-05-23 15:37:41,552 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 15:37:41 +08:00

2018-05-23 15:37:41,555 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-23 15:37:41,555 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:37:41,555 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:37:41 +08:00

2018-05-23 15:37:41,555 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/23 15:37:41 +08:00

2018-05-23 15:37:41,555 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ((([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[PlatformUserId] = [Extent1].[ToPlatformUserId])) OR (([Extent1].[PlatformUserId] = @p__linq__1) AND ([Extent1].[JournalTypeId] = @p__linq__2)) OR (([Extent1].[ToPlatformUserId] = @p__linq__3) AND ([Extent1].[ToPlatformUserId] = [Extent1].[FormPlatformUserId])))
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-23 15:37:41,556 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:37:41,556 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '34' (Type = Int64, IsNullable = false)

2018-05-23 15:37:41,556 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '34' (Type = Int64, IsNullable = false)

2018-05-23 15:37:41,556 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '4' (Type = Int64, IsNullable = false)

2018-05-23 15:37:41,556 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '34' (Type = Int64, IsNullable = false)

2018-05-23 15:37:41,556 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 15:37:41 +08:00

2018-05-23 15:37:41,562 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 5 ms with result: SqlDataReader

2018-05-23 15:37:41,562 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:37:41,562 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:37:41 +08:00

2018-05-23 15:37:41,562 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 15:37:41 +08:00

2018-05-23 15:37:41,562 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 15:37:41,562 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:37:41,562 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-23 15:37:41,562 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 15:37:41 +08:00

2018-05-23 15:37:41,564 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-23 15:37:41,564 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:37:41,565 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:37:41 +08:00

2018-05-23 15:37:41,565 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 15:37:41 +08:00

2018-05-23 15:37:41,565 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 15:37:41,565 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:37:41,565 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-23 15:37:41,565 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 15:37:41 +08:00

2018-05-23 15:37:41,566 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 15:37:41,567 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:37:41,567 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:37:41 +08:00

2018-05-23 15:37:41,567 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 15:37:41 +08:00

2018-05-23 15:37:41,567 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 15:37:41,567 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:37:41,567 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '34' (Type = Int64, IsNullable = false)

2018-05-23 15:37:41,567 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 15:37:41 +08:00

2018-05-23 15:37:41,569 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-23 15:37:41,569 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:37:41,570 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:37:41 +08:00

2018-05-23 15:37:41,570 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 15:37:41 +08:00

2018-05-23 15:37:41,570 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 15:37:41,570 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:37:41,570 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-23 15:37:41,570 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 15:37:41 +08:00

2018-05-23 15:37:41,571 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 15:37:41,571 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:37:41,572 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:37:41 +08:00

2018-05-23 15:37:41,572 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 15:37:41 +08:00

2018-05-23 15:37:41,572 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 15:37:41,572 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:37:41,572 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-23 15:37:41,572 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 15:37:41 +08:00

2018-05-23 15:37:41,573 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 15:37:41,574 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:37:41,574 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:37:41 +08:00

2018-05-23 15:39:14,176 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/23 15:39:14 +08:00

2018-05-23 15:39:14,179 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_Admins] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2018-05-23 15:39:14,179 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:39:14,179 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '4' (Type = Int64, IsNullable = false)

2018-05-23 15:39:14,179 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 15:39:14 +08:00

2018-05-23 15:39:14,204 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 24 ms with result: SqlDataReader

2018-05-23 15:39:14,204 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:39:14,204 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:39:14 +08:00

2018-05-23 15:39:14,204 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 15:39:14 +08:00

2018-05-23 15:39:14,204 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[PermissionTypeId] AS [PermissionTypeId], 
    [Extent2].[CreateTime] AS [CreateTime], 
    [Extent2].[IsDeleted] AS [IsDeleted]
    FROM  [dbo].[T_AdminPermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[AdminId] = [Extent2].[Id]
    WHERE [Extent1].[PermissionId] = @EntityKeyValue1
2018-05-23 15:39:14,204 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:39:14,204 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '4' (Type = Int64, IsNullable = false)

2018-05-23 15:39:14,204 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 15:39:14 +08:00

2018-05-23 15:39:14,206 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-23 15:39:14,206 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:39:14,207 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:39:14 +08:00

2018-05-23 15:39:20,503 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 15:39:20 +08:00

2018-05-23 15:39:20,504 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM  [dbo].[T_PlatformUsers] AS [Extent1]
        INNER JOIN [dbo].[T_PlatformUserTypes] AS [Extent2] ON [Extent1].[PlatformUserTypeId] = [Extent2].[Id]
        WHERE (0 = [Extent1].[IsDeleted]) AND (([Extent2].[Name] = @p__linq__0) OR (1 = 0))
    )  AS [GroupBy1]
2018-05-23 15:39:20,504 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:39:20,504 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '客户' (Type = String, Size = 4000)

2018-05-23 15:39:20,504 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 15:39:20 +08:00

2018-05-23 15:39:20,506 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 15:39:20,506 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:39:20,506 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:39:20 +08:00

2018-05-23 15:39:20,506 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/23 15:39:20 +08:00

2018-05-23 15:39:20,506 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Code] AS [Code], 
    [Project1].[Description] AS [Description], 
    [Project1].[PlatformIntegral] AS [PlatformIntegral], 
    [Project1].[GivingIntegral] AS [GivingIntegral], 
    [Project1].[UseIntegral] AS [UseIntegral], 
    [Project1].[Salt] AS [Salt], 
    [Project1].[Password] AS [Password], 
    [Project1].[TradePassword] AS [TradePassword], 
    [Project1].[ErrorCount] AS [ErrorCount], 
    [Project1].[ErrorTime] AS [ErrorTime], 
    [Project1].[IsEnabled] AS [IsEnabled], 
    [Project1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Mobile] AS [Mobile], [Project1].[Code] AS [Code], [Project1].[Description] AS [Description], [Project1].[PlatformIntegral] AS [PlatformIntegral], [Project1].[GivingIntegral] AS [GivingIntegral], [Project1].[UseIntegral] AS [UseIntegral], [Project1].[Salt] AS [Salt], [Project1].[Password] AS [Password], [Project1].[TradePassword] AS [TradePassword], [Project1].[ErrorCount] AS [ErrorCount], [Project1].[ErrorTime] AS [ErrorTime], [Project1].[IsEnabled] AS [IsEnabled], [Project1].[PlatformUserTypeId] AS [PlatformUserTypeId], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Code] AS [Code], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
            [Extent1].[GivingIntegral] AS [GivingIntegral], 
            [Extent1].[UseIntegral] AS [UseIntegral], 
            [Extent1].[Salt] AS [Salt], 
            [Extent1].[Password] AS [Password], 
            [Extent1].[TradePassword] AS [TradePassword], 
            [Extent1].[ErrorCount] AS [ErrorCount], 
            [Extent1].[ErrorTime] AS [ErrorTime], 
            [Extent1].[IsEnabled] AS [IsEnabled], 
            [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM  [dbo].[T_PlatformUsers] AS [Extent1]
            INNER JOIN [dbo].[T_PlatformUserTypes] AS [Extent2] ON [Extent1].[PlatformUserTypeId] = [Extent2].[Id]
            WHERE (0 = [Extent1].[IsDeleted]) AND (([Extent2].[Name] = @p__linq__0) OR (1 = 0))
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-23 15:39:20,506 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:39:20,506 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '客户' (Type = String, Size = 4000)

2018-05-23 15:39:20,507 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 15:39:20 +08:00

2018-05-23 15:39:20,526 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 19 ms with result: SqlDataReader

2018-05-23 15:39:20,526 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:39:20,527 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:39:20 +08:00

2018-05-23 15:39:20,527 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 15:39:20 +08:00

2018-05-23 15:39:20,527 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 15:39:20,527 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:39:20,527 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-23 15:39:20,527 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 15:39:20 +08:00

2018-05-23 15:39:20,529 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 15:39:20,529 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:39:20,529 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:39:20 +08:00

2018-05-23 15:39:20,529 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/23 15:39:20 +08:00

2018-05-23 15:39:20,530 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2018-05-23 15:39:20,530 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:39:20,530 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2018-05-23 15:39:20,530 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 15:39:20 +08:00

2018-05-23 15:39:20,556 [65] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 26 ms with result: SqlDataReader

2018-05-23 15:39:20,556 [65] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:39:20,556 [65] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:39:20 +08:00

2018-05-23 15:39:20,557 [65] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 15:39:20 +08:00

2018-05-23 15:39:20,557 [65] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 15:39:20,557 [65] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:39:20,557 [65] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-23 15:39:20,557 [65] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 15:39:20 +08:00

2018-05-23 15:39:20,558 [65] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 15:39:20,558 [65] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:39:20,559 [65] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:39:20 +08:00

2018-05-23 15:39:21,687 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 15:39:21 +08:00

2018-05-23 15:39:21,687 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM  [dbo].[T_PlatformUsers] AS [Extent1]
        INNER JOIN [dbo].[T_PlatformUserTypes] AS [Extent2] ON [Extent1].[PlatformUserTypeId] = [Extent2].[Id]
        WHERE (0 = [Extent1].[IsDeleted]) AND (([Extent2].[Name] = @p__linq__0) OR (1 = 0))
    )  AS [GroupBy1]
2018-05-23 15:39:21,687 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:39:21,688 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '客户' (Type = String, Size = 4000)

2018-05-23 15:39:21,688 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 15:39:21 +08:00

2018-05-23 15:39:21,690 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-23 15:39:21,690 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:39:21,690 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:39:21 +08:00

2018-05-23 15:39:21,690 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/23 15:39:21 +08:00

2018-05-23 15:39:21,690 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Code] AS [Code], 
    [Project1].[Description] AS [Description], 
    [Project1].[PlatformIntegral] AS [PlatformIntegral], 
    [Project1].[GivingIntegral] AS [GivingIntegral], 
    [Project1].[UseIntegral] AS [UseIntegral], 
    [Project1].[Salt] AS [Salt], 
    [Project1].[Password] AS [Password], 
    [Project1].[TradePassword] AS [TradePassword], 
    [Project1].[ErrorCount] AS [ErrorCount], 
    [Project1].[ErrorTime] AS [ErrorTime], 
    [Project1].[IsEnabled] AS [IsEnabled], 
    [Project1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Mobile] AS [Mobile], [Project1].[Code] AS [Code], [Project1].[Description] AS [Description], [Project1].[PlatformIntegral] AS [PlatformIntegral], [Project1].[GivingIntegral] AS [GivingIntegral], [Project1].[UseIntegral] AS [UseIntegral], [Project1].[Salt] AS [Salt], [Project1].[Password] AS [Password], [Project1].[TradePassword] AS [TradePassword], [Project1].[ErrorCount] AS [ErrorCount], [Project1].[ErrorTime] AS [ErrorTime], [Project1].[IsEnabled] AS [IsEnabled], [Project1].[PlatformUserTypeId] AS [PlatformUserTypeId], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Code] AS [Code], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
            [Extent1].[GivingIntegral] AS [GivingIntegral], 
            [Extent1].[UseIntegral] AS [UseIntegral], 
            [Extent1].[Salt] AS [Salt], 
            [Extent1].[Password] AS [Password], 
            [Extent1].[TradePassword] AS [TradePassword], 
            [Extent1].[ErrorCount] AS [ErrorCount], 
            [Extent1].[ErrorTime] AS [ErrorTime], 
            [Extent1].[IsEnabled] AS [IsEnabled], 
            [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM  [dbo].[T_PlatformUsers] AS [Extent1]
            INNER JOIN [dbo].[T_PlatformUserTypes] AS [Extent2] ON [Extent1].[PlatformUserTypeId] = [Extent2].[Id]
            WHERE (0 = [Extent1].[IsDeleted]) AND (([Extent2].[Name] = @p__linq__0) OR (1 = 0))
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-23 15:39:21,691 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:39:21,691 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '客户' (Type = String, Size = 4000)

2018-05-23 15:39:21,691 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 15:39:21 +08:00

2018-05-23 15:39:21,709 [65] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 18 ms with result: SqlDataReader

2018-05-23 15:39:21,709 [65] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:39:21,709 [65] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:39:21 +08:00

2018-05-23 15:39:21,709 [65] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 15:39:21 +08:00

2018-05-23 15:39:21,710 [65] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 15:39:21,710 [65] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:39:21,710 [65] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-23 15:39:21,710 [65] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 15:39:21 +08:00

2018-05-23 15:39:21,711 [65] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 15:39:21,711 [65] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:39:21,712 [65] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:39:21 +08:00

2018-05-23 15:39:21,712 [65] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/23 15:39:21 +08:00

2018-05-23 15:39:21,712 [65] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2018-05-23 15:39:21,712 [65] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:39:21,712 [65] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2018-05-23 15:39:21,712 [65] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 15:39:21 +08:00

2018-05-23 15:39:21,737 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 24 ms with result: SqlDataReader

2018-05-23 15:39:21,737 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:39:21,737 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:39:21 +08:00

2018-05-23 15:39:21,737 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 15:39:21 +08:00

2018-05-23 15:39:21,737 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 15:39:21,737 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:39:21,737 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-23 15:39:21,737 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 15:39:21 +08:00

2018-05-23 15:39:21,739 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 15:39:21,739 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:39:21,739 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:39:21 +08:00

2018-05-23 15:39:23,188 [65] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 15:39:23 +08:00

2018-05-23 15:39:23,188 [65] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费' = [Extent1].[Description])
2018-05-23 15:39:23,188 [65] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:39:23,188 [65] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 15:39:23 +08:00

2018-05-23 15:39:23,190 [65] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 15:39:23,190 [65] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:39:23,190 [65] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:39:23 +08:00

2018-05-23 15:39:23,190 [65] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/23 15:39:23 +08:00

2018-05-23 15:39:23,191 [65] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ((([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[PlatformUserId] = [Extent1].[ToPlatformUserId])) OR (([Extent1].[PlatformUserId] = @p__linq__1) AND ([Extent1].[JournalTypeId] = @p__linq__2)) OR (([Extent1].[ToPlatformUserId] = @p__linq__3) AND ([Extent1].[ToPlatformUserId] = [Extent1].[FormPlatformUserId])))
    )  AS [GroupBy1]
2018-05-23 15:39:23,191 [65] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:39:23,191 [65] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '34' (Type = Int64, IsNullable = false)

2018-05-23 15:39:23,191 [65] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '34' (Type = Int64, IsNullable = false)

2018-05-23 15:39:23,191 [65] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '4' (Type = Int64, IsNullable = false)

2018-05-23 15:39:23,191 [65] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '34' (Type = Int64, IsNullable = false)

2018-05-23 15:39:23,191 [65] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 15:39:23 +08:00

2018-05-23 15:39:23,214 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 22 ms with result: SqlDataReader

2018-05-23 15:39:23,214 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:39:23,214 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:39:23 +08:00

2018-05-23 15:39:23,214 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/23 15:39:23 +08:00

2018-05-23 15:39:23,215 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ((([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[PlatformUserId] = [Extent1].[ToPlatformUserId])) OR (([Extent1].[PlatformUserId] = @p__linq__1) AND ([Extent1].[JournalTypeId] = @p__linq__2)) OR (([Extent1].[ToPlatformUserId] = @p__linq__3) AND ([Extent1].[ToPlatformUserId] = [Extent1].[FormPlatformUserId])))
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-23 15:39:23,215 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:39:23,215 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '34' (Type = Int64, IsNullable = false)

2018-05-23 15:39:23,215 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '34' (Type = Int64, IsNullable = false)

2018-05-23 15:39:23,215 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '4' (Type = Int64, IsNullable = false)

2018-05-23 15:39:23,215 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '34' (Type = Int64, IsNullable = false)

2018-05-23 15:39:23,215 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 15:39:23 +08:00

2018-05-23 15:39:23,227 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 12 ms with result: SqlDataReader

2018-05-23 15:39:23,227 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:39:23,228 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:39:23 +08:00

2018-05-23 15:39:23,228 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 15:39:23 +08:00

2018-05-23 15:39:23,228 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 15:39:23,228 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:39:23,228 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-23 15:39:23,228 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 15:39:23 +08:00

2018-05-23 15:39:23,230 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-23 15:39:23,230 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:39:23,230 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:39:23 +08:00

2018-05-23 15:39:23,230 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 15:39:23 +08:00

2018-05-23 15:39:23,230 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 15:39:23,230 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:39:23,230 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-23 15:39:23,230 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 15:39:23 +08:00

2018-05-23 15:39:23,232 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 15:39:23,232 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:39:23,232 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:39:23 +08:00

2018-05-23 15:39:23,232 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 15:39:23 +08:00

2018-05-23 15:39:23,232 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 15:39:23,232 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:39:23,232 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '34' (Type = Int64, IsNullable = false)

2018-05-23 15:39:23,232 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 15:39:23 +08:00

2018-05-23 15:39:23,235 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-23 15:39:23,235 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:39:23,235 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:39:23 +08:00

2018-05-23 15:39:23,235 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 15:39:23 +08:00

2018-05-23 15:39:23,235 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 15:39:23,235 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:39:23,235 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-23 15:39:23,235 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 15:39:23 +08:00

2018-05-23 15:39:23,237 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 15:39:23,237 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:39:23,237 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:39:23 +08:00

2018-05-23 15:39:23,237 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 15:39:23 +08:00

2018-05-23 15:39:23,237 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 15:39:23,237 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:39:23,237 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-23 15:39:23,238 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 15:39:23 +08:00

2018-05-23 15:39:23,239 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 15:39:23,239 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:39:23,240 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:39:23 +08:00

2018-05-23 15:40:23,838 [64] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 15:40:23 +08:00

2018-05-23 15:40:23,838 [64] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM  [dbo].[T_PlatformUsers] AS [Extent1]
        INNER JOIN [dbo].[T_PlatformUserTypes] AS [Extent2] ON [Extent1].[PlatformUserTypeId] = [Extent2].[Id]
        WHERE (0 = [Extent1].[IsDeleted]) AND (([Extent2].[Name] = @p__linq__0) OR (1 = 0))
    )  AS [GroupBy1]
2018-05-23 15:40:23,838 [64] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:40:23,838 [64] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '客户' (Type = String, Size = 4000)

2018-05-23 15:40:23,838 [64] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 15:40:23 +08:00

2018-05-23 15:40:23,840 [64] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 15:40:23,840 [64] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:40:23,840 [64] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:40:23 +08:00

2018-05-23 15:40:23,840 [64] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/23 15:40:23 +08:00

2018-05-23 15:40:23,841 [64] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Code] AS [Code], 
    [Project1].[Description] AS [Description], 
    [Project1].[PlatformIntegral] AS [PlatformIntegral], 
    [Project1].[GivingIntegral] AS [GivingIntegral], 
    [Project1].[UseIntegral] AS [UseIntegral], 
    [Project1].[Salt] AS [Salt], 
    [Project1].[Password] AS [Password], 
    [Project1].[TradePassword] AS [TradePassword], 
    [Project1].[ErrorCount] AS [ErrorCount], 
    [Project1].[ErrorTime] AS [ErrorTime], 
    [Project1].[IsEnabled] AS [IsEnabled], 
    [Project1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Mobile] AS [Mobile], [Project1].[Code] AS [Code], [Project1].[Description] AS [Description], [Project1].[PlatformIntegral] AS [PlatformIntegral], [Project1].[GivingIntegral] AS [GivingIntegral], [Project1].[UseIntegral] AS [UseIntegral], [Project1].[Salt] AS [Salt], [Project1].[Password] AS [Password], [Project1].[TradePassword] AS [TradePassword], [Project1].[ErrorCount] AS [ErrorCount], [Project1].[ErrorTime] AS [ErrorTime], [Project1].[IsEnabled] AS [IsEnabled], [Project1].[PlatformUserTypeId] AS [PlatformUserTypeId], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Code] AS [Code], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
            [Extent1].[GivingIntegral] AS [GivingIntegral], 
            [Extent1].[UseIntegral] AS [UseIntegral], 
            [Extent1].[Salt] AS [Salt], 
            [Extent1].[Password] AS [Password], 
            [Extent1].[TradePassword] AS [TradePassword], 
            [Extent1].[ErrorCount] AS [ErrorCount], 
            [Extent1].[ErrorTime] AS [ErrorTime], 
            [Extent1].[IsEnabled] AS [IsEnabled], 
            [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM  [dbo].[T_PlatformUsers] AS [Extent1]
            INNER JOIN [dbo].[T_PlatformUserTypes] AS [Extent2] ON [Extent1].[PlatformUserTypeId] = [Extent2].[Id]
            WHERE (0 = [Extent1].[IsDeleted]) AND (([Extent2].[Name] = @p__linq__0) OR (1 = 0))
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-23 15:40:23,841 [64] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:40:23,841 [64] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '客户' (Type = String, Size = 4000)

2018-05-23 15:40:23,841 [64] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 15:40:23 +08:00

2018-05-23 15:40:23,893 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 52 ms with result: SqlDataReader

2018-05-23 15:40:23,893 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:40:23,894 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:40:23 +08:00

2018-05-23 15:40:23,894 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 15:40:23 +08:00

2018-05-23 15:40:23,894 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 15:40:23,894 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:40:23,894 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-23 15:40:23,894 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 15:40:23 +08:00

2018-05-23 15:40:23,897 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-23 15:40:23,897 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:40:23,897 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:40:23 +08:00

2018-05-23 15:40:23,897 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/23 15:40:23 +08:00

2018-05-23 15:40:23,898 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2018-05-23 15:40:23,898 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:40:23,898 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2018-05-23 15:40:23,898 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 15:40:23 +08:00

2018-05-23 15:40:23,938 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 40 ms with result: SqlDataReader

2018-05-23 15:40:23,938 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:40:23,939 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:40:23 +08:00

2018-05-23 15:40:23,939 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 15:40:23 +08:00

2018-05-23 15:40:23,939 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 15:40:23,939 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:40:23,939 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-23 15:40:23,939 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 15:40:23 +08:00

2018-05-23 15:40:23,941 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 15:40:23,941 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:40:23,941 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:40:23 +08:00

2018-05-23 15:40:25,897 [64] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 15:40:25 +08:00

2018-05-23 15:40:25,897 [64] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费' = [Extent1].[Description])
2018-05-23 15:40:25,897 [64] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:40:25,897 [64] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 15:40:25 +08:00

2018-05-23 15:40:25,899 [64] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 15:40:25,899 [64] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:40:25,899 [64] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:40:25 +08:00

2018-05-23 15:40:25,899 [64] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/23 15:40:25 +08:00

2018-05-23 15:40:25,899 [64] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ((([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[PlatformUserId] = [Extent1].[ToPlatformUserId])) OR (([Extent1].[PlatformUserId] = @p__linq__1) AND ([Extent1].[JournalTypeId] = @p__linq__2)) OR (([Extent1].[ToPlatformUserId] = @p__linq__3) AND ([Extent1].[ToPlatformUserId] = [Extent1].[FormPlatformUserId])))
    )  AS [GroupBy1]
2018-05-23 15:40:25,899 [64] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:40:25,900 [64] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '34' (Type = Int64, IsNullable = false)

2018-05-23 15:40:25,900 [64] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '34' (Type = Int64, IsNullable = false)

2018-05-23 15:40:25,900 [64] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '4' (Type = Int64, IsNullable = false)

2018-05-23 15:40:25,900 [64] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '34' (Type = Int64, IsNullable = false)

2018-05-23 15:40:25,900 [64] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 15:40:25 +08:00

2018-05-23 15:40:25,903 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2018-05-23 15:40:25,903 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:40:25,903 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:40:25 +08:00

2018-05-23 15:40:25,904 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/23 15:40:25 +08:00

2018-05-23 15:40:25,904 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ((([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[PlatformUserId] = [Extent1].[ToPlatformUserId])) OR (([Extent1].[PlatformUserId] = @p__linq__1) AND ([Extent1].[JournalTypeId] = @p__linq__2)) OR (([Extent1].[ToPlatformUserId] = @p__linq__3) AND ([Extent1].[ToPlatformUserId] = [Extent1].[FormPlatformUserId])))
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-23 15:40:25,904 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:40:25,904 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '34' (Type = Int64, IsNullable = false)

2018-05-23 15:40:25,904 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '34' (Type = Int64, IsNullable = false)

2018-05-23 15:40:25,904 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '4' (Type = Int64, IsNullable = false)

2018-05-23 15:40:25,904 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '34' (Type = Int64, IsNullable = false)

2018-05-23 15:40:25,904 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 15:40:25 +08:00

2018-05-23 15:40:25,910 [64] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 5 ms with result: SqlDataReader

2018-05-23 15:40:25,910 [64] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:40:25,910 [64] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:40:25 +08:00

2018-05-23 15:40:25,910 [64] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 15:40:25 +08:00

2018-05-23 15:40:25,910 [64] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 15:40:25,910 [64] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:40:25,910 [64] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-23 15:40:25,910 [64] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 15:40:25 +08:00

2018-05-23 15:40:25,914 [64] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2018-05-23 15:40:25,914 [64] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:40:25,914 [64] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:40:25 +08:00

2018-05-23 15:40:25,914 [64] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 15:40:25 +08:00

2018-05-23 15:40:25,914 [64] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 15:40:25,914 [64] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:40:25,914 [64] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-23 15:40:25,914 [64] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 15:40:25 +08:00

2018-05-23 15:40:25,916 [64] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 15:40:25,916 [64] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:40:25,916 [64] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:40:25 +08:00

2018-05-23 15:40:25,916 [64] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 15:40:25 +08:00

2018-05-23 15:40:25,916 [64] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 15:40:25,916 [64] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:40:25,916 [64] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '34' (Type = Int64, IsNullable = false)

2018-05-23 15:40:25,916 [64] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 15:40:25 +08:00

2018-05-23 15:40:25,919 [64] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-23 15:40:25,919 [64] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:40:25,920 [64] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:40:25 +08:00

2018-05-23 15:40:25,920 [64] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 15:40:25 +08:00

2018-05-23 15:40:25,920 [64] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 15:40:25,920 [64] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:40:25,920 [64] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-23 15:40:25,920 [64] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 15:40:25 +08:00

2018-05-23 15:40:25,922 [64] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-23 15:40:25,922 [64] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:40:25,923 [64] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:40:25 +08:00

2018-05-23 15:40:25,923 [64] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 15:40:25 +08:00

2018-05-23 15:40:25,923 [64] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 15:40:25,923 [64] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:40:25,923 [64] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-23 15:40:25,923 [64] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 15:40:25 +08:00

2018-05-23 15:40:25,924 [64] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 15:40:25,925 [64] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:40:25,925 [64] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:40:25 +08:00

2018-05-23 15:40:53,201 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 15:40:53 +08:00

2018-05-23 15:40:53,202 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM  [dbo].[T_PlatformUsers] AS [Extent1]
        INNER JOIN [dbo].[T_PlatformUserTypes] AS [Extent2] ON [Extent1].[PlatformUserTypeId] = [Extent2].[Id]
        WHERE (0 = [Extent1].[IsDeleted]) AND (([Extent2].[Name] = @p__linq__0) OR (1 = 0))
    )  AS [GroupBy1]
2018-05-23 15:40:53,202 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:40:53,202 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '客户' (Type = String, Size = 4000)

2018-05-23 15:40:53,202 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 15:40:53 +08:00

2018-05-23 15:40:53,204 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 15:40:53,204 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:40:53,204 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:40:53 +08:00

2018-05-23 15:40:53,204 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/23 15:40:53 +08:00

2018-05-23 15:40:53,205 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Code] AS [Code], 
    [Project1].[Description] AS [Description], 
    [Project1].[PlatformIntegral] AS [PlatformIntegral], 
    [Project1].[GivingIntegral] AS [GivingIntegral], 
    [Project1].[UseIntegral] AS [UseIntegral], 
    [Project1].[Salt] AS [Salt], 
    [Project1].[Password] AS [Password], 
    [Project1].[TradePassword] AS [TradePassword], 
    [Project1].[ErrorCount] AS [ErrorCount], 
    [Project1].[ErrorTime] AS [ErrorTime], 
    [Project1].[IsEnabled] AS [IsEnabled], 
    [Project1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Mobile] AS [Mobile], [Project1].[Code] AS [Code], [Project1].[Description] AS [Description], [Project1].[PlatformIntegral] AS [PlatformIntegral], [Project1].[GivingIntegral] AS [GivingIntegral], [Project1].[UseIntegral] AS [UseIntegral], [Project1].[Salt] AS [Salt], [Project1].[Password] AS [Password], [Project1].[TradePassword] AS [TradePassword], [Project1].[ErrorCount] AS [ErrorCount], [Project1].[ErrorTime] AS [ErrorTime], [Project1].[IsEnabled] AS [IsEnabled], [Project1].[PlatformUserTypeId] AS [PlatformUserTypeId], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Code] AS [Code], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
            [Extent1].[GivingIntegral] AS [GivingIntegral], 
            [Extent1].[UseIntegral] AS [UseIntegral], 
            [Extent1].[Salt] AS [Salt], 
            [Extent1].[Password] AS [Password], 
            [Extent1].[TradePassword] AS [TradePassword], 
            [Extent1].[ErrorCount] AS [ErrorCount], 
            [Extent1].[ErrorTime] AS [ErrorTime], 
            [Extent1].[IsEnabled] AS [IsEnabled], 
            [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM  [dbo].[T_PlatformUsers] AS [Extent1]
            INNER JOIN [dbo].[T_PlatformUserTypes] AS [Extent2] ON [Extent1].[PlatformUserTypeId] = [Extent2].[Id]
            WHERE (0 = [Extent1].[IsDeleted]) AND (([Extent2].[Name] = @p__linq__0) OR (1 = 0))
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-23 15:40:53,205 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:40:53,205 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '客户' (Type = String, Size = 4000)

2018-05-23 15:40:53,205 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 15:40:53 +08:00

2018-05-23 15:40:53,219 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 13 ms with result: SqlDataReader

2018-05-23 15:40:53,219 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:40:53,219 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:40:53 +08:00

2018-05-23 15:40:53,220 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 15:40:53 +08:00

2018-05-23 15:40:53,220 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 15:40:53,220 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:40:53,220 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-23 15:40:53,220 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 15:40:53 +08:00

2018-05-23 15:40:53,221 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 15:40:53,221 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:40:53,222 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:40:53 +08:00

2018-05-23 15:40:53,222 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/23 15:40:53 +08:00

2018-05-23 15:40:53,222 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2018-05-23 15:40:53,222 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:40:53,222 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2018-05-23 15:40:53,222 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 15:40:53 +08:00

2018-05-23 15:40:53,250 [61] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 27 ms with result: SqlDataReader

2018-05-23 15:40:53,250 [61] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:40:53,250 [61] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:40:53 +08:00

2018-05-23 15:40:53,251 [61] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 15:40:53 +08:00

2018-05-23 15:40:53,251 [61] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 15:40:53,251 [61] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:40:53,251 [61] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-23 15:40:53,251 [61] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 15:40:53 +08:00

2018-05-23 15:40:53,252 [61] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 15:40:53,252 [61] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:40:53,253 [61] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:40:53 +08:00

2018-05-23 15:40:54,712 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 15:40:54 +08:00

2018-05-23 15:40:54,713 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费' = [Extent1].[Description])
2018-05-23 15:40:54,713 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:40:54,713 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 15:40:54 +08:00

2018-05-23 15:40:54,715 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-23 15:40:54,716 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:40:54,716 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:40:54 +08:00

2018-05-23 15:40:54,716 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/23 15:40:54 +08:00

2018-05-23 15:40:54,717 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ((([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[PlatformUserId] = [Extent1].[ToPlatformUserId])) OR (([Extent1].[PlatformUserId] = @p__linq__1) AND ([Extent1].[JournalTypeId] = @p__linq__2)) OR (([Extent1].[ToPlatformUserId] = @p__linq__3) AND ([Extent1].[ToPlatformUserId] = [Extent1].[FormPlatformUserId])))
    )  AS [GroupBy1]
2018-05-23 15:40:54,717 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:40:54,717 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '34' (Type = Int64, IsNullable = false)

2018-05-23 15:40:54,717 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '34' (Type = Int64, IsNullable = false)

2018-05-23 15:40:54,717 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '4' (Type = Int64, IsNullable = false)

2018-05-23 15:40:54,717 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '34' (Type = Int64, IsNullable = false)

2018-05-23 15:40:54,717 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 15:40:54 +08:00

2018-05-23 15:40:54,721 [61] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2018-05-23 15:40:54,721 [61] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:40:54,721 [61] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:40:54 +08:00

2018-05-23 15:40:54,721 [61] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/23 15:40:54 +08:00

2018-05-23 15:40:54,722 [61] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ((([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[PlatformUserId] = [Extent1].[ToPlatformUserId])) OR (([Extent1].[PlatformUserId] = @p__linq__1) AND ([Extent1].[JournalTypeId] = @p__linq__2)) OR (([Extent1].[ToPlatformUserId] = @p__linq__3) AND ([Extent1].[ToPlatformUserId] = [Extent1].[FormPlatformUserId])))
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-23 15:40:54,722 [61] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:40:54,722 [61] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '34' (Type = Int64, IsNullable = false)

2018-05-23 15:40:54,722 [61] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '34' (Type = Int64, IsNullable = false)

2018-05-23 15:40:54,722 [61] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '4' (Type = Int64, IsNullable = false)

2018-05-23 15:40:54,722 [61] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '34' (Type = Int64, IsNullable = false)

2018-05-23 15:40:54,722 [61] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 15:40:54 +08:00

2018-05-23 15:40:54,755 [61] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 32 ms with result: SqlDataReader

2018-05-23 15:40:54,755 [61] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:40:54,759 [61] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:40:54 +08:00

2018-05-23 15:40:54,760 [61] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 15:40:54 +08:00

2018-05-23 15:40:54,761 [61] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 15:40:54,761 [61] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:40:54,761 [61] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-23 15:40:54,761 [61] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 15:40:54 +08:00

2018-05-23 15:40:54,763 [61] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-23 15:40:54,763 [61] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:40:54,764 [61] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:40:54 +08:00

2018-05-23 15:40:54,764 [61] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 15:40:54 +08:00

2018-05-23 15:40:54,764 [61] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 15:40:54,764 [61] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:40:54,764 [61] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-23 15:40:54,764 [61] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 15:40:54 +08:00

2018-05-23 15:40:54,766 [61] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 15:40:54,766 [61] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:40:54,766 [61] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:40:54 +08:00

2018-05-23 15:40:54,766 [61] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 15:40:54 +08:00

2018-05-23 15:40:54,766 [61] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 15:40:54,766 [61] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:40:54,766 [61] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '34' (Type = Int64, IsNullable = false)

2018-05-23 15:40:54,766 [61] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 15:40:54 +08:00

2018-05-23 15:40:54,769 [61] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-23 15:40:54,769 [61] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:40:54,769 [61] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:40:54 +08:00

2018-05-23 15:40:54,769 [61] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 15:40:54 +08:00

2018-05-23 15:40:54,769 [61] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 15:40:54,769 [61] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:40:54,769 [61] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-23 15:40:54,769 [61] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 15:40:54 +08:00

2018-05-23 15:40:54,771 [61] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 15:40:54,771 [61] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:40:54,772 [61] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:40:54 +08:00

2018-05-23 15:40:54,772 [61] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 15:40:54 +08:00

2018-05-23 15:40:54,772 [61] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 15:40:54,772 [61] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:40:54,772 [61] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-23 15:40:54,772 [61] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 15:40:54 +08:00

2018-05-23 15:40:54,773 [61] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 15:40:54,774 [61] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:40:54,774 [61] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:40:54 +08:00

2018-05-23 15:42:45,288 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 15:42:45 +08:00

2018-05-23 15:42:45,289 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM  [dbo].[T_PlatformUsers] AS [Extent1]
        INNER JOIN [dbo].[T_PlatformUserTypes] AS [Extent2] ON [Extent1].[PlatformUserTypeId] = [Extent2].[Id]
        WHERE (0 = [Extent1].[IsDeleted]) AND (([Extent2].[Name] = @p__linq__0) OR (1 = 0))
    )  AS [GroupBy1]
2018-05-23 15:42:45,289 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:42:45,289 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '客户' (Type = String, Size = 4000)

2018-05-23 15:42:45,289 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 15:42:45 +08:00

2018-05-23 15:42:45,291 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 15:42:45,291 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:42:45,291 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:42:45 +08:00

2018-05-23 15:42:45,291 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/23 15:42:45 +08:00

2018-05-23 15:42:45,292 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Code] AS [Code], 
    [Project1].[Description] AS [Description], 
    [Project1].[PlatformIntegral] AS [PlatformIntegral], 
    [Project1].[GivingIntegral] AS [GivingIntegral], 
    [Project1].[UseIntegral] AS [UseIntegral], 
    [Project1].[Salt] AS [Salt], 
    [Project1].[Password] AS [Password], 
    [Project1].[TradePassword] AS [TradePassword], 
    [Project1].[ErrorCount] AS [ErrorCount], 
    [Project1].[ErrorTime] AS [ErrorTime], 
    [Project1].[IsEnabled] AS [IsEnabled], 
    [Project1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Mobile] AS [Mobile], [Project1].[Code] AS [Code], [Project1].[Description] AS [Description], [Project1].[PlatformIntegral] AS [PlatformIntegral], [Project1].[GivingIntegral] AS [GivingIntegral], [Project1].[UseIntegral] AS [UseIntegral], [Project1].[Salt] AS [Salt], [Project1].[Password] AS [Password], [Project1].[TradePassword] AS [TradePassword], [Project1].[ErrorCount] AS [ErrorCount], [Project1].[ErrorTime] AS [ErrorTime], [Project1].[IsEnabled] AS [IsEnabled], [Project1].[PlatformUserTypeId] AS [PlatformUserTypeId], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Code] AS [Code], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
            [Extent1].[GivingIntegral] AS [GivingIntegral], 
            [Extent1].[UseIntegral] AS [UseIntegral], 
            [Extent1].[Salt] AS [Salt], 
            [Extent1].[Password] AS [Password], 
            [Extent1].[TradePassword] AS [TradePassword], 
            [Extent1].[ErrorCount] AS [ErrorCount], 
            [Extent1].[ErrorTime] AS [ErrorTime], 
            [Extent1].[IsEnabled] AS [IsEnabled], 
            [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM  [dbo].[T_PlatformUsers] AS [Extent1]
            INNER JOIN [dbo].[T_PlatformUserTypes] AS [Extent2] ON [Extent1].[PlatformUserTypeId] = [Extent2].[Id]
            WHERE (0 = [Extent1].[IsDeleted]) AND (([Extent2].[Name] = @p__linq__0) OR (1 = 0))
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-23 15:42:45,292 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:42:45,292 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '客户' (Type = String, Size = 4000)

2018-05-23 15:42:45,292 [24] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 15:42:45 +08:00

2018-05-23 15:42:45,296 [57] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2018-05-23 15:42:45,296 [57] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:42:45,296 [57] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:42:45 +08:00

2018-05-23 15:42:45,296 [57] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 15:42:45 +08:00

2018-05-23 15:42:45,296 [57] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 15:42:45,296 [57] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:42:45,297 [57] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-23 15:42:45,297 [57] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 15:42:45 +08:00

2018-05-23 15:42:45,298 [57] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 15:42:45,298 [57] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:42:45,298 [57] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:42:45 +08:00

2018-05-23 15:42:45,299 [57] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/23 15:42:45 +08:00

2018-05-23 15:42:45,299 [57] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2018-05-23 15:42:45,299 [57] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:42:45,299 [57] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2018-05-23 15:42:45,299 [57] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 15:42:45 +08:00

2018-05-23 15:42:45,302 [58] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-23 15:42:45,302 [58] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:42:45,302 [58] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:42:45 +08:00

2018-05-23 15:42:45,303 [58] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 15:42:45 +08:00

2018-05-23 15:42:45,303 [58] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 15:42:45,303 [58] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:42:45,303 [58] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-23 15:42:45,303 [58] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 15:42:45 +08:00

2018-05-23 15:42:45,304 [58] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 15:42:45,304 [58] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:42:45,305 [58] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:42:45 +08:00

2018-05-23 15:42:46,413 [59] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 15:42:46 +08:00

2018-05-23 15:42:46,413 [59] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费' = [Extent1].[Description])
2018-05-23 15:42:46,414 [59] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:42:46,414 [59] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 15:42:46 +08:00

2018-05-23 15:42:46,415 [59] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 15:42:46,415 [59] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:42:46,415 [59] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:42:46 +08:00

2018-05-23 15:42:46,416 [59] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/23 15:42:46 +08:00

2018-05-23 15:42:46,416 [59] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ((([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[PlatformUserId] = [Extent1].[ToPlatformUserId])) OR (([Extent1].[PlatformUserId] = @p__linq__1) AND ([Extent1].[JournalTypeId] = @p__linq__2)) OR (([Extent1].[ToPlatformUserId] = @p__linq__3) AND ([Extent1].[ToPlatformUserId] = [Extent1].[FormPlatformUserId])))
    )  AS [GroupBy1]
2018-05-23 15:42:46,416 [59] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:42:46,416 [59] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '34' (Type = Int64, IsNullable = false)

2018-05-23 15:42:46,416 [59] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '34' (Type = Int64, IsNullable = false)

2018-05-23 15:42:46,416 [59] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '4' (Type = Int64, IsNullable = false)

2018-05-23 15:42:46,416 [59] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '34' (Type = Int64, IsNullable = false)

2018-05-23 15:42:46,416 [59] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 15:42:46 +08:00

2018-05-23 15:42:46,418 [59] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 15:42:46,418 [59] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:42:46,418 [59] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:42:46 +08:00

2018-05-23 15:42:46,419 [59] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/23 15:42:46 +08:00

2018-05-23 15:42:46,419 [59] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ((([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[PlatformUserId] = [Extent1].[ToPlatformUserId])) OR (([Extent1].[PlatformUserId] = @p__linq__1) AND ([Extent1].[JournalTypeId] = @p__linq__2)) OR (([Extent1].[ToPlatformUserId] = @p__linq__3) AND ([Extent1].[ToPlatformUserId] = [Extent1].[FormPlatformUserId])))
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-23 15:42:46,419 [59] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:42:46,419 [59] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '34' (Type = Int64, IsNullable = false)

2018-05-23 15:42:46,419 [59] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '34' (Type = Int64, IsNullable = false)

2018-05-23 15:42:46,419 [59] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '4' (Type = Int64, IsNullable = false)

2018-05-23 15:42:46,419 [59] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '34' (Type = Int64, IsNullable = false)

2018-05-23 15:42:46,419 [59] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 15:42:46 +08:00

2018-05-23 15:42:46,422 [59] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2018-05-23 15:42:46,422 [59] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:42:46,423 [59] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:42:46 +08:00

2018-05-23 15:42:46,423 [59] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 15:42:46 +08:00

2018-05-23 15:42:46,423 [59] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 15:42:46,423 [59] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:42:46,423 [59] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-23 15:42:46,423 [59] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 15:42:46 +08:00

2018-05-23 15:42:46,426 [59] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-23 15:42:46,426 [59] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:42:46,426 [59] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:42:46 +08:00

2018-05-23 15:42:46,426 [59] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 15:42:46 +08:00

2018-05-23 15:42:46,426 [59] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 15:42:46,426 [59] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:42:46,426 [59] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-23 15:42:46,426 [59] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 15:42:46 +08:00

2018-05-23 15:42:46,428 [59] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 15:42:46,428 [59] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:42:46,428 [59] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:42:46 +08:00

2018-05-23 15:42:46,428 [59] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 15:42:46 +08:00

2018-05-23 15:42:46,428 [59] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 15:42:46,428 [59] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:42:46,428 [59] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '34' (Type = Int64, IsNullable = false)

2018-05-23 15:42:46,428 [59] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 15:42:46 +08:00

2018-05-23 15:42:46,431 [59] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-23 15:42:46,431 [59] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:42:46,431 [59] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:42:46 +08:00

2018-05-23 15:42:46,431 [59] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 15:42:46 +08:00

2018-05-23 15:42:46,432 [59] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 15:42:46,432 [59] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:42:46,432 [59] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-23 15:42:46,432 [59] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 15:42:46 +08:00

2018-05-23 15:42:46,433 [59] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 15:42:46,433 [59] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:42:46,433 [59] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:42:46 +08:00

2018-05-23 15:42:46,434 [59] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 15:42:46 +08:00

2018-05-23 15:42:46,434 [59] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 15:42:46,434 [59] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:42:46,434 [59] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-23 15:42:46,434 [59] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 15:42:46 +08:00

2018-05-23 15:42:46,435 [59] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 15:42:46,435 [59] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:42:46,435 [59] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:42:46 +08:00

2018-05-23 15:42:52,468 [57] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 15:42:52 +08:00

2018-05-23 15:42:52,468 [57] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM  [dbo].[T_PlatformUsers] AS [Extent1]
        INNER JOIN [dbo].[T_PlatformUserTypes] AS [Extent2] ON [Extent1].[PlatformUserTypeId] = [Extent2].[Id]
        WHERE (0 = [Extent1].[IsDeleted]) AND (([Extent2].[Name] = @p__linq__0) OR (1 = 0))
    )  AS [GroupBy1]
2018-05-23 15:42:52,468 [57] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:42:52,468 [57] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '客户' (Type = String, Size = 4000)

2018-05-23 15:42:52,468 [57] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 15:42:52 +08:00

2018-05-23 15:42:52,470 [57] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 15:42:52,470 [57] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:42:52,470 [57] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:42:52 +08:00

2018-05-23 15:42:52,470 [57] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/23 15:42:52 +08:00

2018-05-23 15:42:52,470 [57] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Code] AS [Code], 
    [Project1].[Description] AS [Description], 
    [Project1].[PlatformIntegral] AS [PlatformIntegral], 
    [Project1].[GivingIntegral] AS [GivingIntegral], 
    [Project1].[UseIntegral] AS [UseIntegral], 
    [Project1].[Salt] AS [Salt], 
    [Project1].[Password] AS [Password], 
    [Project1].[TradePassword] AS [TradePassword], 
    [Project1].[ErrorCount] AS [ErrorCount], 
    [Project1].[ErrorTime] AS [ErrorTime], 
    [Project1].[IsEnabled] AS [IsEnabled], 
    [Project1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Mobile] AS [Mobile], [Project1].[Code] AS [Code], [Project1].[Description] AS [Description], [Project1].[PlatformIntegral] AS [PlatformIntegral], [Project1].[GivingIntegral] AS [GivingIntegral], [Project1].[UseIntegral] AS [UseIntegral], [Project1].[Salt] AS [Salt], [Project1].[Password] AS [Password], [Project1].[TradePassword] AS [TradePassword], [Project1].[ErrorCount] AS [ErrorCount], [Project1].[ErrorTime] AS [ErrorTime], [Project1].[IsEnabled] AS [IsEnabled], [Project1].[PlatformUserTypeId] AS [PlatformUserTypeId], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Code] AS [Code], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
            [Extent1].[GivingIntegral] AS [GivingIntegral], 
            [Extent1].[UseIntegral] AS [UseIntegral], 
            [Extent1].[Salt] AS [Salt], 
            [Extent1].[Password] AS [Password], 
            [Extent1].[TradePassword] AS [TradePassword], 
            [Extent1].[ErrorCount] AS [ErrorCount], 
            [Extent1].[ErrorTime] AS [ErrorTime], 
            [Extent1].[IsEnabled] AS [IsEnabled], 
            [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM  [dbo].[T_PlatformUsers] AS [Extent1]
            INNER JOIN [dbo].[T_PlatformUserTypes] AS [Extent2] ON [Extent1].[PlatformUserTypeId] = [Extent2].[Id]
            WHERE (0 = [Extent1].[IsDeleted]) AND (([Extent2].[Name] = @p__linq__0) OR (1 = 0))
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-23 15:42:52,470 [57] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:42:52,470 [57] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '客户' (Type = String, Size = 4000)

2018-05-23 15:42:52,470 [57] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 15:42:52 +08:00

2018-05-23 15:42:52,476 [59] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 5 ms with result: SqlDataReader

2018-05-23 15:42:52,476 [59] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:42:52,477 [59] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:42:52 +08:00

2018-05-23 15:42:52,477 [59] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 15:42:52 +08:00

2018-05-23 15:42:52,477 [59] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 15:42:52,477 [59] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:42:52,477 [59] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-23 15:42:52,477 [59] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 15:42:52 +08:00

2018-05-23 15:42:52,478 [59] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 15:42:52,478 [59] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:42:52,479 [59] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:42:52 +08:00

2018-05-23 15:42:52,479 [59] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/23 15:42:52 +08:00

2018-05-23 15:42:52,479 [59] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2018-05-23 15:42:52,479 [59] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:42:52,480 [59] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2018-05-23 15:42:52,480 [59] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 15:42:52 +08:00

2018-05-23 15:42:52,482 [59] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-23 15:42:52,482 [59] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:42:52,482 [59] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:42:52 +08:00

2018-05-23 15:42:52,482 [59] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 15:42:52 +08:00

2018-05-23 15:42:52,483 [59] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 15:42:52,483 [59] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:42:52,483 [59] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-23 15:42:52,483 [59] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 15:42:52 +08:00

2018-05-23 15:42:52,484 [59] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 15:42:52,484 [59] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:42:52,484 [59] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:42:52 +08:00

2018-05-23 15:42:53,505 [56] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 15:42:53 +08:00

2018-05-23 15:42:53,505 [56] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费' = [Extent1].[Description])
2018-05-23 15:42:53,505 [56] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:42:53,505 [56] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 15:42:53 +08:00

2018-05-23 15:42:53,507 [56] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 15:42:53,507 [56] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:42:53,507 [56] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:42:53 +08:00

2018-05-23 15:42:53,507 [56] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/23 15:42:53 +08:00

2018-05-23 15:42:53,508 [56] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ((([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[PlatformUserId] = [Extent1].[ToPlatformUserId])) OR (([Extent1].[PlatformUserId] = @p__linq__1) AND ([Extent1].[JournalTypeId] = @p__linq__2)) OR (([Extent1].[ToPlatformUserId] = @p__linq__3) AND ([Extent1].[ToPlatformUserId] = [Extent1].[FormPlatformUserId])))
    )  AS [GroupBy1]
2018-05-23 15:42:53,508 [56] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:42:53,508 [56] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '34' (Type = Int64, IsNullable = false)

2018-05-23 15:42:53,508 [56] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '34' (Type = Int64, IsNullable = false)

2018-05-23 15:42:53,508 [56] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '4' (Type = Int64, IsNullable = false)

2018-05-23 15:42:53,508 [56] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '34' (Type = Int64, IsNullable = false)

2018-05-23 15:42:53,508 [56] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 15:42:53 +08:00

2018-05-23 15:42:53,510 [57] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 15:42:53,510 [57] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:42:53,510 [57] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:42:53 +08:00

2018-05-23 15:42:53,510 [57] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/23 15:42:53 +08:00

2018-05-23 15:42:53,511 [57] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ((([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[PlatformUserId] = [Extent1].[ToPlatformUserId])) OR (([Extent1].[PlatformUserId] = @p__linq__1) AND ([Extent1].[JournalTypeId] = @p__linq__2)) OR (([Extent1].[ToPlatformUserId] = @p__linq__3) AND ([Extent1].[ToPlatformUserId] = [Extent1].[FormPlatformUserId])))
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-23 15:42:53,511 [57] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:42:53,511 [57] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '34' (Type = Int64, IsNullable = false)

2018-05-23 15:42:53,511 [57] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '34' (Type = Int64, IsNullable = false)

2018-05-23 15:42:53,511 [57] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '4' (Type = Int64, IsNullable = false)

2018-05-23 15:42:53,511 [57] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '34' (Type = Int64, IsNullable = false)

2018-05-23 15:42:53,511 [57] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 15:42:53 +08:00

2018-05-23 15:42:53,515 [57] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2018-05-23 15:42:53,515 [57] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:42:53,515 [57] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:42:53 +08:00

2018-05-23 15:42:53,515 [57] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 15:42:53 +08:00

2018-05-23 15:42:53,515 [57] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 15:42:53,515 [57] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:42:53,515 [57] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-23 15:42:53,515 [57] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 15:42:53 +08:00

2018-05-23 15:42:53,517 [57] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-23 15:42:53,517 [57] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:42:53,518 [57] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:42:53 +08:00

2018-05-23 15:42:53,518 [57] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 15:42:53 +08:00

2018-05-23 15:42:53,518 [57] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 15:42:53,518 [57] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:42:53,518 [57] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-23 15:42:53,518 [57] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 15:42:53 +08:00

2018-05-23 15:42:53,519 [57] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 15:42:53,520 [57] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:42:53,520 [57] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:42:53 +08:00

2018-05-23 15:42:53,520 [57] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 15:42:53 +08:00

2018-05-23 15:42:53,520 [57] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 15:42:53,520 [57] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:42:53,520 [57] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '34' (Type = Int64, IsNullable = false)

2018-05-23 15:42:53,520 [57] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 15:42:53 +08:00

2018-05-23 15:42:53,522 [57] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-23 15:42:53,522 [57] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:42:53,522 [57] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:42:53 +08:00

2018-05-23 15:42:53,522 [57] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 15:42:53 +08:00

2018-05-23 15:42:53,523 [57] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 15:42:53,523 [57] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:42:53,523 [57] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-23 15:42:53,523 [57] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 15:42:53 +08:00

2018-05-23 15:42:53,524 [57] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 15:42:53,524 [57] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:42:53,524 [57] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:42:53 +08:00

2018-05-23 15:42:53,525 [57] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 15:42:53 +08:00

2018-05-23 15:42:53,525 [57] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 15:42:53,525 [57] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:42:53,525 [57] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-23 15:42:53,525 [57] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 15:42:53 +08:00

2018-05-23 15:42:53,526 [57] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 15:42:53,526 [57] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:42:53,526 [57] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:42:53 +08:00

2018-05-23 15:48:48,467 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 15:48:48 +08:00

2018-05-23 15:48:48,468 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM  [dbo].[T_PlatformUsers] AS [Extent1]
        INNER JOIN [dbo].[T_PlatformUserTypes] AS [Extent2] ON [Extent1].[PlatformUserTypeId] = [Extent2].[Id]
        WHERE (0 = [Extent1].[IsDeleted]) AND (([Extent2].[Name] = @p__linq__0) OR (1 = 0))
    )  AS [GroupBy1]
2018-05-23 15:48:48,468 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:48:48,468 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '客户' (Type = String, Size = 4000)

2018-05-23 15:48:48,468 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 15:48:48 +08:00

2018-05-23 15:48:48,469 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 15:48:48,469 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:48:48,469 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:48:48 +08:00

2018-05-23 15:48:48,470 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/23 15:48:48 +08:00

2018-05-23 15:48:48,470 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Code] AS [Code], 
    [Project1].[Description] AS [Description], 
    [Project1].[PlatformIntegral] AS [PlatformIntegral], 
    [Project1].[GivingIntegral] AS [GivingIntegral], 
    [Project1].[UseIntegral] AS [UseIntegral], 
    [Project1].[Salt] AS [Salt], 
    [Project1].[Password] AS [Password], 
    [Project1].[TradePassword] AS [TradePassword], 
    [Project1].[ErrorCount] AS [ErrorCount], 
    [Project1].[ErrorTime] AS [ErrorTime], 
    [Project1].[IsEnabled] AS [IsEnabled], 
    [Project1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Mobile] AS [Mobile], [Project1].[Code] AS [Code], [Project1].[Description] AS [Description], [Project1].[PlatformIntegral] AS [PlatformIntegral], [Project1].[GivingIntegral] AS [GivingIntegral], [Project1].[UseIntegral] AS [UseIntegral], [Project1].[Salt] AS [Salt], [Project1].[Password] AS [Password], [Project1].[TradePassword] AS [TradePassword], [Project1].[ErrorCount] AS [ErrorCount], [Project1].[ErrorTime] AS [ErrorTime], [Project1].[IsEnabled] AS [IsEnabled], [Project1].[PlatformUserTypeId] AS [PlatformUserTypeId], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Code] AS [Code], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
            [Extent1].[GivingIntegral] AS [GivingIntegral], 
            [Extent1].[UseIntegral] AS [UseIntegral], 
            [Extent1].[Salt] AS [Salt], 
            [Extent1].[Password] AS [Password], 
            [Extent1].[TradePassword] AS [TradePassword], 
            [Extent1].[ErrorCount] AS [ErrorCount], 
            [Extent1].[ErrorTime] AS [ErrorTime], 
            [Extent1].[IsEnabled] AS [IsEnabled], 
            [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM  [dbo].[T_PlatformUsers] AS [Extent1]
            INNER JOIN [dbo].[T_PlatformUserTypes] AS [Extent2] ON [Extent1].[PlatformUserTypeId] = [Extent2].[Id]
            WHERE (0 = [Extent1].[IsDeleted]) AND (([Extent2].[Name] = @p__linq__0) OR (1 = 0))
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-23 15:48:48,470 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:48:48,470 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '客户' (Type = String, Size = 4000)

2018-05-23 15:48:48,470 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 15:48:48 +08:00

2018-05-23 15:48:48,474 [54] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 4 ms with result: SqlDataReader

2018-05-23 15:48:48,474 [54] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:48:48,475 [54] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:48:48 +08:00

2018-05-23 15:48:48,475 [54] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 15:48:48 +08:00

2018-05-23 15:48:48,475 [54] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 15:48:48,475 [54] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:48:48,475 [54] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-23 15:48:48,475 [54] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 15:48:48 +08:00

2018-05-23 15:48:48,477 [54] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 15:48:48,477 [54] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:48:48,477 [54] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:48:48 +08:00

2018-05-23 15:48:48,477 [54] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/23 15:48:48 +08:00

2018-05-23 15:48:48,478 [54] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2018-05-23 15:48:48,478 [54] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:48:48,478 [54] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2018-05-23 15:48:48,478 [54] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 15:48:48 +08:00

2018-05-23 15:48:48,481 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-23 15:48:48,481 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:48:48,481 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:48:48 +08:00

2018-05-23 15:48:48,481 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 15:48:48 +08:00

2018-05-23 15:48:48,482 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 15:48:48,482 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:48:48,482 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-23 15:48:48,482 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 15:48:48 +08:00

2018-05-23 15:48:48,484 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 15:48:48,484 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:48:48,484 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:48:48 +08:00

2018-05-23 15:48:50,325 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 15:48:50 +08:00

2018-05-23 15:48:50,325 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费' = [Extent1].[Description])
2018-05-23 15:48:50,325 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:48:50,325 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 15:48:50 +08:00

2018-05-23 15:48:50,327 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 15:48:50,327 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:48:50,327 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:48:50 +08:00

2018-05-23 15:48:50,328 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/23 15:48:50 +08:00

2018-05-23 15:48:50,328 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ((([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[PlatformUserId] = [Extent1].[ToPlatformUserId])) OR (([Extent1].[PlatformUserId] = @p__linq__1) AND ([Extent1].[JournalTypeId] = @p__linq__2)) OR (([Extent1].[ToPlatformUserId] = @p__linq__3) AND ([Extent1].[ToPlatformUserId] = [Extent1].[FormPlatformUserId])))
    )  AS [GroupBy1]
2018-05-23 15:48:50,328 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:48:50,328 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '34' (Type = Int64, IsNullable = false)

2018-05-23 15:48:50,328 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '34' (Type = Int64, IsNullable = false)

2018-05-23 15:48:50,328 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '4' (Type = Int64, IsNullable = false)

2018-05-23 15:48:50,328 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '34' (Type = Int64, IsNullable = false)

2018-05-23 15:48:50,328 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 15:48:50 +08:00

2018-05-23 15:48:50,337 [54] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 8 ms with result: SqlDataReader

2018-05-23 15:48:50,337 [54] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:48:50,337 [54] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:48:50 +08:00

2018-05-23 15:48:50,337 [54] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/23 15:48:50 +08:00

2018-05-23 15:48:50,338 [54] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ((([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[PlatformUserId] = [Extent1].[ToPlatformUserId])) OR (([Extent1].[PlatformUserId] = @p__linq__1) AND ([Extent1].[JournalTypeId] = @p__linq__2)) OR (([Extent1].[ToPlatformUserId] = @p__linq__3) AND ([Extent1].[ToPlatformUserId] = [Extent1].[FormPlatformUserId])))
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-23 15:48:50,338 [54] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:48:50,338 [54] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '34' (Type = Int64, IsNullable = false)

2018-05-23 15:48:50,338 [54] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '34' (Type = Int64, IsNullable = false)

2018-05-23 15:48:50,338 [54] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '4' (Type = Int64, IsNullable = false)

2018-05-23 15:48:50,338 [54] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '34' (Type = Int64, IsNullable = false)

2018-05-23 15:48:50,338 [54] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 15:48:50 +08:00

2018-05-23 15:48:50,341 [54] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2018-05-23 15:48:50,341 [54] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:48:50,342 [54] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:48:50 +08:00

2018-05-23 15:48:50,342 [54] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 15:48:50 +08:00

2018-05-23 15:48:50,342 [54] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 15:48:50,342 [54] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:48:50,342 [54] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-23 15:48:50,342 [54] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 15:48:50 +08:00

2018-05-23 15:48:50,345 [54] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2018-05-23 15:48:50,345 [54] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:48:50,346 [54] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:48:50 +08:00

2018-05-23 15:48:50,346 [54] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 15:48:50 +08:00

2018-05-23 15:48:50,346 [54] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 15:48:50,346 [54] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:48:50,346 [54] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-23 15:48:50,346 [54] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 15:48:50 +08:00

2018-05-23 15:48:50,348 [54] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 15:48:50,348 [54] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:48:50,348 [54] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:48:50 +08:00

2018-05-23 15:48:50,348 [54] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 15:48:50 +08:00

2018-05-23 15:48:50,348 [54] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 15:48:50,348 [54] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:48:50,348 [54] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '34' (Type = Int64, IsNullable = false)

2018-05-23 15:48:50,348 [54] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 15:48:50 +08:00

2018-05-23 15:48:50,351 [54] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-23 15:48:50,351 [54] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:48:50,351 [54] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:48:50 +08:00

2018-05-23 15:48:50,352 [54] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 15:48:50 +08:00

2018-05-23 15:48:50,352 [54] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 15:48:50,352 [54] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:48:50,352 [54] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-23 15:48:50,352 [54] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 15:48:50 +08:00

2018-05-23 15:48:50,353 [54] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 15:48:50,353 [54] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:48:50,353 [54] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:48:50 +08:00

2018-05-23 15:48:50,353 [54] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 15:48:50 +08:00

2018-05-23 15:48:50,353 [54] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 15:48:50,353 [54] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:48:50,353 [54] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-23 15:48:50,353 [54] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 15:48:50 +08:00

2018-05-23 15:48:50,355 [54] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 15:48:50,355 [54] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:48:50,355 [54] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:48:50 +08:00

2018-05-23 15:48:53,839 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 15:48:53 +08:00

2018-05-23 15:48:53,839 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费' = [Extent1].[Description])
2018-05-23 15:48:53,840 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:48:53,840 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 15:48:53 +08:00

2018-05-23 15:48:53,841 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 15:48:53,841 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:48:53,841 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:48:53 +08:00

2018-05-23 15:48:53,842 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/23 15:48:53 +08:00

2018-05-23 15:48:53,842 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ((([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[PlatformUserId] = [Extent1].[ToPlatformUserId])) OR (([Extent1].[PlatformUserId] = @p__linq__1) AND ([Extent1].[JournalTypeId] = @p__linq__2)) OR (([Extent1].[ToPlatformUserId] = @p__linq__3) AND ([Extent1].[ToPlatformUserId] = [Extent1].[FormPlatformUserId])))
    )  AS [GroupBy1]
2018-05-23 15:48:53,842 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:48:53,842 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '34' (Type = Int64, IsNullable = false)

2018-05-23 15:48:53,842 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '34' (Type = Int64, IsNullable = false)

2018-05-23 15:48:53,842 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '4' (Type = Int64, IsNullable = false)

2018-05-23 15:48:53,842 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '34' (Type = Int64, IsNullable = false)

2018-05-23 15:48:53,842 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 15:48:53 +08:00

2018-05-23 15:48:53,882 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 40 ms with result: SqlDataReader

2018-05-23 15:48:53,882 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:48:53,882 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:48:53 +08:00

2018-05-23 15:48:53,883 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/23 15:48:53 +08:00

2018-05-23 15:48:53,885 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ((([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[PlatformUserId] = [Extent1].[ToPlatformUserId])) OR (([Extent1].[PlatformUserId] = @p__linq__1) AND ([Extent1].[JournalTypeId] = @p__linq__2)) OR (([Extent1].[ToPlatformUserId] = @p__linq__3) AND ([Extent1].[ToPlatformUserId] = [Extent1].[FormPlatformUserId])))
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 10
    ORDER BY [Project1].[CreateTime] DESC
2018-05-23 15:48:53,885 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:48:53,885 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '34' (Type = Int64, IsNullable = false)

2018-05-23 15:48:53,885 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '34' (Type = Int64, IsNullable = false)

2018-05-23 15:48:53,885 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '4' (Type = Int64, IsNullable = false)

2018-05-23 15:48:53,885 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '34' (Type = Int64, IsNullable = false)

2018-05-23 15:48:53,885 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 15:48:53 +08:00

2018-05-23 15:48:53,891 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 5 ms with result: SqlDataReader

2018-05-23 15:48:53,892 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:48:53,892 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:48:53 +08:00

2018-05-23 15:48:54,998 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 15:48:54 +08:00

2018-05-23 15:48:54,998 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费' = [Extent1].[Description])
2018-05-23 15:48:54,998 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:48:54,998 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 15:48:54 +08:00

2018-05-23 15:48:55,000 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 15:48:55,000 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:48:55,000 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:48:55 +08:00

2018-05-23 15:48:55,000 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/23 15:48:55 +08:00

2018-05-23 15:48:55,001 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ((([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[PlatformUserId] = [Extent1].[ToPlatformUserId])) OR (([Extent1].[PlatformUserId] = @p__linq__1) AND ([Extent1].[JournalTypeId] = @p__linq__2)) OR (([Extent1].[ToPlatformUserId] = @p__linq__3) AND ([Extent1].[ToPlatformUserId] = [Extent1].[FormPlatformUserId])))
    )  AS [GroupBy1]
2018-05-23 15:48:55,001 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:48:55,001 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '34' (Type = Int64, IsNullable = false)

2018-05-23 15:48:55,001 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '34' (Type = Int64, IsNullable = false)

2018-05-23 15:48:55,001 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '4' (Type = Int64, IsNullable = false)

2018-05-23 15:48:55,001 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '34' (Type = Int64, IsNullable = false)

2018-05-23 15:48:55,001 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 15:48:55 +08:00

2018-05-23 15:48:55,026 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 24 ms with result: SqlDataReader

2018-05-23 15:48:55,026 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:48:55,026 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:48:55 +08:00

2018-05-23 15:48:55,026 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/23 15:48:55 +08:00

2018-05-23 15:48:55,027 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ((([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[PlatformUserId] = [Extent1].[ToPlatformUserId])) OR (([Extent1].[PlatformUserId] = @p__linq__1) AND ([Extent1].[JournalTypeId] = @p__linq__2)) OR (([Extent1].[ToPlatformUserId] = @p__linq__3) AND ([Extent1].[ToPlatformUserId] = [Extent1].[FormPlatformUserId])))
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-23 15:48:55,027 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:48:55,027 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '34' (Type = Int64, IsNullable = false)

2018-05-23 15:48:55,027 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '34' (Type = Int64, IsNullable = false)

2018-05-23 15:48:55,027 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '4' (Type = Int64, IsNullable = false)

2018-05-23 15:48:55,027 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '34' (Type = Int64, IsNullable = false)

2018-05-23 15:48:55,027 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 15:48:55 +08:00

2018-05-23 15:48:55,036 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 9 ms with result: SqlDataReader

2018-05-23 15:48:55,036 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:48:55,036 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:48:55 +08:00

2018-05-23 15:48:55,036 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 15:48:55 +08:00

2018-05-23 15:48:55,037 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 15:48:55,037 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:48:55,037 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-23 15:48:55,037 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 15:48:55 +08:00

2018-05-23 15:48:55,039 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-23 15:48:55,039 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:48:55,040 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:48:55 +08:00

2018-05-23 15:48:55,040 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 15:48:55 +08:00

2018-05-23 15:48:55,040 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 15:48:55,040 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:48:55,040 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-23 15:48:55,040 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 15:48:55 +08:00

2018-05-23 15:48:55,042 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 15:48:55,042 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:48:55,042 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:48:55 +08:00

2018-05-23 15:48:55,042 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 15:48:55 +08:00

2018-05-23 15:48:55,042 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 15:48:55,042 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:48:55,042 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '34' (Type = Int64, IsNullable = false)

2018-05-23 15:48:55,042 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 15:48:55 +08:00

2018-05-23 15:48:55,045 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-23 15:48:55,045 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:48:55,045 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:48:55 +08:00

2018-05-23 15:48:55,045 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 15:48:55 +08:00

2018-05-23 15:48:55,045 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 15:48:55,045 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:48:55,045 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-23 15:48:55,045 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 15:48:55 +08:00

2018-05-23 15:48:55,047 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 15:48:55,047 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:48:55,047 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:48:55 +08:00

2018-05-23 15:48:55,047 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 15:48:55 +08:00

2018-05-23 15:48:55,047 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 15:48:55,047 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:48:55,047 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-23 15:48:55,047 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 15:48:55 +08:00

2018-05-23 15:48:55,048 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 15:48:55,048 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:48:55,048 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:48:55 +08:00

2018-05-23 15:48:56,322 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 15:48:56 +08:00

2018-05-23 15:48:56,323 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费' = [Extent1].[Description])
2018-05-23 15:48:56,323 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:48:56,323 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 15:48:56 +08:00

2018-05-23 15:48:56,324 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 15:48:56,325 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:48:56,325 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:48:56 +08:00

2018-05-23 15:48:56,325 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/23 15:48:56 +08:00

2018-05-23 15:48:56,325 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ((([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[PlatformUserId] = [Extent1].[ToPlatformUserId])) OR (([Extent1].[PlatformUserId] = @p__linq__1) AND ([Extent1].[JournalTypeId] = @p__linq__2)) OR (([Extent1].[ToPlatformUserId] = @p__linq__3) AND ([Extent1].[ToPlatformUserId] = [Extent1].[FormPlatformUserId])))
    )  AS [GroupBy1]
2018-05-23 15:48:56,325 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:48:56,325 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '34' (Type = Int64, IsNullable = false)

2018-05-23 15:48:56,325 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '34' (Type = Int64, IsNullable = false)

2018-05-23 15:48:56,325 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '4' (Type = Int64, IsNullable = false)

2018-05-23 15:48:56,325 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '34' (Type = Int64, IsNullable = false)

2018-05-23 15:48:56,325 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 15:48:56 +08:00

2018-05-23 15:48:56,327 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 15:48:56,327 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:48:56,327 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:48:56 +08:00

2018-05-23 15:48:56,327 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/23 15:48:56 +08:00

2018-05-23 15:48:56,328 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ((([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[PlatformUserId] = [Extent1].[ToPlatformUserId])) OR (([Extent1].[PlatformUserId] = @p__linq__1) AND ([Extent1].[JournalTypeId] = @p__linq__2)) OR (([Extent1].[ToPlatformUserId] = @p__linq__3) AND ([Extent1].[ToPlatformUserId] = [Extent1].[FormPlatformUserId])))
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-23 15:48:56,328 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:48:56,328 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '34' (Type = Int64, IsNullable = false)

2018-05-23 15:48:56,328 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '34' (Type = Int64, IsNullable = false)

2018-05-23 15:48:56,328 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '4' (Type = Int64, IsNullable = false)

2018-05-23 15:48:56,328 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '34' (Type = Int64, IsNullable = false)

2018-05-23 15:48:56,328 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 15:48:56 +08:00

2018-05-23 15:48:56,331 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-23 15:48:56,331 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:48:56,331 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:48:56 +08:00

2018-05-23 15:48:56,331 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 15:48:56 +08:00

2018-05-23 15:48:56,331 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 15:48:56,331 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:48:56,331 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-23 15:48:56,331 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 15:48:56 +08:00

2018-05-23 15:48:56,334 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-23 15:48:56,334 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:48:56,334 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:48:56 +08:00

2018-05-23 15:48:56,335 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 15:48:56 +08:00

2018-05-23 15:48:56,335 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 15:48:56,335 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:48:56,335 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-23 15:48:56,335 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 15:48:56 +08:00

2018-05-23 15:48:56,336 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 15:48:56,336 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:48:56,336 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:48:56 +08:00

2018-05-23 15:48:56,336 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 15:48:56 +08:00

2018-05-23 15:48:56,336 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 15:48:56,336 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:48:56,336 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '34' (Type = Int64, IsNullable = false)

2018-05-23 15:48:56,336 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 15:48:56 +08:00

2018-05-23 15:48:56,339 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-23 15:48:56,339 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:48:56,339 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:48:56 +08:00

2018-05-23 15:48:56,339 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 15:48:56 +08:00

2018-05-23 15:48:56,340 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 15:48:56,340 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:48:56,340 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-23 15:48:56,340 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 15:48:56 +08:00

2018-05-23 15:48:56,341 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 15:48:56,341 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:48:56,341 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:48:56 +08:00

2018-05-23 15:48:56,341 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 15:48:56 +08:00

2018-05-23 15:48:56,341 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 15:48:56,341 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:48:56,341 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-23 15:48:56,341 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 15:48:56 +08:00

2018-05-23 15:48:56,343 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 15:48:56,343 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:48:56,343 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:48:56 +08:00

2018-05-23 15:48:57,176 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 15:48:57 +08:00

2018-05-23 15:48:57,176 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费' = [Extent1].[Description])
2018-05-23 15:48:57,176 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:48:57,176 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 15:48:57 +08:00

2018-05-23 15:48:57,178 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 15:48:57,178 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:48:57,178 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:48:57 +08:00

2018-05-23 15:48:57,178 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/23 15:48:57 +08:00

2018-05-23 15:48:57,179 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ((([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[PlatformUserId] = [Extent1].[ToPlatformUserId])) OR (([Extent1].[PlatformUserId] = @p__linq__1) AND ([Extent1].[JournalTypeId] = @p__linq__2)) OR (([Extent1].[ToPlatformUserId] = @p__linq__3) AND ([Extent1].[ToPlatformUserId] = [Extent1].[FormPlatformUserId])))
    )  AS [GroupBy1]
2018-05-23 15:48:57,179 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:48:57,179 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '34' (Type = Int64, IsNullable = false)

2018-05-23 15:48:57,179 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '34' (Type = Int64, IsNullable = false)

2018-05-23 15:48:57,179 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '4' (Type = Int64, IsNullable = false)

2018-05-23 15:48:57,179 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '34' (Type = Int64, IsNullable = false)

2018-05-23 15:48:57,179 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 15:48:57 +08:00

2018-05-23 15:48:57,214 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 34 ms with result: SqlDataReader

2018-05-23 15:48:57,214 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:48:57,214 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:48:57 +08:00

2018-05-23 15:48:57,214 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/23 15:48:57 +08:00

2018-05-23 15:48:57,215 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ((([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[PlatformUserId] = [Extent1].[ToPlatformUserId])) OR (([Extent1].[PlatformUserId] = @p__linq__1) AND ([Extent1].[JournalTypeId] = @p__linq__2)) OR (([Extent1].[ToPlatformUserId] = @p__linq__3) AND ([Extent1].[ToPlatformUserId] = [Extent1].[FormPlatformUserId])))
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 10
    ORDER BY [Project1].[CreateTime] DESC
2018-05-23 15:48:57,215 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:48:57,215 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '34' (Type = Int64, IsNullable = false)

2018-05-23 15:48:57,215 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '34' (Type = Int64, IsNullable = false)

2018-05-23 15:48:57,215 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '4' (Type = Int64, IsNullable = false)

2018-05-23 15:48:57,215 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '34' (Type = Int64, IsNullable = false)

2018-05-23 15:48:57,215 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 15:48:57 +08:00

2018-05-23 15:48:57,221 [54] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 6 ms with result: SqlDataReader

2018-05-23 15:48:57,222 [54] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:48:57,222 [54] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:48:57 +08:00

2018-05-23 15:48:58,038 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 15:48:58 +08:00

2018-05-23 15:48:58,039 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费' = [Extent1].[Description])
2018-05-23 15:48:58,039 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:48:58,039 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 15:48:58 +08:00

2018-05-23 15:48:58,040 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 15:48:58,040 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:48:58,040 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:48:58 +08:00

2018-05-23 15:48:58,041 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/23 15:48:58 +08:00

2018-05-23 15:48:58,041 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ((([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[PlatformUserId] = [Extent1].[ToPlatformUserId])) OR (([Extent1].[PlatformUserId] = @p__linq__1) AND ([Extent1].[JournalTypeId] = @p__linq__2)) OR (([Extent1].[ToPlatformUserId] = @p__linq__3) AND ([Extent1].[ToPlatformUserId] = [Extent1].[FormPlatformUserId])))
    )  AS [GroupBy1]
2018-05-23 15:48:58,041 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:48:58,041 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '34' (Type = Int64, IsNullable = false)

2018-05-23 15:48:58,041 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '34' (Type = Int64, IsNullable = false)

2018-05-23 15:48:58,041 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '4' (Type = Int64, IsNullable = false)

2018-05-23 15:48:58,041 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '34' (Type = Int64, IsNullable = false)

2018-05-23 15:48:58,041 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 15:48:58 +08:00

2018-05-23 15:48:58,043 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 15:48:58,043 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:48:58,043 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:48:58 +08:00

2018-05-23 15:48:58,043 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/23 15:48:58 +08:00

2018-05-23 15:48:58,044 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:48:58 +08:00

2018-05-23 15:48:58,060 [26] ERROR IMS.Web.App_Start.Filter.SYSExceptionFilter - 出现未处理异常：System.ArgumentException: Count must have a non-negative value.
参数名: count
   在 System.Data.Entity.Core.Common.CommandTrees.ExpressionBuilder.DbExpressionBuilder.Skip(DbExpressionBinding input, IEnumerable`1 sortOrder, DbExpression count)
   在 System.Data.Entity.Core.Objects.ELinq.ExpressionConverter.OrderByLifter.OrderByLifterBase.ApplySortOrderToSkip(DbExpression input, DbSortExpression sort, DbExpression k)
   在 System.Data.Entity.Core.Objects.ELinq.ExpressionConverter.OrderByLifter.SortLifter.Skip(DbExpression k)
   在 System.Data.Entity.Core.Objects.ELinq.ExpressionConverter.OrderByLifter.Skip(DbExpressionBinding input, DbExpression skipCount)
   在 System.Data.Entity.Core.Objects.ELinq.ExpressionConverter.Skip(DbExpressionBinding input, DbExpression skipCount)
   在 System.Data.Entity.Core.Objects.ELinq.ExpressionConverter.MethodCallTranslator.SkipTranslator.TranslatePagingOperator(ExpressionConverter parent, DbExpression operand, DbExpression count)
   在 System.Data.Entity.Core.Objects.ELinq.ExpressionConverter.MethodCallTranslator.PagingTranslator.TranslateUnary(ExpressionConverter parent, DbExpression operand, MethodCallExpression call)
   在 System.Data.Entity.Core.Objects.ELinq.ExpressionConverter.MethodCallTranslator.UnarySequenceMethodTranslator.Translate(ExpressionConverter parent, MethodCallExpression call)
   在 System.Data.Entity.Core.Objects.ELinq.ExpressionConverter.MethodCallTranslator.SequenceMethodTranslator.Translate(ExpressionConverter parent, MethodCallExpression call, SequenceMethod sequenceMethod)
   在 System.Data.Entity.Core.Objects.ELinq.ExpressionConverter.MethodCallTranslator.TypedTranslate(ExpressionConverter parent, MethodCallExpression linq)
   在 System.Data.Entity.Core.Objects.ELinq.ExpressionConverter.TypedTranslator`1.Translate(ExpressionConverter parent, Expression linq)
   在 System.Data.Entity.Core.Objects.ELinq.ExpressionConverter.TranslateExpression(Expression linq)
   在 System.Data.Entity.Core.Objects.ELinq.ExpressionConverter.MethodCallTranslator.UnarySequenceMethodTranslator.Translate(ExpressionConverter parent, MethodCallExpression call)
   在 System.Data.Entity.Core.Objects.ELinq.ExpressionConverter.MethodCallTranslator.SequenceMethodTranslator.Translate(ExpressionConverter parent, MethodCallExpression call, SequenceMethod sequenceMethod)
   在 System.Data.Entity.Core.Objects.ELinq.ExpressionConverter.MethodCallTranslator.TypedTranslate(ExpressionConverter parent, MethodCallExpression linq)
   在 System.Data.Entity.Core.Objects.ELinq.ExpressionConverter.TypedTranslator`1.Translate(ExpressionConverter parent, Expression linq)
   在 System.Data.Entity.Core.Objects.ELinq.ExpressionConverter.TranslateExpression(Expression linq)
   在 System.Data.Entity.Core.Objects.ELinq.ExpressionConverter.Convert()
   在 System.Data.Entity.Core.Objects.ELinq.ELinqQueryState.GetExecutionPlan(Nullable`1 forMergeOption)
   在 System.Data.Entity.Core.Objects.ObjectQuery`1.<>c__DisplayClassc.<GetResultsAsync>b__a()
   在 System.Data.Entity.Core.Objects.ObjectContext.<ExecuteInTransactionAsync>d__3d`1.MoveNext()
--- 引发异常的上一位置中堆栈跟踪的末尾 ---
   在 System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   在 System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   在 System.Data.Entity.SqlServer.DefaultSqlExecutionStrategy.<ExecuteAsyncImplementation>d__9`1.MoveNext()
--- 引发异常的上一位置中堆栈跟踪的末尾 ---
   在 System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   在 System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   在 System.Data.Entity.Utilities.TaskExtensions.CultureAwaiter`1.GetResult()
   在 System.Data.Entity.Core.Objects.ObjectQuery`1.<GetResultsAsync>d__e.MoveNext()
--- 引发异常的上一位置中堆栈跟踪的末尾 ---
   在 System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   在 System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   在 System.Data.Entity.Utilities.TaskExtensions.CultureAwaiter`1.GetResult()
   在 System.Data.Entity.Internal.LazyAsyncEnumerator`1.<FirstMoveNextAsync>d__0.MoveNext()
--- 引发异常的上一位置中堆栈跟踪的末尾 ---
   在 System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   在 System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   在 System.Data.Entity.Infrastructure.IDbAsyncEnumerableExtensions.<ForEachAsync>d__5`1.MoveNext()
--- 引发异常的上一位置中堆栈跟踪的末尾 ---
   在 System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   在 System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   在 System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   在 IMS.Service.Service.JournalService.<GetUserModelListAsync>d__6.MoveNext() 位置 F:\201804\NN18042518\Service\Service\JournalService.cs:行号 252
--- 引发异常的上一位置中堆栈跟踪的末尾 ---
   在 System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   在 System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   在 System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   在 IMS.Web.Areas.Admin.Controllers.UserController.<GetJournal>d__18.MoveNext() 位置 F:\201804\NN18042518\Web\Areas\Admin\Controllers\UserController.cs:行号 219
--- 引发异常的上一位置中堆栈跟踪的末尾 ---
   在 System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   在 System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   在 System.Web.Mvc.Async.TaskAsyncActionDescriptor.EndExecute(IAsyncResult asyncResult)
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.<>c__DisplayClass37.<BeginInvokeAsynchronousActionMethod>b__36(IAsyncResult asyncResult)
   在 System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncResult`1.CallEndDelegate(IAsyncResult asyncResult)
   在 System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncResultBase`1.End()
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.EndInvokeActionMethod(IAsyncResult asyncResult)
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.AsyncInvocationWithFilters.<InvokeActionMethodFilterAsynchronouslyRecursive>b__3d()
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.AsyncInvocationWithFilters.<>c__DisplayClass46.<InvokeActionMethodFilterAsynchronouslyRecursive>b__3f()
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.AsyncInvocationWithFilters.<>c__DisplayClass46.<InvokeActionMethodFilterAsynchronouslyRecursive>b__3f()
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.<>c__DisplayClass33.<BeginInvokeActionMethodWithFilters>b__32(IAsyncResult asyncResult)
   在 System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncResult`1.CallEndDelegate(IAsyncResult asyncResult)
   在 System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncResultBase`1.End()
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.EndInvokeActionMethodWithFilters(IAsyncResult asyncResult)
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.<>c__DisplayClass21.<>c__DisplayClass2b.<BeginInvokeAction>b__1c()
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.<>c__DisplayClass21.<BeginInvokeAction>b__1e(IAsyncResult asyncResult)
2018-05-23 15:48:58,780 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 15:48:58 +08:00

2018-05-23 15:48:58,781 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费' = [Extent1].[Description])
2018-05-23 15:48:58,781 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:48:58,781 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 15:48:58 +08:00

2018-05-23 15:48:58,782 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 15:48:58,782 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:48:58,782 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:48:58 +08:00

2018-05-23 15:48:58,782 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/23 15:48:58 +08:00

2018-05-23 15:48:58,783 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ((([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[PlatformUserId] = [Extent1].[ToPlatformUserId])) OR (([Extent1].[PlatformUserId] = @p__linq__1) AND ([Extent1].[JournalTypeId] = @p__linq__2)) OR (([Extent1].[ToPlatformUserId] = @p__linq__3) AND ([Extent1].[ToPlatformUserId] = [Extent1].[FormPlatformUserId])))
    )  AS [GroupBy1]
2018-05-23 15:48:58,783 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:48:58,783 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '34' (Type = Int64, IsNullable = false)

2018-05-23 15:48:58,783 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '34' (Type = Int64, IsNullable = false)

2018-05-23 15:48:58,783 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '4' (Type = Int64, IsNullable = false)

2018-05-23 15:48:58,783 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '34' (Type = Int64, IsNullable = false)

2018-05-23 15:48:58,783 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 15:48:58 +08:00

2018-05-23 15:48:58,785 [54] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 15:48:58,785 [54] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:48:58,785 [54] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:48:58 +08:00

2018-05-23 15:48:58,785 [54] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/23 15:48:58 +08:00

2018-05-23 15:48:58,785 [54] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ((([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[PlatformUserId] = [Extent1].[ToPlatformUserId])) OR (([Extent1].[PlatformUserId] = @p__linq__1) AND ([Extent1].[JournalTypeId] = @p__linq__2)) OR (([Extent1].[ToPlatformUserId] = @p__linq__3) AND ([Extent1].[ToPlatformUserId] = [Extent1].[FormPlatformUserId])))
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-23 15:48:58,785 [54] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:48:58,786 [54] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '34' (Type = Int64, IsNullable = false)

2018-05-23 15:48:58,786 [54] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '34' (Type = Int64, IsNullable = false)

2018-05-23 15:48:58,786 [54] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '4' (Type = Int64, IsNullable = false)

2018-05-23 15:48:58,786 [54] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '34' (Type = Int64, IsNullable = false)

2018-05-23 15:48:58,786 [54] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 15:48:58 +08:00

2018-05-23 15:48:58,789 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2018-05-23 15:48:58,789 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:48:58,789 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:48:58 +08:00

2018-05-23 15:48:58,789 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 15:48:58 +08:00

2018-05-23 15:48:58,790 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 15:48:58,790 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:48:58,790 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-23 15:48:58,790 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 15:48:58 +08:00

2018-05-23 15:48:58,792 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-23 15:48:58,792 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:48:58,793 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:48:58 +08:00

2018-05-23 15:48:58,793 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 15:48:58 +08:00

2018-05-23 15:48:58,793 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 15:48:58,793 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:48:58,793 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-23 15:48:58,793 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 15:48:58 +08:00

2018-05-23 15:48:58,795 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 15:48:58,795 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:48:58,795 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:48:58 +08:00

2018-05-23 15:48:58,795 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 15:48:58 +08:00

2018-05-23 15:48:58,795 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 15:48:58,795 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:48:58,795 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '34' (Type = Int64, IsNullable = false)

2018-05-23 15:48:58,795 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 15:48:58 +08:00

2018-05-23 15:48:58,798 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-23 15:48:58,798 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:48:58,798 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:48:58 +08:00

2018-05-23 15:48:58,798 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 15:48:58 +08:00

2018-05-23 15:48:58,798 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 15:48:58,798 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:48:58,798 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-23 15:48:58,798 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 15:48:58 +08:00

2018-05-23 15:48:58,800 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 15:48:58,800 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:48:58,800 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:48:58 +08:00

2018-05-23 15:48:58,800 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 15:48:58 +08:00

2018-05-23 15:48:58,800 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 15:48:58,800 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:48:58,800 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-23 15:48:58,800 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 15:48:58 +08:00

2018-05-23 15:48:58,802 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 15:48:58,802 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:48:58,802 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:48:58 +08:00

2018-05-23 15:49:02,533 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 15:49:02 +08:00

2018-05-23 15:49:02,533 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费' = [Extent1].[Description])
2018-05-23 15:49:02,533 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:49:02,533 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 15:49:02 +08:00

2018-05-23 15:49:02,535 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 15:49:02,535 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:49:02,535 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:49:02 +08:00

2018-05-23 15:49:02,535 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/23 15:49:02 +08:00

2018-05-23 15:49:02,536 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ((([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[PlatformUserId] = [Extent1].[ToPlatformUserId])) OR (([Extent1].[PlatformUserId] = @p__linq__1) AND ([Extent1].[JournalTypeId] = @p__linq__2)) OR (([Extent1].[ToPlatformUserId] = @p__linq__3) AND ([Extent1].[ToPlatformUserId] = [Extent1].[FormPlatformUserId])))
    )  AS [GroupBy1]
2018-05-23 15:49:02,536 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:49:02,536 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '31' (Type = Int64, IsNullable = false)

2018-05-23 15:49:02,536 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '31' (Type = Int64, IsNullable = false)

2018-05-23 15:49:02,536 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '4' (Type = Int64, IsNullable = false)

2018-05-23 15:49:02,536 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '31' (Type = Int64, IsNullable = false)

2018-05-23 15:49:02,536 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 15:49:02 +08:00

2018-05-23 15:49:02,538 [54] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 15:49:02,538 [54] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:49:02,538 [54] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:49:02 +08:00

2018-05-23 15:49:02,538 [54] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/23 15:49:02 +08:00

2018-05-23 15:49:02,539 [54] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ((([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[PlatformUserId] = [Extent1].[ToPlatformUserId])) OR (([Extent1].[PlatformUserId] = @p__linq__1) AND ([Extent1].[JournalTypeId] = @p__linq__2)) OR (([Extent1].[ToPlatformUserId] = @p__linq__3) AND ([Extent1].[ToPlatformUserId] = [Extent1].[FormPlatformUserId])))
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-23 15:49:02,539 [54] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:49:02,539 [54] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '31' (Type = Int64, IsNullable = false)

2018-05-23 15:49:02,539 [54] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '31' (Type = Int64, IsNullable = false)

2018-05-23 15:49:02,539 [54] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '4' (Type = Int64, IsNullable = false)

2018-05-23 15:49:02,539 [54] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '31' (Type = Int64, IsNullable = false)

2018-05-23 15:49:02,539 [54] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 15:49:02 +08:00

2018-05-23 15:49:02,542 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2018-05-23 15:49:02,542 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:49:02,542 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:49:02 +08:00

2018-05-23 15:49:05,064 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 15:49:05 +08:00

2018-05-23 15:49:05,065 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费' = [Extent1].[Description])
2018-05-23 15:49:05,065 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:49:05,065 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 15:49:05 +08:00

2018-05-23 15:49:05,066 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 15:49:05,066 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:49:05,067 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:49:05 +08:00

2018-05-23 15:49:05,067 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/23 15:49:05 +08:00

2018-05-23 15:49:05,067 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ((([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[PlatformUserId] = [Extent1].[ToPlatformUserId])) OR (([Extent1].[PlatformUserId] = @p__linq__1) AND ([Extent1].[JournalTypeId] = @p__linq__2)) OR (([Extent1].[ToPlatformUserId] = @p__linq__3) AND ([Extent1].[ToPlatformUserId] = [Extent1].[FormPlatformUserId])))
    )  AS [GroupBy1]
2018-05-23 15:49:05,067 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:49:05,067 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '30' (Type = Int64, IsNullable = false)

2018-05-23 15:49:05,067 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '30' (Type = Int64, IsNullable = false)

2018-05-23 15:49:05,067 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '4' (Type = Int64, IsNullable = false)

2018-05-23 15:49:05,067 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '30' (Type = Int64, IsNullable = false)

2018-05-23 15:49:05,067 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 15:49:05 +08:00

2018-05-23 15:49:05,071 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2018-05-23 15:49:05,071 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:49:05,071 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:49:05 +08:00

2018-05-23 15:49:05,071 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/23 15:49:05 +08:00

2018-05-23 15:49:05,072 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ((([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[PlatformUserId] = [Extent1].[ToPlatformUserId])) OR (([Extent1].[PlatformUserId] = @p__linq__1) AND ([Extent1].[JournalTypeId] = @p__linq__2)) OR (([Extent1].[ToPlatformUserId] = @p__linq__3) AND ([Extent1].[ToPlatformUserId] = [Extent1].[FormPlatformUserId])))
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-23 15:49:05,072 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:49:05,072 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '30' (Type = Int64, IsNullable = false)

2018-05-23 15:49:05,072 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '30' (Type = Int64, IsNullable = false)

2018-05-23 15:49:05,072 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '4' (Type = Int64, IsNullable = false)

2018-05-23 15:49:05,072 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '30' (Type = Int64, IsNullable = false)

2018-05-23 15:49:05,072 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 15:49:05 +08:00

2018-05-23 15:49:05,076 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2018-05-23 15:49:05,076 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:49:05,076 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:49:05 +08:00

2018-05-23 15:49:05,076 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 15:49:05 +08:00

2018-05-23 15:49:05,076 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 15:49:05,077 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:49:05,077 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '24' (Type = Int64, IsNullable = false)

2018-05-23 15:49:05,077 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 15:49:05 +08:00

2018-05-23 15:49:05,079 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-23 15:49:05,080 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:49:05,080 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:49:05 +08:00

2018-05-23 15:49:05,080 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 15:49:05 +08:00

2018-05-23 15:49:05,080 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 15:49:05,080 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:49:05,080 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-23 15:49:05,080 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 15:49:05 +08:00

2018-05-23 15:49:05,082 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 15:49:05,082 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:49:05,082 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:49:05 +08:00

2018-05-23 15:49:05,082 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 15:49:05 +08:00

2018-05-23 15:49:05,082 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 15:49:05,082 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:49:05,082 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '30' (Type = Int64, IsNullable = false)

2018-05-23 15:49:05,082 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 15:49:05 +08:00

2018-05-23 15:49:05,085 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-23 15:49:05,085 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:49:05,085 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:49:05 +08:00

2018-05-23 15:49:05,085 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 15:49:05 +08:00

2018-05-23 15:49:05,085 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 15:49:05,086 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:49:05,086 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-23 15:49:05,086 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 15:49:05 +08:00

2018-05-23 15:49:05,087 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 15:49:05,087 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:49:05,087 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:49:05 +08:00

2018-05-23 15:49:05,087 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 15:49:05 +08:00

2018-05-23 15:49:05,087 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 15:49:05,087 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:49:05,087 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-23 15:49:05,087 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 15:49:05 +08:00

2018-05-23 15:49:05,089 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 15:49:05,089 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:49:05,089 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:49:05 +08:00

2018-05-23 15:49:07,232 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 15:49:07 +08:00

2018-05-23 15:49:07,232 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费' = [Extent1].[Description])
2018-05-23 15:49:07,233 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:49:07,233 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 15:49:07 +08:00

2018-05-23 15:49:07,236 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2018-05-23 15:49:07,236 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:49:07,236 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:49:07 +08:00

2018-05-23 15:49:07,236 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/23 15:49:07 +08:00

2018-05-23 15:49:07,237 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ((([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[PlatformUserId] = [Extent1].[ToPlatformUserId])) OR (([Extent1].[PlatformUserId] = @p__linq__1) AND ([Extent1].[JournalTypeId] = @p__linq__2)) OR (([Extent1].[ToPlatformUserId] = @p__linq__3) AND ([Extent1].[ToPlatformUserId] = [Extent1].[FormPlatformUserId])))
    )  AS [GroupBy1]
2018-05-23 15:49:07,237 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:49:07,237 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '30' (Type = Int64, IsNullable = false)

2018-05-23 15:49:07,237 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '30' (Type = Int64, IsNullable = false)

2018-05-23 15:49:07,237 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '4' (Type = Int64, IsNullable = false)

2018-05-23 15:49:07,237 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '30' (Type = Int64, IsNullable = false)

2018-05-23 15:49:07,237 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 15:49:07 +08:00

2018-05-23 15:49:07,239 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 15:49:07,239 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:49:07,239 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:49:07 +08:00

2018-05-23 15:49:07,239 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/23 15:49:07 +08:00

2018-05-23 15:49:07,239 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ((([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[PlatformUserId] = [Extent1].[ToPlatformUserId])) OR (([Extent1].[PlatformUserId] = @p__linq__1) AND ([Extent1].[JournalTypeId] = @p__linq__2)) OR (([Extent1].[ToPlatformUserId] = @p__linq__3) AND ([Extent1].[ToPlatformUserId] = [Extent1].[FormPlatformUserId])))
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 10
    ORDER BY [Project1].[CreateTime] DESC
2018-05-23 15:49:07,239 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:49:07,239 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '30' (Type = Int64, IsNullable = false)

2018-05-23 15:49:07,239 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '30' (Type = Int64, IsNullable = false)

2018-05-23 15:49:07,239 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '4' (Type = Int64, IsNullable = false)

2018-05-23 15:49:07,239 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '30' (Type = Int64, IsNullable = false)

2018-05-23 15:49:07,239 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 15:49:07 +08:00

2018-05-23 15:49:07,242 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-23 15:49:07,242 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:49:07,243 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:49:07 +08:00

2018-05-23 15:49:08,303 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 15:49:08 +08:00

2018-05-23 15:49:08,303 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费' = [Extent1].[Description])
2018-05-23 15:49:08,303 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:49:08,303 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 15:49:08 +08:00

2018-05-23 15:49:08,305 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-23 15:49:08,305 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:49:08,305 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:49:08 +08:00

2018-05-23 15:49:08,306 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/23 15:49:08 +08:00

2018-05-23 15:49:08,306 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ((([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[PlatformUserId] = [Extent1].[ToPlatformUserId])) OR (([Extent1].[PlatformUserId] = @p__linq__1) AND ([Extent1].[JournalTypeId] = @p__linq__2)) OR (([Extent1].[ToPlatformUserId] = @p__linq__3) AND ([Extent1].[ToPlatformUserId] = [Extent1].[FormPlatformUserId])))
    )  AS [GroupBy1]
2018-05-23 15:49:08,306 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:49:08,306 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '30' (Type = Int64, IsNullable = false)

2018-05-23 15:49:08,306 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '30' (Type = Int64, IsNullable = false)

2018-05-23 15:49:08,306 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '4' (Type = Int64, IsNullable = false)

2018-05-23 15:49:08,306 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '30' (Type = Int64, IsNullable = false)

2018-05-23 15:49:08,306 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 15:49:08 +08:00

2018-05-23 15:49:08,308 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 15:49:08,308 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:49:08,308 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:49:08 +08:00

2018-05-23 15:49:08,308 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/23 15:49:08 +08:00

2018-05-23 15:49:08,309 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ((([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[PlatformUserId] = [Extent1].[ToPlatformUserId])) OR (([Extent1].[PlatformUserId] = @p__linq__1) AND ([Extent1].[JournalTypeId] = @p__linq__2)) OR (([Extent1].[ToPlatformUserId] = @p__linq__3) AND ([Extent1].[ToPlatformUserId] = [Extent1].[FormPlatformUserId])))
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-23 15:49:08,309 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:49:08,309 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '30' (Type = Int64, IsNullable = false)

2018-05-23 15:49:08,309 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '30' (Type = Int64, IsNullable = false)

2018-05-23 15:49:08,309 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '4' (Type = Int64, IsNullable = false)

2018-05-23 15:49:08,309 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '30' (Type = Int64, IsNullable = false)

2018-05-23 15:49:08,309 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 15:49:08 +08:00

2018-05-23 15:49:08,312 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-23 15:49:08,312 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:49:08,313 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:49:08 +08:00

2018-05-23 15:49:08,313 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 15:49:08 +08:00

2018-05-23 15:49:08,313 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 15:49:08,313 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:49:08,313 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '24' (Type = Int64, IsNullable = false)

2018-05-23 15:49:08,313 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 15:49:08 +08:00

2018-05-23 15:49:08,316 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-23 15:49:08,316 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:49:08,316 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:49:08 +08:00

2018-05-23 15:49:08,316 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 15:49:08 +08:00

2018-05-23 15:49:08,316 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 15:49:08,316 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:49:08,316 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-23 15:49:08,317 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 15:49:08 +08:00

2018-05-23 15:49:08,318 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 15:49:08,318 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:49:08,318 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:49:08 +08:00

2018-05-23 15:49:08,318 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 15:49:08 +08:00

2018-05-23 15:49:08,318 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 15:49:08,318 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:49:08,318 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '30' (Type = Int64, IsNullable = false)

2018-05-23 15:49:08,318 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 15:49:08 +08:00

2018-05-23 15:49:08,321 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-23 15:49:08,321 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:49:08,322 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:49:08 +08:00

2018-05-23 15:49:08,322 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 15:49:08 +08:00

2018-05-23 15:49:08,322 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 15:49:08,322 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:49:08,322 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-23 15:49:08,322 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 15:49:08 +08:00

2018-05-23 15:49:08,323 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 15:49:08,323 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:49:08,324 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:49:08 +08:00

2018-05-23 15:49:08,324 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 15:49:08 +08:00

2018-05-23 15:49:08,324 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 15:49:08,324 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:49:08,324 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-23 15:49:08,324 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 15:49:08 +08:00

2018-05-23 15:49:08,325 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 15:49:08,325 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:49:08,326 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:49:08 +08:00

2018-05-23 15:49:34,917 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 15:49:34 +08:00

2018-05-23 15:49:34,917 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费' = [Extent1].[Description])
2018-05-23 15:49:34,917 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:49:34,917 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 15:49:34 +08:00

2018-05-23 15:49:34,919 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 15:49:34,919 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:49:34,919 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:49:34 +08:00

2018-05-23 15:49:34,919 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/23 15:49:34 +08:00

2018-05-23 15:49:34,920 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ((([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[PlatformUserId] = [Extent1].[ToPlatformUserId])) OR (([Extent1].[PlatformUserId] = @p__linq__1) AND ([Extent1].[JournalTypeId] = @p__linq__2)) OR (([Extent1].[ToPlatformUserId] = @p__linq__3) AND ([Extent1].[ToPlatformUserId] = [Extent1].[FormPlatformUserId])))
    )  AS [GroupBy1]
2018-05-23 15:49:34,920 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:49:34,920 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '26' (Type = Int64, IsNullable = false)

2018-05-23 15:49:34,920 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '26' (Type = Int64, IsNullable = false)

2018-05-23 15:49:34,920 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '4' (Type = Int64, IsNullable = false)

2018-05-23 15:49:34,920 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '26' (Type = Int64, IsNullable = false)

2018-05-23 15:49:34,920 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 15:49:34 +08:00

2018-05-23 15:49:34,922 [54] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 15:49:34,922 [54] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:49:34,922 [54] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:49:34 +08:00

2018-05-23 15:49:34,922 [54] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/23 15:49:34 +08:00

2018-05-23 15:49:34,922 [54] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ((([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[PlatformUserId] = [Extent1].[ToPlatformUserId])) OR (([Extent1].[PlatformUserId] = @p__linq__1) AND ([Extent1].[JournalTypeId] = @p__linq__2)) OR (([Extent1].[ToPlatformUserId] = @p__linq__3) AND ([Extent1].[ToPlatformUserId] = [Extent1].[FormPlatformUserId])))
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-23 15:49:34,923 [54] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:49:34,923 [54] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '26' (Type = Int64, IsNullable = false)

2018-05-23 15:49:34,923 [54] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '26' (Type = Int64, IsNullable = false)

2018-05-23 15:49:34,923 [54] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '4' (Type = Int64, IsNullable = false)

2018-05-23 15:49:34,923 [54] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '26' (Type = Int64, IsNullable = false)

2018-05-23 15:49:34,923 [54] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 15:49:34 +08:00

2018-05-23 15:49:34,926 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-23 15:49:34,926 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:49:34,926 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:49:34 +08:00

2018-05-23 15:49:37,232 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 15:49:37 +08:00

2018-05-23 15:49:37,232 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费' = [Extent1].[Description])
2018-05-23 15:49:37,233 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:49:37,233 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 15:49:37 +08:00

2018-05-23 15:49:37,402 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 169 ms with result: SqlDataReader

2018-05-23 15:49:37,402 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:49:37,402 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:49:37 +08:00

2018-05-23 15:49:37,402 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/23 15:49:37 +08:00

2018-05-23 15:49:37,403 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ((([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[PlatformUserId] = [Extent1].[ToPlatformUserId])) OR (([Extent1].[PlatformUserId] = @p__linq__1) AND ([Extent1].[JournalTypeId] = @p__linq__2)) OR (([Extent1].[ToPlatformUserId] = @p__linq__3) AND ([Extent1].[ToPlatformUserId] = [Extent1].[FormPlatformUserId])))
    )  AS [GroupBy1]
2018-05-23 15:49:37,403 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:49:37,403 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '23' (Type = Int64, IsNullable = false)

2018-05-23 15:49:37,403 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '23' (Type = Int64, IsNullable = false)

2018-05-23 15:49:37,403 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '4' (Type = Int64, IsNullable = false)

2018-05-23 15:49:37,403 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '23' (Type = Int64, IsNullable = false)

2018-05-23 15:49:37,403 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 15:49:37 +08:00

2018-05-23 15:49:37,404 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 15:49:37,404 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:49:37,404 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:49:37 +08:00

2018-05-23 15:49:37,405 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/23 15:49:37 +08:00

2018-05-23 15:49:37,405 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ((([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[PlatformUserId] = [Extent1].[ToPlatformUserId])) OR (([Extent1].[PlatformUserId] = @p__linq__1) AND ([Extent1].[JournalTypeId] = @p__linq__2)) OR (([Extent1].[ToPlatformUserId] = @p__linq__3) AND ([Extent1].[ToPlatformUserId] = [Extent1].[FormPlatformUserId])))
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-23 15:49:37,405 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:49:37,405 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '23' (Type = Int64, IsNullable = false)

2018-05-23 15:49:37,405 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '23' (Type = Int64, IsNullable = false)

2018-05-23 15:49:37,405 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '4' (Type = Int64, IsNullable = false)

2018-05-23 15:49:37,405 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '23' (Type = Int64, IsNullable = false)

2018-05-23 15:49:37,405 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 15:49:37 +08:00

2018-05-23 15:49:37,408 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-23 15:49:37,408 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:49:37,408 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:49:37 +08:00

2018-05-23 15:49:39,532 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 15:49:39 +08:00

2018-05-23 15:49:39,533 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费' = [Extent1].[Description])
2018-05-23 15:49:39,533 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:49:39,533 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 15:49:39 +08:00

2018-05-23 15:49:39,534 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 15:49:39,534 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:49:39,534 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:49:39 +08:00

2018-05-23 15:49:39,535 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/23 15:49:39 +08:00

2018-05-23 15:49:39,535 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ((([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[PlatformUserId] = [Extent1].[ToPlatformUserId])) OR (([Extent1].[PlatformUserId] = @p__linq__1) AND ([Extent1].[JournalTypeId] = @p__linq__2)) OR (([Extent1].[ToPlatformUserId] = @p__linq__3) AND ([Extent1].[ToPlatformUserId] = [Extent1].[FormPlatformUserId])))
    )  AS [GroupBy1]
2018-05-23 15:49:39,535 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:49:39,535 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '21' (Type = Int64, IsNullable = false)

2018-05-23 15:49:39,535 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '21' (Type = Int64, IsNullable = false)

2018-05-23 15:49:39,535 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '4' (Type = Int64, IsNullable = false)

2018-05-23 15:49:39,535 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '21' (Type = Int64, IsNullable = false)

2018-05-23 15:49:39,535 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 15:49:39 +08:00

2018-05-23 15:49:39,537 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 15:49:39,537 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:49:39,537 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:49:39 +08:00

2018-05-23 15:49:39,537 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/23 15:49:39 +08:00

2018-05-23 15:49:39,538 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ((([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[PlatformUserId] = [Extent1].[ToPlatformUserId])) OR (([Extent1].[PlatformUserId] = @p__linq__1) AND ([Extent1].[JournalTypeId] = @p__linq__2)) OR (([Extent1].[ToPlatformUserId] = @p__linq__3) AND ([Extent1].[ToPlatformUserId] = [Extent1].[FormPlatformUserId])))
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-23 15:49:39,538 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:49:39,538 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '21' (Type = Int64, IsNullable = false)

2018-05-23 15:49:39,538 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '21' (Type = Int64, IsNullable = false)

2018-05-23 15:49:39,538 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '4' (Type = Int64, IsNullable = false)

2018-05-23 15:49:39,538 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '21' (Type = Int64, IsNullable = false)

2018-05-23 15:49:39,538 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 15:49:39 +08:00

2018-05-23 15:49:39,541 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-23 15:49:39,541 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:49:39,542 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:49:39 +08:00

2018-05-23 15:49:39,543 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 15:49:39 +08:00

2018-05-23 15:49:39,543 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 15:49:39,543 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:49:39,543 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '21' (Type = Int64, IsNullable = false)

2018-05-23 15:49:39,543 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 15:49:39 +08:00

2018-05-23 15:49:39,546 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-23 15:49:39,546 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:49:39,546 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:49:39 +08:00

2018-05-23 15:49:39,546 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 15:49:39 +08:00

2018-05-23 15:49:39,546 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 15:49:39,546 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:49:39,546 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '5' (Type = Int64, IsNullable = false)

2018-05-23 15:49:39,546 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 15:49:39 +08:00

2018-05-23 15:49:39,548 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 15:49:39,548 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:49:39,548 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:49:39 +08:00

2018-05-23 15:49:39,548 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 15:49:39 +08:00

2018-05-23 15:49:39,548 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 15:49:39,548 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:49:39,548 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-23 15:49:39,548 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 15:49:39 +08:00

2018-05-23 15:49:39,550 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 15:49:39,550 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:49:39,550 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:49:39 +08:00

2018-05-23 15:49:42,006 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 15:49:42 +08:00

2018-05-23 15:49:42,006 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费' = [Extent1].[Description])
2018-05-23 15:49:42,006 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:49:42,006 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 15:49:42 +08:00

2018-05-23 15:49:42,008 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 15:49:42,008 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:49:42,008 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:49:42 +08:00

2018-05-23 15:49:42,008 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/23 15:49:42 +08:00

2018-05-23 15:49:42,009 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ((([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[PlatformUserId] = [Extent1].[ToPlatformUserId])) OR (([Extent1].[PlatformUserId] = @p__linq__1) AND ([Extent1].[JournalTypeId] = @p__linq__2)) OR (([Extent1].[ToPlatformUserId] = @p__linq__3) AND ([Extent1].[ToPlatformUserId] = [Extent1].[FormPlatformUserId])))
    )  AS [GroupBy1]
2018-05-23 15:49:42,009 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:49:42,009 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '22' (Type = Int64, IsNullable = false)

2018-05-23 15:49:42,009 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '22' (Type = Int64, IsNullable = false)

2018-05-23 15:49:42,009 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '4' (Type = Int64, IsNullable = false)

2018-05-23 15:49:42,009 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '22' (Type = Int64, IsNullable = false)

2018-05-23 15:49:42,009 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 15:49:42 +08:00

2018-05-23 15:49:42,011 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-23 15:49:42,011 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:49:42,012 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:49:42 +08:00

2018-05-23 15:49:42,012 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/23 15:49:42 +08:00

2018-05-23 15:49:42,012 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ((([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[PlatformUserId] = [Extent1].[ToPlatformUserId])) OR (([Extent1].[PlatformUserId] = @p__linq__1) AND ([Extent1].[JournalTypeId] = @p__linq__2)) OR (([Extent1].[ToPlatformUserId] = @p__linq__3) AND ([Extent1].[ToPlatformUserId] = [Extent1].[FormPlatformUserId])))
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-23 15:49:42,012 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:49:42,012 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '22' (Type = Int64, IsNullable = false)

2018-05-23 15:49:42,012 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '22' (Type = Int64, IsNullable = false)

2018-05-23 15:49:42,012 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '4' (Type = Int64, IsNullable = false)

2018-05-23 15:49:42,012 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '22' (Type = Int64, IsNullable = false)

2018-05-23 15:49:42,012 [68] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 15:49:42 +08:00

2018-05-23 15:49:42,016 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-23 15:49:42,016 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:49:42,016 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:49:42 +08:00

2018-05-23 15:49:42,016 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 15:49:42 +08:00

2018-05-23 15:49:42,016 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 15:49:42,017 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:49:42,017 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '22' (Type = Int64, IsNullable = false)

2018-05-23 15:49:42,017 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 15:49:42 +08:00

2018-05-23 15:49:42,019 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-23 15:49:42,019 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:49:42,020 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:49:42 +08:00

2018-05-23 15:49:42,020 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 15:49:42 +08:00

2018-05-23 15:49:42,020 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 15:49:42,020 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:49:42,020 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '19' (Type = Int64, IsNullable = false)

2018-05-23 15:49:42,020 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 15:49:42 +08:00

2018-05-23 15:49:42,023 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2018-05-23 15:49:42,023 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:49:42,024 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:49:42 +08:00

2018-05-23 15:49:42,024 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 15:49:42 +08:00

2018-05-23 15:49:42,024 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 15:49:42,024 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:49:42,024 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-23 15:49:42,024 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 15:49:42 +08:00

2018-05-23 15:49:42,025 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 15:49:42,025 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:49:42,026 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:49:42 +08:00

2018-05-23 15:49:42,026 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 15:49:42 +08:00

2018-05-23 15:49:42,026 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 15:49:42,026 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:49:42,026 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '41' (Type = Int64, IsNullable = false)

2018-05-23 15:49:42,026 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 15:49:42 +08:00

2018-05-23 15:49:42,029 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-23 15:49:42,029 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:49:42,029 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:49:42 +08:00

2018-05-23 15:49:42,029 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 15:49:42 +08:00

2018-05-23 15:49:42,029 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 15:49:42,029 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:49:42,029 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-23 15:49:42,029 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 15:49:42 +08:00

2018-05-23 15:49:42,032 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-23 15:49:42,032 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:49:42,032 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:49:42 +08:00

2018-05-23 15:49:42,032 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 15:49:42 +08:00

2018-05-23 15:49:42,032 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 15:49:42,032 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:49:42,032 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-23 15:49:42,033 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 15:49:42 +08:00

2018-05-23 15:49:42,034 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 15:49:42,034 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:49:42,034 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:49:42 +08:00

2018-05-23 15:49:42,034 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 15:49:42 +08:00

2018-05-23 15:49:42,034 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 15:49:42,035 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:49:42,035 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-23 15:49:42,035 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 15:49:42 +08:00

2018-05-23 15:49:42,036 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 15:49:42,036 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:49:42,036 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:49:42 +08:00

2018-05-23 15:49:42,036 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 15:49:42 +08:00

2018-05-23 15:49:42,036 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 15:49:42,036 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:49:42,036 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '37' (Type = Int64, IsNullable = false)

2018-05-23 15:49:42,037 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 15:49:42 +08:00

2018-05-23 15:49:42,039 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-23 15:49:42,039 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:49:42,040 [63] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:49:42 +08:00

2018-05-23 15:59:29,164 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 15:59:29 +08:00

2018-05-23 15:59:29,175 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：
SELECT Count(*)
FROM INFORMATION_SCHEMA.TABLES AS t
WHERE t.TABLE_SCHEMA + '.' + t.TABLE_NAME IN ('dbo.T_AdminLogs','dbo.T_Admins','dbo.T_Permissions','dbo.T_PermissionTypes','dbo.T_IntegralTypes','dbo.T_Journals','dbo.T_PlatformUsers','dbo.T_PlatformUserTypes','dbo.T_JournalTypes','dbo.T_NavBars','dbo.T_Settings','dbo.T_SettingTypes','dbo.T_States','dbo.T_TakeCashes','dbo.T_AdminPermissions')
    OR t.TABLE_NAME = 'EdmMetadata'
2018-05-23 15:59:29,176 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:59:29,176 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 15:59:29 +08:00

2018-05-23 15:59:29,179 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: 15

2018-05-23 15:59:29,179 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:59:29,179 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:59:29 +08:00

2018-05-23 15:59:29,280 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 15:59:29 +08:00

2018-05-23 15:59:30,167 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[__MigrationHistory] AS [Extent1]
        WHERE [Extent1].[ContextKey] = @p__linq__0
    )  AS [GroupBy1]
2018-05-23 15:59:30,167 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:59:30,168 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'IMS.Service.MyDbContext' (Type = String, Size = 4000)

2018-05-23 15:59:30,168 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 15:59:30 +08:00

2018-05-23 15:59:30,171 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Failed in 2 ms with error: 对象名 'dbo.__MigrationHistory' 无效。

2018-05-23 15:59:30,171 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:59:30,172 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:59:30 +08:00

2018-05-23 15:59:30,174 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 15:59:30 +08:00

2018-05-23 15:59:30,175 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[__MigrationHistory] AS [Extent1]
    )  AS [GroupBy1]
2018-05-23 15:59:30,175 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:59:30,175 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 15:59:30 +08:00

2018-05-23 15:59:30,177 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Failed in 1 ms with error: 对象名 'dbo.__MigrationHistory' 无效。

2018-05-23 15:59:30,177 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:59:30,177 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:59:30 +08:00

2018-05-23 15:59:30,352 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/23 15:59:30 +08:00

2018-05-23 15:59:30,517 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_Admins] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-05-23 15:59:30,517 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:59:30,517 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'admin' (Type = String, Size = 4000)

2018-05-23 15:59:30,517 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 15:59:30 +08:00

2018-05-23 15:59:30,522 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 5 ms with result: SqlDataReader

2018-05-23 15:59:30,522 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:59:30,575 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:59:30 +08:00

2018-05-23 15:59:30,580 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/23 15:59:30 +08:00

2018-05-23 15:59:30,600 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-05-23 15:59:30,601 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:59:30,601 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'PlatformUser201805051709360001' (Type = String, Size = 4000)

2018-05-23 15:59:30,601 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 15:59:30 +08:00

2018-05-23 15:59:30,604 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-23 15:59:30,604 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:59:30,632 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:59:30 +08:00

2018-05-23 15:59:30,644 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 15:59:30 +08:00

2018-05-23 15:59:30,681 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 15:59:30,681 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:59:30,681 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-23 15:59:30,681 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 15:59:30 +08:00

2018-05-23 15:59:30,682 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 15:59:30,682 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:59:30,707 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:59:30 +08:00

2018-05-23 15:59:30,866 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/23 15:59:30 +08:00

2018-05-23 15:59:30,869 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_Admins] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2018-05-23 15:59:30,869 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:59:30,869 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '4' (Type = Int64, IsNullable = false)

2018-05-23 15:59:30,869 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 15:59:30 +08:00

2018-05-23 15:59:30,871 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 15:59:30,871 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:59:30,871 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:59:30 +08:00

2018-05-23 15:59:30,879 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 15:59:30 +08:00

2018-05-23 15:59:30,987 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[PermissionTypeId] AS [PermissionTypeId], 
    [Extent2].[CreateTime] AS [CreateTime], 
    [Extent2].[IsDeleted] AS [IsDeleted]
    FROM  [dbo].[T_AdminPermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[AdminId] = [Extent2].[Id]
    WHERE [Extent1].[PermissionId] = @EntityKeyValue1
2018-05-23 15:59:30,987 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:59:30,987 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '4' (Type = Int64, IsNullable = false)

2018-05-23 15:59:30,987 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 15:59:30 +08:00

2018-05-23 15:59:30,989 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-23 15:59:30,989 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:59:30,991 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:59:30 +08:00

2018-05-23 15:59:38,100 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 15:59:38 +08:00

2018-05-23 15:59:38,148 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM  [dbo].[T_PlatformUsers] AS [Extent1]
        INNER JOIN [dbo].[T_PlatformUserTypes] AS [Extent2] ON [Extent1].[PlatformUserTypeId] = [Extent2].[Id]
        WHERE (0 = [Extent1].[IsDeleted]) AND (([Extent2].[Name] = @p__linq__0) OR (1 = 0))
    )  AS [GroupBy1]
2018-05-23 15:59:38,148 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:59:38,148 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '商家' (Type = String, Size = 4000)

2018-05-23 15:59:38,148 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 15:59:38 +08:00

2018-05-23 15:59:38,150 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 15:59:38,150 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:59:38,154 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:59:38 +08:00

2018-05-23 15:59:38,161 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/23 15:59:38 +08:00

2018-05-23 15:59:38,183 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Code] AS [Code], 
    [Project1].[Description] AS [Description], 
    [Project1].[PlatformIntegral] AS [PlatformIntegral], 
    [Project1].[GivingIntegral] AS [GivingIntegral], 
    [Project1].[UseIntegral] AS [UseIntegral], 
    [Project1].[Salt] AS [Salt], 
    [Project1].[Password] AS [Password], 
    [Project1].[TradePassword] AS [TradePassword], 
    [Project1].[ErrorCount] AS [ErrorCount], 
    [Project1].[ErrorTime] AS [ErrorTime], 
    [Project1].[IsEnabled] AS [IsEnabled], 
    [Project1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Mobile] AS [Mobile], [Project1].[Code] AS [Code], [Project1].[Description] AS [Description], [Project1].[PlatformIntegral] AS [PlatformIntegral], [Project1].[GivingIntegral] AS [GivingIntegral], [Project1].[UseIntegral] AS [UseIntegral], [Project1].[Salt] AS [Salt], [Project1].[Password] AS [Password], [Project1].[TradePassword] AS [TradePassword], [Project1].[ErrorCount] AS [ErrorCount], [Project1].[ErrorTime] AS [ErrorTime], [Project1].[IsEnabled] AS [IsEnabled], [Project1].[PlatformUserTypeId] AS [PlatformUserTypeId], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Code] AS [Code], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
            [Extent1].[GivingIntegral] AS [GivingIntegral], 
            [Extent1].[UseIntegral] AS [UseIntegral], 
            [Extent1].[Salt] AS [Salt], 
            [Extent1].[Password] AS [Password], 
            [Extent1].[TradePassword] AS [TradePassword], 
            [Extent1].[ErrorCount] AS [ErrorCount], 
            [Extent1].[ErrorTime] AS [ErrorTime], 
            [Extent1].[IsEnabled] AS [IsEnabled], 
            [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM  [dbo].[T_PlatformUsers] AS [Extent1]
            INNER JOIN [dbo].[T_PlatformUserTypes] AS [Extent2] ON [Extent1].[PlatformUserTypeId] = [Extent2].[Id]
            WHERE (0 = [Extent1].[IsDeleted]) AND (([Extent2].[Name] = @p__linq__0) OR (1 = 0))
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-23 15:59:38,184 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:59:38,184 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '商家' (Type = String, Size = 4000)

2018-05-23 15:59:38,184 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 15:59:38 +08:00

2018-05-23 15:59:38,189 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 4 ms with result: SqlDataReader

2018-05-23 15:59:38,189 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:59:38,189 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:59:38 +08:00

2018-05-23 15:59:38,191 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 15:59:38 +08:00

2018-05-23 15:59:38,192 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 15:59:38,192 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:59:38,192 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-23 15:59:38,192 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 15:59:38 +08:00

2018-05-23 15:59:38,194 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 15:59:38,194 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:59:38,194 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:59:38 +08:00

2018-05-23 15:59:38,196 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/23 15:59:38 +08:00

2018-05-23 15:59:38,197 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2018-05-23 15:59:38,198 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:59:38,198 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2018-05-23 15:59:38,198 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 15:59:38 +08:00

2018-05-23 15:59:38,200 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-23 15:59:38,201 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:59:38,201 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:59:38 +08:00

2018-05-23 15:59:38,201 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 15:59:38 +08:00

2018-05-23 15:59:38,201 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 15:59:38,201 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:59:38,201 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-23 15:59:38,201 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 15:59:38 +08:00

2018-05-23 15:59:38,203 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 15:59:38,203 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:59:38,203 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:59:38 +08:00

2018-05-23 15:59:39,461 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 15:59:39 +08:00

2018-05-23 15:59:39,471 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费' = [Extent1].[Description])
2018-05-23 15:59:39,471 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:59:39,471 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 15:59:39 +08:00

2018-05-23 15:59:39,473 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 15:59:39,473 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:59:39,476 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:59:39 +08:00

2018-05-23 15:59:39,488 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/23 15:59:39 +08:00

2018-05-23 15:59:39,499 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND (([Extent1].[PlatformUserId] = @p__linq__0) OR (([Extent1].[PlatformUserId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = [Extent1].[ToPlatformUserId])) OR (([Extent1].[ToPlatformUserId] = @p__linq__2) AND ([Extent1].[ToPlatformUserId] = [Extent1].[FormPlatformUserId])))
    )  AS [GroupBy1]
2018-05-23 15:59:39,499 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:59:39,499 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '41' (Type = Int64)

2018-05-23 15:59:39,499 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '41' (Type = Int64)

2018-05-23 15:59:39,499 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '41' (Type = Int64)

2018-05-23 15:59:39,499 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 15:59:39 +08:00

2018-05-23 15:59:39,507 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 7 ms with result: SqlDataReader

2018-05-23 15:59:39,507 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:59:39,511 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:59:39 +08:00

2018-05-23 15:59:39,512 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/23 15:59:39 +08:00

2018-05-23 15:59:39,539 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND (([Extent1].[PlatformUserId] = @p__linq__0) OR (([Extent1].[PlatformUserId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = [Extent1].[ToPlatformUserId])) OR (([Extent1].[ToPlatformUserId] = @p__linq__2) AND ([Extent1].[ToPlatformUserId] = [Extent1].[FormPlatformUserId])))
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-23 15:59:39,539 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:59:39,539 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '41' (Type = Int64)

2018-05-23 15:59:39,539 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '41' (Type = Int64)

2018-05-23 15:59:39,539 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '41' (Type = Int64)

2018-05-23 15:59:39,539 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 15:59:39 +08:00

2018-05-23 15:59:39,544 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 4 ms with result: SqlDataReader

2018-05-23 15:59:39,544 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:59:39,555 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:59:39 +08:00

2018-05-23 15:59:39,557 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 15:59:39 +08:00

2018-05-23 15:59:39,559 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 15:59:39,559 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:59:39,559 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '19' (Type = Int64, IsNullable = false)

2018-05-23 15:59:39,559 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 15:59:39 +08:00

2018-05-23 15:59:39,562 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-23 15:59:39,562 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:59:39,564 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:59:39 +08:00

2018-05-23 15:59:39,564 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 15:59:39 +08:00

2018-05-23 15:59:39,565 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 15:59:39,565 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:59:39,565 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-23 15:59:39,566 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 15:59:39 +08:00

2018-05-23 15:59:39,567 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 15:59:39,567 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:59:39,568 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:59:39 +08:00

2018-05-23 15:59:39,569 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 15:59:39 +08:00

2018-05-23 15:59:39,569 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 15:59:39,569 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:59:39,569 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '41' (Type = Int64, IsNullable = false)

2018-05-23 15:59:39,569 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 15:59:39 +08:00

2018-05-23 15:59:39,572 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2018-05-23 15:59:39,572 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:59:39,573 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:59:39 +08:00

2018-05-23 15:59:39,574 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 15:59:39 +08:00

2018-05-23 15:59:39,582 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 15:59:39,582 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:59:39,583 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-23 15:59:39,583 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 15:59:39 +08:00

2018-05-23 15:59:39,585 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-23 15:59:39,585 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:59:39,588 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:59:39 +08:00

2018-05-23 15:59:39,589 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 15:59:39 +08:00

2018-05-23 15:59:39,589 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 15:59:39,589 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:59:39,589 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-23 15:59:39,589 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 15:59:39 +08:00

2018-05-23 15:59:39,591 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 15:59:39,591 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:59:39,592 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:59:39 +08:00

2018-05-23 15:59:39,592 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 15:59:39 +08:00

2018-05-23 15:59:39,592 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 15:59:39,592 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:59:39,592 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '22' (Type = Int64, IsNullable = false)

2018-05-23 15:59:39,592 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 15:59:39 +08:00

2018-05-23 15:59:39,595 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-23 15:59:39,595 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:59:39,596 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:59:39 +08:00

2018-05-23 15:59:42,963 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 15:59:42 +08:00

2018-05-23 15:59:42,964 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费' = [Extent1].[Description])
2018-05-23 15:59:42,964 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:59:42,964 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 15:59:42 +08:00

2018-05-23 15:59:42,966 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 15:59:42,966 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:59:42,966 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:59:42 +08:00

2018-05-23 15:59:42,966 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/23 15:59:42 +08:00

2018-05-23 15:59:42,967 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND (([Extent1].[PlatformUserId] = @p__linq__0) OR (([Extent1].[PlatformUserId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = [Extent1].[ToPlatformUserId])) OR (([Extent1].[ToPlatformUserId] = @p__linq__2) AND ([Extent1].[ToPlatformUserId] = [Extent1].[FormPlatformUserId])))
    )  AS [GroupBy1]
2018-05-23 15:59:42,967 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:59:42,967 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '39' (Type = Int64)

2018-05-23 15:59:42,967 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '39' (Type = Int64)

2018-05-23 15:59:42,967 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '39' (Type = Int64)

2018-05-23 15:59:42,967 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 15:59:42 +08:00

2018-05-23 15:59:42,970 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-23 15:59:42,970 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:59:42,970 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:59:42 +08:00

2018-05-23 15:59:42,970 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/23 15:59:42 +08:00

2018-05-23 15:59:42,971 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND (([Extent1].[PlatformUserId] = @p__linq__0) OR (([Extent1].[PlatformUserId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = [Extent1].[ToPlatformUserId])) OR (([Extent1].[ToPlatformUserId] = @p__linq__2) AND ([Extent1].[ToPlatformUserId] = [Extent1].[FormPlatformUserId])))
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-23 15:59:42,971 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:59:42,971 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '39' (Type = Int64)

2018-05-23 15:59:42,971 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '39' (Type = Int64)

2018-05-23 15:59:42,971 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '39' (Type = Int64)

2018-05-23 15:59:42,971 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 15:59:42 +08:00

2018-05-23 15:59:42,975 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2018-05-23 15:59:42,975 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:59:42,975 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:59:42 +08:00

2018-05-23 15:59:45,003 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 15:59:45 +08:00

2018-05-23 15:59:45,003 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费' = [Extent1].[Description])
2018-05-23 15:59:45,003 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:59:45,003 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 15:59:45 +08:00

2018-05-23 15:59:45,005 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 15:59:45,005 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:59:45,005 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:59:45 +08:00

2018-05-23 15:59:45,005 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/23 15:59:45 +08:00

2018-05-23 15:59:45,006 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND (([Extent1].[PlatformUserId] = @p__linq__0) OR (([Extent1].[PlatformUserId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = [Extent1].[ToPlatformUserId])) OR (([Extent1].[ToPlatformUserId] = @p__linq__2) AND ([Extent1].[ToPlatformUserId] = [Extent1].[FormPlatformUserId])))
    )  AS [GroupBy1]
2018-05-23 15:59:45,006 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:59:45,006 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '40' (Type = Int64)

2018-05-23 15:59:45,006 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '40' (Type = Int64)

2018-05-23 15:59:45,006 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '40' (Type = Int64)

2018-05-23 15:59:45,006 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 15:59:45 +08:00

2018-05-23 15:59:45,008 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 15:59:45,008 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:59:45,008 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:59:45 +08:00

2018-05-23 15:59:45,008 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/23 15:59:45 +08:00

2018-05-23 15:59:45,008 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND (([Extent1].[PlatformUserId] = @p__linq__0) OR (([Extent1].[PlatformUserId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = [Extent1].[ToPlatformUserId])) OR (([Extent1].[ToPlatformUserId] = @p__linq__2) AND ([Extent1].[ToPlatformUserId] = [Extent1].[FormPlatformUserId])))
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-23 15:59:45,008 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:59:45,009 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '40' (Type = Int64)

2018-05-23 15:59:45,009 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '40' (Type = Int64)

2018-05-23 15:59:45,009 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '40' (Type = Int64)

2018-05-23 15:59:45,009 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 15:59:45 +08:00

2018-05-23 15:59:45,011 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-23 15:59:45,012 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:59:45,012 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:59:45 +08:00

2018-05-23 15:59:45,012 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 15:59:45 +08:00

2018-05-23 15:59:45,012 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 15:59:45,012 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:59:45,012 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '40' (Type = Int64, IsNullable = false)

2018-05-23 15:59:45,012 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 15:59:45 +08:00

2018-05-23 15:59:45,015 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-23 15:59:45,015 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:59:45,016 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:59:45 +08:00

2018-05-23 15:59:45,016 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 15:59:45 +08:00

2018-05-23 15:59:45,016 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 15:59:45,016 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:59:45,016 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-23 15:59:45,016 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 15:59:45 +08:00

2018-05-23 15:59:45,019 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-23 15:59:45,019 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:59:45,019 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:59:45 +08:00

2018-05-23 15:59:45,019 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 15:59:45 +08:00

2018-05-23 15:59:45,019 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 15:59:45,019 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:59:45,019 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-23 15:59:45,019 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 15:59:45 +08:00

2018-05-23 15:59:45,021 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 15:59:45,021 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:59:45,021 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:59:45 +08:00

2018-05-23 15:59:45,021 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 15:59:45 +08:00

2018-05-23 15:59:45,021 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 15:59:45,021 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:59:45,021 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-23 15:59:45,021 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 15:59:45 +08:00

2018-05-23 15:59:45,029 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 7 ms with result: SqlDataReader

2018-05-23 15:59:45,029 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:59:45,029 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:59:45 +08:00

2018-05-23 15:59:45,029 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 15:59:45 +08:00

2018-05-23 15:59:45,029 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 15:59:45,029 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:59:45,029 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-23 15:59:45,029 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 15:59:45 +08:00

2018-05-23 15:59:45,031 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 15:59:45,031 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:59:45,031 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:59:45 +08:00

2018-05-23 15:59:49,485 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 15:59:49 +08:00

2018-05-23 15:59:49,485 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费' = [Extent1].[Description])
2018-05-23 15:59:49,485 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:59:49,485 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 15:59:49 +08:00

2018-05-23 15:59:49,487 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 15:59:49,487 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:59:49,487 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:59:49 +08:00

2018-05-23 15:59:49,488 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/23 15:59:49 +08:00

2018-05-23 15:59:49,488 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND (([Extent1].[PlatformUserId] = @p__linq__0) OR (([Extent1].[PlatformUserId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = [Extent1].[ToPlatformUserId])) OR (([Extent1].[ToPlatformUserId] = @p__linq__2) AND ([Extent1].[ToPlatformUserId] = [Extent1].[FormPlatformUserId])))
    )  AS [GroupBy1]
2018-05-23 15:59:49,488 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:59:49,488 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '19' (Type = Int64)

2018-05-23 15:59:49,488 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '19' (Type = Int64)

2018-05-23 15:59:49,488 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '19' (Type = Int64)

2018-05-23 15:59:49,488 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 15:59:49 +08:00

2018-05-23 15:59:49,498 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 10 ms with result: SqlDataReader

2018-05-23 15:59:49,499 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:59:49,499 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:59:49 +08:00

2018-05-23 15:59:49,499 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/23 15:59:49 +08:00

2018-05-23 15:59:49,499 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND (([Extent1].[PlatformUserId] = @p__linq__0) OR (([Extent1].[PlatformUserId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = [Extent1].[ToPlatformUserId])) OR (([Extent1].[ToPlatformUserId] = @p__linq__2) AND ([Extent1].[ToPlatformUserId] = [Extent1].[FormPlatformUserId])))
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-23 15:59:49,499 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:59:49,500 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '19' (Type = Int64)

2018-05-23 15:59:49,500 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '19' (Type = Int64)

2018-05-23 15:59:49,500 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '19' (Type = Int64)

2018-05-23 15:59:49,500 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 15:59:49 +08:00

2018-05-23 15:59:49,530 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 30 ms with result: SqlDataReader

2018-05-23 15:59:49,531 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:59:49,531 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:59:49 +08:00

2018-05-23 15:59:49,532 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 15:59:49 +08:00

2018-05-23 15:59:49,532 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 15:59:49,532 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:59:49,532 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '19' (Type = Int64, IsNullable = false)

2018-05-23 15:59:49,532 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 15:59:49 +08:00

2018-05-23 15:59:49,905 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 372 ms with result: SqlDataReader

2018-05-23 15:59:49,905 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:59:49,906 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:59:49 +08:00

2018-05-23 15:59:49,906 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 15:59:49 +08:00

2018-05-23 15:59:49,906 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 15:59:49,906 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:59:49,906 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-23 15:59:49,906 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 15:59:49 +08:00

2018-05-23 15:59:50,205 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 299 ms with result: SqlDataReader

2018-05-23 15:59:50,205 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:59:50,206 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:59:50 +08:00

2018-05-23 15:59:50,206 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 15:59:50 +08:00

2018-05-23 15:59:50,206 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 15:59:50,206 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:59:50,206 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '32' (Type = Int64, IsNullable = false)

2018-05-23 15:59:50,206 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 15:59:50 +08:00

2018-05-23 15:59:50,212 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 5 ms with result: SqlDataReader

2018-05-23 15:59:50,212 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:59:50,213 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:59:50 +08:00

2018-05-23 15:59:50,213 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 15:59:50 +08:00

2018-05-23 15:59:50,213 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 15:59:50,213 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:59:50,213 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-23 15:59:50,213 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 15:59:50 +08:00

2018-05-23 15:59:50,215 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 15:59:50,215 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:59:50,216 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:59:50 +08:00

2018-05-23 15:59:50,216 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 15:59:50 +08:00

2018-05-23 15:59:50,216 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 15:59:50,216 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:59:50,216 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-23 15:59:50,216 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 15:59:50 +08:00

2018-05-23 15:59:50,218 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 15:59:50,218 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:59:50,218 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:59:50 +08:00

2018-05-23 15:59:50,219 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 15:59:50 +08:00

2018-05-23 15:59:50,219 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 15:59:50,219 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:59:50,219 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '35' (Type = Int64, IsNullable = false)

2018-05-23 15:59:50,219 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 15:59:50 +08:00

2018-05-23 15:59:50,222 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-23 15:59:50,222 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:59:50,222 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:59:50 +08:00

2018-05-23 15:59:50,223 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 15:59:50 +08:00

2018-05-23 15:59:50,223 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 15:59:50,223 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:59:50,223 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '22' (Type = Int64, IsNullable = false)

2018-05-23 15:59:50,223 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 15:59:50 +08:00

2018-05-23 15:59:50,226 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-23 15:59:50,226 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:59:50,227 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:59:50 +08:00

2018-05-23 15:59:50,227 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 15:59:50 +08:00

2018-05-23 15:59:50,227 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 15:59:50,227 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:59:50,227 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '41' (Type = Int64, IsNullable = false)

2018-05-23 15:59:50,227 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 15:59:50 +08:00

2018-05-23 15:59:50,231 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2018-05-23 15:59:50,231 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:59:50,231 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:59:50 +08:00

2018-05-23 15:59:50,232 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 15:59:50 +08:00

2018-05-23 15:59:50,232 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 15:59:50,232 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:59:50,232 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '5' (Type = Int64, IsNullable = false)

2018-05-23 15:59:50,232 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 15:59:50 +08:00

2018-05-23 15:59:50,234 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 15:59:50,234 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:59:50,234 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:59:50 +08:00

2018-05-23 15:59:55,396 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 15:59:55 +08:00

2018-05-23 15:59:55,396 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM  [dbo].[T_PlatformUsers] AS [Extent1]
        INNER JOIN [dbo].[T_PlatformUserTypes] AS [Extent2] ON [Extent1].[PlatformUserTypeId] = [Extent2].[Id]
        WHERE (0 = [Extent1].[IsDeleted]) AND (([Extent2].[Name] = @p__linq__0) OR (1 = 0))
    )  AS [GroupBy1]
2018-05-23 15:59:55,396 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:59:55,396 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '商家' (Type = String, Size = 4000)

2018-05-23 15:59:55,396 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 15:59:55 +08:00

2018-05-23 15:59:55,398 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 15:59:55,398 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:59:55,398 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:59:55 +08:00

2018-05-23 15:59:55,398 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/23 15:59:55 +08:00

2018-05-23 15:59:55,401 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Code] AS [Code], 
    [Project1].[Description] AS [Description], 
    [Project1].[PlatformIntegral] AS [PlatformIntegral], 
    [Project1].[GivingIntegral] AS [GivingIntegral], 
    [Project1].[UseIntegral] AS [UseIntegral], 
    [Project1].[Salt] AS [Salt], 
    [Project1].[Password] AS [Password], 
    [Project1].[TradePassword] AS [TradePassword], 
    [Project1].[ErrorCount] AS [ErrorCount], 
    [Project1].[ErrorTime] AS [ErrorTime], 
    [Project1].[IsEnabled] AS [IsEnabled], 
    [Project1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Mobile] AS [Mobile], [Project1].[Code] AS [Code], [Project1].[Description] AS [Description], [Project1].[PlatformIntegral] AS [PlatformIntegral], [Project1].[GivingIntegral] AS [GivingIntegral], [Project1].[UseIntegral] AS [UseIntegral], [Project1].[Salt] AS [Salt], [Project1].[Password] AS [Password], [Project1].[TradePassword] AS [TradePassword], [Project1].[ErrorCount] AS [ErrorCount], [Project1].[ErrorTime] AS [ErrorTime], [Project1].[IsEnabled] AS [IsEnabled], [Project1].[PlatformUserTypeId] AS [PlatformUserTypeId], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Code] AS [Code], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
            [Extent1].[GivingIntegral] AS [GivingIntegral], 
            [Extent1].[UseIntegral] AS [UseIntegral], 
            [Extent1].[Salt] AS [Salt], 
            [Extent1].[Password] AS [Password], 
            [Extent1].[TradePassword] AS [TradePassword], 
            [Extent1].[ErrorCount] AS [ErrorCount], 
            [Extent1].[ErrorTime] AS [ErrorTime], 
            [Extent1].[IsEnabled] AS [IsEnabled], 
            [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM  [dbo].[T_PlatformUsers] AS [Extent1]
            INNER JOIN [dbo].[T_PlatformUserTypes] AS [Extent2] ON [Extent1].[PlatformUserTypeId] = [Extent2].[Id]
            WHERE (0 = [Extent1].[IsDeleted]) AND (([Extent2].[Name] = @p__linq__0) OR (1 = 0))
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 10
    ORDER BY [Project1].[CreateTime] DESC
2018-05-23 15:59:55,401 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:59:55,401 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '商家' (Type = String, Size = 4000)

2018-05-23 15:59:55,401 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 15:59:55 +08:00

2018-05-23 15:59:55,404 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2018-05-23 15:59:55,404 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:59:55,404 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:59:55 +08:00

2018-05-23 15:59:55,404 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 15:59:55 +08:00

2018-05-23 15:59:55,405 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 15:59:55,405 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:59:55,405 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-23 15:59:55,405 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 15:59:55 +08:00

2018-05-23 15:59:55,406 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 15:59:55,406 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:59:55,406 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:59:55 +08:00

2018-05-23 15:59:55,407 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/23 15:59:55 +08:00

2018-05-23 15:59:55,407 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2018-05-23 15:59:55,407 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:59:55,407 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2018-05-23 15:59:55,407 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 15:59:55 +08:00

2018-05-23 15:59:55,410 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-23 15:59:55,410 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:59:55,410 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:59:55 +08:00

2018-05-23 15:59:55,410 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 15:59:55 +08:00

2018-05-23 15:59:55,410 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 15:59:55,410 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:59:55,410 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-23 15:59:55,410 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 15:59:55 +08:00

2018-05-23 15:59:55,412 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 15:59:55,412 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:59:55,412 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:59:55 +08:00

2018-05-23 15:59:56,599 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 15:59:56 +08:00

2018-05-23 15:59:56,599 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费' = [Extent1].[Description])
2018-05-23 15:59:56,599 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:59:56,599 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 15:59:56 +08:00

2018-05-23 15:59:56,601 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 15:59:56,601 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:59:56,601 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:59:56 +08:00

2018-05-23 15:59:56,601 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/23 15:59:56 +08:00

2018-05-23 15:59:56,601 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND (([Extent1].[PlatformUserId] = @p__linq__0) OR (([Extent1].[PlatformUserId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = [Extent1].[ToPlatformUserId])) OR (([Extent1].[ToPlatformUserId] = @p__linq__2) AND ([Extent1].[ToPlatformUserId] = [Extent1].[FormPlatformUserId])))
    )  AS [GroupBy1]
2018-05-23 15:59:56,601 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:59:56,602 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-23 15:59:56,602 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2' (Type = Int64)

2018-05-23 15:59:56,602 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2' (Type = Int64)

2018-05-23 15:59:56,602 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 15:59:56 +08:00

2018-05-23 15:59:56,603 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 15:59:56,603 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:59:56,603 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:59:56 +08:00

2018-05-23 15:59:56,604 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/23 15:59:56 +08:00

2018-05-23 15:59:56,605 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND (([Extent1].[PlatformUserId] = @p__linq__0) OR (([Extent1].[PlatformUserId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = [Extent1].[ToPlatformUserId])) OR (([Extent1].[ToPlatformUserId] = @p__linq__2) AND ([Extent1].[ToPlatformUserId] = [Extent1].[FormPlatformUserId])))
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-23 15:59:56,605 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:59:56,605 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64)

2018-05-23 15:59:56,605 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2' (Type = Int64)

2018-05-23 15:59:56,605 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2' (Type = Int64)

2018-05-23 15:59:56,605 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 15:59:56 +08:00

2018-05-23 15:59:56,608 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2018-05-23 15:59:56,608 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:59:56,610 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:59:56 +08:00

2018-05-23 15:59:56,610 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 15:59:56 +08:00

2018-05-23 15:59:56,610 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 15:59:56,610 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:59:56,610 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '40' (Type = Int64, IsNullable = false)

2018-05-23 15:59:56,610 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 15:59:56 +08:00

2018-05-23 15:59:56,613 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-23 15:59:56,613 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:59:56,614 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:59:56 +08:00

2018-05-23 15:59:56,614 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 15:59:56 +08:00

2018-05-23 15:59:56,614 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 15:59:56,614 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:59:56,614 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-23 15:59:56,614 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 15:59:56 +08:00

2018-05-23 15:59:56,617 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-23 15:59:56,617 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:59:56,617 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:59:56 +08:00

2018-05-23 15:59:56,617 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 15:59:56 +08:00

2018-05-23 15:59:56,618 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 15:59:56,618 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:59:56,618 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-23 15:59:56,618 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 15:59:56 +08:00

2018-05-23 15:59:56,619 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 15:59:56,619 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:59:56,619 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:59:56 +08:00

2018-05-23 15:59:56,620 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 15:59:56 +08:00

2018-05-23 15:59:56,620 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 15:59:56,620 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:59:56,620 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-23 15:59:56,620 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 15:59:56 +08:00

2018-05-23 15:59:56,621 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 15:59:56,621 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:59:56,621 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:59:56 +08:00

2018-05-23 15:59:56,622 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 15:59:56 +08:00

2018-05-23 15:59:56,622 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 15:59:56,622 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:59:56,622 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-23 15:59:56,622 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 15:59:56 +08:00

2018-05-23 15:59:56,623 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 15:59:56,623 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:59:56,624 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:59:56 +08:00

2018-05-23 15:59:56,624 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 15:59:56 +08:00

2018-05-23 15:59:56,624 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 15:59:56,624 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:59:56,624 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '38' (Type = Int64, IsNullable = false)

2018-05-23 15:59:56,624 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 15:59:56 +08:00

2018-05-23 15:59:56,627 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-23 15:59:56,627 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:59:56,627 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:59:56 +08:00

2018-05-23 15:59:56,627 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 15:59:56 +08:00

2018-05-23 15:59:56,627 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 15:59:56,627 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:59:56,627 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '22' (Type = Int64, IsNullable = false)

2018-05-23 15:59:56,627 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 15:59:56 +08:00

2018-05-23 15:59:56,630 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-23 15:59:56,630 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:59:56,630 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:59:56 +08:00

2018-05-23 15:59:56,631 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 15:59:56 +08:00

2018-05-23 15:59:56,631 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 15:59:56,631 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:59:56,631 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '35' (Type = Int64, IsNullable = false)

2018-05-23 15:59:56,631 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 15:59:56 +08:00

2018-05-23 15:59:56,634 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-23 15:59:56,634 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:59:56,634 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:59:56 +08:00

2018-05-23 15:59:56,634 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 15:59:56 +08:00

2018-05-23 15:59:56,634 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 15:59:56,634 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:59:56,634 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '4' (Type = Int64, IsNullable = false)

2018-05-23 15:59:56,635 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 15:59:56 +08:00

2018-05-23 15:59:56,637 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-23 15:59:56,638 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:59:56,638 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:59:56 +08:00

2018-05-23 15:59:59,455 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 15:59:59 +08:00

2018-05-23 15:59:59,456 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费' = [Extent1].[Description])
2018-05-23 15:59:59,456 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:59:59,456 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 15:59:59 +08:00

2018-05-23 15:59:59,457 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 15:59:59,457 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:59:59,457 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:59:59 +08:00

2018-05-23 15:59:59,458 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/23 15:59:59 +08:00

2018-05-23 15:59:59,458 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND (([Extent1].[PlatformUserId] = @p__linq__0) OR (([Extent1].[PlatformUserId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = [Extent1].[ToPlatformUserId])) OR (([Extent1].[ToPlatformUserId] = @p__linq__2) AND ([Extent1].[ToPlatformUserId] = [Extent1].[FormPlatformUserId])))
    )  AS [GroupBy1]
2018-05-23 15:59:59,458 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:59:59,458 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '4' (Type = Int64)

2018-05-23 15:59:59,458 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '4' (Type = Int64)

2018-05-23 15:59:59,458 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '4' (Type = Int64)

2018-05-23 15:59:59,458 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 15:59:59 +08:00

2018-05-23 15:59:59,460 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 15:59:59,460 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:59:59,460 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:59:59 +08:00

2018-05-23 15:59:59,460 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/23 15:59:59 +08:00

2018-05-23 15:59:59,461 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND (([Extent1].[PlatformUserId] = @p__linq__0) OR (([Extent1].[PlatformUserId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = [Extent1].[ToPlatformUserId])) OR (([Extent1].[ToPlatformUserId] = @p__linq__2) AND ([Extent1].[ToPlatformUserId] = [Extent1].[FormPlatformUserId])))
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-23 15:59:59,461 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:59:59,461 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '4' (Type = Int64)

2018-05-23 15:59:59,461 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '4' (Type = Int64)

2018-05-23 15:59:59,461 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '4' (Type = Int64)

2018-05-23 15:59:59,461 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 15:59:59 +08:00

2018-05-23 15:59:59,464 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-23 15:59:59,464 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:59:59,464 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:59:59 +08:00

2018-05-23 15:59:59,464 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 15:59:59 +08:00

2018-05-23 15:59:59,464 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 15:59:59,464 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:59:59,464 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '4' (Type = Int64, IsNullable = false)

2018-05-23 15:59:59,464 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 15:59:59 +08:00

2018-05-23 15:59:59,467 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-23 15:59:59,467 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:59:59,468 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:59:59 +08:00

2018-05-23 15:59:59,468 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 15:59:59 +08:00

2018-05-23 15:59:59,468 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 15:59:59,468 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:59:59,468 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-23 15:59:59,468 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 15:59:59 +08:00

2018-05-23 15:59:59,471 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-23 15:59:59,471 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:59:59,471 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:59:59 +08:00

2018-05-23 15:59:59,471 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 15:59:59 +08:00

2018-05-23 15:59:59,471 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 15:59:59,471 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:59:59,471 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-23 15:59:59,471 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 15:59:59 +08:00

2018-05-23 15:59:59,473 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 15:59:59,473 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 15:59:59,473 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 15:59:59 +08:00

2018-05-23 16:00:01,644 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:00:01 +08:00

2018-05-23 16:00:01,645 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费' = [Extent1].[Description])
2018-05-23 16:00:01,645 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:01,645 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:00:01 +08:00

2018-05-23 16:00:01,646 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:00:01,646 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:01,646 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:00:01 +08:00

2018-05-23 16:00:01,647 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/23 16:00:01 +08:00

2018-05-23 16:00:01,647 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND (([Extent1].[PlatformUserId] = @p__linq__0) OR (([Extent1].[PlatformUserId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = [Extent1].[ToPlatformUserId])) OR (([Extent1].[ToPlatformUserId] = @p__linq__2) AND ([Extent1].[ToPlatformUserId] = [Extent1].[FormPlatformUserId])))
    )  AS [GroupBy1]
2018-05-23 16:00:01,647 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:01,647 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '17' (Type = Int64)

2018-05-23 16:00:01,647 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '17' (Type = Int64)

2018-05-23 16:00:01,647 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '17' (Type = Int64)

2018-05-23 16:00:01,647 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 16:00:01 +08:00

2018-05-23 16:00:01,684 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 36 ms with result: SqlDataReader

2018-05-23 16:00:01,684 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:01,684 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:00:01 +08:00

2018-05-23 16:00:01,684 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/23 16:00:01 +08:00

2018-05-23 16:00:01,685 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND (([Extent1].[PlatformUserId] = @p__linq__0) OR (([Extent1].[PlatformUserId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = [Extent1].[ToPlatformUserId])) OR (([Extent1].[ToPlatformUserId] = @p__linq__2) AND ([Extent1].[ToPlatformUserId] = [Extent1].[FormPlatformUserId])))
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-23 16:00:01,685 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:01,685 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '17' (Type = Int64)

2018-05-23 16:00:01,685 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '17' (Type = Int64)

2018-05-23 16:00:01,685 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '17' (Type = Int64)

2018-05-23 16:00:01,685 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 16:00:01 +08:00

2018-05-23 16:00:01,689 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2018-05-23 16:00:01,689 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:01,689 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:00:01 +08:00

2018-05-23 16:00:03,751 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:00:03 +08:00

2018-05-23 16:00:03,751 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费' = [Extent1].[Description])
2018-05-23 16:00:03,751 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:03,752 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:00:03 +08:00

2018-05-23 16:00:03,753 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:00:03,753 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:03,753 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:00:03 +08:00

2018-05-23 16:00:03,754 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/23 16:00:03 +08:00

2018-05-23 16:00:03,754 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND (([Extent1].[PlatformUserId] = @p__linq__0) OR (([Extent1].[PlatformUserId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = [Extent1].[ToPlatformUserId])) OR (([Extent1].[ToPlatformUserId] = @p__linq__2) AND ([Extent1].[ToPlatformUserId] = [Extent1].[FormPlatformUserId])))
    )  AS [GroupBy1]
2018-05-23 16:00:03,754 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:03,754 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '18' (Type = Int64)

2018-05-23 16:00:03,754 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '18' (Type = Int64)

2018-05-23 16:00:03,754 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '18' (Type = Int64)

2018-05-23 16:00:03,754 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 16:00:03 +08:00

2018-05-23 16:00:03,758 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2018-05-23 16:00:03,758 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:03,758 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:00:03 +08:00

2018-05-23 16:00:03,758 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/23 16:00:03 +08:00

2018-05-23 16:00:03,759 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND (([Extent1].[PlatformUserId] = @p__linq__0) OR (([Extent1].[PlatformUserId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = [Extent1].[ToPlatformUserId])) OR (([Extent1].[ToPlatformUserId] = @p__linq__2) AND ([Extent1].[ToPlatformUserId] = [Extent1].[FormPlatformUserId])))
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-23 16:00:03,759 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:03,759 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '18' (Type = Int64)

2018-05-23 16:00:03,759 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '18' (Type = Int64)

2018-05-23 16:00:03,759 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '18' (Type = Int64)

2018-05-23 16:00:03,759 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 16:00:03 +08:00

2018-05-23 16:00:03,762 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2018-05-23 16:00:03,762 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:03,762 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:00:03 +08:00

2018-05-23 16:00:06,576 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:00:06 +08:00

2018-05-23 16:00:06,576 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM  [dbo].[T_PlatformUsers] AS [Extent1]
        INNER JOIN [dbo].[T_PlatformUserTypes] AS [Extent2] ON [Extent1].[PlatformUserTypeId] = [Extent2].[Id]
        WHERE (0 = [Extent1].[IsDeleted]) AND (([Extent2].[Name] = @p__linq__0) OR (1 = 0))
    )  AS [GroupBy1]
2018-05-23 16:00:06,576 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:06,576 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '商家' (Type = String, Size = 4000)

2018-05-23 16:00:06,576 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:00:06 +08:00

2018-05-23 16:00:06,578 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:00:06,578 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:06,578 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:00:06 +08:00

2018-05-23 16:00:06,578 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/23 16:00:06 +08:00

2018-05-23 16:00:06,579 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Code] AS [Code], 
    [Project1].[Description] AS [Description], 
    [Project1].[PlatformIntegral] AS [PlatformIntegral], 
    [Project1].[GivingIntegral] AS [GivingIntegral], 
    [Project1].[UseIntegral] AS [UseIntegral], 
    [Project1].[Salt] AS [Salt], 
    [Project1].[Password] AS [Password], 
    [Project1].[TradePassword] AS [TradePassword], 
    [Project1].[ErrorCount] AS [ErrorCount], 
    [Project1].[ErrorTime] AS [ErrorTime], 
    [Project1].[IsEnabled] AS [IsEnabled], 
    [Project1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Mobile] AS [Mobile], [Project1].[Code] AS [Code], [Project1].[Description] AS [Description], [Project1].[PlatformIntegral] AS [PlatformIntegral], [Project1].[GivingIntegral] AS [GivingIntegral], [Project1].[UseIntegral] AS [UseIntegral], [Project1].[Salt] AS [Salt], [Project1].[Password] AS [Password], [Project1].[TradePassword] AS [TradePassword], [Project1].[ErrorCount] AS [ErrorCount], [Project1].[ErrorTime] AS [ErrorTime], [Project1].[IsEnabled] AS [IsEnabled], [Project1].[PlatformUserTypeId] AS [PlatformUserTypeId], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Code] AS [Code], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
            [Extent1].[GivingIntegral] AS [GivingIntegral], 
            [Extent1].[UseIntegral] AS [UseIntegral], 
            [Extent1].[Salt] AS [Salt], 
            [Extent1].[Password] AS [Password], 
            [Extent1].[TradePassword] AS [TradePassword], 
            [Extent1].[ErrorCount] AS [ErrorCount], 
            [Extent1].[ErrorTime] AS [ErrorTime], 
            [Extent1].[IsEnabled] AS [IsEnabled], 
            [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM  [dbo].[T_PlatformUsers] AS [Extent1]
            INNER JOIN [dbo].[T_PlatformUserTypes] AS [Extent2] ON [Extent1].[PlatformUserTypeId] = [Extent2].[Id]
            WHERE (0 = [Extent1].[IsDeleted]) AND (([Extent2].[Name] = @p__linq__0) OR (1 = 0))
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-23 16:00:06,579 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:06,579 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '商家' (Type = String, Size = 4000)

2018-05-23 16:00:06,579 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 16:00:06 +08:00

2018-05-23 16:00:06,583 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 4 ms with result: SqlDataReader

2018-05-23 16:00:06,584 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:06,584 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:00:06 +08:00

2018-05-23 16:00:06,584 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:00:06 +08:00

2018-05-23 16:00:06,584 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:00:06,584 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:06,584 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-23 16:00:06,584 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:00:06 +08:00

2018-05-23 16:00:06,586 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:00:06,586 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:06,586 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:00:06 +08:00

2018-05-23 16:00:06,587 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/23 16:00:06 +08:00

2018-05-23 16:00:06,587 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2018-05-23 16:00:06,587 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:06,587 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2018-05-23 16:00:06,587 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 16:00:06 +08:00

2018-05-23 16:00:06,590 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-23 16:00:06,590 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:06,590 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:00:06 +08:00

2018-05-23 16:00:06,590 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:00:06 +08:00

2018-05-23 16:00:06,590 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:00:06,590 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:06,590 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-23 16:00:06,590 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:00:06 +08:00

2018-05-23 16:00:06,592 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:00:06,592 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:06,592 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:00:06 +08:00

2018-05-23 16:00:07,615 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:00:07 +08:00

2018-05-23 16:00:07,615 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费' = [Extent1].[Description])
2018-05-23 16:00:07,615 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:07,615 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:00:07 +08:00

2018-05-23 16:00:07,617 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:00:07,617 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:07,617 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:00:07 +08:00

2018-05-23 16:00:07,617 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/23 16:00:07 +08:00

2018-05-23 16:00:07,618 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND (([Extent1].[PlatformUserId] = @p__linq__0) OR (([Extent1].[PlatformUserId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = [Extent1].[ToPlatformUserId])) OR (([Extent1].[ToPlatformUserId] = @p__linq__2) AND ([Extent1].[ToPlatformUserId] = [Extent1].[FormPlatformUserId])))
    )  AS [GroupBy1]
2018-05-23 16:00:07,618 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:07,618 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '32' (Type = Int64)

2018-05-23 16:00:07,618 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '32' (Type = Int64)

2018-05-23 16:00:07,618 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '32' (Type = Int64)

2018-05-23 16:00:07,618 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 16:00:07 +08:00

2018-05-23 16:00:07,620 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:00:07,620 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:07,620 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:00:07 +08:00

2018-05-23 16:00:07,620 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/23 16:00:07 +08:00

2018-05-23 16:00:07,620 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND (([Extent1].[PlatformUserId] = @p__linq__0) OR (([Extent1].[PlatformUserId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = [Extent1].[ToPlatformUserId])) OR (([Extent1].[ToPlatformUserId] = @p__linq__2) AND ([Extent1].[ToPlatformUserId] = [Extent1].[FormPlatformUserId])))
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-23 16:00:07,620 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:07,621 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '32' (Type = Int64)

2018-05-23 16:00:07,621 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '32' (Type = Int64)

2018-05-23 16:00:07,621 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '32' (Type = Int64)

2018-05-23 16:00:07,621 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 16:00:07 +08:00

2018-05-23 16:00:07,627 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 6 ms with result: SqlDataReader

2018-05-23 16:00:07,627 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:07,627 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:00:07 +08:00

2018-05-23 16:00:07,627 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:00:07 +08:00

2018-05-23 16:00:07,627 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:00:07,627 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:07,627 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '19' (Type = Int64, IsNullable = false)

2018-05-23 16:00:07,627 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:00:07 +08:00

2018-05-23 16:00:07,630 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-23 16:00:07,630 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:07,631 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:00:07 +08:00

2018-05-23 16:00:07,631 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:00:07 +08:00

2018-05-23 16:00:07,631 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:00:07,631 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:07,631 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-23 16:00:07,631 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:00:07 +08:00

2018-05-23 16:00:07,632 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:00:07,632 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:07,633 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:00:07 +08:00

2018-05-23 16:00:07,633 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:00:07 +08:00

2018-05-23 16:00:07,633 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:00:07,633 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:07,633 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '32' (Type = Int64, IsNullable = false)

2018-05-23 16:00:07,633 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:00:07 +08:00

2018-05-23 16:00:07,636 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-23 16:00:07,636 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:07,636 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:00:07 +08:00

2018-05-23 16:00:07,636 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:00:07 +08:00

2018-05-23 16:00:07,636 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:00:07,636 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:07,636 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-23 16:00:07,636 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:00:07 +08:00

2018-05-23 16:00:07,638 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:00:07,638 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:07,638 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:00:07 +08:00

2018-05-23 16:00:07,638 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:00:07 +08:00

2018-05-23 16:00:07,638 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:00:07,638 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:07,638 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-23 16:00:07,638 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:00:07 +08:00

2018-05-23 16:00:07,639 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:00:07,639 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:07,640 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:00:07 +08:00

2018-05-23 16:00:10,016 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:00:10 +08:00

2018-05-23 16:00:10,016 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费' = [Extent1].[Description])
2018-05-23 16:00:10,016 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:10,016 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:00:10 +08:00

2018-05-23 16:00:10,018 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:00:10,018 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:10,018 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:00:10 +08:00

2018-05-23 16:00:10,018 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/23 16:00:10 +08:00

2018-05-23 16:00:10,019 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND (([Extent1].[PlatformUserId] = @p__linq__0) OR (([Extent1].[PlatformUserId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = [Extent1].[ToPlatformUserId])) OR (([Extent1].[ToPlatformUserId] = @p__linq__2) AND ([Extent1].[ToPlatformUserId] = [Extent1].[FormPlatformUserId])))
    )  AS [GroupBy1]
2018-05-23 16:00:10,019 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:10,019 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '24' (Type = Int64)

2018-05-23 16:00:10,019 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '24' (Type = Int64)

2018-05-23 16:00:10,019 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '24' (Type = Int64)

2018-05-23 16:00:10,019 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 16:00:10 +08:00

2018-05-23 16:00:10,021 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:00:10,021 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:10,022 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:00:10 +08:00

2018-05-23 16:00:10,022 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/23 16:00:10 +08:00

2018-05-23 16:00:10,022 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND (([Extent1].[PlatformUserId] = @p__linq__0) OR (([Extent1].[PlatformUserId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = [Extent1].[ToPlatformUserId])) OR (([Extent1].[ToPlatformUserId] = @p__linq__2) AND ([Extent1].[ToPlatformUserId] = [Extent1].[FormPlatformUserId])))
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-23 16:00:10,023 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:10,023 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '24' (Type = Int64)

2018-05-23 16:00:10,023 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '24' (Type = Int64)

2018-05-23 16:00:10,023 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '24' (Type = Int64)

2018-05-23 16:00:10,023 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 16:00:10 +08:00

2018-05-23 16:00:10,026 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2018-05-23 16:00:10,026 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:10,027 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:00:10 +08:00

2018-05-23 16:00:10,027 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:00:10 +08:00

2018-05-23 16:00:10,027 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:00:10,027 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:10,027 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '24' (Type = Int64, IsNullable = false)

2018-05-23 16:00:10,027 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:00:10 +08:00

2018-05-23 16:00:10,030 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2018-05-23 16:00:10,030 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:10,031 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:00:10 +08:00

2018-05-23 16:00:10,031 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:00:10 +08:00

2018-05-23 16:00:10,031 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:00:10,031 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:10,031 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-23 16:00:10,031 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:00:10 +08:00

2018-05-23 16:00:10,033 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:00:10,033 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:10,033 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:00:10 +08:00

2018-05-23 16:00:10,033 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:00:10 +08:00

2018-05-23 16:00:10,033 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:00:10,033 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:10,033 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '30' (Type = Int64, IsNullable = false)

2018-05-23 16:00:10,033 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:00:10 +08:00

2018-05-23 16:00:10,036 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-23 16:00:10,036 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:10,036 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:00:10 +08:00

2018-05-23 16:00:10,036 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:00:10 +08:00

2018-05-23 16:00:10,036 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:00:10,036 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:10,036 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-23 16:00:10,036 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:00:10 +08:00

2018-05-23 16:00:10,038 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:00:10,038 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:10,038 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:00:10 +08:00

2018-05-23 16:00:10,038 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:00:10 +08:00

2018-05-23 16:00:10,038 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:00:10,038 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:10,038 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-23 16:00:10,038 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:00:10 +08:00

2018-05-23 16:00:10,040 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:00:10,040 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:10,040 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:00:10 +08:00

2018-05-23 16:00:12,882 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:00:12 +08:00

2018-05-23 16:00:12,882 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费' = [Extent1].[Description])
2018-05-23 16:00:12,882 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:12,882 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:00:12 +08:00

2018-05-23 16:00:12,884 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:00:12,884 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:12,884 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:00:12 +08:00

2018-05-23 16:00:12,884 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/23 16:00:12 +08:00

2018-05-23 16:00:12,885 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND (([Extent1].[PlatformUserId] = @p__linq__0) OR (([Extent1].[PlatformUserId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = [Extent1].[ToPlatformUserId])) OR (([Extent1].[ToPlatformUserId] = @p__linq__2) AND ([Extent1].[ToPlatformUserId] = [Extent1].[FormPlatformUserId])))
    )  AS [GroupBy1]
2018-05-23 16:00:12,885 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:12,885 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '33' (Type = Int64)

2018-05-23 16:00:12,885 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '33' (Type = Int64)

2018-05-23 16:00:12,885 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '33' (Type = Int64)

2018-05-23 16:00:12,885 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 16:00:12 +08:00

2018-05-23 16:00:12,887 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:00:12,887 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:12,887 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:00:12 +08:00

2018-05-23 16:00:12,888 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/23 16:00:12 +08:00

2018-05-23 16:00:12,888 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND (([Extent1].[PlatformUserId] = @p__linq__0) OR (([Extent1].[PlatformUserId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = [Extent1].[ToPlatformUserId])) OR (([Extent1].[ToPlatformUserId] = @p__linq__2) AND ([Extent1].[ToPlatformUserId] = [Extent1].[FormPlatformUserId])))
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-23 16:00:12,888 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:12,888 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '33' (Type = Int64)

2018-05-23 16:00:12,888 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '33' (Type = Int64)

2018-05-23 16:00:12,888 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '33' (Type = Int64)

2018-05-23 16:00:12,888 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 16:00:12 +08:00

2018-05-23 16:00:12,891 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2018-05-23 16:00:12,891 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:12,892 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:00:12 +08:00

2018-05-23 16:00:14,735 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:00:14 +08:00

2018-05-23 16:00:14,736 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费' = [Extent1].[Description])
2018-05-23 16:00:14,736 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:14,736 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:00:14 +08:00

2018-05-23 16:00:14,737 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:00:14,737 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:14,737 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:00:14 +08:00

2018-05-23 16:00:14,738 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/23 16:00:14 +08:00

2018-05-23 16:00:14,738 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND (([Extent1].[PlatformUserId] = @p__linq__0) OR (([Extent1].[PlatformUserId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = [Extent1].[ToPlatformUserId])) OR (([Extent1].[ToPlatformUserId] = @p__linq__2) AND ([Extent1].[ToPlatformUserId] = [Extent1].[FormPlatformUserId])))
    )  AS [GroupBy1]
2018-05-23 16:00:14,738 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:14,738 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '35' (Type = Int64)

2018-05-23 16:00:14,738 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '35' (Type = Int64)

2018-05-23 16:00:14,738 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '35' (Type = Int64)

2018-05-23 16:00:14,738 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 16:00:14 +08:00

2018-05-23 16:00:14,741 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-23 16:00:14,741 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:14,741 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:00:14 +08:00

2018-05-23 16:00:14,741 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/23 16:00:14 +08:00

2018-05-23 16:00:14,742 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND (([Extent1].[PlatformUserId] = @p__linq__0) OR (([Extent1].[PlatformUserId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = [Extent1].[ToPlatformUserId])) OR (([Extent1].[ToPlatformUserId] = @p__linq__2) AND ([Extent1].[ToPlatformUserId] = [Extent1].[FormPlatformUserId])))
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-23 16:00:14,742 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:14,742 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '35' (Type = Int64)

2018-05-23 16:00:14,742 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '35' (Type = Int64)

2018-05-23 16:00:14,742 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '35' (Type = Int64)

2018-05-23 16:00:14,742 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 16:00:14 +08:00

2018-05-23 16:00:14,746 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2018-05-23 16:00:14,746 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:14,747 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:00:14 +08:00

2018-05-23 16:00:14,747 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:00:14 +08:00

2018-05-23 16:00:14,747 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:00:14,747 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:14,747 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '19' (Type = Int64, IsNullable = false)

2018-05-23 16:00:14,747 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:00:14 +08:00

2018-05-23 16:00:14,750 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-23 16:00:14,750 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:14,751 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:00:14 +08:00

2018-05-23 16:00:14,751 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:00:14 +08:00

2018-05-23 16:00:14,751 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:00:14,751 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:14,751 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-23 16:00:14,751 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:00:14 +08:00

2018-05-23 16:00:14,752 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:00:14,752 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:14,753 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:00:14 +08:00

2018-05-23 16:00:14,753 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:00:14 +08:00

2018-05-23 16:00:14,753 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:00:14,753 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:14,753 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '35' (Type = Int64, IsNullable = false)

2018-05-23 16:00:14,753 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:00:14 +08:00

2018-05-23 16:00:14,756 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-23 16:00:14,756 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:14,756 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:00:14 +08:00

2018-05-23 16:00:14,756 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:00:14 +08:00

2018-05-23 16:00:14,756 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:00:14,756 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:14,757 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-23 16:00:14,757 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:00:14 +08:00

2018-05-23 16:00:14,758 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:00:14,758 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:14,758 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:00:14 +08:00

2018-05-23 16:00:14,758 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:00:14 +08:00

2018-05-23 16:00:14,758 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:00:14,758 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:14,758 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-23 16:00:14,758 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:00:14 +08:00

2018-05-23 16:00:14,760 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:00:14,760 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:14,760 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:00:14 +08:00

2018-05-23 16:00:14,760 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:00:14 +08:00

2018-05-23 16:00:14,760 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:00:14,760 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:14,760 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '5' (Type = Int64, IsNullable = false)

2018-05-23 16:00:14,760 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:00:14 +08:00

2018-05-23 16:00:14,762 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:00:14,762 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:14,762 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:00:14 +08:00

2018-05-23 16:00:14,762 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:00:14 +08:00

2018-05-23 16:00:14,762 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:00:14,762 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:14,762 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-23 16:00:14,762 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:00:14 +08:00

2018-05-23 16:00:14,764 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:00:14,764 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:14,764 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:00:14 +08:00

2018-05-23 16:00:14,764 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:00:14 +08:00

2018-05-23 16:00:14,764 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:00:14,764 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:14,764 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-23 16:00:14,764 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:00:14 +08:00

2018-05-23 16:00:14,767 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-23 16:00:14,767 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:14,767 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:00:14 +08:00

2018-05-23 16:00:14,767 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:00:14 +08:00

2018-05-23 16:00:14,767 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:00:14,767 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:14,767 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-23 16:00:14,767 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:00:14 +08:00

2018-05-23 16:00:14,770 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-23 16:00:14,770 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:14,770 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:00:14 +08:00

2018-05-23 16:00:28,938 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:00:28 +08:00

2018-05-23 16:00:28,938 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费' = [Extent1].[Description])
2018-05-23 16:00:28,938 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:28,938 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:00:28 +08:00

2018-05-23 16:00:28,940 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:00:28,940 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:28,940 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:00:28 +08:00

2018-05-23 16:00:28,940 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/23 16:00:28 +08:00

2018-05-23 16:00:28,941 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND (([Extent1].[PlatformUserId] = @p__linq__0) OR (([Extent1].[PlatformUserId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = [Extent1].[ToPlatformUserId])) OR (([Extent1].[ToPlatformUserId] = @p__linq__2) AND ([Extent1].[ToPlatformUserId] = [Extent1].[FormPlatformUserId])))
    )  AS [GroupBy1]
2018-05-23 16:00:28,941 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:28,941 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '40' (Type = Int64)

2018-05-23 16:00:28,941 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '40' (Type = Int64)

2018-05-23 16:00:28,941 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '40' (Type = Int64)

2018-05-23 16:00:28,941 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 16:00:28 +08:00

2018-05-23 16:00:28,943 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:00:28,943 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:28,943 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:00:28 +08:00

2018-05-23 16:00:28,943 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/23 16:00:28 +08:00

2018-05-23 16:00:28,944 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND (([Extent1].[PlatformUserId] = @p__linq__0) OR (([Extent1].[PlatformUserId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = [Extent1].[ToPlatformUserId])) OR (([Extent1].[ToPlatformUserId] = @p__linq__2) AND ([Extent1].[ToPlatformUserId] = [Extent1].[FormPlatformUserId])))
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-23 16:00:28,944 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:28,944 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '40' (Type = Int64)

2018-05-23 16:00:28,944 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '40' (Type = Int64)

2018-05-23 16:00:28,944 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '40' (Type = Int64)

2018-05-23 16:00:28,944 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 16:00:28 +08:00

2018-05-23 16:00:28,948 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 4 ms with result: SqlDataReader

2018-05-23 16:00:28,948 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:28,949 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:00:28 +08:00

2018-05-23 16:00:28,949 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:00:28 +08:00

2018-05-23 16:00:28,949 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:00:28,949 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:28,949 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '40' (Type = Int64, IsNullable = false)

2018-05-23 16:00:28,949 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:00:28 +08:00

2018-05-23 16:00:28,952 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-23 16:00:28,952 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:28,952 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:00:28 +08:00

2018-05-23 16:00:28,952 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:00:28 +08:00

2018-05-23 16:00:28,952 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:00:28,952 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:28,952 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-23 16:00:28,952 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:00:28 +08:00

2018-05-23 16:00:28,955 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-23 16:00:28,955 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:28,955 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:00:28 +08:00

2018-05-23 16:00:28,955 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:00:28 +08:00

2018-05-23 16:00:28,955 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:00:28,955 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:28,955 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-23 16:00:28,955 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:00:28 +08:00

2018-05-23 16:00:28,957 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:00:28,957 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:28,957 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:00:28 +08:00

2018-05-23 16:00:28,957 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:00:28 +08:00

2018-05-23 16:00:28,957 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:00:28,957 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:28,957 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-23 16:00:28,957 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:00:28 +08:00

2018-05-23 16:00:28,959 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:00:28,959 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:28,959 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:00:28 +08:00

2018-05-23 16:00:28,959 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:00:28 +08:00

2018-05-23 16:00:28,959 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:00:28,959 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:28,959 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-23 16:00:28,960 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:00:28 +08:00

2018-05-23 16:00:28,961 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:00:28,961 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:28,961 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:00:28 +08:00

2018-05-23 16:00:31,005 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:00:31 +08:00

2018-05-23 16:00:31,005 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费' = [Extent1].[Description])
2018-05-23 16:00:31,005 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:31,005 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:00:31 +08:00

2018-05-23 16:00:31,007 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:00:31,007 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:31,007 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:00:31 +08:00

2018-05-23 16:00:31,007 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/23 16:00:31 +08:00

2018-05-23 16:00:31,008 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND (([Extent1].[PlatformUserId] = @p__linq__0) OR (([Extent1].[PlatformUserId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = [Extent1].[ToPlatformUserId])) OR (([Extent1].[ToPlatformUserId] = @p__linq__2) AND ([Extent1].[ToPlatformUserId] = [Extent1].[FormPlatformUserId])))
    )  AS [GroupBy1]
2018-05-23 16:00:31,008 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:31,008 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '39' (Type = Int64)

2018-05-23 16:00:31,008 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '39' (Type = Int64)

2018-05-23 16:00:31,008 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '39' (Type = Int64)

2018-05-23 16:00:31,008 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 16:00:31 +08:00

2018-05-23 16:00:31,010 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:00:31,010 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:31,010 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:00:31 +08:00

2018-05-23 16:00:31,010 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/23 16:00:31 +08:00

2018-05-23 16:00:31,011 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND (([Extent1].[PlatformUserId] = @p__linq__0) OR (([Extent1].[PlatformUserId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = [Extent1].[ToPlatformUserId])) OR (([Extent1].[ToPlatformUserId] = @p__linq__2) AND ([Extent1].[ToPlatformUserId] = [Extent1].[FormPlatformUserId])))
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-23 16:00:31,011 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:31,011 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '39' (Type = Int64)

2018-05-23 16:00:31,011 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '39' (Type = Int64)

2018-05-23 16:00:31,011 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '39' (Type = Int64)

2018-05-23 16:00:31,011 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 16:00:31 +08:00

2018-05-23 16:00:31,014 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-23 16:00:31,014 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:31,014 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:00:31 +08:00

2018-05-23 16:00:34,497 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:00:34 +08:00

2018-05-23 16:00:34,498 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费' = [Extent1].[Description])
2018-05-23 16:00:34,498 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:34,498 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:00:34 +08:00

2018-05-23 16:00:34,499 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:00:34,500 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:34,500 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:00:34 +08:00

2018-05-23 16:00:34,500 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/23 16:00:34 +08:00

2018-05-23 16:00:34,500 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND (([Extent1].[PlatformUserId] = @p__linq__0) OR (([Extent1].[PlatformUserId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = [Extent1].[ToPlatformUserId])) OR (([Extent1].[ToPlatformUserId] = @p__linq__2) AND ([Extent1].[ToPlatformUserId] = [Extent1].[FormPlatformUserId])))
    )  AS [GroupBy1]
2018-05-23 16:00:34,500 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:34,500 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '38' (Type = Int64)

2018-05-23 16:00:34,500 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '38' (Type = Int64)

2018-05-23 16:00:34,500 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '38' (Type = Int64)

2018-05-23 16:00:34,501 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 16:00:34 +08:00

2018-05-23 16:00:34,503 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-23 16:00:34,503 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:34,503 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:00:34 +08:00

2018-05-23 16:00:34,503 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/23 16:00:34 +08:00

2018-05-23 16:00:34,504 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND (([Extent1].[PlatformUserId] = @p__linq__0) OR (([Extent1].[PlatformUserId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = [Extent1].[ToPlatformUserId])) OR (([Extent1].[ToPlatformUserId] = @p__linq__2) AND ([Extent1].[ToPlatformUserId] = [Extent1].[FormPlatformUserId])))
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-23 16:00:34,504 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:34,504 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '38' (Type = Int64)

2018-05-23 16:00:34,504 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '38' (Type = Int64)

2018-05-23 16:00:34,504 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '38' (Type = Int64)

2018-05-23 16:00:34,504 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 16:00:34 +08:00

2018-05-23 16:00:34,507 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-23 16:00:34,507 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:34,508 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:00:34 +08:00

2018-05-23 16:00:34,508 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:00:34 +08:00

2018-05-23 16:00:34,508 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:00:34,508 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:34,508 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '38' (Type = Int64, IsNullable = false)

2018-05-23 16:00:34,508 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:00:34 +08:00

2018-05-23 16:00:34,511 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-23 16:00:34,511 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:34,511 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:00:34 +08:00

2018-05-23 16:00:34,511 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:00:34 +08:00

2018-05-23 16:00:34,511 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:00:34,511 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:34,512 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-23 16:00:34,512 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:00:34 +08:00

2018-05-23 16:00:34,524 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 12 ms with result: SqlDataReader

2018-05-23 16:00:34,524 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:34,524 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:00:34 +08:00

2018-05-23 16:00:34,524 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:00:34 +08:00

2018-05-23 16:00:34,525 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:00:34,525 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:34,525 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-23 16:00:34,525 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:00:34 +08:00

2018-05-23 16:00:34,577 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 52 ms with result: SqlDataReader

2018-05-23 16:00:34,577 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:34,577 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:00:34 +08:00

2018-05-23 16:00:34,578 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:00:34 +08:00

2018-05-23 16:00:34,578 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:00:34,578 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:34,578 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-23 16:00:34,578 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:00:34 +08:00

2018-05-23 16:00:34,579 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:00:34,579 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:34,579 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:00:34 +08:00

2018-05-23 16:00:34,580 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:00:34 +08:00

2018-05-23 16:00:34,580 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:00:34,580 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:34,580 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-23 16:00:34,580 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:00:34 +08:00

2018-05-23 16:00:34,581 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:00:34,581 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:34,581 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:00:34 +08:00

2018-05-23 16:00:34,581 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:00:34 +08:00

2018-05-23 16:00:34,581 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:00:34,581 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:34,581 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-23 16:00:34,581 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:00:34 +08:00

2018-05-23 16:00:34,584 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-23 16:00:34,584 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:34,585 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:00:34 +08:00

2018-05-23 16:00:34,585 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:00:34 +08:00

2018-05-23 16:00:34,585 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:00:34,585 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:34,585 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-23 16:00:34,585 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:00:34 +08:00

2018-05-23 16:00:34,586 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:00:34,586 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:34,587 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:00:34 +08:00

2018-05-23 16:00:34,587 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:00:34 +08:00

2018-05-23 16:00:34,587 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:00:34,587 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:34,587 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-23 16:00:34,587 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:00:34 +08:00

2018-05-23 16:00:34,588 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:00:34,589 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:34,589 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:00:34 +08:00

2018-05-23 16:00:36,746 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:00:36 +08:00

2018-05-23 16:00:36,746 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费' = [Extent1].[Description])
2018-05-23 16:00:36,746 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:36,746 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:00:36 +08:00

2018-05-23 16:00:36,748 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:00:36,748 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:36,748 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:00:36 +08:00

2018-05-23 16:00:36,748 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/23 16:00:36 +08:00

2018-05-23 16:00:36,749 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND (([Extent1].[PlatformUserId] = @p__linq__0) OR (([Extent1].[PlatformUserId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = [Extent1].[ToPlatformUserId])) OR (([Extent1].[ToPlatformUserId] = @p__linq__2) AND ([Extent1].[ToPlatformUserId] = [Extent1].[FormPlatformUserId])))
    )  AS [GroupBy1]
2018-05-23 16:00:36,749 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:36,749 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '41' (Type = Int64)

2018-05-23 16:00:36,749 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '41' (Type = Int64)

2018-05-23 16:00:36,749 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '41' (Type = Int64)

2018-05-23 16:00:36,749 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 16:00:36 +08:00

2018-05-23 16:00:36,751 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-23 16:00:36,751 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:36,751 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:00:36 +08:00

2018-05-23 16:00:36,752 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/23 16:00:36 +08:00

2018-05-23 16:00:36,752 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND (([Extent1].[PlatformUserId] = @p__linq__0) OR (([Extent1].[PlatformUserId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = [Extent1].[ToPlatformUserId])) OR (([Extent1].[ToPlatformUserId] = @p__linq__2) AND ([Extent1].[ToPlatformUserId] = [Extent1].[FormPlatformUserId])))
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-23 16:00:36,752 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:36,752 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '41' (Type = Int64)

2018-05-23 16:00:36,752 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '41' (Type = Int64)

2018-05-23 16:00:36,752 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '41' (Type = Int64)

2018-05-23 16:00:36,752 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 16:00:36 +08:00

2018-05-23 16:00:36,756 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2018-05-23 16:00:36,756 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:36,756 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:00:36 +08:00

2018-05-23 16:00:36,756 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:00:36 +08:00

2018-05-23 16:00:36,756 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:00:36,756 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:36,756 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '19' (Type = Int64, IsNullable = false)

2018-05-23 16:00:36,756 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:00:36 +08:00

2018-05-23 16:00:36,759 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-23 16:00:36,759 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:36,760 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:00:36 +08:00

2018-05-23 16:00:36,760 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:00:36 +08:00

2018-05-23 16:00:36,760 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:00:36,760 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:36,760 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-23 16:00:36,760 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:00:36 +08:00

2018-05-23 16:00:36,761 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:00:36,761 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:36,762 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:00:36 +08:00

2018-05-23 16:00:36,762 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:00:36 +08:00

2018-05-23 16:00:36,762 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:00:36,762 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:36,762 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '41' (Type = Int64, IsNullable = false)

2018-05-23 16:00:36,762 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:00:36 +08:00

2018-05-23 16:00:36,765 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-23 16:00:36,765 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:36,765 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:00:36 +08:00

2018-05-23 16:00:36,765 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:00:36 +08:00

2018-05-23 16:00:36,765 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:00:36,765 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:36,765 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-23 16:00:36,765 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:00:36 +08:00

2018-05-23 16:00:36,767 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:00:36,767 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:36,767 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:00:36 +08:00

2018-05-23 16:00:36,767 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:00:36 +08:00

2018-05-23 16:00:36,767 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:00:36,767 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:36,767 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-23 16:00:36,767 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:00:36 +08:00

2018-05-23 16:00:36,769 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:00:36,769 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:36,769 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:00:36 +08:00

2018-05-23 16:00:36,769 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:00:36 +08:00

2018-05-23 16:00:36,769 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:00:36,769 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:36,769 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '22' (Type = Int64, IsNullable = false)

2018-05-23 16:00:36,769 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:00:36 +08:00

2018-05-23 16:00:36,772 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-23 16:00:36,772 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:36,772 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:00:36 +08:00

2018-05-23 16:00:39,157 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:00:39 +08:00

2018-05-23 16:00:39,157 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费' = [Extent1].[Description])
2018-05-23 16:00:39,158 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:39,158 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:00:39 +08:00

2018-05-23 16:00:39,159 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:00:39,159 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:39,159 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:00:39 +08:00

2018-05-23 16:00:39,160 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/23 16:00:39 +08:00

2018-05-23 16:00:39,160 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND (([Extent1].[PlatformUserId] = @p__linq__0) OR (([Extent1].[PlatformUserId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = [Extent1].[ToPlatformUserId])) OR (([Extent1].[ToPlatformUserId] = @p__linq__2) AND ([Extent1].[ToPlatformUserId] = [Extent1].[FormPlatformUserId])))
    )  AS [GroupBy1]
2018-05-23 16:00:39,160 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:39,160 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '35' (Type = Int64)

2018-05-23 16:00:39,160 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '35' (Type = Int64)

2018-05-23 16:00:39,160 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '35' (Type = Int64)

2018-05-23 16:00:39,160 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 16:00:39 +08:00

2018-05-23 16:00:39,162 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:00:39,162 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:39,162 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:00:39 +08:00

2018-05-23 16:00:39,162 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/23 16:00:39 +08:00

2018-05-23 16:00:39,163 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND (([Extent1].[PlatformUserId] = @p__linq__0) OR (([Extent1].[PlatformUserId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = [Extent1].[ToPlatformUserId])) OR (([Extent1].[ToPlatformUserId] = @p__linq__2) AND ([Extent1].[ToPlatformUserId] = [Extent1].[FormPlatformUserId])))
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-23 16:00:39,163 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:39,163 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '35' (Type = Int64)

2018-05-23 16:00:39,163 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '35' (Type = Int64)

2018-05-23 16:00:39,163 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '35' (Type = Int64)

2018-05-23 16:00:39,163 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 16:00:39 +08:00

2018-05-23 16:00:39,166 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2018-05-23 16:00:39,166 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:39,167 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:00:39 +08:00

2018-05-23 16:00:39,167 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:00:39 +08:00

2018-05-23 16:00:39,168 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:00:39,168 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:39,168 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '19' (Type = Int64, IsNullable = false)

2018-05-23 16:00:39,168 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:00:39 +08:00

2018-05-23 16:00:39,170 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-23 16:00:39,171 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:39,171 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:00:39 +08:00

2018-05-23 16:00:39,171 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:00:39 +08:00

2018-05-23 16:00:39,171 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:00:39,171 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:39,171 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-23 16:00:39,171 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:00:39 +08:00

2018-05-23 16:00:39,173 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:00:39,173 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:39,173 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:00:39 +08:00

2018-05-23 16:00:39,173 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:00:39 +08:00

2018-05-23 16:00:39,173 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:00:39,173 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:39,173 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '35' (Type = Int64, IsNullable = false)

2018-05-23 16:00:39,173 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:00:39 +08:00

2018-05-23 16:00:39,176 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-23 16:00:39,176 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:39,177 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:00:39 +08:00

2018-05-23 16:00:39,177 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:00:39 +08:00

2018-05-23 16:00:39,177 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:00:39,177 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:39,177 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-23 16:00:39,177 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:00:39 +08:00

2018-05-23 16:00:39,178 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:00:39,178 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:39,179 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:00:39 +08:00

2018-05-23 16:00:39,179 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:00:39 +08:00

2018-05-23 16:00:39,179 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:00:39,179 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:39,179 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-23 16:00:39,179 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:00:39 +08:00

2018-05-23 16:00:39,180 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:00:39,180 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:39,180 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:00:39 +08:00

2018-05-23 16:00:39,181 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:00:39 +08:00

2018-05-23 16:00:39,181 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:00:39,181 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:39,181 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '5' (Type = Int64, IsNullable = false)

2018-05-23 16:00:39,181 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:00:39 +08:00

2018-05-23 16:00:39,182 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:00:39,182 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:39,182 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:00:39 +08:00

2018-05-23 16:00:39,182 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:00:39 +08:00

2018-05-23 16:00:39,183 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:00:39,183 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:39,183 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-23 16:00:39,183 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:00:39 +08:00

2018-05-23 16:00:39,184 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:00:39,184 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:39,184 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:00:39 +08:00

2018-05-23 16:00:39,185 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:00:39 +08:00

2018-05-23 16:00:39,185 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:00:39,185 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:39,185 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-23 16:00:39,185 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:00:39 +08:00

2018-05-23 16:00:39,188 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-23 16:00:39,188 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:39,188 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:00:39 +08:00

2018-05-23 16:00:39,188 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:00:39 +08:00

2018-05-23 16:00:39,188 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:00:39,188 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:39,188 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-23 16:00:39,188 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:00:39 +08:00

2018-05-23 16:00:39,191 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-23 16:00:39,191 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:39,191 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:00:39 +08:00

2018-05-23 16:00:46,912 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:00:46 +08:00

2018-05-23 16:00:46,912 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费' = [Extent1].[Description])
2018-05-23 16:00:46,912 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:46,912 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:00:46 +08:00

2018-05-23 16:00:46,914 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:00:46,914 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:46,914 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:00:46 +08:00

2018-05-23 16:00:46,914 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/23 16:00:46 +08:00

2018-05-23 16:00:46,914 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND (([Extent1].[PlatformUserId] = @p__linq__0) OR (([Extent1].[PlatformUserId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = [Extent1].[ToPlatformUserId])) OR (([Extent1].[ToPlatformUserId] = @p__linq__2) AND ([Extent1].[ToPlatformUserId] = [Extent1].[FormPlatformUserId])))
    )  AS [GroupBy1]
2018-05-23 16:00:46,914 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:46,914 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '36' (Type = Int64)

2018-05-23 16:00:46,915 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '36' (Type = Int64)

2018-05-23 16:00:46,915 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '36' (Type = Int64)

2018-05-23 16:00:46,915 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 16:00:46 +08:00

2018-05-23 16:00:46,916 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:00:46,916 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:46,916 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:00:46 +08:00

2018-05-23 16:00:46,917 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/23 16:00:46 +08:00

2018-05-23 16:00:46,917 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND (([Extent1].[PlatformUserId] = @p__linq__0) OR (([Extent1].[PlatformUserId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = [Extent1].[ToPlatformUserId])) OR (([Extent1].[ToPlatformUserId] = @p__linq__2) AND ([Extent1].[ToPlatformUserId] = [Extent1].[FormPlatformUserId])))
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-23 16:00:46,917 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:46,917 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '36' (Type = Int64)

2018-05-23 16:00:46,917 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '36' (Type = Int64)

2018-05-23 16:00:46,917 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '36' (Type = Int64)

2018-05-23 16:00:46,917 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 16:00:46 +08:00

2018-05-23 16:00:46,921 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2018-05-23 16:00:46,921 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:46,922 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:00:46 +08:00

2018-05-23 16:00:46,922 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:00:46 +08:00

2018-05-23 16:00:46,922 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:00:46,922 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:46,922 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '36' (Type = Int64, IsNullable = false)

2018-05-23 16:00:46,922 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:00:46 +08:00

2018-05-23 16:00:46,925 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-23 16:00:46,925 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:46,926 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:00:46 +08:00

2018-05-23 16:00:46,926 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:00:46 +08:00

2018-05-23 16:00:46,926 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:00:46,926 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:46,926 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-23 16:00:46,926 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:00:46 +08:00

2018-05-23 16:00:46,927 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:00:46,928 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:46,928 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:00:46 +08:00

2018-05-23 16:00:46,928 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:00:46 +08:00

2018-05-23 16:00:46,928 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:00:46,928 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:46,928 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-23 16:00:46,928 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:00:46 +08:00

2018-05-23 16:00:46,931 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-23 16:00:46,931 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:46,931 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:00:46 +08:00

2018-05-23 16:00:46,931 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:00:46 +08:00

2018-05-23 16:00:46,931 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:00:46,931 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:46,931 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-23 16:00:46,931 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:00:46 +08:00

2018-05-23 16:00:46,933 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:00:46,933 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:46,933 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:00:46 +08:00

2018-05-23 16:00:46,933 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:00:46 +08:00

2018-05-23 16:00:46,933 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:00:46,934 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:46,934 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '5' (Type = Int64, IsNullable = false)

2018-05-23 16:00:46,934 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:00:46 +08:00

2018-05-23 16:00:46,935 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:00:46,935 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:46,935 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:00:46 +08:00

2018-05-23 16:00:46,935 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:00:46 +08:00

2018-05-23 16:00:46,935 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:00:46,936 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:46,936 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-23 16:00:46,936 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:00:46 +08:00

2018-05-23 16:00:46,937 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:00:46,937 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:46,937 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:00:46 +08:00

2018-05-23 16:00:46,937 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:00:46 +08:00

2018-05-23 16:00:46,938 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:00:46,938 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:46,938 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-23 16:00:46,938 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:00:46 +08:00

2018-05-23 16:00:46,939 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:00:46,939 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:46,939 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:00:46 +08:00

2018-05-23 16:00:50,683 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:00:50 +08:00

2018-05-23 16:00:50,683 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费' = [Extent1].[Description])
2018-05-23 16:00:50,683 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:50,683 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:00:50 +08:00

2018-05-23 16:00:50,685 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:00:50,685 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:50,685 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:00:50 +08:00

2018-05-23 16:00:50,685 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/23 16:00:50 +08:00

2018-05-23 16:00:50,686 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND (([Extent1].[PlatformUserId] = @p__linq__0) OR (([Extent1].[PlatformUserId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = [Extent1].[ToPlatformUserId])) OR (([Extent1].[ToPlatformUserId] = @p__linq__2) AND ([Extent1].[ToPlatformUserId] = [Extent1].[FormPlatformUserId])))
    )  AS [GroupBy1]
2018-05-23 16:00:50,686 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:50,686 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '33' (Type = Int64)

2018-05-23 16:00:50,686 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '33' (Type = Int64)

2018-05-23 16:00:50,686 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '33' (Type = Int64)

2018-05-23 16:00:50,686 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 16:00:50 +08:00

2018-05-23 16:00:50,688 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:00:50,688 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:50,688 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:00:50 +08:00

2018-05-23 16:00:50,688 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/23 16:00:50 +08:00

2018-05-23 16:00:50,689 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND (([Extent1].[PlatformUserId] = @p__linq__0) OR (([Extent1].[PlatformUserId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = [Extent1].[ToPlatformUserId])) OR (([Extent1].[ToPlatformUserId] = @p__linq__2) AND ([Extent1].[ToPlatformUserId] = [Extent1].[FormPlatformUserId])))
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-23 16:00:50,689 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:50,689 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '33' (Type = Int64)

2018-05-23 16:00:50,689 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '33' (Type = Int64)

2018-05-23 16:00:50,689 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '33' (Type = Int64)

2018-05-23 16:00:50,689 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 16:00:50 +08:00

2018-05-23 16:00:50,692 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2018-05-23 16:00:50,692 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:50,693 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:00:50 +08:00

2018-05-23 16:00:53,597 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:00:53 +08:00

2018-05-23 16:00:53,597 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费' = [Extent1].[Description])
2018-05-23 16:00:53,597 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:53,597 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:00:53 +08:00

2018-05-23 16:00:53,599 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:00:53,599 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:53,599 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:00:53 +08:00

2018-05-23 16:00:53,599 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/23 16:00:53 +08:00

2018-05-23 16:00:53,600 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND (([Extent1].[PlatformUserId] = @p__linq__0) OR (([Extent1].[PlatformUserId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = [Extent1].[ToPlatformUserId])) OR (([Extent1].[ToPlatformUserId] = @p__linq__2) AND ([Extent1].[ToPlatformUserId] = [Extent1].[FormPlatformUserId])))
    )  AS [GroupBy1]
2018-05-23 16:00:53,600 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:53,600 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '33' (Type = Int64)

2018-05-23 16:00:53,600 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '33' (Type = Int64)

2018-05-23 16:00:53,600 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '33' (Type = Int64)

2018-05-23 16:00:53,600 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 16:00:53 +08:00

2018-05-23 16:00:53,602 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:00:53,602 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:53,602 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:00:53 +08:00

2018-05-23 16:00:53,602 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/23 16:00:53 +08:00

2018-05-23 16:00:53,603 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND (([Extent1].[PlatformUserId] = @p__linq__0) OR (([Extent1].[PlatformUserId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = [Extent1].[ToPlatformUserId])) OR (([Extent1].[ToPlatformUserId] = @p__linq__2) AND ([Extent1].[ToPlatformUserId] = [Extent1].[FormPlatformUserId])))
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-23 16:00:53,603 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:53,603 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '33' (Type = Int64)

2018-05-23 16:00:53,603 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '33' (Type = Int64)

2018-05-23 16:00:53,604 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '33' (Type = Int64)

2018-05-23 16:00:53,604 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 16:00:53 +08:00

2018-05-23 16:00:53,607 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2018-05-23 16:00:53,607 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:53,607 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:00:53 +08:00

2018-05-23 16:00:56,636 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:00:56 +08:00

2018-05-23 16:00:56,636 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费' = [Extent1].[Description])
2018-05-23 16:00:56,636 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:56,636 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:00:56 +08:00

2018-05-23 16:00:56,638 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:00:56,638 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:56,638 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:00:56 +08:00

2018-05-23 16:00:56,638 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/23 16:00:56 +08:00

2018-05-23 16:00:56,639 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND (([Extent1].[PlatformUserId] = @p__linq__0) OR (([Extent1].[PlatformUserId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = [Extent1].[ToPlatformUserId])) OR (([Extent1].[ToPlatformUserId] = @p__linq__2) AND ([Extent1].[ToPlatformUserId] = [Extent1].[FormPlatformUserId])))
    )  AS [GroupBy1]
2018-05-23 16:00:56,639 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:56,639 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '38' (Type = Int64)

2018-05-23 16:00:56,639 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '38' (Type = Int64)

2018-05-23 16:00:56,639 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '38' (Type = Int64)

2018-05-23 16:00:56,639 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 16:00:56 +08:00

2018-05-23 16:00:56,640 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:00:56,640 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:56,641 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:00:56 +08:00

2018-05-23 16:00:56,641 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/23 16:00:56 +08:00

2018-05-23 16:00:56,641 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND (([Extent1].[PlatformUserId] = @p__linq__0) OR (([Extent1].[PlatformUserId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = [Extent1].[ToPlatformUserId])) OR (([Extent1].[ToPlatformUserId] = @p__linq__2) AND ([Extent1].[ToPlatformUserId] = [Extent1].[FormPlatformUserId])))
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-23 16:00:56,642 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:56,642 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '38' (Type = Int64)

2018-05-23 16:00:56,642 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '38' (Type = Int64)

2018-05-23 16:00:56,642 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '38' (Type = Int64)

2018-05-23 16:00:56,642 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 16:00:56 +08:00

2018-05-23 16:00:56,645 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2018-05-23 16:00:56,645 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:56,646 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:00:56 +08:00

2018-05-23 16:00:56,646 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:00:56 +08:00

2018-05-23 16:00:56,646 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:00:56,646 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:56,646 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '38' (Type = Int64, IsNullable = false)

2018-05-23 16:00:56,646 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:00:56 +08:00

2018-05-23 16:00:56,649 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-23 16:00:56,649 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:56,650 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:00:56 +08:00

2018-05-23 16:00:56,650 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:00:56 +08:00

2018-05-23 16:00:56,650 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:00:56,650 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:56,650 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-23 16:00:56,650 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:00:56 +08:00

2018-05-23 16:00:56,653 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-23 16:00:56,653 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:56,653 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:00:56 +08:00

2018-05-23 16:00:56,653 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:00:56 +08:00

2018-05-23 16:00:56,653 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:00:56,653 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:56,653 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-23 16:00:56,653 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:00:56 +08:00

2018-05-23 16:00:56,655 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:00:56,655 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:56,655 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:00:56 +08:00

2018-05-23 16:00:56,655 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:00:56 +08:00

2018-05-23 16:00:56,655 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:00:56,655 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:56,655 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-23 16:00:56,655 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:00:56 +08:00

2018-05-23 16:00:56,657 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:00:56,657 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:56,657 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:00:56 +08:00

2018-05-23 16:00:56,657 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:00:56 +08:00

2018-05-23 16:00:56,657 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:00:56,657 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:56,657 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-23 16:00:56,657 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:00:56 +08:00

2018-05-23 16:00:56,659 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:00:56,659 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:56,659 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:00:56 +08:00

2018-05-23 16:00:56,659 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:00:56 +08:00

2018-05-23 16:00:56,659 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:00:56,659 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:56,659 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-23 16:00:56,659 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:00:56 +08:00

2018-05-23 16:00:56,662 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-23 16:00:56,662 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:56,662 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:00:56 +08:00

2018-05-23 16:00:56,662 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:00:56 +08:00

2018-05-23 16:00:56,662 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:00:56,662 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:56,663 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-23 16:00:56,663 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:00:56 +08:00

2018-05-23 16:00:56,664 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:00:56,664 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:56,664 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:00:56 +08:00

2018-05-23 16:00:56,664 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:00:56 +08:00

2018-05-23 16:00:56,664 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:00:56,664 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:56,664 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-23 16:00:56,664 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:00:56 +08:00

2018-05-23 16:00:56,666 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:00:56,666 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:56,666 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:00:56 +08:00

2018-05-23 16:00:59,943 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:00:59 +08:00

2018-05-23 16:00:59,943 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费' = [Extent1].[Description])
2018-05-23 16:00:59,943 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:59,943 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:00:59 +08:00

2018-05-23 16:00:59,944 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:00:59,945 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:59,945 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:00:59 +08:00

2018-05-23 16:00:59,945 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/23 16:00:59 +08:00

2018-05-23 16:00:59,946 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND (([Extent1].[PlatformUserId] = @p__linq__0) OR (([Extent1].[PlatformUserId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = [Extent1].[ToPlatformUserId])) OR (([Extent1].[ToPlatformUserId] = @p__linq__2) AND ([Extent1].[ToPlatformUserId] = [Extent1].[FormPlatformUserId])))
    )  AS [GroupBy1]
2018-05-23 16:00:59,946 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:59,946 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '36' (Type = Int64)

2018-05-23 16:00:59,946 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '36' (Type = Int64)

2018-05-23 16:00:59,946 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '36' (Type = Int64)

2018-05-23 16:00:59,946 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 16:00:59 +08:00

2018-05-23 16:00:59,947 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:00:59,947 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:59,948 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:00:59 +08:00

2018-05-23 16:00:59,948 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/23 16:00:59 +08:00

2018-05-23 16:00:59,948 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND (([Extent1].[PlatformUserId] = @p__linq__0) OR (([Extent1].[PlatformUserId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = [Extent1].[ToPlatformUserId])) OR (([Extent1].[ToPlatformUserId] = @p__linq__2) AND ([Extent1].[ToPlatformUserId] = [Extent1].[FormPlatformUserId])))
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-23 16:00:59,948 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:59,948 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '36' (Type = Int64)

2018-05-23 16:00:59,948 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '36' (Type = Int64)

2018-05-23 16:00:59,948 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '36' (Type = Int64)

2018-05-23 16:00:59,948 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 16:00:59 +08:00

2018-05-23 16:00:59,951 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-23 16:00:59,952 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:59,963 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:00:59 +08:00

2018-05-23 16:00:59,963 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:00:59 +08:00

2018-05-23 16:00:59,963 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:00:59,963 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:59,964 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '36' (Type = Int64, IsNullable = false)

2018-05-23 16:00:59,965 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:00:59 +08:00

2018-05-23 16:00:59,967 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-23 16:00:59,967 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:59,968 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:00:59 +08:00

2018-05-23 16:00:59,968 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:00:59 +08:00

2018-05-23 16:00:59,968 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:00:59,968 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:59,968 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-23 16:00:59,968 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:00:59 +08:00

2018-05-23 16:00:59,970 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:00:59,970 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:59,970 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:00:59 +08:00

2018-05-23 16:00:59,970 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:00:59 +08:00

2018-05-23 16:00:59,970 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:00:59,970 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:59,970 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-23 16:00:59,970 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:00:59 +08:00

2018-05-23 16:00:59,973 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-23 16:00:59,973 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:59,973 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:00:59 +08:00

2018-05-23 16:00:59,973 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:00:59 +08:00

2018-05-23 16:00:59,974 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:00:59,974 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:59,974 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-23 16:00:59,974 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:00:59 +08:00

2018-05-23 16:00:59,975 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:00:59,975 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:59,976 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:00:59 +08:00

2018-05-23 16:00:59,976 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:00:59 +08:00

2018-05-23 16:00:59,976 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:00:59,976 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:59,976 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '5' (Type = Int64, IsNullable = false)

2018-05-23 16:00:59,976 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:00:59 +08:00

2018-05-23 16:00:59,977 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:00:59,977 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:59,977 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:00:59 +08:00

2018-05-23 16:00:59,978 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:00:59 +08:00

2018-05-23 16:00:59,978 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:00:59,978 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:59,978 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-23 16:00:59,978 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:00:59 +08:00

2018-05-23 16:00:59,979 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:00:59,979 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:59,979 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:00:59 +08:00

2018-05-23 16:00:59,979 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:00:59 +08:00

2018-05-23 16:00:59,979 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:00:59,979 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:59,980 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-23 16:00:59,980 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:00:59 +08:00

2018-05-23 16:00:59,981 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:00:59,981 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:00:59,981 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:00:59 +08:00

2018-05-23 16:01:04,560 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:01:04 +08:00

2018-05-23 16:01:04,560 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费' = [Extent1].[Description])
2018-05-23 16:01:04,560 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:01:04,560 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:01:04 +08:00

2018-05-23 16:01:04,571 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 10 ms with result: SqlDataReader

2018-05-23 16:01:04,571 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:01:04,571 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:01:04 +08:00

2018-05-23 16:01:04,572 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/23 16:01:04 +08:00

2018-05-23 16:01:04,572 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND (([Extent1].[PlatformUserId] = @p__linq__0) OR (([Extent1].[PlatformUserId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = [Extent1].[ToPlatformUserId])) OR (([Extent1].[ToPlatformUserId] = @p__linq__2) AND ([Extent1].[ToPlatformUserId] = [Extent1].[FormPlatformUserId])))
    )  AS [GroupBy1]
2018-05-23 16:01:04,572 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:01:04,572 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '24' (Type = Int64)

2018-05-23 16:01:04,572 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '24' (Type = Int64)

2018-05-23 16:01:04,572 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '24' (Type = Int64)

2018-05-23 16:01:04,572 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 16:01:04 +08:00

2018-05-23 16:01:04,574 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-23 16:01:04,575 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:01:04,575 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:01:04 +08:00

2018-05-23 16:01:04,575 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/23 16:01:04 +08:00

2018-05-23 16:01:04,575 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND (([Extent1].[PlatformUserId] = @p__linq__0) OR (([Extent1].[PlatformUserId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = [Extent1].[ToPlatformUserId])) OR (([Extent1].[ToPlatformUserId] = @p__linq__2) AND ([Extent1].[ToPlatformUserId] = [Extent1].[FormPlatformUserId])))
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-23 16:01:04,575 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:01:04,575 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '24' (Type = Int64)

2018-05-23 16:01:04,576 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '24' (Type = Int64)

2018-05-23 16:01:04,576 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '24' (Type = Int64)

2018-05-23 16:01:04,576 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 16:01:04 +08:00

2018-05-23 16:01:04,579 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2018-05-23 16:01:04,579 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:01:04,580 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:01:04 +08:00

2018-05-23 16:01:04,580 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:01:04 +08:00

2018-05-23 16:01:04,580 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:01:04,580 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:01:04,580 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '24' (Type = Int64, IsNullable = false)

2018-05-23 16:01:04,580 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:01:04 +08:00

2018-05-23 16:01:04,583 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-23 16:01:04,583 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:01:04,583 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:01:04 +08:00

2018-05-23 16:01:04,583 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:01:04 +08:00

2018-05-23 16:01:04,583 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:01:04,583 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:01:04,583 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-23 16:01:04,583 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:01:04 +08:00

2018-05-23 16:01:04,585 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:01:04,585 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:01:04,585 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:01:04 +08:00

2018-05-23 16:01:04,585 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:01:04 +08:00

2018-05-23 16:01:04,585 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:01:04,585 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:01:04,585 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '30' (Type = Int64, IsNullable = false)

2018-05-23 16:01:04,585 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:01:04 +08:00

2018-05-23 16:01:04,588 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-23 16:01:04,588 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:01:04,588 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:01:04 +08:00

2018-05-23 16:01:04,589 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:01:04 +08:00

2018-05-23 16:01:04,589 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:01:04,589 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:01:04,589 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-23 16:01:04,589 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:01:04 +08:00

2018-05-23 16:01:04,590 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:01:04,590 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:01:04,590 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:01:04 +08:00

2018-05-23 16:01:04,591 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:01:04 +08:00

2018-05-23 16:01:04,591 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:01:04,591 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:01:04,591 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-23 16:01:04,591 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:01:04 +08:00

2018-05-23 16:01:04,592 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:01:04,592 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:01:04,593 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:01:04 +08:00

2018-05-23 16:01:07,317 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:01:07 +08:00

2018-05-23 16:01:07,317 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费' = [Extent1].[Description])
2018-05-23 16:01:07,317 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:01:07,317 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:01:07 +08:00

2018-05-23 16:01:07,319 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:01:07,319 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:01:07,319 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:01:07 +08:00

2018-05-23 16:01:07,319 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/23 16:01:07 +08:00

2018-05-23 16:01:07,320 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND (([Extent1].[PlatformUserId] = @p__linq__0) OR (([Extent1].[PlatformUserId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = [Extent1].[ToPlatformUserId])) OR (([Extent1].[ToPlatformUserId] = @p__linq__2) AND ([Extent1].[ToPlatformUserId] = [Extent1].[FormPlatformUserId])))
    )  AS [GroupBy1]
2018-05-23 16:01:07,320 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:01:07,320 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '19' (Type = Int64)

2018-05-23 16:01:07,320 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '19' (Type = Int64)

2018-05-23 16:01:07,320 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '19' (Type = Int64)

2018-05-23 16:01:07,320 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 16:01:07 +08:00

2018-05-23 16:01:07,322 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:01:07,322 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:01:07,322 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:01:07 +08:00

2018-05-23 16:01:07,322 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/23 16:01:07 +08:00

2018-05-23 16:01:07,322 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND (([Extent1].[PlatformUserId] = @p__linq__0) OR (([Extent1].[PlatformUserId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = [Extent1].[ToPlatformUserId])) OR (([Extent1].[ToPlatformUserId] = @p__linq__2) AND ([Extent1].[ToPlatformUserId] = [Extent1].[FormPlatformUserId])))
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-23 16:01:07,322 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:01:07,323 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '19' (Type = Int64)

2018-05-23 16:01:07,323 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '19' (Type = Int64)

2018-05-23 16:01:07,323 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '19' (Type = Int64)

2018-05-23 16:01:07,323 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 16:01:07 +08:00

2018-05-23 16:01:07,326 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-23 16:01:07,326 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:01:07,326 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:01:07 +08:00

2018-05-23 16:01:07,327 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:01:07 +08:00

2018-05-23 16:01:07,327 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:01:07,327 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:01:07,327 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '19' (Type = Int64, IsNullable = false)

2018-05-23 16:01:07,327 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:01:07 +08:00

2018-05-23 16:01:07,330 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2018-05-23 16:01:07,330 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:01:07,331 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:01:07 +08:00

2018-05-23 16:01:07,331 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:01:07 +08:00

2018-05-23 16:01:07,331 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:01:07,331 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:01:07,331 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-23 16:01:07,331 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:01:07 +08:00

2018-05-23 16:01:07,332 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:01:07,332 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:01:07,333 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:01:07 +08:00

2018-05-23 16:01:07,333 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:01:07 +08:00

2018-05-23 16:01:07,333 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:01:07,333 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:01:07,333 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '32' (Type = Int64, IsNullable = false)

2018-05-23 16:01:07,333 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:01:07 +08:00

2018-05-23 16:01:07,336 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-23 16:01:07,336 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:01:07,336 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:01:07 +08:00

2018-05-23 16:01:07,336 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:01:07 +08:00

2018-05-23 16:01:07,336 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:01:07,336 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:01:07,336 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-23 16:01:07,336 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:01:07 +08:00

2018-05-23 16:01:07,338 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:01:07,338 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:01:07,338 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:01:07 +08:00

2018-05-23 16:01:07,339 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:01:07 +08:00

2018-05-23 16:01:07,339 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:01:07,339 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:01:07,339 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-23 16:01:07,339 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:01:07 +08:00

2018-05-23 16:01:07,340 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:01:07,340 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:01:07,340 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:01:07 +08:00

2018-05-23 16:01:07,341 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:01:07 +08:00

2018-05-23 16:01:07,341 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:01:07,341 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:01:07,341 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '35' (Type = Int64, IsNullable = false)

2018-05-23 16:01:07,341 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:01:07 +08:00

2018-05-23 16:01:07,343 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-23 16:01:07,343 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:01:07,344 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:01:07 +08:00

2018-05-23 16:01:07,344 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:01:07 +08:00

2018-05-23 16:01:07,344 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:01:07,344 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:01:07,344 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '22' (Type = Int64, IsNullable = false)

2018-05-23 16:01:07,344 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:01:07 +08:00

2018-05-23 16:01:07,347 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-23 16:01:07,347 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:01:07,347 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:01:07 +08:00

2018-05-23 16:01:07,347 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:01:07 +08:00

2018-05-23 16:01:07,347 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:01:07,347 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:01:07,347 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '41' (Type = Int64, IsNullable = false)

2018-05-23 16:01:07,347 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:01:07 +08:00

2018-05-23 16:01:07,350 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-23 16:01:07,350 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:01:07,350 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:01:07 +08:00

2018-05-23 16:01:07,350 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:01:07 +08:00

2018-05-23 16:01:07,350 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:01:07,351 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:01:07,351 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '5' (Type = Int64, IsNullable = false)

2018-05-23 16:01:07,351 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:01:07 +08:00

2018-05-23 16:01:07,352 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:01:07,352 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:01:07,352 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:01:07 +08:00

2018-05-23 16:01:15,611 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:01:15 +08:00

2018-05-23 16:01:15,611 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费' = [Extent1].[Description])
2018-05-23 16:01:15,611 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:01:15,611 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:01:15 +08:00

2018-05-23 16:01:15,613 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:01:15,613 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:01:15,613 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:01:15 +08:00

2018-05-23 16:01:15,613 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/23 16:01:15 +08:00

2018-05-23 16:01:15,614 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND (([Extent1].[PlatformUserId] = @p__linq__0) OR (([Extent1].[PlatformUserId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = [Extent1].[ToPlatformUserId])) OR (([Extent1].[ToPlatformUserId] = @p__linq__2) AND ([Extent1].[ToPlatformUserId] = [Extent1].[FormPlatformUserId])))
    )  AS [GroupBy1]
2018-05-23 16:01:15,614 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:01:15,614 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '40' (Type = Int64)

2018-05-23 16:01:15,614 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '40' (Type = Int64)

2018-05-23 16:01:15,614 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '40' (Type = Int64)

2018-05-23 16:01:15,614 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 16:01:15 +08:00

2018-05-23 16:01:15,616 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:01:15,616 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:01:15,616 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:01:15 +08:00

2018-05-23 16:01:15,616 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/23 16:01:15 +08:00

2018-05-23 16:01:15,617 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND (([Extent1].[PlatformUserId] = @p__linq__0) OR (([Extent1].[PlatformUserId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = [Extent1].[ToPlatformUserId])) OR (([Extent1].[ToPlatformUserId] = @p__linq__2) AND ([Extent1].[ToPlatformUserId] = [Extent1].[FormPlatformUserId])))
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-23 16:01:15,617 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:01:15,617 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '40' (Type = Int64)

2018-05-23 16:01:15,617 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '40' (Type = Int64)

2018-05-23 16:01:15,617 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '40' (Type = Int64)

2018-05-23 16:01:15,617 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 16:01:15 +08:00

2018-05-23 16:01:15,620 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-23 16:01:15,620 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:01:15,620 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:01:15 +08:00

2018-05-23 16:01:15,620 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:01:15 +08:00

2018-05-23 16:01:15,621 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:01:15,621 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:01:15,621 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '40' (Type = Int64, IsNullable = false)

2018-05-23 16:01:15,621 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:01:15 +08:00

2018-05-23 16:01:15,624 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2018-05-23 16:01:15,624 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:01:15,624 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:01:15 +08:00

2018-05-23 16:01:15,624 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:01:15 +08:00

2018-05-23 16:01:15,624 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:01:15,625 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:01:15,625 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-23 16:01:15,625 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:01:15 +08:00

2018-05-23 16:01:15,627 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-23 16:01:15,627 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:01:15,628 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:01:15 +08:00

2018-05-23 16:01:15,628 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:01:15 +08:00

2018-05-23 16:01:15,628 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:01:15,628 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:01:15,628 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-23 16:01:15,628 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:01:15 +08:00

2018-05-23 16:01:15,629 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:01:15,629 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:01:15,629 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:01:15 +08:00

2018-05-23 16:01:15,630 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:01:15 +08:00

2018-05-23 16:01:15,630 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:01:15,630 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:01:15,630 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-23 16:01:15,630 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:01:15 +08:00

2018-05-23 16:01:15,631 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:01:15,631 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:01:15,631 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:01:15 +08:00

2018-05-23 16:01:15,632 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:01:15 +08:00

2018-05-23 16:01:15,632 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:01:15,632 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:01:15,632 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-23 16:01:15,632 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:01:15 +08:00

2018-05-23 16:01:15,633 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:01:15,633 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:01:15,633 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:01:15 +08:00

2018-05-23 16:01:17,895 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:01:17 +08:00

2018-05-23 16:01:17,896 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费' = [Extent1].[Description])
2018-05-23 16:01:17,896 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:01:17,896 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:01:17 +08:00

2018-05-23 16:01:17,897 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:01:17,897 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:01:17,897 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:01:17 +08:00

2018-05-23 16:01:17,898 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/23 16:01:17 +08:00

2018-05-23 16:01:17,898 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND (([Extent1].[PlatformUserId] = @p__linq__0) OR (([Extent1].[PlatformUserId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = [Extent1].[ToPlatformUserId])) OR (([Extent1].[ToPlatformUserId] = @p__linq__2) AND ([Extent1].[ToPlatformUserId] = [Extent1].[FormPlatformUserId])))
    )  AS [GroupBy1]
2018-05-23 16:01:17,898 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:01:17,898 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '39' (Type = Int64)

2018-05-23 16:01:17,898 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '39' (Type = Int64)

2018-05-23 16:01:17,898 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '39' (Type = Int64)

2018-05-23 16:01:17,898 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 16:01:17 +08:00

2018-05-23 16:01:17,900 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-23 16:01:17,901 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:01:17,901 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:01:17 +08:00

2018-05-23 16:01:17,901 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/23 16:01:17 +08:00

2018-05-23 16:01:17,901 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND (([Extent1].[PlatformUserId] = @p__linq__0) OR (([Extent1].[PlatformUserId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = [Extent1].[ToPlatformUserId])) OR (([Extent1].[ToPlatformUserId] = @p__linq__2) AND ([Extent1].[ToPlatformUserId] = [Extent1].[FormPlatformUserId])))
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-23 16:01:17,901 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:01:17,902 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '39' (Type = Int64)

2018-05-23 16:01:17,902 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '39' (Type = Int64)

2018-05-23 16:01:17,902 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '39' (Type = Int64)

2018-05-23 16:01:17,902 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 16:01:17 +08:00

2018-05-23 16:01:17,905 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2018-05-23 16:01:17,905 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:01:17,905 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:01:17 +08:00

2018-05-23 16:01:20,738 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:01:20 +08:00

2018-05-23 16:01:20,740 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费' = [Extent1].[Description])
2018-05-23 16:01:20,740 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:01:20,740 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:01:20 +08:00

2018-05-23 16:01:20,741 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:01:20,741 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:01:20,741 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:01:20 +08:00

2018-05-23 16:01:20,742 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/23 16:01:20 +08:00

2018-05-23 16:01:20,742 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND (([Extent1].[PlatformUserId] = @p__linq__0) OR (([Extent1].[PlatformUserId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = [Extent1].[ToPlatformUserId])) OR (([Extent1].[ToPlatformUserId] = @p__linq__2) AND ([Extent1].[ToPlatformUserId] = [Extent1].[FormPlatformUserId])))
    )  AS [GroupBy1]
2018-05-23 16:01:20,742 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:01:20,742 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '39' (Type = Int64)

2018-05-23 16:01:20,742 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '39' (Type = Int64)

2018-05-23 16:01:20,742 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '39' (Type = Int64)

2018-05-23 16:01:20,742 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 16:01:20 +08:00

2018-05-23 16:01:20,755 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 12 ms with result: SqlDataReader

2018-05-23 16:01:20,755 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:01:20,755 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:01:20 +08:00

2018-05-23 16:01:20,756 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/23 16:01:20 +08:00

2018-05-23 16:01:20,756 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND (([Extent1].[PlatformUserId] = @p__linq__0) OR (([Extent1].[PlatformUserId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = [Extent1].[ToPlatformUserId])) OR (([Extent1].[ToPlatformUserId] = @p__linq__2) AND ([Extent1].[ToPlatformUserId] = [Extent1].[FormPlatformUserId])))
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-23 16:01:20,757 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:01:20,757 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '39' (Type = Int64)

2018-05-23 16:01:20,757 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '39' (Type = Int64)

2018-05-23 16:01:20,757 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '39' (Type = Int64)

2018-05-23 16:01:20,757 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 16:01:20 +08:00

2018-05-23 16:01:20,762 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 4 ms with result: SqlDataReader

2018-05-23 16:01:20,762 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:01:20,762 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:01:20 +08:00

2018-05-23 16:01:22,766 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:01:22 +08:00

2018-05-23 16:01:22,767 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费' = [Extent1].[Description])
2018-05-23 16:01:22,767 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:01:22,767 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:01:22 +08:00

2018-05-23 16:01:22,768 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:01:22,768 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:01:22,769 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:01:22 +08:00

2018-05-23 16:01:22,769 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/23 16:01:22 +08:00

2018-05-23 16:01:22,769 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND (([Extent1].[PlatformUserId] = @p__linq__0) OR (([Extent1].[PlatformUserId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = [Extent1].[ToPlatformUserId])) OR (([Extent1].[ToPlatformUserId] = @p__linq__2) AND ([Extent1].[ToPlatformUserId] = [Extent1].[FormPlatformUserId])))
    )  AS [GroupBy1]
2018-05-23 16:01:22,769 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:01:22,769 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '38' (Type = Int64)

2018-05-23 16:01:22,769 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '38' (Type = Int64)

2018-05-23 16:01:22,769 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '38' (Type = Int64)

2018-05-23 16:01:22,769 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 16:01:22 +08:00

2018-05-23 16:01:22,771 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:01:22,771 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:01:22,771 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:01:22 +08:00

2018-05-23 16:01:22,772 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/23 16:01:22 +08:00

2018-05-23 16:01:22,772 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND (([Extent1].[PlatformUserId] = @p__linq__0) OR (([Extent1].[PlatformUserId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = [Extent1].[ToPlatformUserId])) OR (([Extent1].[ToPlatformUserId] = @p__linq__2) AND ([Extent1].[ToPlatformUserId] = [Extent1].[FormPlatformUserId])))
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-23 16:01:22,772 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:01:22,772 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '38' (Type = Int64)

2018-05-23 16:01:22,772 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '38' (Type = Int64)

2018-05-23 16:01:22,772 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '38' (Type = Int64)

2018-05-23 16:01:22,772 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 16:01:22 +08:00

2018-05-23 16:01:22,776 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2018-05-23 16:01:22,776 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:01:22,777 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:01:22 +08:00

2018-05-23 16:01:22,777 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:01:22 +08:00

2018-05-23 16:01:22,777 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:01:22,777 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:01:22,777 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '38' (Type = Int64, IsNullable = false)

2018-05-23 16:01:22,777 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:01:22 +08:00

2018-05-23 16:01:22,780 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-23 16:01:22,780 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:01:22,780 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:01:22 +08:00

2018-05-23 16:01:22,780 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:01:22 +08:00

2018-05-23 16:01:22,780 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:01:22,780 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:01:22,780 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-23 16:01:22,781 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:01:22 +08:00

2018-05-23 16:01:22,783 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-23 16:01:22,783 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:01:22,784 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:01:22 +08:00

2018-05-23 16:01:22,784 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:01:22 +08:00

2018-05-23 16:01:22,784 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:01:22,784 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:01:22,784 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-23 16:01:22,784 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:01:22 +08:00

2018-05-23 16:01:22,785 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:01:22,785 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:01:22,786 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:01:22 +08:00

2018-05-23 16:01:22,786 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:01:22 +08:00

2018-05-23 16:01:22,786 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:01:22,786 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:01:22,786 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-23 16:01:22,786 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:01:22 +08:00

2018-05-23 16:01:22,787 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:01:22,787 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:01:22,787 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:01:22 +08:00

2018-05-23 16:01:22,787 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:01:22 +08:00

2018-05-23 16:01:22,787 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:01:22,787 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:01:22,787 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-23 16:01:22,787 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:01:22 +08:00

2018-05-23 16:01:22,789 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:01:22,789 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:01:22,789 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:01:22 +08:00

2018-05-23 16:01:22,789 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:01:22 +08:00

2018-05-23 16:01:22,789 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:01:22,789 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:01:22,789 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-23 16:01:22,789 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:01:22 +08:00

2018-05-23 16:01:22,792 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-23 16:01:22,792 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:01:22,792 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:01:22 +08:00

2018-05-23 16:01:22,792 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:01:22 +08:00

2018-05-23 16:01:22,793 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:01:22,793 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:01:22,793 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-23 16:01:22,793 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:01:22 +08:00

2018-05-23 16:01:22,794 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:01:22,794 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:01:22,794 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:01:22 +08:00

2018-05-23 16:01:22,794 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:01:22 +08:00

2018-05-23 16:01:22,794 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:01:22,794 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:01:22,794 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-23 16:01:22,794 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:01:22 +08:00

2018-05-23 16:01:22,796 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:01:22,796 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:01:22,796 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:01:22 +08:00

2018-05-23 16:01:25,420 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:01:25 +08:00

2018-05-23 16:01:25,420 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费' = [Extent1].[Description])
2018-05-23 16:01:25,420 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:01:25,420 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:01:25 +08:00

2018-05-23 16:01:25,421 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:01:25,422 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:01:25,422 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:01:25 +08:00

2018-05-23 16:01:25,422 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/23 16:01:25 +08:00

2018-05-23 16:01:25,422 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND (([Extent1].[PlatformUserId] = @p__linq__0) OR (([Extent1].[PlatformUserId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = [Extent1].[ToPlatformUserId])) OR (([Extent1].[ToPlatformUserId] = @p__linq__2) AND ([Extent1].[ToPlatformUserId] = [Extent1].[FormPlatformUserId])))
    )  AS [GroupBy1]
2018-05-23 16:01:25,423 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:01:25,423 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '36' (Type = Int64)

2018-05-23 16:01:25,423 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '36' (Type = Int64)

2018-05-23 16:01:25,423 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '36' (Type = Int64)

2018-05-23 16:01:25,423 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 16:01:25 +08:00

2018-05-23 16:01:25,425 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-23 16:01:25,425 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:01:25,425 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:01:25 +08:00

2018-05-23 16:01:25,425 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/23 16:01:25 +08:00

2018-05-23 16:01:25,426 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND (([Extent1].[PlatformUserId] = @p__linq__0) OR (([Extent1].[PlatformUserId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = [Extent1].[ToPlatformUserId])) OR (([Extent1].[ToPlatformUserId] = @p__linq__2) AND ([Extent1].[ToPlatformUserId] = [Extent1].[FormPlatformUserId])))
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-23 16:01:25,426 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:01:25,426 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '36' (Type = Int64)

2018-05-23 16:01:25,426 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '36' (Type = Int64)

2018-05-23 16:01:25,426 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '36' (Type = Int64)

2018-05-23 16:01:25,426 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 16:01:25 +08:00

2018-05-23 16:01:25,430 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 4 ms with result: SqlDataReader

2018-05-23 16:01:25,430 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:01:25,432 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:01:25 +08:00

2018-05-23 16:01:25,432 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:01:25 +08:00

2018-05-23 16:01:25,432 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:01:25,433 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:01:25,434 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '36' (Type = Int64, IsNullable = false)

2018-05-23 16:01:25,434 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:01:25 +08:00

2018-05-23 16:01:25,436 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-23 16:01:25,436 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:01:25,437 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:01:25 +08:00

2018-05-23 16:01:25,437 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:01:25 +08:00

2018-05-23 16:01:25,437 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:01:25,437 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:01:25,437 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-23 16:01:25,437 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:01:25 +08:00

2018-05-23 16:01:25,439 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:01:25,439 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:01:25,439 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:01:25 +08:00

2018-05-23 16:01:25,439 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:01:25 +08:00

2018-05-23 16:01:25,439 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:01:25,439 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:01:25,439 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-23 16:01:25,439 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:01:25 +08:00

2018-05-23 16:01:25,441 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-23 16:01:25,441 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:01:25,442 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:01:25 +08:00

2018-05-23 16:01:25,442 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:01:25 +08:00

2018-05-23 16:01:25,442 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:01:25,442 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:01:25,442 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-23 16:01:25,442 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:01:25 +08:00

2018-05-23 16:01:25,443 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:01:25,443 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:01:25,444 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:01:25 +08:00

2018-05-23 16:01:25,444 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:01:25 +08:00

2018-05-23 16:01:25,444 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:01:25,444 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:01:25,444 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '5' (Type = Int64, IsNullable = false)

2018-05-23 16:01:25,444 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:01:25 +08:00

2018-05-23 16:01:25,445 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:01:25,446 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:01:25,446 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:01:25 +08:00

2018-05-23 16:01:25,446 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:01:25 +08:00

2018-05-23 16:01:25,446 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:01:25,446 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:01:25,446 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-23 16:01:25,446 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:01:25 +08:00

2018-05-23 16:01:25,447 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:01:25,447 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:01:25,448 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:01:25 +08:00

2018-05-23 16:01:25,448 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:01:25 +08:00

2018-05-23 16:01:25,448 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:01:25,448 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:01:25,448 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-23 16:01:25,448 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:01:25 +08:00

2018-05-23 16:01:25,449 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:01:25,449 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:01:25,450 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:01:25 +08:00

2018-05-23 16:01:30,606 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:01:30 +08:00

2018-05-23 16:01:30,606 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费' = [Extent1].[Description])
2018-05-23 16:01:30,606 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:01:30,606 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:01:30 +08:00

2018-05-23 16:01:30,608 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:01:30,608 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:01:30,608 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:01:30 +08:00

2018-05-23 16:01:30,609 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/23 16:01:30 +08:00

2018-05-23 16:01:30,609 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND (([Extent1].[PlatformUserId] = @p__linq__0) OR (([Extent1].[PlatformUserId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = [Extent1].[ToPlatformUserId])) OR (([Extent1].[ToPlatformUserId] = @p__linq__2) AND ([Extent1].[ToPlatformUserId] = [Extent1].[FormPlatformUserId])))
    )  AS [GroupBy1]
2018-05-23 16:01:30,609 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:01:30,609 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '36' (Type = Int64)

2018-05-23 16:01:30,609 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '36' (Type = Int64)

2018-05-23 16:01:30,609 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '36' (Type = Int64)

2018-05-23 16:01:30,609 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 16:01:30 +08:00

2018-05-23 16:01:30,611 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:01:30,611 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:01:30,611 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:01:30 +08:00

2018-05-23 16:01:30,611 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/23 16:01:30 +08:00

2018-05-23 16:01:30,612 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND (([Extent1].[PlatformUserId] = @p__linq__0) OR (([Extent1].[PlatformUserId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = [Extent1].[ToPlatformUserId])) OR (([Extent1].[ToPlatformUserId] = @p__linq__2) AND ([Extent1].[ToPlatformUserId] = [Extent1].[FormPlatformUserId])))
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-23 16:01:30,612 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:01:30,612 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '36' (Type = Int64)

2018-05-23 16:01:30,612 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '36' (Type = Int64)

2018-05-23 16:01:30,612 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '36' (Type = Int64)

2018-05-23 16:01:30,612 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 16:01:30 +08:00

2018-05-23 16:01:30,615 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-23 16:01:30,615 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:01:30,616 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:01:30 +08:00

2018-05-23 16:01:30,616 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:01:30 +08:00

2018-05-23 16:01:30,616 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:01:30,616 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:01:30,616 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '36' (Type = Int64, IsNullable = false)

2018-05-23 16:01:30,616 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:01:30 +08:00

2018-05-23 16:01:30,619 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2018-05-23 16:01:30,619 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:01:30,620 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:01:30 +08:00

2018-05-23 16:01:30,620 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:01:30 +08:00

2018-05-23 16:01:30,620 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:01:30,620 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:01:30,620 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-23 16:01:30,620 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:01:30 +08:00

2018-05-23 16:01:30,622 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:01:30,622 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:01:30,622 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:01:30 +08:00

2018-05-23 16:01:30,622 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:01:30 +08:00

2018-05-23 16:01:30,622 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:01:30,622 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:01:30,622 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-23 16:01:30,622 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:01:30 +08:00

2018-05-23 16:01:30,625 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-23 16:01:30,625 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:01:30,625 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:01:30 +08:00

2018-05-23 16:01:30,625 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:01:30 +08:00

2018-05-23 16:01:30,625 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:01:30,625 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:01:30,626 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-23 16:01:30,626 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:01:30 +08:00

2018-05-23 16:01:30,627 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:01:30,627 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:01:30,627 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:01:30 +08:00

2018-05-23 16:01:30,627 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:01:30 +08:00

2018-05-23 16:01:30,627 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:01:30,627 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:01:30,628 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '5' (Type = Int64, IsNullable = false)

2018-05-23 16:01:30,628 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:01:30 +08:00

2018-05-23 16:01:30,629 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:01:30,629 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:01:30,630 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:01:30 +08:00

2018-05-23 16:01:30,630 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:01:30 +08:00

2018-05-23 16:01:30,630 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:01:30,630 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:01:30,630 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-23 16:01:30,630 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:01:30 +08:00

2018-05-23 16:01:30,631 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:01:30,631 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:01:30,631 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:01:30 +08:00

2018-05-23 16:01:30,632 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:01:30 +08:00

2018-05-23 16:01:30,632 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:01:30,632 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:01:30,632 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-23 16:01:30,632 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:01:30 +08:00

2018-05-23 16:01:30,633 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:01:30,633 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:01:30,633 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:01:30 +08:00

2018-05-23 16:01:35,680 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:01:35 +08:00

2018-05-23 16:01:35,680 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费' = [Extent1].[Description])
2018-05-23 16:01:35,680 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:01:35,680 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:01:35 +08:00

2018-05-23 16:01:35,682 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:01:35,682 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:01:35,682 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:01:35 +08:00

2018-05-23 16:01:35,682 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/23 16:01:35 +08:00

2018-05-23 16:01:35,683 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND (([Extent1].[PlatformUserId] = @p__linq__0) OR (([Extent1].[PlatformUserId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = [Extent1].[ToPlatformUserId])) OR (([Extent1].[ToPlatformUserId] = @p__linq__2) AND ([Extent1].[ToPlatformUserId] = [Extent1].[FormPlatformUserId])))
    )  AS [GroupBy1]
2018-05-23 16:01:35,683 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:01:35,683 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '35' (Type = Int64)

2018-05-23 16:01:35,683 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '35' (Type = Int64)

2018-05-23 16:01:35,683 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '35' (Type = Int64)

2018-05-23 16:01:35,683 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 16:01:35 +08:00

2018-05-23 16:01:35,685 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:01:35,685 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:01:35,685 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:01:35 +08:00

2018-05-23 16:01:35,685 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/23 16:01:35 +08:00

2018-05-23 16:01:35,686 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND (([Extent1].[PlatformUserId] = @p__linq__0) OR (([Extent1].[PlatformUserId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = [Extent1].[ToPlatformUserId])) OR (([Extent1].[ToPlatformUserId] = @p__linq__2) AND ([Extent1].[ToPlatformUserId] = [Extent1].[FormPlatformUserId])))
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-23 16:01:35,686 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:01:35,686 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '35' (Type = Int64)

2018-05-23 16:01:35,686 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '35' (Type = Int64)

2018-05-23 16:01:35,686 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '35' (Type = Int64)

2018-05-23 16:01:35,686 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 16:01:35 +08:00

2018-05-23 16:01:35,689 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-23 16:01:35,689 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:01:35,690 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:01:35 +08:00

2018-05-23 16:01:35,690 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:01:35 +08:00

2018-05-23 16:01:35,690 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:01:35,690 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:01:35,690 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '19' (Type = Int64, IsNullable = false)

2018-05-23 16:01:35,690 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:01:35 +08:00

2018-05-23 16:01:35,693 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-23 16:01:35,693 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:01:35,693 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:01:35 +08:00

2018-05-23 16:01:35,693 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:01:35 +08:00

2018-05-23 16:01:35,693 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:01:35,693 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:01:35,693 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-23 16:01:35,693 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:01:35 +08:00

2018-05-23 16:01:35,695 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:01:35,695 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:01:35,695 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:01:35 +08:00

2018-05-23 16:01:35,695 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:01:35 +08:00

2018-05-23 16:01:35,695 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:01:35,695 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:01:35,695 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '35' (Type = Int64, IsNullable = false)

2018-05-23 16:01:35,695 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:01:35 +08:00

2018-05-23 16:01:35,698 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-23 16:01:35,698 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:01:35,699 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:01:35 +08:00

2018-05-23 16:01:35,699 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:01:35 +08:00

2018-05-23 16:01:35,699 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:01:35,699 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:01:35,699 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-23 16:01:35,699 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:01:35 +08:00

2018-05-23 16:01:35,700 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:01:35,700 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:01:35,701 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:01:35 +08:00

2018-05-23 16:01:35,701 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:01:35 +08:00

2018-05-23 16:01:35,701 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:01:35,701 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:01:35,701 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-23 16:01:35,701 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:01:35 +08:00

2018-05-23 16:01:35,702 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:01:35,702 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:01:35,703 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:01:35 +08:00

2018-05-23 16:01:35,703 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:01:35 +08:00

2018-05-23 16:01:35,703 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:01:35,703 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:01:35,703 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '5' (Type = Int64, IsNullable = false)

2018-05-23 16:01:35,703 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:01:35 +08:00

2018-05-23 16:01:35,704 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:01:35,705 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:01:35,705 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:01:35 +08:00

2018-05-23 16:01:35,705 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:01:35 +08:00

2018-05-23 16:01:35,705 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:01:35,705 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:01:35,705 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-23 16:01:35,705 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:01:35 +08:00

2018-05-23 16:01:35,706 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:01:35,706 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:01:35,707 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:01:35 +08:00

2018-05-23 16:01:35,707 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:01:35 +08:00

2018-05-23 16:01:35,707 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:01:35,707 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:01:35,707 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-23 16:01:35,707 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:01:35 +08:00

2018-05-23 16:01:35,710 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-23 16:01:35,710 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:01:35,710 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:01:35 +08:00

2018-05-23 16:01:35,710 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:01:35 +08:00

2018-05-23 16:01:35,710 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:01:35,710 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:01:35,710 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-23 16:01:35,710 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:01:35 +08:00

2018-05-23 16:01:35,713 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-23 16:01:35,713 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:01:35,713 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:01:35 +08:00

2018-05-23 16:02:02,279 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:02:02 +08:00

2018-05-23 16:02:02,279 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费' = [Extent1].[Description])
2018-05-23 16:02:02,280 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:02:02,280 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:02:02 +08:00

2018-05-23 16:02:02,281 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:02:02,281 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:02:02,281 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:02:02 +08:00

2018-05-23 16:02:02,282 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/23 16:02:02 +08:00

2018-05-23 16:02:02,282 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND (([Extent1].[PlatformUserId] = @p__linq__0) OR (([Extent1].[PlatformUserId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = [Extent1].[ToPlatformUserId])) OR (([Extent1].[ToPlatformUserId] = @p__linq__2) AND ([Extent1].[ToPlatformUserId] = [Extent1].[FormPlatformUserId])))
    )  AS [GroupBy1]
2018-05-23 16:02:02,282 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:02:02,282 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '35' (Type = Int64)

2018-05-23 16:02:02,282 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '35' (Type = Int64)

2018-05-23 16:02:02,282 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '35' (Type = Int64)

2018-05-23 16:02:02,282 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 16:02:02 +08:00

2018-05-23 16:02:02,284 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:02:02,284 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:02:02,284 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:02:02 +08:00

2018-05-23 16:02:02,284 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/23 16:02:02 +08:00

2018-05-23 16:02:02,285 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND (([Extent1].[PlatformUserId] = @p__linq__0) OR (([Extent1].[PlatformUserId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = [Extent1].[ToPlatformUserId])) OR (([Extent1].[ToPlatformUserId] = @p__linq__2) AND ([Extent1].[ToPlatformUserId] = [Extent1].[FormPlatformUserId])))
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-23 16:02:02,285 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:02:02,285 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '35' (Type = Int64)

2018-05-23 16:02:02,285 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '35' (Type = Int64)

2018-05-23 16:02:02,285 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '35' (Type = Int64)

2018-05-23 16:02:02,285 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 16:02:02 +08:00

2018-05-23 16:02:02,289 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2018-05-23 16:02:02,289 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:02:02,290 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:02:02 +08:00

2018-05-23 16:02:02,291 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:02:02 +08:00

2018-05-23 16:02:02,291 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:02:02,291 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:02:02,291 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '19' (Type = Int64, IsNullable = false)

2018-05-23 16:02:02,291 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:02:02 +08:00

2018-05-23 16:02:02,294 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-23 16:02:02,294 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:02:02,294 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:02:02 +08:00

2018-05-23 16:02:02,294 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:02:02 +08:00

2018-05-23 16:02:02,294 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:02:02,294 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:02:02,294 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-23 16:02:02,294 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:02:02 +08:00

2018-05-23 16:02:02,296 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:02:02,296 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:02:02,296 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:02:02 +08:00

2018-05-23 16:02:02,296 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:02:02 +08:00

2018-05-23 16:02:02,296 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:02:02,296 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:02:02,296 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '35' (Type = Int64, IsNullable = false)

2018-05-23 16:02:02,296 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:02:02 +08:00

2018-05-23 16:02:02,299 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-23 16:02:02,299 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:02:02,300 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:02:02 +08:00

2018-05-23 16:02:02,300 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:02:02 +08:00

2018-05-23 16:02:02,300 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:02:02,300 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:02:02,300 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-23 16:02:02,300 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:02:02 +08:00

2018-05-23 16:02:02,301 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:02:02,301 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:02:02,302 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:02:02 +08:00

2018-05-23 16:02:02,302 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:02:02 +08:00

2018-05-23 16:02:02,302 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:02:02,302 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:02:02,302 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-23 16:02:02,302 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:02:02 +08:00

2018-05-23 16:02:02,303 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:02:02,303 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:02:02,304 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:02:02 +08:00

2018-05-23 16:02:02,304 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:02:02 +08:00

2018-05-23 16:02:02,304 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:02:02,304 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:02:02,304 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '5' (Type = Int64, IsNullable = false)

2018-05-23 16:02:02,304 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:02:02 +08:00

2018-05-23 16:02:02,305 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:02:02,305 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:02:02,306 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:02:02 +08:00

2018-05-23 16:02:02,306 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:02:02 +08:00

2018-05-23 16:02:02,306 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:02:02,306 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:02:02,306 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-23 16:02:02,306 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:02:02 +08:00

2018-05-23 16:02:02,307 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:02:02,307 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:02:02,308 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:02:02 +08:00

2018-05-23 16:02:02,308 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:02:02 +08:00

2018-05-23 16:02:02,308 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:02:02,308 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:02:02,308 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-23 16:02:02,308 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:02:02 +08:00

2018-05-23 16:02:02,311 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-23 16:02:02,311 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:02:02,311 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:02:02 +08:00

2018-05-23 16:02:02,311 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:02:02 +08:00

2018-05-23 16:02:02,311 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:02:02,311 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:02:02,311 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-23 16:02:02,311 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:02:02 +08:00

2018-05-23 16:02:02,314 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-23 16:02:02,314 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:02:02,315 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:02:02 +08:00

2018-05-23 16:02:17,185 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:02:17 +08:00

2018-05-23 16:02:17,185 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_Admins] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2018-05-23 16:02:17,185 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:02:17,185 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '4' (Type = Int64, IsNullable = false)

2018-05-23 16:02:17,185 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:02:17 +08:00

2018-05-23 16:02:17,187 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:02:17,187 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:02:17,187 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:02:17 +08:00

2018-05-23 16:02:17,188 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:02:17 +08:00

2018-05-23 16:02:17,188 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[PermissionTypeId] AS [PermissionTypeId], 
    [Extent2].[CreateTime] AS [CreateTime], 
    [Extent2].[IsDeleted] AS [IsDeleted]
    FROM  [dbo].[T_AdminPermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[AdminId] = [Extent2].[Id]
    WHERE [Extent1].[PermissionId] = @EntityKeyValue1
2018-05-23 16:02:17,188 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:02:17,188 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '4' (Type = Int64, IsNullable = false)

2018-05-23 16:02:17,188 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:02:17 +08:00

2018-05-23 16:02:17,190 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:02:17,190 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:02:17,190 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:02:17 +08:00

2018-05-23 16:02:17,194 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:02:17 +08:00

2018-05-23 16:02:17,202 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PermissionTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Name] = @p__linq__0)
2018-05-23 16:02:17,203 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:02:17,203 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '商家管理' (Type = String, Size = 4000)

2018-05-23 16:02:17,203 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:02:17 +08:00

2018-05-23 16:02:17,204 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:02:17,204 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:02:17,206 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:02:17 +08:00

2018-05-23 16:02:17,271 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:02:17 +08:00

2018-05-23 16:02:17,290 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：Started transaction at 2018/5/23 16:02:17 +08:00

2018-05-23 16:02:17,405 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：INSERT [dbo].[T_AdminLogs]([IpAddress], [Description], [Tip], [PermissionTypeId], [AdminId], [CreateTime], [IsDeleted])
VALUES (@0, @1, @2, @3, @4, @5, @6)
SELECT [Id]
FROM [dbo].[T_AdminLogs]
WHERE @@ROWCOUNT > 0 AND [Id] = scope_identity()
2018-05-23 16:02:17,405 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:02:17,405 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @0: '::1' (Type = String, Size = 50)

2018-05-23 16:02:17,405 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @1: '发放积分' (Type = String, Size = 500)

2018-05-23 16:02:17,405 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @2: '' (Type = String, Size = 500)

2018-05-23 16:02:17,405 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @3: '2' (Type = Int64)

2018-05-23 16:02:17,405 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @4: '4' (Type = Int64)

2018-05-23 16:02:17,405 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @5: '2018/5/23 16:02:17' (Type = DateTime2)

2018-05-23 16:02:17,405 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @6: 'False' (Type = Boolean)

2018-05-23 16:02:17,405 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:02:17 +08:00

2018-05-23 16:02:17,407 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:02:17,407 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:02:17,422 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：Committed transaction at 2018/5/23 16:02:17 +08:00

2018-05-23 16:02:17,423 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:02:17 +08:00

2018-05-23 16:02:17,443 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/23 16:02:17 +08:00

2018-05-23 16:02:17,443 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2018-05-23 16:02:17,443 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:02:17,443 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '35' (Type = Int64, IsNullable = false)

2018-05-23 16:02:17,443 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 16:02:17 +08:00

2018-05-23 16:02:17,446 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2018-05-23 16:02:17,446 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:02:17,447 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:02:17 +08:00

2018-05-23 16:02:17,447 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:02:17 +08:00

2018-05-23 16:02:17,447 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:02:17,447 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:02:17,447 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-23 16:02:17,447 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:02:17 +08:00

2018-05-23 16:02:17,449 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:02:17,450 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:02:17,450 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:02:17 +08:00

2018-05-23 16:02:17,461 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/23 16:02:17 +08:00

2018-05-23 16:02:17,462 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Name] = @p__linq__0)
2018-05-23 16:02:17,462 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:02:17,462 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '平台积分' (Type = String, Size = 4000)

2018-05-23 16:02:17,462 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 16:02:17 +08:00

2018-05-23 16:02:17,464 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:02:17,464 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:02:17,464 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:02:17 +08:00

2018-05-23 16:02:17,465 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/23 16:02:17 +08:00

2018-05-23 16:02:17,465 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Name] = @p__linq__0)
2018-05-23 16:02:17,465 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:02:17,465 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '商家积分' (Type = String, Size = 4000)

2018-05-23 16:02:17,465 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 16:02:17 +08:00

2018-05-23 16:02:17,467 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:02:17,467 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:02:17,467 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:02:17 +08:00

2018-05-23 16:02:17,467 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/23 16:02:17 +08:00

2018-05-23 16:02:17,467 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2018-05-23 16:02:17,467 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:02:17,467 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2018-05-23 16:02:17,467 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 16:02:17 +08:00

2018-05-23 16:02:17,470 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-23 16:02:17,470 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:02:17,470 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:02:17 +08:00

2018-05-23 16:02:17,471 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/23 16:02:17 +08:00

2018-05-23 16:02:17,471 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2018-05-23 16:02:17,471 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:02:17,471 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '35' (Type = Int64, IsNullable = false)

2018-05-23 16:02:17,471 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 16:02:17 +08:00

2018-05-23 16:02:17,474 [50] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-23 16:02:17,474 [50] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:02:17,474 [50] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:02:17 +08:00

2018-05-23 16:02:17,474 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:02:17 +08:00

2018-05-23 16:02:17,474 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:02:17,474 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:02:17,474 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-23 16:02:17,474 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:02:17 +08:00

2018-05-23 16:02:17,476 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:02:17,476 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:02:17,476 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:02:17 +08:00

2018-05-23 16:02:17,476 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:02:17 +08:00

2018-05-23 16:02:17,479 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (([Extent1].[Description] = @p__linq__0) OR (([Extent1].[Description] IS NULL) AND (@p__linq__0 IS NULL)))
2018-05-23 16:02:17,479 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:02:17,479 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '平台发放' (Type = String, Size = 4000)

2018-05-23 16:02:17,479 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:02:17 +08:00

2018-05-23 16:02:17,481 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:02:17,481 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:02:17,481 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:02:17 +08:00

2018-05-23 16:02:17,483 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:02:17 +08:00

2018-05-23 16:02:17,483 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (([Extent1].[Description] = @p__linq__0) OR (([Extent1].[Description] IS NULL) AND (@p__linq__0 IS NULL)))
2018-05-23 16:02:17,483 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:02:17,483 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '平台发放' (Type = String, Size = 4000)

2018-05-23 16:02:17,483 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:02:17 +08:00

2018-05-23 16:02:17,485 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:02:17,485 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:02:17,485 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:02:17 +08:00

2018-05-23 16:02:17,500 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/23 16:02:17 +08:00

2018-05-23 16:02:17,502 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Started transaction at 2018/5/23 16:02:17 +08:00

2018-05-23 16:02:17,519 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：UPDATE [dbo].[T_PlatformUsers]
SET [PlatformIntegral] = @0
WHERE ([Id] = @1)

2018-05-23 16:02:17,520 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @0: '5880' (Type = Int64)

2018-05-23 16:02:17,520 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @1: '1' (Type = Int64)

2018-05-23 16:02:17,520 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 16:02:17 +08:00

2018-05-23 16:02:17,524 [50] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: 1

2018-05-23 16:02:17,524 [50] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:02:17,525 [50] DEBUG IMS.Service.MyDbContext - EF执行SQL：UPDATE [dbo].[T_PlatformUsers]
SET [GivingIntegral] = @0
WHERE ([Id] = @1)

2018-05-23 16:02:17,525 [50] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @0: '19' (Type = Int64)

2018-05-23 16:02:17,525 [50] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @1: '35' (Type = Int64)

2018-05-23 16:02:17,525 [50] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 16:02:17 +08:00

2018-05-23 16:02:17,527 [50] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: 1

2018-05-23 16:02:17,527 [50] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:02:17,528 [50] DEBUG IMS.Service.MyDbContext - EF执行SQL：INSERT [dbo].[T_Journals]([PlatformUserId], [ToPlatformUserId], [FormPlatformUserId], [JournalTypeId], [IntegralTypeId], [ToIntegralTypeId], [Journal01], [Description], [InIntegral], [OutIntegral], [Integral], [Amount], [Tip], [CreateTime], [IsDeleted])
VALUES (@0, @1, @2, @3, @4, @5, NULL, @6, NULL, @7, @8, NULL, @9, @10, @11)
SELECT [Id]
FROM [dbo].[T_Journals]
WHERE @@ROWCOUNT > 0 AND [Id] = scope_identity()
2018-05-23 16:02:17,528 [50] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:02:17,528 [50] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @0: '1' (Type = Int64)

2018-05-23 16:02:17,528 [50] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @1: '35' (Type = Int64)

2018-05-23 16:02:17,528 [50] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @2: '1' (Type = Int64)

2018-05-23 16:02:17,528 [50] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @3: '1' (Type = Int64)

2018-05-23 16:02:17,528 [50] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @4: '1' (Type = Int64)

2018-05-23 16:02:17,528 [50] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @5: '2' (Type = Int64)

2018-05-23 16:02:17,528 [50] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @6: '平台发放' (Type = String, Size = 100)

2018-05-23 16:02:17,528 [50] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @7: '10' (Type = Int64)

2018-05-23 16:02:17,528 [50] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @8: '5880' (Type = Int64)

2018-05-23 16:02:17,528 [50] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @9: '10' (Type = String, Size = 100)

2018-05-23 16:02:17,528 [50] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @10: '2018/5/23 16:02:17' (Type = DateTime2)

2018-05-23 16:02:17,528 [50] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @11: 'False' (Type = Boolean)

2018-05-23 16:02:17,528 [50] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 16:02:17 +08:00

2018-05-23 16:02:17,530 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:02:17,530 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:02:17,532 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：INSERT [dbo].[T_Journals]([PlatformUserId], [ToPlatformUserId], [FormPlatformUserId], [JournalTypeId], [IntegralTypeId], [ToIntegralTypeId], [Journal01], [Description], [InIntegral], [OutIntegral], [Integral], [Amount], [Tip], [CreateTime], [IsDeleted])
VALUES (@0, @1, @2, @3, @4, @5, NULL, @6, @7, NULL, @8, NULL, @9, @10, @11)
SELECT [Id]
FROM [dbo].[T_Journals]
WHERE @@ROWCOUNT > 0 AND [Id] = scope_identity()
2018-05-23 16:02:17,532 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:02:17,532 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @0: '35' (Type = Int64)

2018-05-23 16:02:17,532 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @1: '35' (Type = Int64)

2018-05-23 16:02:17,532 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @2: '1' (Type = Int64)

2018-05-23 16:02:17,532 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @3: '1' (Type = Int64)

2018-05-23 16:02:17,532 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @4: '1' (Type = Int64)

2018-05-23 16:02:17,532 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @5: '2' (Type = Int64)

2018-05-23 16:02:17,532 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @6: '平台发放' (Type = String, Size = 100)

2018-05-23 16:02:17,532 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @7: '10' (Type = Int64)

2018-05-23 16:02:17,532 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @8: '19' (Type = Int64)

2018-05-23 16:02:17,532 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @9: '10' (Type = String, Size = 100)

2018-05-23 16:02:17,532 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @10: '2018/5/23 16:02:17' (Type = DateTime2)

2018-05-23 16:02:17,532 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- @11: 'False' (Type = Boolean)

2018-05-23 16:02:17,532 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 16:02:17 +08:00

2018-05-23 16:02:17,534 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:02:17,534 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:02:17,536 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：Committed transaction at 2018/5/23 16:02:17 +08:00

2018-05-23 16:02:17,536 [30] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:02:17 +08:00

2018-05-23 16:02:17,579 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:02:17 +08:00

2018-05-23 16:02:17,580 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM  [dbo].[T_PlatformUsers] AS [Extent1]
        INNER JOIN [dbo].[T_PlatformUserTypes] AS [Extent2] ON [Extent1].[PlatformUserTypeId] = [Extent2].[Id]
        WHERE (0 = [Extent1].[IsDeleted]) AND (([Extent2].[Name] = @p__linq__0) OR (1 = 0))
    )  AS [GroupBy1]
2018-05-23 16:02:17,580 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:02:17,580 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '商家' (Type = String, Size = 4000)

2018-05-23 16:02:17,580 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:02:17 +08:00

2018-05-23 16:02:17,581 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:02:17,581 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:02:17,582 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:02:17 +08:00

2018-05-23 16:02:17,582 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/23 16:02:17 +08:00

2018-05-23 16:02:17,582 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Code] AS [Code], 
    [Project1].[Description] AS [Description], 
    [Project1].[PlatformIntegral] AS [PlatformIntegral], 
    [Project1].[GivingIntegral] AS [GivingIntegral], 
    [Project1].[UseIntegral] AS [UseIntegral], 
    [Project1].[Salt] AS [Salt], 
    [Project1].[Password] AS [Password], 
    [Project1].[TradePassword] AS [TradePassword], 
    [Project1].[ErrorCount] AS [ErrorCount], 
    [Project1].[ErrorTime] AS [ErrorTime], 
    [Project1].[IsEnabled] AS [IsEnabled], 
    [Project1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Mobile] AS [Mobile], [Project1].[Code] AS [Code], [Project1].[Description] AS [Description], [Project1].[PlatformIntegral] AS [PlatformIntegral], [Project1].[GivingIntegral] AS [GivingIntegral], [Project1].[UseIntegral] AS [UseIntegral], [Project1].[Salt] AS [Salt], [Project1].[Password] AS [Password], [Project1].[TradePassword] AS [TradePassword], [Project1].[ErrorCount] AS [ErrorCount], [Project1].[ErrorTime] AS [ErrorTime], [Project1].[IsEnabled] AS [IsEnabled], [Project1].[PlatformUserTypeId] AS [PlatformUserTypeId], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Code] AS [Code], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
            [Extent1].[GivingIntegral] AS [GivingIntegral], 
            [Extent1].[UseIntegral] AS [UseIntegral], 
            [Extent1].[Salt] AS [Salt], 
            [Extent1].[Password] AS [Password], 
            [Extent1].[TradePassword] AS [TradePassword], 
            [Extent1].[ErrorCount] AS [ErrorCount], 
            [Extent1].[ErrorTime] AS [ErrorTime], 
            [Extent1].[IsEnabled] AS [IsEnabled], 
            [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM  [dbo].[T_PlatformUsers] AS [Extent1]
            INNER JOIN [dbo].[T_PlatformUserTypes] AS [Extent2] ON [Extent1].[PlatformUserTypeId] = [Extent2].[Id]
            WHERE (0 = [Extent1].[IsDeleted]) AND (([Extent2].[Name] = @p__linq__0) OR (1 = 0))
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-23 16:02:17,582 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:02:17,582 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '商家' (Type = String, Size = 4000)

2018-05-23 16:02:17,582 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 16:02:17 +08:00

2018-05-23 16:02:17,593 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 10 ms with result: SqlDataReader

2018-05-23 16:02:17,593 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:02:17,593 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:02:17 +08:00

2018-05-23 16:02:17,594 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:02:17 +08:00

2018-05-23 16:02:17,594 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:02:17,594 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:02:17,594 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-23 16:02:17,594 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:02:17 +08:00

2018-05-23 16:02:17,595 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:02:17,595 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:02:17,596 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:02:17 +08:00

2018-05-23 16:02:17,596 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/23 16:02:17 +08:00

2018-05-23 16:02:17,596 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2018-05-23 16:02:17,596 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:02:17,596 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2018-05-23 16:02:17,596 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 16:02:17 +08:00

2018-05-23 16:02:17,608 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 10 ms with result: SqlDataReader

2018-05-23 16:02:17,608 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:02:17,608 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:02:17 +08:00

2018-05-23 16:02:17,608 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:02:17 +08:00

2018-05-23 16:02:17,608 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:02:17,608 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:02:17,608 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-23 16:02:17,609 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:02:17 +08:00

2018-05-23 16:02:17,610 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:02:17,610 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:02:17,610 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:02:17 +08:00

2018-05-23 16:02:20,960 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:02:20 +08:00

2018-05-23 16:02:20,960 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费' = [Extent1].[Description])
2018-05-23 16:02:20,960 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:02:20,960 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:02:20 +08:00

2018-05-23 16:02:20,962 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:02:20,962 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:02:20,962 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:02:20 +08:00

2018-05-23 16:02:20,962 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/23 16:02:20 +08:00

2018-05-23 16:02:20,963 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND (([Extent1].[PlatformUserId] = @p__linq__0) OR (([Extent1].[PlatformUserId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = [Extent1].[ToPlatformUserId])) OR (([Extent1].[ToPlatformUserId] = @p__linq__2) AND ([Extent1].[ToPlatformUserId] = [Extent1].[FormPlatformUserId])))
    )  AS [GroupBy1]
2018-05-23 16:02:20,963 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:02:20,963 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '35' (Type = Int64)

2018-05-23 16:02:20,963 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '35' (Type = Int64)

2018-05-23 16:02:20,963 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '35' (Type = Int64)

2018-05-23 16:02:20,963 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 16:02:20 +08:00

2018-05-23 16:02:20,964 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:02:20,964 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:02:20,964 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:02:20 +08:00

2018-05-23 16:02:20,965 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/23 16:02:20 +08:00

2018-05-23 16:02:20,965 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND (([Extent1].[PlatformUserId] = @p__linq__0) OR (([Extent1].[PlatformUserId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = [Extent1].[ToPlatformUserId])) OR (([Extent1].[ToPlatformUserId] = @p__linq__2) AND ([Extent1].[ToPlatformUserId] = [Extent1].[FormPlatformUserId])))
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-23 16:02:20,965 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:02:20,965 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '35' (Type = Int64)

2018-05-23 16:02:20,965 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '35' (Type = Int64)

2018-05-23 16:02:20,965 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '35' (Type = Int64)

2018-05-23 16:02:20,965 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 16:02:20 +08:00

2018-05-23 16:02:20,969 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2018-05-23 16:02:20,969 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:02:20,970 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:02:20 +08:00

2018-05-23 16:02:20,970 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:02:20 +08:00

2018-05-23 16:02:20,970 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:02:20,970 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:02:20,970 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-23 16:02:20,970 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:02:20 +08:00

2018-05-23 16:02:20,973 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-23 16:02:20,973 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:02:20,973 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:02:20 +08:00

2018-05-23 16:02:20,974 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:02:20 +08:00

2018-05-23 16:02:20,974 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:02:20,974 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:02:20,974 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-23 16:02:20,974 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:02:20 +08:00

2018-05-23 16:02:20,975 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:02:20,975 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:02:20,975 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:02:20 +08:00

2018-05-23 16:02:20,976 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:02:20 +08:00

2018-05-23 16:02:20,976 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:02:20,976 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:02:20,976 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '35' (Type = Int64, IsNullable = false)

2018-05-23 16:02:20,976 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:02:20 +08:00

2018-05-23 16:02:20,979 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-23 16:02:20,979 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:02:20,979 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:02:20 +08:00

2018-05-23 16:02:20,979 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:02:20 +08:00

2018-05-23 16:02:20,979 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:02:20,979 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:02:20,979 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-23 16:02:20,979 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:02:20 +08:00

2018-05-23 16:02:20,981 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:02:20,981 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:02:20,981 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:02:20 +08:00

2018-05-23 16:02:20,981 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:02:20 +08:00

2018-05-23 16:02:20,981 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:02:20,981 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:02:20,981 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-23 16:02:20,981 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:02:20 +08:00

2018-05-23 16:02:20,983 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:02:20,983 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:02:20,983 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:02:20 +08:00

2018-05-23 16:02:20,983 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:02:20 +08:00

2018-05-23 16:02:20,983 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:02:20,983 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:02:20,983 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '19' (Type = Int64, IsNullable = false)

2018-05-23 16:02:20,983 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:02:20 +08:00

2018-05-23 16:02:20,986 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-23 16:02:20,986 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:02:20,986 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:02:20 +08:00

2018-05-23 16:02:20,987 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:02:20 +08:00

2018-05-23 16:02:20,987 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:02:20,987 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:02:20,987 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-23 16:02:20,987 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:02:20 +08:00

2018-05-23 16:02:20,988 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:02:20,988 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:02:20,988 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:02:20 +08:00

2018-05-23 16:02:20,989 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:02:20 +08:00

2018-05-23 16:02:20,989 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:02:20,989 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:02:20,989 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-23 16:02:20,989 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:02:20 +08:00

2018-05-23 16:02:20,990 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:02:20,990 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:02:20,990 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:02:20 +08:00

2018-05-23 16:02:20,990 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:02:20 +08:00

2018-05-23 16:02:20,990 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:02:20,990 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:02:20,990 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '5' (Type = Int64, IsNullable = false)

2018-05-23 16:02:20,990 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:02:20 +08:00

2018-05-23 16:02:20,992 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:02:20,992 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:02:20,992 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:02:20 +08:00

2018-05-23 16:02:20,992 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:02:20 +08:00

2018-05-23 16:02:20,992 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:02:20,992 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:02:20,992 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-23 16:02:20,992 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:02:20 +08:00

2018-05-23 16:02:20,994 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:02:20,994 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:02:20,994 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:02:20 +08:00

2018-05-23 16:02:20,994 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:02:20 +08:00

2018-05-23 16:02:20,994 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:02:20,994 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:02:20,994 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-23 16:02:20,994 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:02:20 +08:00

2018-05-23 16:02:20,997 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-23 16:02:20,997 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:02:20,997 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:02:20 +08:00

2018-05-23 16:02:53,412 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:02:53 +08:00

2018-05-23 16:02:53,412 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM  [dbo].[T_PlatformUsers] AS [Extent1]
        INNER JOIN [dbo].[T_PlatformUserTypes] AS [Extent2] ON [Extent1].[PlatformUserTypeId] = [Extent2].[Id]
        WHERE (0 = [Extent1].[IsDeleted]) AND (([Extent2].[Name] = @p__linq__0) OR (1 = 0))
    )  AS [GroupBy1]
2018-05-23 16:02:53,412 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:02:53,412 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '商家' (Type = String, Size = 4000)

2018-05-23 16:02:53,412 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:02:53 +08:00

2018-05-23 16:02:53,415 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-23 16:02:53,415 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:02:53,415 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:02:53 +08:00

2018-05-23 16:02:53,415 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/23 16:02:53 +08:00

2018-05-23 16:02:53,415 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Code] AS [Code], 
    [Project1].[Description] AS [Description], 
    [Project1].[PlatformIntegral] AS [PlatformIntegral], 
    [Project1].[GivingIntegral] AS [GivingIntegral], 
    [Project1].[UseIntegral] AS [UseIntegral], 
    [Project1].[Salt] AS [Salt], 
    [Project1].[Password] AS [Password], 
    [Project1].[TradePassword] AS [TradePassword], 
    [Project1].[ErrorCount] AS [ErrorCount], 
    [Project1].[ErrorTime] AS [ErrorTime], 
    [Project1].[IsEnabled] AS [IsEnabled], 
    [Project1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Mobile] AS [Mobile], [Project1].[Code] AS [Code], [Project1].[Description] AS [Description], [Project1].[PlatformIntegral] AS [PlatformIntegral], [Project1].[GivingIntegral] AS [GivingIntegral], [Project1].[UseIntegral] AS [UseIntegral], [Project1].[Salt] AS [Salt], [Project1].[Password] AS [Password], [Project1].[TradePassword] AS [TradePassword], [Project1].[ErrorCount] AS [ErrorCount], [Project1].[ErrorTime] AS [ErrorTime], [Project1].[IsEnabled] AS [IsEnabled], [Project1].[PlatformUserTypeId] AS [PlatformUserTypeId], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Code] AS [Code], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
            [Extent1].[GivingIntegral] AS [GivingIntegral], 
            [Extent1].[UseIntegral] AS [UseIntegral], 
            [Extent1].[Salt] AS [Salt], 
            [Extent1].[Password] AS [Password], 
            [Extent1].[TradePassword] AS [TradePassword], 
            [Extent1].[ErrorCount] AS [ErrorCount], 
            [Extent1].[ErrorTime] AS [ErrorTime], 
            [Extent1].[IsEnabled] AS [IsEnabled], 
            [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM  [dbo].[T_PlatformUsers] AS [Extent1]
            INNER JOIN [dbo].[T_PlatformUserTypes] AS [Extent2] ON [Extent1].[PlatformUserTypeId] = [Extent2].[Id]
            WHERE (0 = [Extent1].[IsDeleted]) AND (([Extent2].[Name] = @p__linq__0) OR (1 = 0))
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-23 16:02:53,415 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:02:53,415 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '商家' (Type = String, Size = 4000)

2018-05-23 16:02:53,415 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 16:02:53 +08:00

2018-05-23 16:02:53,419 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2018-05-23 16:02:53,419 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:02:53,420 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:02:53 +08:00

2018-05-23 16:02:53,420 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:02:53 +08:00

2018-05-23 16:02:53,420 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:02:53,421 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:02:53,421 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-23 16:02:53,421 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:02:53 +08:00

2018-05-23 16:02:53,422 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:02:53,422 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:02:53,422 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:02:53 +08:00

2018-05-23 16:02:53,423 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/23 16:02:53 +08:00

2018-05-23 16:02:53,423 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2018-05-23 16:02:53,423 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:02:53,423 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2018-05-23 16:02:53,423 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 16:02:53 +08:00

2018-05-23 16:02:53,426 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-23 16:02:53,426 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:02:53,426 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:02:53 +08:00

2018-05-23 16:02:53,427 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:02:53 +08:00

2018-05-23 16:02:53,427 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:02:53,427 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:02:53,427 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-23 16:02:53,427 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:02:53 +08:00

2018-05-23 16:02:53,428 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:02:53,428 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:02:53,428 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:02:53 +08:00

2018-05-23 16:02:54,311 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:02:54 +08:00

2018-05-23 16:02:54,312 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM  [dbo].[T_PlatformUsers] AS [Extent1]
        INNER JOIN [dbo].[T_PlatformUserTypes] AS [Extent2] ON [Extent1].[PlatformUserTypeId] = [Extent2].[Id]
        WHERE (0 = [Extent1].[IsDeleted]) AND (([Extent2].[Name] = @p__linq__0) OR (1 = 0))
    )  AS [GroupBy1]
2018-05-23 16:02:54,312 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:02:54,312 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '商家' (Type = String, Size = 4000)

2018-05-23 16:02:54,312 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:02:54 +08:00

2018-05-23 16:02:54,313 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:02:54,313 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:02:54,313 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:02:54 +08:00

2018-05-23 16:02:54,314 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/23 16:02:54 +08:00

2018-05-23 16:02:54,314 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Code] AS [Code], 
    [Project1].[Description] AS [Description], 
    [Project1].[PlatformIntegral] AS [PlatformIntegral], 
    [Project1].[GivingIntegral] AS [GivingIntegral], 
    [Project1].[UseIntegral] AS [UseIntegral], 
    [Project1].[Salt] AS [Salt], 
    [Project1].[Password] AS [Password], 
    [Project1].[TradePassword] AS [TradePassword], 
    [Project1].[ErrorCount] AS [ErrorCount], 
    [Project1].[ErrorTime] AS [ErrorTime], 
    [Project1].[IsEnabled] AS [IsEnabled], 
    [Project1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Mobile] AS [Mobile], [Project1].[Code] AS [Code], [Project1].[Description] AS [Description], [Project1].[PlatformIntegral] AS [PlatformIntegral], [Project1].[GivingIntegral] AS [GivingIntegral], [Project1].[UseIntegral] AS [UseIntegral], [Project1].[Salt] AS [Salt], [Project1].[Password] AS [Password], [Project1].[TradePassword] AS [TradePassword], [Project1].[ErrorCount] AS [ErrorCount], [Project1].[ErrorTime] AS [ErrorTime], [Project1].[IsEnabled] AS [IsEnabled], [Project1].[PlatformUserTypeId] AS [PlatformUserTypeId], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Code] AS [Code], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
            [Extent1].[GivingIntegral] AS [GivingIntegral], 
            [Extent1].[UseIntegral] AS [UseIntegral], 
            [Extent1].[Salt] AS [Salt], 
            [Extent1].[Password] AS [Password], 
            [Extent1].[TradePassword] AS [TradePassword], 
            [Extent1].[ErrorCount] AS [ErrorCount], 
            [Extent1].[ErrorTime] AS [ErrorTime], 
            [Extent1].[IsEnabled] AS [IsEnabled], 
            [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM  [dbo].[T_PlatformUsers] AS [Extent1]
            INNER JOIN [dbo].[T_PlatformUserTypes] AS [Extent2] ON [Extent1].[PlatformUserTypeId] = [Extent2].[Id]
            WHERE (0 = [Extent1].[IsDeleted]) AND (([Extent2].[Name] = @p__linq__0) OR (1 = 0))
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-23 16:02:54,314 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:02:54,314 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '商家' (Type = String, Size = 4000)

2018-05-23 16:02:54,314 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 16:02:54 +08:00

2018-05-23 16:02:54,318 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2018-05-23 16:02:54,318 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:02:54,319 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:02:54 +08:00

2018-05-23 16:02:54,319 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:02:54 +08:00

2018-05-23 16:02:54,319 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:02:54,319 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:02:54,319 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-23 16:02:54,319 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:02:54 +08:00

2018-05-23 16:02:54,320 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:02:54,321 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:02:54,321 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:02:54 +08:00

2018-05-23 16:02:54,321 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/23 16:02:54 +08:00

2018-05-23 16:02:54,322 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2018-05-23 16:02:54,322 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:02:54,322 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2018-05-23 16:02:54,322 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 16:02:54 +08:00

2018-05-23 16:02:54,325 [50] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-23 16:02:54,325 [50] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:02:54,325 [50] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:02:54 +08:00

2018-05-23 16:02:54,325 [50] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:02:54 +08:00

2018-05-23 16:02:54,325 [50] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:02:54,325 [50] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:02:54,325 [50] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-23 16:02:54,325 [50] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:02:54 +08:00

2018-05-23 16:02:54,327 [50] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:02:54,327 [50] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:02:54,327 [50] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:02:54 +08:00

2018-05-23 16:02:56,787 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:02:56 +08:00

2018-05-23 16:02:56,787 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费' = [Extent1].[Description])
2018-05-23 16:02:56,787 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:02:56,787 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:02:56 +08:00

2018-05-23 16:02:56,789 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:02:56,789 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:02:56,789 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:02:56 +08:00

2018-05-23 16:02:56,790 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/23 16:02:56 +08:00

2018-05-23 16:02:56,790 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND (([Extent1].[PlatformUserId] = @p__linq__0) OR (([Extent1].[PlatformUserId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = [Extent1].[ToPlatformUserId])) OR (([Extent1].[ToPlatformUserId] = @p__linq__2) AND ([Extent1].[ToPlatformUserId] = [Extent1].[FormPlatformUserId])))
    )  AS [GroupBy1]
2018-05-23 16:02:56,790 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:02:56,790 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '35' (Type = Int64)

2018-05-23 16:02:56,790 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '35' (Type = Int64)

2018-05-23 16:02:56,790 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '35' (Type = Int64)

2018-05-23 16:02:56,790 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 16:02:56 +08:00

2018-05-23 16:02:56,792 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:02:56,792 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:02:56,792 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:02:56 +08:00

2018-05-23 16:02:56,792 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/23 16:02:56 +08:00

2018-05-23 16:02:56,793 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND (([Extent1].[PlatformUserId] = @p__linq__0) OR (([Extent1].[PlatformUserId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = [Extent1].[ToPlatformUserId])) OR (([Extent1].[ToPlatformUserId] = @p__linq__2) AND ([Extent1].[ToPlatformUserId] = [Extent1].[FormPlatformUserId])))
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-23 16:02:56,793 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:02:56,793 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '35' (Type = Int64)

2018-05-23 16:02:56,793 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '35' (Type = Int64)

2018-05-23 16:02:56,793 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '35' (Type = Int64)

2018-05-23 16:02:56,793 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 16:02:56 +08:00

2018-05-23 16:02:56,796 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-23 16:02:56,796 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:02:56,797 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:02:56 +08:00

2018-05-23 16:02:56,797 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:02:56 +08:00

2018-05-23 16:02:56,797 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:02:56,797 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:02:56,797 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-23 16:02:56,797 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:02:56 +08:00

2018-05-23 16:02:56,800 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-23 16:02:56,800 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:02:56,800 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:02:56 +08:00

2018-05-23 16:02:56,800 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:02:56 +08:00

2018-05-23 16:02:56,800 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:02:56,800 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:02:56,800 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-23 16:02:56,801 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:02:56 +08:00

2018-05-23 16:02:56,802 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:02:56,802 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:02:56,802 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:02:56 +08:00

2018-05-23 16:02:56,802 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:02:56 +08:00

2018-05-23 16:02:56,802 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:02:56,802 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:02:56,802 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '35' (Type = Int64, IsNullable = false)

2018-05-23 16:02:56,802 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:02:56 +08:00

2018-05-23 16:02:56,805 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-23 16:02:56,805 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:02:56,806 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:02:56 +08:00

2018-05-23 16:02:56,806 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:02:56 +08:00

2018-05-23 16:02:56,806 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:02:56,806 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:02:56,806 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-23 16:02:56,806 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:02:56 +08:00

2018-05-23 16:02:56,808 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:02:56,808 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:02:56,808 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:02:56 +08:00

2018-05-23 16:02:56,808 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:02:56 +08:00

2018-05-23 16:02:56,808 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:02:56,808 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:02:56,808 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-23 16:02:56,808 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:02:56 +08:00

2018-05-23 16:02:56,810 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:02:56,810 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:02:56,810 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:02:56 +08:00

2018-05-23 16:02:56,810 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:02:56 +08:00

2018-05-23 16:02:56,810 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:02:56,810 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:02:56,810 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '19' (Type = Int64, IsNullable = false)

2018-05-23 16:02:56,810 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:02:56 +08:00

2018-05-23 16:02:56,813 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-23 16:02:56,813 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:02:56,813 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:02:56 +08:00

2018-05-23 16:02:56,813 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:02:56 +08:00

2018-05-23 16:02:56,813 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:02:56,813 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:02:56,813 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-23 16:02:56,814 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:02:56 +08:00

2018-05-23 16:02:56,815 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:02:56,815 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:02:56,815 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:02:56 +08:00

2018-05-23 16:02:56,815 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:02:56 +08:00

2018-05-23 16:02:56,815 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:02:56,815 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:02:56,815 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-23 16:02:56,815 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:02:56 +08:00

2018-05-23 16:02:56,817 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:02:56,817 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:02:56,817 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:02:56 +08:00

2018-05-23 16:02:56,817 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:02:56 +08:00

2018-05-23 16:02:56,817 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:02:56,817 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:02:56,817 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '5' (Type = Int64, IsNullable = false)

2018-05-23 16:02:56,817 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:02:56 +08:00

2018-05-23 16:02:56,819 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:02:56,819 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:02:56,819 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:02:56 +08:00

2018-05-23 16:02:56,819 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:02:56 +08:00

2018-05-23 16:02:56,819 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:02:56,819 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:02:56,819 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-23 16:02:56,819 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:02:56 +08:00

2018-05-23 16:02:56,820 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:02:56,820 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:02:56,821 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:02:56 +08:00

2018-05-23 16:02:56,821 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:02:56 +08:00

2018-05-23 16:02:56,821 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:02:56,821 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:02:56,821 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-23 16:02:56,821 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:02:56 +08:00

2018-05-23 16:02:56,824 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-23 16:02:56,824 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:02:56,824 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:02:56 +08:00

2018-05-23 16:03:03,355 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:03:03 +08:00

2018-05-23 16:03:03,355 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费' = [Extent1].[Description])
2018-05-23 16:03:03,355 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:03:03,355 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:03:03 +08:00

2018-05-23 16:03:03,357 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:03:03,357 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:03:03,357 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:03:03 +08:00

2018-05-23 16:03:03,357 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/23 16:03:03 +08:00

2018-05-23 16:03:03,357 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND (([Extent1].[PlatformUserId] = @p__linq__0) OR (([Extent1].[PlatformUserId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = [Extent1].[ToPlatformUserId])) OR (([Extent1].[ToPlatformUserId] = @p__linq__2) AND ([Extent1].[ToPlatformUserId] = [Extent1].[FormPlatformUserId])))
    )  AS [GroupBy1]
2018-05-23 16:03:03,358 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:03:03,358 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '35' (Type = Int64)

2018-05-23 16:03:03,358 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '35' (Type = Int64)

2018-05-23 16:03:03,358 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '35' (Type = Int64)

2018-05-23 16:03:03,358 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 16:03:03 +08:00

2018-05-23 16:03:03,359 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:03:03,359 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:03:03,359 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:03:03 +08:00

2018-05-23 16:03:03,360 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/23 16:03:03 +08:00

2018-05-23 16:03:03,360 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND (([Extent1].[PlatformUserId] = @p__linq__0) OR (([Extent1].[PlatformUserId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = [Extent1].[ToPlatformUserId])) OR (([Extent1].[ToPlatformUserId] = @p__linq__2) AND ([Extent1].[ToPlatformUserId] = [Extent1].[FormPlatformUserId])))
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-23 16:03:03,360 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:03:03,360 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '35' (Type = Int64)

2018-05-23 16:03:03,360 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '35' (Type = Int64)

2018-05-23 16:03:03,360 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '35' (Type = Int64)

2018-05-23 16:03:03,360 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 16:03:03 +08:00

2018-05-23 16:03:03,363 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-23 16:03:03,363 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:03:03,365 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:03:03 +08:00

2018-05-23 16:03:03,365 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:03:03 +08:00

2018-05-23 16:03:03,365 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:03:03,365 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:03:03,365 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-23 16:03:03,365 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:03:03 +08:00

2018-05-23 16:03:03,368 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-23 16:03:03,368 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:03:03,369 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:03:03 +08:00

2018-05-23 16:03:03,369 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:03:03 +08:00

2018-05-23 16:03:03,369 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:03:03,369 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:03:03,369 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-23 16:03:03,369 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:03:03 +08:00

2018-05-23 16:03:03,370 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:03:03,371 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:03:03,371 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:03:03 +08:00

2018-05-23 16:03:03,371 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:03:03 +08:00

2018-05-23 16:03:03,371 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:03:03,371 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:03:03,371 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '35' (Type = Int64, IsNullable = false)

2018-05-23 16:03:03,371 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:03:03 +08:00

2018-05-23 16:03:03,374 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-23 16:03:03,374 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:03:03,374 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:03:03 +08:00

2018-05-23 16:03:03,375 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:03:03 +08:00

2018-05-23 16:03:03,375 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:03:03,375 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:03:03,375 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-23 16:03:03,375 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:03:03 +08:00

2018-05-23 16:03:03,376 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:03:03,376 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:03:03,376 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:03:03 +08:00

2018-05-23 16:03:03,376 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:03:03 +08:00

2018-05-23 16:03:03,377 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:03:03,377 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:03:03,377 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-23 16:03:03,377 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:03:03 +08:00

2018-05-23 16:03:03,378 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:03:03,378 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:03:03,378 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:03:03 +08:00

2018-05-23 16:03:03,378 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:03:03 +08:00

2018-05-23 16:03:03,378 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:03:03,379 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:03:03,379 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '19' (Type = Int64, IsNullable = false)

2018-05-23 16:03:03,379 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:03:03 +08:00

2018-05-23 16:03:03,381 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-23 16:03:03,382 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:03:03,382 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:03:03 +08:00

2018-05-23 16:03:03,382 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:03:03 +08:00

2018-05-23 16:03:03,382 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:03:03,382 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:03:03,382 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-23 16:03:03,382 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:03:03 +08:00

2018-05-23 16:03:03,384 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:03:03,384 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:03:03,384 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:03:03 +08:00

2018-05-23 16:03:03,384 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:03:03 +08:00

2018-05-23 16:03:03,384 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:03:03,384 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:03:03,384 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-23 16:03:03,384 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:03:03 +08:00

2018-05-23 16:03:03,385 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:03:03,385 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:03:03,386 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:03:03 +08:00

2018-05-23 16:03:03,386 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:03:03 +08:00

2018-05-23 16:03:03,386 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:03:03,386 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:03:03,386 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '5' (Type = Int64, IsNullable = false)

2018-05-23 16:03:03,386 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:03:03 +08:00

2018-05-23 16:03:03,387 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:03:03,387 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:03:03,387 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:03:03 +08:00

2018-05-23 16:03:03,388 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:03:03 +08:00

2018-05-23 16:03:03,388 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:03:03,388 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:03:03,388 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-23 16:03:03,388 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:03:03 +08:00

2018-05-23 16:03:03,389 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:03:03,389 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:03:03,389 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:03:03 +08:00

2018-05-23 16:03:03,389 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:03:03 +08:00

2018-05-23 16:03:03,389 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:03:03,389 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:03:03,390 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-23 16:03:03,390 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:03:03 +08:00

2018-05-23 16:03:03,392 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-23 16:03:03,392 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:03:03,393 [71] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:03:03 +08:00

2018-05-23 16:03:10,359 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:03:10 +08:00

2018-05-23 16:03:10,359 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM  [dbo].[T_PlatformUsers] AS [Extent1]
        INNER JOIN [dbo].[T_PlatformUserTypes] AS [Extent2] ON [Extent1].[PlatformUserTypeId] = [Extent2].[Id]
        WHERE (0 = [Extent1].[IsDeleted]) AND (([Extent2].[Name] = @p__linq__0) OR (1 = 0))
    )  AS [GroupBy1]
2018-05-23 16:03:10,359 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:03:10,359 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '商家' (Type = String, Size = 4000)

2018-05-23 16:03:10,359 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:03:10 +08:00

2018-05-23 16:03:10,361 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:03:10,361 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:03:10,361 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:03:10 +08:00

2018-05-23 16:03:10,361 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/23 16:03:10 +08:00

2018-05-23 16:03:10,362 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Code] AS [Code], 
    [Project1].[Description] AS [Description], 
    [Project1].[PlatformIntegral] AS [PlatformIntegral], 
    [Project1].[GivingIntegral] AS [GivingIntegral], 
    [Project1].[UseIntegral] AS [UseIntegral], 
    [Project1].[Salt] AS [Salt], 
    [Project1].[Password] AS [Password], 
    [Project1].[TradePassword] AS [TradePassword], 
    [Project1].[ErrorCount] AS [ErrorCount], 
    [Project1].[ErrorTime] AS [ErrorTime], 
    [Project1].[IsEnabled] AS [IsEnabled], 
    [Project1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Mobile] AS [Mobile], [Project1].[Code] AS [Code], [Project1].[Description] AS [Description], [Project1].[PlatformIntegral] AS [PlatformIntegral], [Project1].[GivingIntegral] AS [GivingIntegral], [Project1].[UseIntegral] AS [UseIntegral], [Project1].[Salt] AS [Salt], [Project1].[Password] AS [Password], [Project1].[TradePassword] AS [TradePassword], [Project1].[ErrorCount] AS [ErrorCount], [Project1].[ErrorTime] AS [ErrorTime], [Project1].[IsEnabled] AS [IsEnabled], [Project1].[PlatformUserTypeId] AS [PlatformUserTypeId], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Code] AS [Code], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
            [Extent1].[GivingIntegral] AS [GivingIntegral], 
            [Extent1].[UseIntegral] AS [UseIntegral], 
            [Extent1].[Salt] AS [Salt], 
            [Extent1].[Password] AS [Password], 
            [Extent1].[TradePassword] AS [TradePassword], 
            [Extent1].[ErrorCount] AS [ErrorCount], 
            [Extent1].[ErrorTime] AS [ErrorTime], 
            [Extent1].[IsEnabled] AS [IsEnabled], 
            [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM  [dbo].[T_PlatformUsers] AS [Extent1]
            INNER JOIN [dbo].[T_PlatformUserTypes] AS [Extent2] ON [Extent1].[PlatformUserTypeId] = [Extent2].[Id]
            WHERE (0 = [Extent1].[IsDeleted]) AND (([Extent2].[Name] = @p__linq__0) OR (1 = 0))
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-23 16:03:10,362 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:03:10,362 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '商家' (Type = String, Size = 4000)

2018-05-23 16:03:10,362 [51] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 16:03:10 +08:00

2018-05-23 16:03:10,366 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2018-05-23 16:03:10,366 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:03:10,367 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:03:10 +08:00

2018-05-23 16:03:10,367 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:03:10 +08:00

2018-05-23 16:03:10,367 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:03:10,367 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:03:10,367 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-23 16:03:10,367 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:03:10 +08:00

2018-05-23 16:03:10,369 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:03:10,369 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:03:10,369 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:03:10 +08:00

2018-05-23 16:03:10,370 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/23 16:03:10 +08:00

2018-05-23 16:03:10,370 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2018-05-23 16:03:10,370 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:03:10,370 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2018-05-23 16:03:10,370 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 16:03:10 +08:00

2018-05-23 16:03:10,373 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-23 16:03:10,373 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:03:10,373 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:03:10 +08:00

2018-05-23 16:03:10,374 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:03:10 +08:00

2018-05-23 16:03:10,374 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:03:10,374 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:03:10,374 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-23 16:03:10,374 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:03:10 +08:00

2018-05-23 16:03:10,375 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:03:10,375 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:03:10,375 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:03:10 +08:00

2018-05-23 16:03:14,210 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:03:14 +08:00

2018-05-23 16:03:14,210 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费' = [Extent1].[Description])
2018-05-23 16:03:14,210 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:03:14,210 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:03:14 +08:00

2018-05-23 16:03:14,212 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:03:14,212 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:03:14,212 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:03:14 +08:00

2018-05-23 16:03:14,212 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/23 16:03:14 +08:00

2018-05-23 16:03:14,213 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND (([Extent1].[PlatformUserId] = @p__linq__0) OR (([Extent1].[PlatformUserId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = [Extent1].[ToPlatformUserId])) OR (([Extent1].[ToPlatformUserId] = @p__linq__2) AND ([Extent1].[ToPlatformUserId] = [Extent1].[FormPlatformUserId])))
    )  AS [GroupBy1]
2018-05-23 16:03:14,213 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:03:14,213 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '35' (Type = Int64)

2018-05-23 16:03:14,213 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '35' (Type = Int64)

2018-05-23 16:03:14,213 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '35' (Type = Int64)

2018-05-23 16:03:14,213 [52] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 16:03:14 +08:00

2018-05-23 16:03:14,215 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:03:14,215 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:03:14,215 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:03:14 +08:00

2018-05-23 16:03:14,215 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/23 16:03:14 +08:00

2018-05-23 16:03:14,216 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND (([Extent1].[PlatformUserId] = @p__linq__0) OR (([Extent1].[PlatformUserId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = [Extent1].[ToPlatformUserId])) OR (([Extent1].[ToPlatformUserId] = @p__linq__2) AND ([Extent1].[ToPlatformUserId] = [Extent1].[FormPlatformUserId])))
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-23 16:03:14,216 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:03:14,216 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '35' (Type = Int64)

2018-05-23 16:03:14,216 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '35' (Type = Int64)

2018-05-23 16:03:14,216 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '35' (Type = Int64)

2018-05-23 16:03:14,216 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 16:03:14 +08:00

2018-05-23 16:03:14,219 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2018-05-23 16:03:14,219 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:03:14,221 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:03:14 +08:00

2018-05-23 16:03:14,221 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:03:14 +08:00

2018-05-23 16:03:14,221 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:03:14,221 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:03:14,221 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-23 16:03:14,221 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:03:14 +08:00

2018-05-23 16:03:14,224 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-23 16:03:14,224 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:03:14,224 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:03:14 +08:00

2018-05-23 16:03:14,224 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:03:14 +08:00

2018-05-23 16:03:14,224 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:03:14,224 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:03:14,224 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-23 16:03:14,224 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:03:14 +08:00

2018-05-23 16:03:14,226 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:03:14,226 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:03:14,226 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:03:14 +08:00

2018-05-23 16:03:14,226 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:03:14 +08:00

2018-05-23 16:03:14,226 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:03:14,226 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:03:14,226 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '35' (Type = Int64, IsNullable = false)

2018-05-23 16:03:14,227 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:03:14 +08:00

2018-05-23 16:03:14,229 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-23 16:03:14,229 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:03:14,230 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:03:14 +08:00

2018-05-23 16:03:14,230 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:03:14 +08:00

2018-05-23 16:03:14,230 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:03:14,230 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:03:14,230 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-23 16:03:14,230 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:03:14 +08:00

2018-05-23 16:03:14,232 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:03:14,232 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:03:14,232 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:03:14 +08:00

2018-05-23 16:03:14,232 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:03:14 +08:00

2018-05-23 16:03:14,232 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:03:14,232 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:03:14,232 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-23 16:03:14,232 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:03:14 +08:00

2018-05-23 16:03:14,234 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:03:14,234 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:03:14,234 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:03:14 +08:00

2018-05-23 16:03:14,234 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:03:14 +08:00

2018-05-23 16:03:14,234 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:03:14,234 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:03:14,234 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '19' (Type = Int64, IsNullable = false)

2018-05-23 16:03:14,234 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:03:14 +08:00

2018-05-23 16:03:14,237 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-23 16:03:14,237 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:03:14,237 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:03:14 +08:00

2018-05-23 16:03:14,237 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:03:14 +08:00

2018-05-23 16:03:14,238 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:03:14,238 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:03:14,238 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-23 16:03:14,238 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:03:14 +08:00

2018-05-23 16:03:14,239 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:03:14,239 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:03:14,239 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:03:14 +08:00

2018-05-23 16:03:14,239 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:03:14 +08:00

2018-05-23 16:03:14,239 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:03:14,240 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:03:14,240 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-23 16:03:14,240 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:03:14 +08:00

2018-05-23 16:03:14,241 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:03:14,241 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:03:14,241 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:03:14 +08:00

2018-05-23 16:03:14,242 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:03:14 +08:00

2018-05-23 16:03:14,242 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:03:14,242 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:03:14,242 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '5' (Type = Int64, IsNullable = false)

2018-05-23 16:03:14,242 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:03:14 +08:00

2018-05-23 16:03:14,243 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:03:14,243 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:03:14,243 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:03:14 +08:00

2018-05-23 16:03:14,243 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:03:14 +08:00

2018-05-23 16:03:14,244 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:03:14,244 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:03:14,244 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-23 16:03:14,244 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:03:14 +08:00

2018-05-23 16:03:14,245 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:03:14,245 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:03:14,245 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:03:14 +08:00

2018-05-23 16:03:14,245 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:03:14 +08:00

2018-05-23 16:03:14,245 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:03:14,245 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:03:14,245 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-23 16:03:14,245 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:03:14 +08:00

2018-05-23 16:03:14,248 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-23 16:03:14,248 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:03:14,248 [74] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:03:14 +08:00

2018-05-23 16:06:48,136 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:06:48 +08:00

2018-05-23 16:06:48,148 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：
SELECT Count(*)
FROM INFORMATION_SCHEMA.TABLES AS t
WHERE t.TABLE_SCHEMA + '.' + t.TABLE_NAME IN ('dbo.T_AdminLogs','dbo.T_Admins','dbo.T_Permissions','dbo.T_PermissionTypes','dbo.T_IntegralTypes','dbo.T_Journals','dbo.T_PlatformUsers','dbo.T_PlatformUserTypes','dbo.T_JournalTypes','dbo.T_NavBars','dbo.T_Settings','dbo.T_SettingTypes','dbo.T_States','dbo.T_TakeCashes','dbo.T_AdminPermissions')
    OR t.TABLE_NAME = 'EdmMetadata'
2018-05-23 16:06:48,149 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:06:48,149 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:06:48 +08:00

2018-05-23 16:06:48,168 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 17 ms with result: 15

2018-05-23 16:06:48,168 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:06:48,169 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:06:48 +08:00

2018-05-23 16:06:48,533 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:06:48 +08:00

2018-05-23 16:06:49,578 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[__MigrationHistory] AS [Extent1]
        WHERE [Extent1].[ContextKey] = @p__linq__0
    )  AS [GroupBy1]
2018-05-23 16:06:49,578 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:06:49,579 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'IMS.Service.MyDbContext' (Type = String, Size = 4000)

2018-05-23 16:06:49,579 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:06:49 +08:00

2018-05-23 16:06:49,614 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Failed in 34 ms with error: 对象名 'dbo.__MigrationHistory' 无效。

2018-05-23 16:06:49,614 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:06:49,615 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:06:49 +08:00

2018-05-23 16:06:49,617 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:06:49 +08:00

2018-05-23 16:06:49,618 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[__MigrationHistory] AS [Extent1]
    )  AS [GroupBy1]
2018-05-23 16:06:49,619 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:06:49,619 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:06:49 +08:00

2018-05-23 16:06:49,637 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Failed in 18 ms with error: 对象名 'dbo.__MigrationHistory' 无效。

2018-05-23 16:06:49,637 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:06:49,637 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:06:49 +08:00

2018-05-23 16:06:49,839 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/23 16:06:49 +08:00

2018-05-23 16:06:50,009 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_Admins] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-05-23 16:06:50,009 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:06:50,009 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'admin' (Type = String, Size = 4000)

2018-05-23 16:06:50,009 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 16:06:50 +08:00

2018-05-23 16:06:50,016 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 6 ms with result: SqlDataReader

2018-05-23 16:06:50,016 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:06:50,071 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:06:50 +08:00

2018-05-23 16:06:50,078 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/23 16:06:50 +08:00

2018-05-23 16:06:50,099 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-05-23 16:06:50,099 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:06:50,099 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'PlatformUser201805051709360001' (Type = String, Size = 4000)

2018-05-23 16:06:50,099 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 16:06:50 +08:00

2018-05-23 16:06:50,102 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2018-05-23 16:06:50,102 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:06:50,131 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:06:50 +08:00

2018-05-23 16:06:50,145 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:06:50 +08:00

2018-05-23 16:06:50,196 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:06:50,196 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:06:50,196 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-23 16:06:50,196 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:06:50 +08:00

2018-05-23 16:06:50,232 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 36 ms with result: SqlDataReader

2018-05-23 16:06:50,233 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:06:50,256 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:06:50 +08:00

2018-05-23 16:06:50,514 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/23 16:06:50 +08:00

2018-05-23 16:06:50,516 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_Admins] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2018-05-23 16:06:50,517 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:06:50,517 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '4' (Type = Int64, IsNullable = false)

2018-05-23 16:06:50,517 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 16:06:50 +08:00

2018-05-23 16:06:50,562 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 45 ms with result: SqlDataReader

2018-05-23 16:06:50,562 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:06:50,563 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:06:50 +08:00

2018-05-23 16:06:50,572 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:06:50 +08:00

2018-05-23 16:06:50,705 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[PermissionTypeId] AS [PermissionTypeId], 
    [Extent2].[CreateTime] AS [CreateTime], 
    [Extent2].[IsDeleted] AS [IsDeleted]
    FROM  [dbo].[T_AdminPermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[AdminId] = [Extent2].[Id]
    WHERE [Extent1].[PermissionId] = @EntityKeyValue1
2018-05-23 16:06:50,706 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:06:50,706 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '4' (Type = Int64, IsNullable = false)

2018-05-23 16:06:50,706 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:06:50 +08:00

2018-05-23 16:06:50,723 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 16 ms with result: SqlDataReader

2018-05-23 16:06:50,723 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:06:50,726 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:06:50 +08:00

2018-05-23 16:06:56,549 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:06:56 +08:00

2018-05-23 16:06:56,666 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM  [dbo].[T_PlatformUsers] AS [Extent1]
        INNER JOIN [dbo].[T_PlatformUserTypes] AS [Extent2] ON [Extent1].[PlatformUserTypeId] = [Extent2].[Id]
        WHERE (0 = [Extent1].[IsDeleted]) AND (([Extent2].[Name] = @p__linq__0) OR (1 = 0))
    )  AS [GroupBy1]
2018-05-23 16:06:56,666 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:06:56,666 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '商家' (Type = String, Size = 4000)

2018-05-23 16:06:56,666 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:06:56 +08:00

2018-05-23 16:06:56,809 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 142 ms with result: SqlDataReader

2018-05-23 16:06:56,809 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:06:56,813 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:06:56 +08:00

2018-05-23 16:06:56,823 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/23 16:06:56 +08:00

2018-05-23 16:06:56,842 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Code] AS [Code], 
    [Project1].[Description] AS [Description], 
    [Project1].[PlatformIntegral] AS [PlatformIntegral], 
    [Project1].[GivingIntegral] AS [GivingIntegral], 
    [Project1].[UseIntegral] AS [UseIntegral], 
    [Project1].[Salt] AS [Salt], 
    [Project1].[Password] AS [Password], 
    [Project1].[TradePassword] AS [TradePassword], 
    [Project1].[ErrorCount] AS [ErrorCount], 
    [Project1].[ErrorTime] AS [ErrorTime], 
    [Project1].[IsEnabled] AS [IsEnabled], 
    [Project1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Mobile] AS [Mobile], [Project1].[Code] AS [Code], [Project1].[Description] AS [Description], [Project1].[PlatformIntegral] AS [PlatformIntegral], [Project1].[GivingIntegral] AS [GivingIntegral], [Project1].[UseIntegral] AS [UseIntegral], [Project1].[Salt] AS [Salt], [Project1].[Password] AS [Password], [Project1].[TradePassword] AS [TradePassword], [Project1].[ErrorCount] AS [ErrorCount], [Project1].[ErrorTime] AS [ErrorTime], [Project1].[IsEnabled] AS [IsEnabled], [Project1].[PlatformUserTypeId] AS [PlatformUserTypeId], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Code] AS [Code], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
            [Extent1].[GivingIntegral] AS [GivingIntegral], 
            [Extent1].[UseIntegral] AS [UseIntegral], 
            [Extent1].[Salt] AS [Salt], 
            [Extent1].[Password] AS [Password], 
            [Extent1].[TradePassword] AS [TradePassword], 
            [Extent1].[ErrorCount] AS [ErrorCount], 
            [Extent1].[ErrorTime] AS [ErrorTime], 
            [Extent1].[IsEnabled] AS [IsEnabled], 
            [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM  [dbo].[T_PlatformUsers] AS [Extent1]
            INNER JOIN [dbo].[T_PlatformUserTypes] AS [Extent2] ON [Extent1].[PlatformUserTypeId] = [Extent2].[Id]
            WHERE (0 = [Extent1].[IsDeleted]) AND (([Extent2].[Name] = @p__linq__0) OR (1 = 0))
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-23 16:06:56,842 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:06:56,842 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '商家' (Type = String, Size = 4000)

2018-05-23 16:06:56,842 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 16:06:56 +08:00

2018-05-23 16:06:56,846 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 4 ms with result: SqlDataReader

2018-05-23 16:06:56,846 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:06:56,847 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:06:56 +08:00

2018-05-23 16:06:56,849 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:06:56 +08:00

2018-05-23 16:06:56,849 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:06:56,849 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:06:56,850 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-23 16:06:56,850 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:06:56 +08:00

2018-05-23 16:06:56,865 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 15 ms with result: SqlDataReader

2018-05-23 16:06:56,866 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:06:56,866 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:06:56 +08:00

2018-05-23 16:06:56,869 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/23 16:06:56 +08:00

2018-05-23 16:06:56,870 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2018-05-23 16:06:56,870 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:06:56,870 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2018-05-23 16:06:56,870 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 16:06:56 +08:00

2018-05-23 16:06:56,872 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-23 16:06:56,872 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:06:56,873 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:06:56 +08:00

2018-05-23 16:06:56,873 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:06:56 +08:00

2018-05-23 16:06:56,873 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:06:56,873 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:06:56,873 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-23 16:06:56,873 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:06:56 +08:00

2018-05-23 16:06:56,887 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 14 ms with result: SqlDataReader

2018-05-23 16:06:56,888 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:06:56,888 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:06:56 +08:00

2018-05-23 16:06:57,961 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:06:57 +08:00

2018-05-23 16:06:57,962 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM  [dbo].[T_PlatformUsers] AS [Extent1]
        INNER JOIN [dbo].[T_PlatformUserTypes] AS [Extent2] ON [Extent1].[PlatformUserTypeId] = [Extent2].[Id]
        WHERE (0 = [Extent1].[IsDeleted]) AND (([Extent2].[Name] = @p__linq__0) OR (1 = 0))
    )  AS [GroupBy1]
2018-05-23 16:06:57,962 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:06:57,962 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '商家' (Type = String, Size = 4000)

2018-05-23 16:06:57,962 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:06:57 +08:00

2018-05-23 16:06:57,981 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 18 ms with result: SqlDataReader

2018-05-23 16:06:57,981 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:06:57,981 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:06:57 +08:00

2018-05-23 16:06:57,982 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/23 16:06:57 +08:00

2018-05-23 16:06:57,982 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Code] AS [Code], 
    [Project1].[Description] AS [Description], 
    [Project1].[PlatformIntegral] AS [PlatformIntegral], 
    [Project1].[GivingIntegral] AS [GivingIntegral], 
    [Project1].[UseIntegral] AS [UseIntegral], 
    [Project1].[Salt] AS [Salt], 
    [Project1].[Password] AS [Password], 
    [Project1].[TradePassword] AS [TradePassword], 
    [Project1].[ErrorCount] AS [ErrorCount], 
    [Project1].[ErrorTime] AS [ErrorTime], 
    [Project1].[IsEnabled] AS [IsEnabled], 
    [Project1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Mobile] AS [Mobile], [Project1].[Code] AS [Code], [Project1].[Description] AS [Description], [Project1].[PlatformIntegral] AS [PlatformIntegral], [Project1].[GivingIntegral] AS [GivingIntegral], [Project1].[UseIntegral] AS [UseIntegral], [Project1].[Salt] AS [Salt], [Project1].[Password] AS [Password], [Project1].[TradePassword] AS [TradePassword], [Project1].[ErrorCount] AS [ErrorCount], [Project1].[ErrorTime] AS [ErrorTime], [Project1].[IsEnabled] AS [IsEnabled], [Project1].[PlatformUserTypeId] AS [PlatformUserTypeId], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Code] AS [Code], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
            [Extent1].[GivingIntegral] AS [GivingIntegral], 
            [Extent1].[UseIntegral] AS [UseIntegral], 
            [Extent1].[Salt] AS [Salt], 
            [Extent1].[Password] AS [Password], 
            [Extent1].[TradePassword] AS [TradePassword], 
            [Extent1].[ErrorCount] AS [ErrorCount], 
            [Extent1].[ErrorTime] AS [ErrorTime], 
            [Extent1].[IsEnabled] AS [IsEnabled], 
            [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM  [dbo].[T_PlatformUsers] AS [Extent1]
            INNER JOIN [dbo].[T_PlatformUserTypes] AS [Extent2] ON [Extent1].[PlatformUserTypeId] = [Extent2].[Id]
            WHERE (0 = [Extent1].[IsDeleted]) AND (([Extent2].[Name] = @p__linq__0) OR (1 = 0))
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-23 16:06:57,982 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:06:57,982 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '商家' (Type = String, Size = 4000)

2018-05-23 16:06:57,982 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 16:06:57 +08:00

2018-05-23 16:06:57,986 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2018-05-23 16:06:57,986 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:06:57,987 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:06:57 +08:00

2018-05-23 16:06:57,987 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:06:57 +08:00

2018-05-23 16:06:57,987 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:06:57,987 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:06:57,987 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-23 16:06:57,987 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:06:57 +08:00

2018-05-23 16:06:58,001 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 13 ms with result: SqlDataReader

2018-05-23 16:06:58,001 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:06:58,001 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:06:58 +08:00

2018-05-23 16:06:58,002 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/23 16:06:58 +08:00

2018-05-23 16:06:58,003 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2018-05-23 16:06:58,003 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:06:58,003 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2018-05-23 16:06:58,003 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 16:06:58 +08:00

2018-05-23 16:06:58,006 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-23 16:06:58,006 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:06:58,006 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:06:58 +08:00

2018-05-23 16:06:58,006 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:06:58 +08:00

2018-05-23 16:06:58,006 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:06:58,006 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:06:58,006 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-23 16:06:58,007 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:06:58 +08:00

2018-05-23 16:06:58,020 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 13 ms with result: SqlDataReader

2018-05-23 16:06:58,020 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:06:58,021 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:06:58 +08:00

2018-05-23 16:07:04,747 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:07:04 +08:00

2018-05-23 16:07:04,759 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费' = [Extent1].[Description])
2018-05-23 16:07:04,759 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:07:04,759 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:07:04 +08:00

2018-05-23 16:07:04,864 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 104 ms with result: SqlDataReader

2018-05-23 16:07:04,864 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:07:04,867 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:07:04 +08:00

2018-05-23 16:07:04,882 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/23 16:07:04 +08:00

2018-05-23 16:07:04,893 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND (([Extent1].[PlatformUserId] = @p__linq__0) OR (([Extent1].[PlatformUserId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = [Extent1].[ToPlatformUserId])) OR (([Extent1].[ToPlatformUserId] = @p__linq__2) AND ([Extent1].[ToPlatformUserId] = [Extent1].[FormPlatformUserId])))
    )  AS [GroupBy1]
2018-05-23 16:07:04,893 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:07:04,893 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '35' (Type = Int64)

2018-05-23 16:07:04,893 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '35' (Type = Int64)

2018-05-23 16:07:04,893 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '35' (Type = Int64)

2018-05-23 16:07:04,893 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 16:07:04 +08:00

2018-05-23 16:07:04,925 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 31 ms with result: SqlDataReader

2018-05-23 16:07:04,925 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:07:04,931 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:07:04 +08:00

2018-05-23 16:07:04,935 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/23 16:07:04 +08:00

2018-05-23 16:07:04,969 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND (([Extent1].[PlatformUserId] = @p__linq__0) OR (([Extent1].[PlatformUserId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = [Extent1].[ToPlatformUserId])) OR (([Extent1].[ToPlatformUserId] = @p__linq__2) AND ([Extent1].[ToPlatformUserId] = [Extent1].[FormPlatformUserId])))
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-23 16:07:04,969 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:07:04,969 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '35' (Type = Int64)

2018-05-23 16:07:04,969 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '35' (Type = Int64)

2018-05-23 16:07:04,969 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '35' (Type = Int64)

2018-05-23 16:07:04,969 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 16:07:04 +08:00

2018-05-23 16:07:05,029 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 59 ms with result: SqlDataReader

2018-05-23 16:07:05,029 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:07:05,044 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:07:05 +08:00

2018-05-23 16:07:05,046 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:07:05 +08:00

2018-05-23 16:07:05,048 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:07:05,048 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:07:05,048 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-23 16:07:05,048 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:07:05 +08:00

2018-05-23 16:07:05,069 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 21 ms with result: SqlDataReader

2018-05-23 16:07:05,069 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:07:05,072 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:07:05 +08:00

2018-05-23 16:07:05,074 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:07:05 +08:00

2018-05-23 16:07:05,075 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:07:05,075 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:07:05,075 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-23 16:07:05,075 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:07:05 +08:00

2018-05-23 16:07:05,090 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 15 ms with result: SqlDataReader

2018-05-23 16:07:05,090 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:07:05,090 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:07:05 +08:00

2018-05-23 16:07:05,091 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:07:05 +08:00

2018-05-23 16:07:05,091 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:07:05,091 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:07:05,091 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '35' (Type = Int64, IsNullable = false)

2018-05-23 16:07:05,091 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:07:05 +08:00

2018-05-23 16:07:05,107 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 15 ms with result: SqlDataReader

2018-05-23 16:07:05,107 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:07:05,108 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:07:05 +08:00

2018-05-23 16:07:05,109 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:07:05 +08:00

2018-05-23 16:07:05,116 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:07:05,117 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:07:05,117 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-23 16:07:05,117 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:07:05 +08:00

2018-05-23 16:07:05,133 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 15 ms with result: SqlDataReader

2018-05-23 16:07:05,133 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:07:05,137 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:07:05 +08:00

2018-05-23 16:07:05,138 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:07:05 +08:00

2018-05-23 16:07:05,138 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:07:05,138 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:07:05,138 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-23 16:07:05,138 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:07:05 +08:00

2018-05-23 16:07:05,151 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 13 ms with result: SqlDataReader

2018-05-23 16:07:05,151 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:07:05,152 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:07:05 +08:00

2018-05-23 16:07:05,153 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:07:05 +08:00

2018-05-23 16:07:05,153 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:07:05,153 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:07:05,153 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '19' (Type = Int64, IsNullable = false)

2018-05-23 16:07:05,153 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:07:05 +08:00

2018-05-23 16:07:05,178 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 25 ms with result: SqlDataReader

2018-05-23 16:07:05,178 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:07:05,179 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:07:05 +08:00

2018-05-23 16:07:05,179 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:07:05 +08:00

2018-05-23 16:07:05,179 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:07:05,179 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:07:05,179 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-23 16:07:05,179 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:07:05 +08:00

2018-05-23 16:07:05,229 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 50 ms with result: SqlDataReader

2018-05-23 16:07:05,229 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:07:05,230 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:07:05 +08:00

2018-05-23 16:07:05,230 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:07:05 +08:00

2018-05-23 16:07:05,230 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:07:05,230 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:07:05,230 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-23 16:07:05,230 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:07:05 +08:00

2018-05-23 16:07:05,243 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 12 ms with result: SqlDataReader

2018-05-23 16:07:05,243 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:07:05,243 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:07:05 +08:00

2018-05-23 16:07:05,243 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:07:05 +08:00

2018-05-23 16:07:05,243 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:07:05,244 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:07:05,244 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '5' (Type = Int64, IsNullable = false)

2018-05-23 16:07:05,244 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:07:05 +08:00

2018-05-23 16:07:05,256 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 12 ms with result: SqlDataReader

2018-05-23 16:07:05,256 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:07:05,256 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:07:05 +08:00

2018-05-23 16:07:05,256 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:07:05 +08:00

2018-05-23 16:07:05,256 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:07:05,256 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:07:05,256 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-23 16:07:05,256 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:07:05 +08:00

2018-05-23 16:07:05,268 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 11 ms with result: SqlDataReader

2018-05-23 16:07:05,268 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:07:05,268 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:07:05 +08:00

2018-05-23 16:07:05,269 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:07:05 +08:00

2018-05-23 16:07:05,269 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:07:05,269 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:07:05,269 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-23 16:07:05,269 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:07:05 +08:00

2018-05-23 16:07:05,281 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 12 ms with result: SqlDataReader

2018-05-23 16:07:05,281 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:07:05,282 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:07:05 +08:00

2018-05-23 16:19:28,445 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:19:28 +08:00

2018-05-23 16:19:28,457 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：
SELECT Count(*)
FROM INFORMATION_SCHEMA.TABLES AS t
WHERE t.TABLE_SCHEMA + '.' + t.TABLE_NAME IN ('dbo.T_AdminLogs','dbo.T_Admins','dbo.T_Permissions','dbo.T_PermissionTypes','dbo.T_IntegralTypes','dbo.T_Journals','dbo.T_PlatformUsers','dbo.T_PlatformUserTypes','dbo.T_JournalTypes','dbo.T_NavBars','dbo.T_Settings','dbo.T_SettingTypes','dbo.T_States','dbo.T_TakeCashes','dbo.T_AdminPermissions')
    OR t.TABLE_NAME = 'EdmMetadata'
2018-05-23 16:19:28,457 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:19:28,457 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:19:28 +08:00

2018-05-23 16:19:28,460 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: 15

2018-05-23 16:19:28,460 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:19:28,460 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:19:28 +08:00

2018-05-23 16:19:28,599 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:19:28 +08:00

2018-05-23 16:19:29,515 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[__MigrationHistory] AS [Extent1]
        WHERE [Extent1].[ContextKey] = @p__linq__0
    )  AS [GroupBy1]
2018-05-23 16:19:29,515 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:19:29,516 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'IMS.Service.MyDbContext' (Type = String, Size = 4000)

2018-05-23 16:19:29,516 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:19:29 +08:00

2018-05-23 16:19:29,520 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Failed in 3 ms with error: 对象名 'dbo.__MigrationHistory' 无效。

2018-05-23 16:19:29,520 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:19:29,521 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:19:29 +08:00

2018-05-23 16:19:29,522 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:19:29 +08:00

2018-05-23 16:19:29,525 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[__MigrationHistory] AS [Extent1]
    )  AS [GroupBy1]
2018-05-23 16:19:29,525 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:19:29,525 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:19:29 +08:00

2018-05-23 16:19:29,527 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Failed in 1 ms with error: 对象名 'dbo.__MigrationHistory' 无效。

2018-05-23 16:19:29,527 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:19:29,527 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:19:29 +08:00

2018-05-23 16:19:29,767 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/23 16:19:29 +08:00

2018-05-23 16:19:29,905 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_Admins] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-05-23 16:19:29,905 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:19:29,905 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'admin' (Type = String, Size = 4000)

2018-05-23 16:19:29,906 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 16:19:29 +08:00

2018-05-23 16:19:29,911 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 5 ms with result: SqlDataReader

2018-05-23 16:19:29,911 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:19:29,961 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:19:29 +08:00

2018-05-23 16:19:29,968 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/23 16:19:29 +08:00

2018-05-23 16:19:29,988 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-05-23 16:19:29,988 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:19:29,988 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'PlatformUser201805051709360001' (Type = String, Size = 4000)

2018-05-23 16:19:29,988 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 16:19:29 +08:00

2018-05-23 16:19:29,991 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-23 16:19:29,991 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:19:30,017 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:19:30 +08:00

2018-05-23 16:19:30,029 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:19:30 +08:00

2018-05-23 16:19:30,065 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:19:30,065 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:19:30,065 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-23 16:19:30,065 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:19:30 +08:00

2018-05-23 16:19:30,066 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:19:30,066 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:19:30,106 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:19:30 +08:00

2018-05-23 16:19:30,299 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/23 16:19:30 +08:00

2018-05-23 16:19:30,300 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_Admins] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2018-05-23 16:19:30,300 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:19:30,300 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '4' (Type = Int64, IsNullable = false)

2018-05-23 16:19:30,300 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 16:19:30 +08:00

2018-05-23 16:19:30,302 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:19:30,302 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:19:30,303 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:19:30 +08:00

2018-05-23 16:19:30,310 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:19:30 +08:00

2018-05-23 16:19:30,426 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[PermissionTypeId] AS [PermissionTypeId], 
    [Extent2].[CreateTime] AS [CreateTime], 
    [Extent2].[IsDeleted] AS [IsDeleted]
    FROM  [dbo].[T_AdminPermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[AdminId] = [Extent2].[Id]
    WHERE [Extent1].[PermissionId] = @EntityKeyValue1
2018-05-23 16:19:30,426 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:19:30,426 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '4' (Type = Int64, IsNullable = false)

2018-05-23 16:19:30,426 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:19:30 +08:00

2018-05-23 16:19:30,428 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-23 16:19:30,428 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:19:30,431 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:19:30 +08:00

2018-05-23 16:19:35,791 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:19:35 +08:00

2018-05-23 16:19:35,842 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM  [dbo].[T_PlatformUsers] AS [Extent1]
        INNER JOIN [dbo].[T_PlatformUserTypes] AS [Extent2] ON [Extent1].[PlatformUserTypeId] = [Extent2].[Id]
        WHERE (0 = [Extent1].[IsDeleted]) AND (([Extent2].[Name] = @p__linq__0) OR (1 = 0))
    )  AS [GroupBy1]
2018-05-23 16:19:35,842 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:19:35,843 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '商家' (Type = String, Size = 4000)

2018-05-23 16:19:35,843 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:19:35 +08:00

2018-05-23 16:19:35,844 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:19:35,844 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:19:35,849 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:19:35 +08:00

2018-05-23 16:19:35,856 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/23 16:19:35 +08:00

2018-05-23 16:19:35,874 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Code] AS [Code], 
    [Project1].[Description] AS [Description], 
    [Project1].[PlatformIntegral] AS [PlatformIntegral], 
    [Project1].[GivingIntegral] AS [GivingIntegral], 
    [Project1].[UseIntegral] AS [UseIntegral], 
    [Project1].[Salt] AS [Salt], 
    [Project1].[Password] AS [Password], 
    [Project1].[TradePassword] AS [TradePassword], 
    [Project1].[ErrorCount] AS [ErrorCount], 
    [Project1].[ErrorTime] AS [ErrorTime], 
    [Project1].[IsEnabled] AS [IsEnabled], 
    [Project1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Mobile] AS [Mobile], [Project1].[Code] AS [Code], [Project1].[Description] AS [Description], [Project1].[PlatformIntegral] AS [PlatformIntegral], [Project1].[GivingIntegral] AS [GivingIntegral], [Project1].[UseIntegral] AS [UseIntegral], [Project1].[Salt] AS [Salt], [Project1].[Password] AS [Password], [Project1].[TradePassword] AS [TradePassword], [Project1].[ErrorCount] AS [ErrorCount], [Project1].[ErrorTime] AS [ErrorTime], [Project1].[IsEnabled] AS [IsEnabled], [Project1].[PlatformUserTypeId] AS [PlatformUserTypeId], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Code] AS [Code], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
            [Extent1].[GivingIntegral] AS [GivingIntegral], 
            [Extent1].[UseIntegral] AS [UseIntegral], 
            [Extent1].[Salt] AS [Salt], 
            [Extent1].[Password] AS [Password], 
            [Extent1].[TradePassword] AS [TradePassword], 
            [Extent1].[ErrorCount] AS [ErrorCount], 
            [Extent1].[ErrorTime] AS [ErrorTime], 
            [Extent1].[IsEnabled] AS [IsEnabled], 
            [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM  [dbo].[T_PlatformUsers] AS [Extent1]
            INNER JOIN [dbo].[T_PlatformUserTypes] AS [Extent2] ON [Extent1].[PlatformUserTypeId] = [Extent2].[Id]
            WHERE (0 = [Extent1].[IsDeleted]) AND (([Extent2].[Name] = @p__linq__0) OR (1 = 0))
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-23 16:19:35,874 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:19:35,874 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '商家' (Type = String, Size = 4000)

2018-05-23 16:19:35,874 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 16:19:35 +08:00

2018-05-23 16:19:35,878 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2018-05-23 16:19:35,878 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:19:35,879 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:19:35 +08:00

2018-05-23 16:19:35,881 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:19:35 +08:00

2018-05-23 16:19:35,881 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:19:35,881 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:19:35,882 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-23 16:19:35,882 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:19:35 +08:00

2018-05-23 16:19:35,883 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:19:35,883 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:19:35,883 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:19:35 +08:00

2018-05-23 16:19:35,885 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/23 16:19:35 +08:00

2018-05-23 16:19:35,887 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2018-05-23 16:19:35,887 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:19:35,887 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2018-05-23 16:19:35,887 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 16:19:35 +08:00

2018-05-23 16:19:35,890 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-23 16:19:35,890 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:19:35,890 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:19:35 +08:00

2018-05-23 16:19:35,890 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:19:35 +08:00

2018-05-23 16:19:35,891 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:19:35,891 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:19:35,891 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-23 16:19:35,891 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:19:35 +08:00

2018-05-23 16:19:35,892 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:19:35,892 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:19:35,892 [8] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:19:35 +08:00

2018-05-23 16:19:37,825 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:19:37 +08:00

2018-05-23 16:19:37,826 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM  [dbo].[T_PlatformUsers] AS [Extent1]
        INNER JOIN [dbo].[T_PlatformUserTypes] AS [Extent2] ON [Extent1].[PlatformUserTypeId] = [Extent2].[Id]
        WHERE (0 = [Extent1].[IsDeleted]) AND (([Extent2].[Name] = @p__linq__0) OR (1 = 0))
    )  AS [GroupBy1]
2018-05-23 16:19:37,826 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:19:37,826 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '商家' (Type = String, Size = 4000)

2018-05-23 16:19:37,827 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:19:37 +08:00

2018-05-23 16:19:37,828 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:19:37,828 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:19:37,829 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:19:37 +08:00

2018-05-23 16:19:37,829 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/23 16:19:37 +08:00

2018-05-23 16:19:37,829 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[Mobile] AS [Mobile], 
    [Project1].[Code] AS [Code], 
    [Project1].[Description] AS [Description], 
    [Project1].[PlatformIntegral] AS [PlatformIntegral], 
    [Project1].[GivingIntegral] AS [GivingIntegral], 
    [Project1].[UseIntegral] AS [UseIntegral], 
    [Project1].[Salt] AS [Salt], 
    [Project1].[Password] AS [Password], 
    [Project1].[TradePassword] AS [TradePassword], 
    [Project1].[ErrorCount] AS [ErrorCount], 
    [Project1].[ErrorTime] AS [ErrorTime], 
    [Project1].[IsEnabled] AS [IsEnabled], 
    [Project1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[Mobile] AS [Mobile], [Project1].[Code] AS [Code], [Project1].[Description] AS [Description], [Project1].[PlatformIntegral] AS [PlatformIntegral], [Project1].[GivingIntegral] AS [GivingIntegral], [Project1].[UseIntegral] AS [UseIntegral], [Project1].[Salt] AS [Salt], [Project1].[Password] AS [Password], [Project1].[TradePassword] AS [TradePassword], [Project1].[ErrorCount] AS [ErrorCount], [Project1].[ErrorTime] AS [ErrorTime], [Project1].[IsEnabled] AS [IsEnabled], [Project1].[PlatformUserTypeId] AS [PlatformUserTypeId], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[Mobile] AS [Mobile], 
            [Extent1].[Code] AS [Code], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
            [Extent1].[GivingIntegral] AS [GivingIntegral], 
            [Extent1].[UseIntegral] AS [UseIntegral], 
            [Extent1].[Salt] AS [Salt], 
            [Extent1].[Password] AS [Password], 
            [Extent1].[TradePassword] AS [TradePassword], 
            [Extent1].[ErrorCount] AS [ErrorCount], 
            [Extent1].[ErrorTime] AS [ErrorTime], 
            [Extent1].[IsEnabled] AS [IsEnabled], 
            [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM  [dbo].[T_PlatformUsers] AS [Extent1]
            INNER JOIN [dbo].[T_PlatformUserTypes] AS [Extent2] ON [Extent1].[PlatformUserTypeId] = [Extent2].[Id]
            WHERE (0 = [Extent1].[IsDeleted]) AND (([Extent2].[Name] = @p__linq__0) OR (1 = 0))
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-23 16:19:37,829 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:19:37,829 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '商家' (Type = String, Size = 4000)

2018-05-23 16:19:37,829 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 16:19:37 +08:00

2018-05-23 16:19:37,834 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 4 ms with result: SqlDataReader

2018-05-23 16:19:37,834 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:19:37,836 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:19:37 +08:00

2018-05-23 16:19:37,837 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:19:37 +08:00

2018-05-23 16:19:37,837 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:19:37,837 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:19:37,837 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-23 16:19:37,837 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:19:37 +08:00

2018-05-23 16:19:37,838 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:19:37,838 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:19:37,839 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:19:37 +08:00

2018-05-23 16:19:37,839 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/23 16:19:37 +08:00

2018-05-23 16:19:37,840 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Id] = @p__linq__0)
2018-05-23 16:19:37,840 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:19:37,840 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2018-05-23 16:19:37,840 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 16:19:37 +08:00

2018-05-23 16:19:37,872 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 32 ms with result: SqlDataReader

2018-05-23 16:19:37,872 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:19:37,872 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:19:37 +08:00

2018-05-23 16:19:37,872 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:19:37 +08:00

2018-05-23 16:19:37,872 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:19:37,872 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:19:37,872 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-23 16:19:37,872 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:19:37 +08:00

2018-05-23 16:19:37,875 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-23 16:19:37,875 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:19:37,875 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:19:37 +08:00

2018-05-23 16:19:41,139 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:19:41 +08:00

2018-05-23 16:19:41,209 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费' = [Extent1].[Description])
2018-05-23 16:19:41,209 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:19:41,209 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:19:41 +08:00

2018-05-23 16:19:41,212 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:19:41,212 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:19:41,214 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:19:41 +08:00

2018-05-23 16:19:41,228 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/23 16:19:41 +08:00

2018-05-23 16:19:41,239 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND (([Extent1].[PlatformUserId] = @p__linq__0) OR (([Extent1].[PlatformUserId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = [Extent1].[ToPlatformUserId])) OR (([Extent1].[ToPlatformUserId] = @p__linq__2) AND ([Extent1].[ToPlatformUserId] = [Extent1].[FormPlatformUserId])))
    )  AS [GroupBy1]
2018-05-23 16:19:41,239 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:19:41,239 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '35' (Type = Int64)

2018-05-23 16:19:41,239 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '35' (Type = Int64)

2018-05-23 16:19:41,239 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '35' (Type = Int64)

2018-05-23 16:19:41,239 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 16:19:41 +08:00

2018-05-23 16:19:41,243 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 4 ms with result: SqlDataReader

2018-05-23 16:19:41,243 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:19:41,248 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:19:41 +08:00

2018-05-23 16:19:41,250 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/23 16:19:41 +08:00

2018-05-23 16:19:41,292 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (10) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND (([Extent1].[PlatformUserId] = @p__linq__0) OR (([Extent1].[PlatformUserId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = [Extent1].[ToPlatformUserId])) OR (([Extent1].[ToPlatformUserId] = @p__linq__2) AND ([Extent1].[ToPlatformUserId] = [Extent1].[FormPlatformUserId])))
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-23 16:19:41,292 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:19:41,292 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '35' (Type = Int64)

2018-05-23 16:19:41,292 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '35' (Type = Int64)

2018-05-23 16:19:41,292 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '35' (Type = Int64)

2018-05-23 16:19:41,292 [7] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/23 16:19:41 +08:00

2018-05-23 16:19:41,296 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2018-05-23 16:19:41,296 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:19:41,308 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:19:41 +08:00

2018-05-23 16:19:41,310 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:19:41 +08:00

2018-05-23 16:19:41,312 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:19:41,312 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:19:41,312 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-23 16:19:41,312 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:19:41 +08:00

2018-05-23 16:19:41,315 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-23 16:19:41,315 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:19:41,317 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:19:41 +08:00

2018-05-23 16:19:41,318 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:19:41 +08:00

2018-05-23 16:19:41,318 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:19:41,319 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:19:41,319 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-23 16:19:41,319 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:19:41 +08:00

2018-05-23 16:19:41,320 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:19:41,320 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:19:41,320 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:19:41 +08:00

2018-05-23 16:19:41,321 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:19:41 +08:00

2018-05-23 16:19:41,321 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:19:41,321 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:19:41,321 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '35' (Type = Int64, IsNullable = false)

2018-05-23 16:19:41,321 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:19:41 +08:00

2018-05-23 16:19:41,324 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-23 16:19:41,324 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:19:41,326 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:19:41 +08:00

2018-05-23 16:19:41,327 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:19:41 +08:00

2018-05-23 16:19:41,337 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:19:41,337 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:19:41,337 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-23 16:19:41,337 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:19:41 +08:00

2018-05-23 16:19:41,338 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:19:41,338 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:19:41,341 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:19:41 +08:00

2018-05-23 16:19:41,342 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:19:41 +08:00

2018-05-23 16:19:41,342 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:19:41,342 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:19:41,342 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-23 16:19:41,342 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:19:41 +08:00

2018-05-23 16:19:41,344 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:19:41,344 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:19:41,345 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:19:41 +08:00

2018-05-23 16:19:41,345 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:19:41 +08:00

2018-05-23 16:19:41,346 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:19:41,346 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:19:41,346 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '19' (Type = Int64, IsNullable = false)

2018-05-23 16:19:41,346 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:19:41 +08:00

2018-05-23 16:19:41,349 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-23 16:19:41,349 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:19:41,349 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:19:41 +08:00

2018-05-23 16:19:41,349 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/23 16:19:41 +08:00

2018-05-23 16:19:41,349 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-23 16:19:41,349 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:19:41,349 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-23 16:19:41,349 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/23 16:19:41 +08:00

2018-05-23 16:19:41,351 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-23 16:19:41,351 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-23 16:19:41,351 [10] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/23 16:19:41 +08:00

