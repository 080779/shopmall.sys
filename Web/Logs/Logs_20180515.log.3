2018-05-15 10:00:34,669 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Filter1].[Id] AS [Id], 
    [Filter1].[Mobile] AS [Mobile], 
    [Filter1].[Description] AS [Description], 
    [Filter1].[Salt] AS [Salt], 
    [Filter1].[Password] AS [Password], 
    [Filter1].[IsEnabled] AS [IsEnabled], 
    [Filter1].[CreateTime] AS [CreateTime], 
    [Filter1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Extent1].[Id] AS [Id], [Extent1].[Mobile] AS [Mobile], [Extent1].[Description] AS [Description], [Extent1].[Salt] AS [Salt], [Extent1].[Password] AS [Password], [Extent1].[IsEnabled] AS [IsEnabled], [Extent1].[CreateTime] AS [CreateTime], [Extent1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Extent1].[CreateTime] DESC) AS [row_number]
        FROM [dbo].[T_Admins] AS [Extent1]
        WHERE 0 = [Extent1].[IsDeleted]
    )  AS [Filter1]
    WHERE [Filter1].[row_number] > 0
    ORDER BY [Filter1].[CreateTime] DESC
2018-05-15 10:00:34,679 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:00:34,679 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:00:34 +08:00

2018-05-15 10:00:34,680 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:00:34,680 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:00:34,680 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:00:34 +08:00

2018-05-15 10:00:34,681 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:00:34 +08:00

2018-05-15 10:00:34,681 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[PermissionTypeId] AS [PermissionTypeId], 
    [Extent2].[CreateTime] AS [CreateTime], 
    [Extent2].[IsDeleted] AS [IsDeleted]
    FROM  [dbo].[T_AdminPermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[AdminId] = [Extent2].[Id]
    WHERE [Extent1].[PermissionId] = @EntityKeyValue1
2018-05-15 10:00:34,681 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:00:34,681 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '7' (Type = Int64, IsNullable = false)

2018-05-15 10:00:34,681 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:00:34 +08:00

2018-05-15 10:00:34,681 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:00:34,681 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:00:34,681 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:00:34 +08:00

2018-05-15 10:00:34,682 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:00:34 +08:00

2018-05-15 10:00:34,682 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PermissionTypes] AS [Extent1]
    WHERE 0 = [Extent1].[IsDeleted]
2018-05-15 10:00:34,682 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:00:34,682 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:00:34 +08:00

2018-05-15 10:00:34,682 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:00:34,682 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:00:34,683 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:00:34 +08:00

2018-05-15 10:00:34,683 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:00:34 +08:00

2018-05-15 10:00:34,683 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PermissionTypeId] AS [PermissionTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_Permissions] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PermissionTypeId] = @p__linq__0)
2018-05-15 10:00:34,683 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:00:34,683 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:00:34,683 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:00:34 +08:00

2018-05-15 10:00:34,684 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:00:34,684 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:00:34,684 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:00:34 +08:00

2018-05-15 10:00:34,684 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:00:34 +08:00

2018-05-15 10:00:34,684 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PermissionTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:00:34,684 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:00:34,684 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:00:34,684 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:00:34 +08:00

2018-05-15 10:00:34,684 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:00:34,684 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:00:34,684 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:00:34 +08:00

2018-05-15 10:00:34,685 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:00:34 +08:00

2018-05-15 10:00:34,685 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PermissionTypeId] AS [PermissionTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_Permissions] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PermissionTypeId] = @p__linq__0)
2018-05-15 10:00:34,685 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:00:34,685 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64, IsNullable = false)

2018-05-15 10:00:34,685 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:00:34 +08:00

2018-05-15 10:00:34,685 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:00:34,685 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:00:34,686 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:00:34 +08:00

2018-05-15 10:00:34,686 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:00:34 +08:00

2018-05-15 10:00:34,686 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PermissionTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:00:34,686 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:00:34,686 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-15 10:00:34,686 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:00:34 +08:00

2018-05-15 10:00:34,686 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:00:34,686 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:00:34,686 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:00:34 +08:00

2018-05-15 10:00:34,686 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:00:34 +08:00

2018-05-15 10:00:34,687 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PermissionTypeId] AS [PermissionTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_Permissions] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PermissionTypeId] = @p__linq__0)
2018-05-15 10:00:34,687 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:00:34,687 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '3' (Type = Int64, IsNullable = false)

2018-05-15 10:00:34,687 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:00:34 +08:00

2018-05-15 10:00:34,687 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:00:34,687 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:00:34,687 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:00:34 +08:00

2018-05-15 10:00:34,687 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:00:34 +08:00

2018-05-15 10:00:34,687 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PermissionTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:00:34,687 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:00:34,687 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-15 10:00:34,687 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:00:34 +08:00

2018-05-15 10:00:34,688 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:00:34,688 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:00:34,688 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:00:34 +08:00

2018-05-15 10:00:34,688 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:00:34 +08:00

2018-05-15 10:00:34,688 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PermissionTypeId] AS [PermissionTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_Permissions] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PermissionTypeId] = @p__linq__0)
2018-05-15 10:00:34,688 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:00:34,688 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '4' (Type = Int64, IsNullable = false)

2018-05-15 10:00:34,688 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:00:34 +08:00

2018-05-15 10:00:34,689 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:00:34,689 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:00:34,689 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:00:34 +08:00

2018-05-15 10:00:34,689 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:00:34 +08:00

2018-05-15 10:00:34,689 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PermissionTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:00:34,689 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:00:34,689 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '4' (Type = Int64, IsNullable = false)

2018-05-15 10:00:34,689 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:00:34 +08:00

2018-05-15 10:00:34,689 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:00:34,689 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:00:34,690 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:00:34 +08:00

2018-05-15 10:00:34,690 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:00:34 +08:00

2018-05-15 10:00:34,690 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PermissionTypeId] AS [PermissionTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_Permissions] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PermissionTypeId] = @p__linq__0)
2018-05-15 10:00:34,690 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:00:34,690 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '5' (Type = Int64, IsNullable = false)

2018-05-15 10:00:34,690 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:00:34 +08:00

2018-05-15 10:00:34,690 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:00:34,690 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:00:34,691 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:00:34 +08:00

2018-05-15 10:00:34,691 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:00:34 +08:00

2018-05-15 10:00:34,691 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PermissionTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:00:34,691 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:00:34,691 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '5' (Type = Int64, IsNullable = false)

2018-05-15 10:00:34,693 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:00:34 +08:00

2018-05-15 10:00:34,693 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:00:34,693 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:00:34,693 [37] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:00:34 +08:00

2018-05-15 10:00:35,162 [33] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:00:35 +08:00

2018-05-15 10:00:35,162 [33] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Admins] AS [Extent1]
        WHERE 0 = [Extent1].[IsDeleted]
    )  AS [GroupBy1]
2018-05-15 10:00:35,162 [33] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:00:35,162 [33] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:00:35 +08:00

2018-05-15 10:00:35,163 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:00:35,163 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:00:35,163 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:00:35 +08:00

2018-05-15 10:00:35,163 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:00:35 +08:00

2018-05-15 10:00:35,164 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Filter1].[Id] AS [Id], 
    [Filter1].[Mobile] AS [Mobile], 
    [Filter1].[Description] AS [Description], 
    [Filter1].[Salt] AS [Salt], 
    [Filter1].[Password] AS [Password], 
    [Filter1].[IsEnabled] AS [IsEnabled], 
    [Filter1].[CreateTime] AS [CreateTime], 
    [Filter1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Extent1].[Id] AS [Id], [Extent1].[Mobile] AS [Mobile], [Extent1].[Description] AS [Description], [Extent1].[Salt] AS [Salt], [Extent1].[Password] AS [Password], [Extent1].[IsEnabled] AS [IsEnabled], [Extent1].[CreateTime] AS [CreateTime], [Extent1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Extent1].[CreateTime] DESC) AS [row_number]
        FROM [dbo].[T_Admins] AS [Extent1]
        WHERE 0 = [Extent1].[IsDeleted]
    )  AS [Filter1]
    WHERE [Filter1].[row_number] > 1
    ORDER BY [Filter1].[CreateTime] DESC
2018-05-15 10:00:35,164 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:00:35,164 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:00:35 +08:00

2018-05-15 10:00:35,164 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:00:35,164 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:00:35,164 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:00:35 +08:00

2018-05-15 10:00:35,164 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:00:35 +08:00

2018-05-15 10:00:35,164 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent2].[Id] AS [Id], 
    [Extent2].[Name] AS [Name], 
    [Extent2].[Description] AS [Description], 
    [Extent2].[PermissionTypeId] AS [PermissionTypeId], 
    [Extent2].[CreateTime] AS [CreateTime], 
    [Extent2].[IsDeleted] AS [IsDeleted]
    FROM  [dbo].[T_AdminPermissions] AS [Extent1]
    INNER JOIN [dbo].[T_Permissions] AS [Extent2] ON [Extent1].[AdminId] = [Extent2].[Id]
    WHERE [Extent1].[PermissionId] = @EntityKeyValue1
2018-05-15 10:00:35,164 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:00:35,165 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '6' (Type = Int64, IsNullable = false)

2018-05-15 10:00:35,165 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:00:35 +08:00

2018-05-15 10:00:35,165 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:00:35,165 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:00:35,165 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:00:35 +08:00

2018-05-15 10:00:35,165 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:00:35 +08:00

2018-05-15 10:00:35,166 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PermissionTypes] AS [Extent1]
    WHERE 0 = [Extent1].[IsDeleted]
2018-05-15 10:00:35,166 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:00:35,166 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:00:35 +08:00

2018-05-15 10:00:35,166 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:00:35,166 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:00:35,166 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:00:35 +08:00

2018-05-15 10:00:35,167 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:00:35 +08:00

2018-05-15 10:00:35,167 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PermissionTypeId] AS [PermissionTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_Permissions] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PermissionTypeId] = @p__linq__0)
2018-05-15 10:00:35,167 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:00:35,167 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:00:35,167 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:00:35 +08:00

2018-05-15 10:00:35,168 [33] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:00:35,168 [33] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:00:35,168 [33] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:00:35 +08:00

2018-05-15 10:00:35,168 [33] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:00:35 +08:00

2018-05-15 10:00:35,168 [33] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PermissionTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:00:35,168 [33] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:00:35,168 [33] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:00:35,168 [33] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:00:35 +08:00

2018-05-15 10:00:35,169 [33] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:00:35,169 [33] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:00:35,169 [33] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:00:35 +08:00

2018-05-15 10:00:35,169 [33] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:00:35 +08:00

2018-05-15 10:00:35,169 [33] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PermissionTypeId] AS [PermissionTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_Permissions] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PermissionTypeId] = @p__linq__0)
2018-05-15 10:00:35,169 [33] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:00:35,169 [33] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '2' (Type = Int64, IsNullable = false)

2018-05-15 10:00:35,169 [33] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:00:35 +08:00

2018-05-15 10:00:35,170 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:00:35,170 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:00:35,170 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:00:35 +08:00

2018-05-15 10:00:35,170 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:00:35 +08:00

2018-05-15 10:00:35,170 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PermissionTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:00:35,170 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:00:35,170 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-15 10:00:35,170 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:00:35 +08:00

2018-05-15 10:00:35,171 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:00:35,171 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:00:35,171 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:00:35 +08:00

2018-05-15 10:00:35,171 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:00:35 +08:00

2018-05-15 10:00:35,171 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PermissionTypeId] AS [PermissionTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_Permissions] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PermissionTypeId] = @p__linq__0)
2018-05-15 10:00:35,171 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:00:35,171 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '3' (Type = Int64, IsNullable = false)

2018-05-15 10:00:35,171 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:00:35 +08:00

2018-05-15 10:00:35,172 [33] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:00:35,172 [33] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:00:35,172 [33] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:00:35 +08:00

2018-05-15 10:00:35,172 [33] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:00:35 +08:00

2018-05-15 10:00:35,172 [33] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PermissionTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:00:35,172 [33] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:00:35,172 [33] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-15 10:00:35,172 [33] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:00:35 +08:00

2018-05-15 10:00:35,172 [33] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:00:35,173 [33] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:00:35,173 [33] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:00:35 +08:00

2018-05-15 10:00:35,173 [33] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:00:35 +08:00

2018-05-15 10:00:35,173 [33] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PermissionTypeId] AS [PermissionTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_Permissions] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PermissionTypeId] = @p__linq__0)
2018-05-15 10:00:35,173 [33] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:00:35,173 [33] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '4' (Type = Int64, IsNullable = false)

2018-05-15 10:00:35,173 [33] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:00:35 +08:00

2018-05-15 10:00:35,174 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:00:35,174 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:00:35,174 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:00:35 +08:00

2018-05-15 10:00:35,174 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:00:35 +08:00

2018-05-15 10:00:35,174 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PermissionTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:00:35,174 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:00:35,174 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '4' (Type = Int64, IsNullable = false)

2018-05-15 10:00:35,174 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:00:35 +08:00

2018-05-15 10:00:35,174 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:00:35,174 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:00:35,175 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:00:35 +08:00

2018-05-15 10:00:35,175 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:00:35 +08:00

2018-05-15 10:00:35,175 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PermissionTypeId] AS [PermissionTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_Permissions] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PermissionTypeId] = @p__linq__0)
2018-05-15 10:00:35,175 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:00:35,175 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '5' (Type = Int64, IsNullable = false)

2018-05-15 10:00:35,175 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:00:35 +08:00

2018-05-15 10:00:35,176 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:00:35,176 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:00:35,176 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:00:35 +08:00

2018-05-15 10:00:35,176 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:00:35 +08:00

2018-05-15 10:00:35,176 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PermissionTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:00:35,176 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:00:35,176 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '5' (Type = Int64, IsNullable = false)

2018-05-15 10:00:35,176 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:00:35 +08:00

2018-05-15 10:00:35,176 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:00:35,176 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:00:35,176 [39] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:00:35 +08:00

2018-05-15 10:12:01,329 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:12:01 +08:00

2018-05-15 10:12:01,338 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-05-15 10:12:01,338 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:12:01,338 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'PlatformUser201805051709360001' (Type = String, Size = 4000)

2018-05-15 10:12:01,338 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:12:01 +08:00

2018-05-15 10:12:01,369 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 31 ms with result: SqlDataReader

2018-05-15 10:12:01,369 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:12:01,385 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:12:01 +08:00

2018-05-15 10:12:01,385 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:12:01 +08:00

2018-05-15 10:12:01,385 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:12:01,385 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:12:01,385 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:12:01,385 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:12:01 +08:00

2018-05-15 10:12:01,413 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 18 ms with result: SqlDataReader

2018-05-15 10:12:01,413 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:12:01,417 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:12:01 +08:00

2018-05-15 10:12:01,425 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:12:01 +08:00

2018-05-15 10:12:01,433 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-15 10:12:01,433 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:12:01,433 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:12:01 +08:00

2018-05-15 10:12:01,436 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2018-05-15 10:12:01,436 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:12:01,436 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:12:01 +08:00

2018-05-15 10:12:01,436 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:12:01 +08:00

2018-05-15 10:12:01,436 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-15 10:12:01,436 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:12:01,436 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:12:01 +08:00

2018-05-15 10:12:01,436 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 10:12:01,436 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:12:01,436 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:12:01 +08:00

2018-05-15 10:12:01,436 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:12:01 +08:00

2018-05-15 10:12:01,436 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-15 10:12:01,436 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:12:01,436 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:12:01,436 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:12:01 +08:00

2018-05-15 10:12:01,436 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2018-05-15 10:12:01,436 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:12:01,436 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:12:01 +08:00

2018-05-15 10:12:01,436 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:12:01 +08:00

2018-05-15 10:12:01,436 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-15 10:12:01,436 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:12:01,436 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:12:01 +08:00

2018-05-15 10:12:01,452 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 10:12:01,452 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:12:01,452 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:12:01 +08:00

2018-05-15 10:12:01,452 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:12:01 +08:00

2018-05-15 10:12:01,483 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-15 10:12:01,483 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:12:01,483 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:12:01,483 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2' (Type = Int64, IsNullable = false)

2018-05-15 10:12:01,483 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:12:01,483 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:12:01 +08:00

2018-05-15 10:12:01,483 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 5 ms with result: SqlDataReader

2018-05-15 10:12:01,483 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:12:01,498 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:12:01 +08:00

2018-05-15 10:12:01,498 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:12:01 +08:00

2018-05-15 10:12:01,514 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-15 10:12:01,514 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:12:01,514 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:12:01,514 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '3' (Type = Int64, IsNullable = false)

2018-05-15 10:12:01,514 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:12:01,514 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:12:01 +08:00

2018-05-15 10:12:01,514 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 10:12:01,514 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:12:01,514 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:12:01 +08:00

2018-05-15 10:12:01,514 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:12:01 +08:00

2018-05-15 10:12:01,545 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-15 10:12:01,545 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:12:01,545 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:12:01,545 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:12:01 +08:00

2018-05-15 10:12:01,545 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2018-05-15 10:12:01,545 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:12:01,561 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:12:01 +08:00

2018-05-15 10:12:01,561 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:12:01 +08:00

2018-05-15 10:12:01,561 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:12:01,561 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:12:01,561 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:12:01,561 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:12:01 +08:00

2018-05-15 10:12:01,577 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 14 ms with result: SqlDataReader

2018-05-15 10:12:01,577 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:12:01,577 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:12:01 +08:00

2018-05-15 10:12:01,577 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:12:01 +08:00

2018-05-15 10:12:01,592 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:12:01,592 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:12:01,592 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-15 10:12:01,592 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:12:01 +08:00

2018-05-15 10:12:01,592 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 10:12:01,592 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:12:01,592 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:12:01 +08:00

2018-05-15 10:12:01,592 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:12:01 +08:00

2018-05-15 10:12:01,592 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:12:01,592 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:12:01,592 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:12:01,592 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:12:01 +08:00

2018-05-15 10:12:01,592 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:12:01,592 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:12:01,592 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:12:01 +08:00

2018-05-15 10:12:01,592 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:12:01 +08:00

2018-05-15 10:12:01,592 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'平台发放' = [Extent1].[Name]) AND (N'平台扣除' = [Extent1].[Name]) AND (N'积分增加' = [Extent1].[Name])
2018-05-15 10:12:01,592 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:12:01,592 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:12:01 +08:00

2018-05-15 10:12:01,592 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 10:12:01,592 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:12:01,592 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:12:01 +08:00

2018-05-15 10:12:48,685 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:12:48 +08:00

2018-05-15 10:12:48,685 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-05-15 10:12:48,685 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:12:48,685 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'PlatformUser201805051709360001' (Type = String, Size = 4000)

2018-05-15 10:12:48,685 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:12:48 +08:00

2018-05-15 10:12:48,686 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:12:48,686 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:12:48,686 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:12:48 +08:00

2018-05-15 10:12:48,687 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:12:48 +08:00

2018-05-15 10:12:48,687 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:12:48,687 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:12:48,687 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:12:48,687 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:12:48 +08:00

2018-05-15 10:12:48,687 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:12:48,687 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:12:48,687 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:12:48 +08:00

2018-05-15 10:12:48,688 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:12:48 +08:00

2018-05-15 10:12:48,688 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-15 10:12:48,688 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:12:48,688 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:12:48 +08:00

2018-05-15 10:12:48,689 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:12:48,689 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:12:48,689 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:12:48 +08:00

2018-05-15 10:12:48,689 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:12:48 +08:00

2018-05-15 10:12:48,689 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-15 10:12:48,689 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:12:48,689 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:12:48 +08:00

2018-05-15 10:12:48,689 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:12:48,689 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:12:48,689 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:12:48 +08:00

2018-05-15 10:12:48,690 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:12:48 +08:00

2018-05-15 10:12:48,690 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-15 10:12:48,690 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:12:48,690 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:12:48,690 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:12:48 +08:00

2018-05-15 10:12:48,690 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:12:48,690 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:12:48,690 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:12:48 +08:00

2018-05-15 10:12:48,691 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:12:48 +08:00

2018-05-15 10:12:48,691 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-15 10:12:48,691 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:12:48,691 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:12:48 +08:00

2018-05-15 10:12:48,691 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:12:48,691 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:12:48,692 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:12:48 +08:00

2018-05-15 10:12:48,692 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:12:48 +08:00

2018-05-15 10:12:48,692 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-15 10:12:48,692 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:12:48,692 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:12:48,692 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2' (Type = Int64, IsNullable = false)

2018-05-15 10:12:48,692 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:12:48,692 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:12:48 +08:00

2018-05-15 10:12:48,693 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:12:48,693 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:12:48,693 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:12:48 +08:00

2018-05-15 10:12:48,693 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:12:48 +08:00

2018-05-15 10:12:48,694 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-15 10:12:48,694 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:12:48,694 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:12:48,694 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '3' (Type = Int64, IsNullable = false)

2018-05-15 10:12:48,694 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:12:48,694 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:12:48 +08:00

2018-05-15 10:12:48,694 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:12:48,694 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:12:48,694 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:12:48 +08:00

2018-05-15 10:12:48,694 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:12:48 +08:00

2018-05-15 10:12:48,696 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 1
    ORDER BY [Project1].[CreateTime] DESC
2018-05-15 10:12:48,696 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:12:48,696 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:12:48,696 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:12:48 +08:00

2018-05-15 10:12:48,699 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-15 10:12:48,699 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:12:48,700 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:12:48 +08:00

2018-05-15 10:12:48,700 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:12:48 +08:00

2018-05-15 10:12:48,700 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:12:48,700 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:12:48,700 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:12:48,700 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:12:48 +08:00

2018-05-15 10:12:48,700 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:12:48,700 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:12:48,700 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:12:48 +08:00

2018-05-15 10:12:48,700 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:12:48 +08:00

2018-05-15 10:12:48,700 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:12:48,701 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:12:48,701 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-15 10:12:48,701 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:12:48 +08:00

2018-05-15 10:12:48,701 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:12:48,701 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:12:48,701 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:12:48 +08:00

2018-05-15 10:12:48,701 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:12:48 +08:00

2018-05-15 10:12:48,701 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:12:48,701 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:12:48,701 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:12:48,701 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:12:48 +08:00

2018-05-15 10:12:48,701 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:12:48,701 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:12:48,702 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:12:48 +08:00

2018-05-15 10:12:48,702 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:12:48 +08:00

2018-05-15 10:12:48,702 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'平台发放' = [Extent1].[Name]) AND (N'平台扣除' = [Extent1].[Name]) AND (N'积分增加' = [Extent1].[Name])
2018-05-15 10:12:48,702 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:12:48,702 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:12:48 +08:00

2018-05-15 10:12:48,703 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:12:48,703 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:12:48,703 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:12:48 +08:00

2018-05-15 10:12:50,414 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:12:50 +08:00

2018-05-15 10:12:50,414 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-05-15 10:12:50,414 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:12:50,414 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'PlatformUser201805051709360001' (Type = String, Size = 4000)

2018-05-15 10:12:50,414 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:12:50 +08:00

2018-05-15 10:12:50,415 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:12:50,415 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:12:50,415 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:12:50 +08:00

2018-05-15 10:12:50,415 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:12:50 +08:00

2018-05-15 10:12:50,415 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:12:50,415 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:12:50,415 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:12:50,415 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:12:50 +08:00

2018-05-15 10:12:50,416 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:12:50,416 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:12:50,416 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:12:50 +08:00

2018-05-15 10:12:50,416 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:12:50 +08:00

2018-05-15 10:12:50,416 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-15 10:12:50,416 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:12:50,417 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:12:50 +08:00

2018-05-15 10:12:50,417 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:12:50,417 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:12:50,417 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:12:50 +08:00

2018-05-15 10:12:50,417 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:12:50 +08:00

2018-05-15 10:12:50,417 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-15 10:12:50,417 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:12:50,417 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:12:50 +08:00

2018-05-15 10:12:50,418 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:12:50,418 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:12:50,418 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:12:50 +08:00

2018-05-15 10:12:50,418 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:12:50 +08:00

2018-05-15 10:12:50,418 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-15 10:12:50,418 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:12:50,418 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:12:50,418 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:12:50 +08:00

2018-05-15 10:12:50,418 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:12:50,418 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:12:50,419 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:12:50 +08:00

2018-05-15 10:12:50,419 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:12:50 +08:00

2018-05-15 10:12:50,419 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-15 10:12:50,419 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:12:50,419 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:12:50 +08:00

2018-05-15 10:12:50,419 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:12:50,419 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:12:50,420 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:12:50 +08:00

2018-05-15 10:12:50,420 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:12:50 +08:00

2018-05-15 10:12:50,420 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-15 10:12:50,420 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:12:50,420 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:12:50,420 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2' (Type = Int64, IsNullable = false)

2018-05-15 10:12:50,420 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:12:50,420 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:12:50 +08:00

2018-05-15 10:12:50,421 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:12:50,421 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:12:50,421 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:12:50 +08:00

2018-05-15 10:12:50,421 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:12:50 +08:00

2018-05-15 10:12:50,421 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-15 10:12:50,421 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:12:50,421 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:12:50,421 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '3' (Type = Int64, IsNullable = false)

2018-05-15 10:12:50,421 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:12:50,421 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:12:50 +08:00

2018-05-15 10:12:50,422 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:12:50,422 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:12:50,422 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:12:50 +08:00

2018-05-15 10:12:50,422 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:12:50 +08:00

2018-05-15 10:12:50,424 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 2
    ORDER BY [Project1].[CreateTime] DESC
2018-05-15 10:12:50,424 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:12:50,424 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:12:50,424 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:12:50 +08:00

2018-05-15 10:12:50,426 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-15 10:12:50,426 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:12:50,427 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:12:50 +08:00

2018-05-15 10:12:50,427 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:12:50 +08:00

2018-05-15 10:12:50,427 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:12:50,427 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:12:50,427 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:12:50,427 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:12:50 +08:00

2018-05-15 10:12:50,427 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:12:50,427 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:12:50,427 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:12:50 +08:00

2018-05-15 10:12:50,427 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:12:50 +08:00

2018-05-15 10:12:50,428 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:12:50,428 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:12:50,428 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-15 10:12:50,428 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:12:50 +08:00

2018-05-15 10:12:50,428 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:12:50,428 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:12:50,428 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:12:50 +08:00

2018-05-15 10:12:50,428 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:12:50 +08:00

2018-05-15 10:12:50,428 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:12:50,428 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:12:50,428 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:12:50,428 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:12:50 +08:00

2018-05-15 10:12:50,428 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:12:50,428 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:12:50,429 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:12:50 +08:00

2018-05-15 10:12:50,429 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:12:50 +08:00

2018-05-15 10:12:50,429 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'平台发放' = [Extent1].[Name]) AND (N'平台扣除' = [Extent1].[Name]) AND (N'积分增加' = [Extent1].[Name])
2018-05-15 10:12:50,429 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:12:50,429 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:12:50 +08:00

2018-05-15 10:12:50,429 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:12:50,430 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:12:50,430 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:12:50 +08:00

2018-05-15 10:12:52,330 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:12:52 +08:00

2018-05-15 10:12:52,330 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-05-15 10:12:52,330 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:12:52,330 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'PlatformUser201805051709360001' (Type = String, Size = 4000)

2018-05-15 10:12:52,330 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:12:52 +08:00

2018-05-15 10:12:52,331 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:12:52,331 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:12:52,331 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:12:52 +08:00

2018-05-15 10:12:52,331 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:12:52 +08:00

2018-05-15 10:12:52,331 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:12:52,331 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:12:52,331 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:12:52,331 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:12:52 +08:00

2018-05-15 10:12:52,332 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:12:52,332 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:12:52,332 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:12:52 +08:00

2018-05-15 10:12:52,332 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:12:52 +08:00

2018-05-15 10:12:52,332 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-15 10:12:52,333 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:12:52,333 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:12:52 +08:00

2018-05-15 10:12:52,333 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:12:52,333 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:12:52,333 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:12:52 +08:00

2018-05-15 10:12:52,333 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:12:52 +08:00

2018-05-15 10:12:52,333 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-15 10:12:52,333 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:12:52,333 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:12:52 +08:00

2018-05-15 10:12:52,334 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:12:52,334 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:12:52,334 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:12:52 +08:00

2018-05-15 10:12:52,334 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:12:52 +08:00

2018-05-15 10:12:52,334 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-15 10:12:52,334 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:12:52,334 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:12:52,334 [26] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:12:52 +08:00

2018-05-15 10:12:52,335 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:12:52,335 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:12:52,335 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:12:52 +08:00

2018-05-15 10:12:52,335 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:12:52 +08:00

2018-05-15 10:12:52,335 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-15 10:12:52,335 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:12:52,335 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:12:52 +08:00

2018-05-15 10:12:52,336 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:12:52,336 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:12:52,336 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:12:52 +08:00

2018-05-15 10:12:52,336 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:12:52 +08:00

2018-05-15 10:12:52,336 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-15 10:12:52,336 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:12:52,336 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:12:52,336 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2' (Type = Int64, IsNullable = false)

2018-05-15 10:12:52,336 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:12:52,337 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:12:52 +08:00

2018-05-15 10:12:52,337 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:12:52,337 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:12:52,337 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:12:52 +08:00

2018-05-15 10:12:52,337 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:12:52 +08:00

2018-05-15 10:12:52,338 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-15 10:12:52,338 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:12:52,338 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:12:52,338 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '3' (Type = Int64, IsNullable = false)

2018-05-15 10:12:52,338 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:12:52,338 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:12:52 +08:00

2018-05-15 10:12:52,338 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:12:52,338 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:12:52,338 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:12:52 +08:00

2018-05-15 10:12:52,339 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:12:52 +08:00

2018-05-15 10:12:52,340 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 3
    ORDER BY [Project1].[CreateTime] DESC
2018-05-15 10:12:52,340 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:12:52,340 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:12:52,340 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:12:52 +08:00

2018-05-15 10:12:52,343 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-15 10:12:52,343 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:12:52,343 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:12:52 +08:00

2018-05-15 10:12:52,343 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:12:52 +08:00

2018-05-15 10:12:52,343 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:12:52,343 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:12:52,343 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '6' (Type = Int64, IsNullable = false)

2018-05-15 10:12:52,343 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:12:52 +08:00

2018-05-15 10:12:52,344 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:12:52,344 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:12:52,344 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:12:52 +08:00

2018-05-15 10:12:52,344 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:12:52 +08:00

2018-05-15 10:12:52,344 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:12:52,344 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:12:52,344 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:12:52,344 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:12:52 +08:00

2018-05-15 10:12:52,344 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:12:52,344 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:12:52,345 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:12:52 +08:00

2018-05-15 10:12:52,345 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:12:52 +08:00

2018-05-15 10:12:52,345 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'平台发放' = [Extent1].[Name]) AND (N'平台扣除' = [Extent1].[Name]) AND (N'积分增加' = [Extent1].[Name])
2018-05-15 10:12:52,345 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:12:52,345 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:12:52 +08:00

2018-05-15 10:12:52,346 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:12:52,346 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:12:52,346 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:12:52 +08:00

2018-05-15 10:12:55,945 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:12:55 +08:00

2018-05-15 10:12:55,946 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-05-15 10:12:55,946 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:12:55,946 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'PlatformUser201805051709360001' (Type = String, Size = 4000)

2018-05-15 10:12:55,946 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:12:55 +08:00

2018-05-15 10:12:55,946 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:12:55,946 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:12:55,947 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:12:55 +08:00

2018-05-15 10:12:55,947 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:12:55 +08:00

2018-05-15 10:12:55,947 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:12:55,947 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:12:55,947 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:12:55,947 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:12:55 +08:00

2018-05-15 10:12:55,947 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:12:55,947 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:12:55,947 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:12:55 +08:00

2018-05-15 10:12:55,948 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:12:55 +08:00

2018-05-15 10:12:55,948 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-15 10:12:55,948 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:12:55,948 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:12:55 +08:00

2018-05-15 10:12:55,948 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:12:55,948 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:12:55,948 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:12:55 +08:00

2018-05-15 10:12:55,949 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:12:55 +08:00

2018-05-15 10:12:55,949 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-15 10:12:55,949 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:12:55,949 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:12:55 +08:00

2018-05-15 10:12:55,949 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:12:55,949 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:12:55,949 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:12:55 +08:00

2018-05-15 10:12:55,949 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:12:55 +08:00

2018-05-15 10:12:55,949 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-15 10:12:55,950 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:12:55,950 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:12:55,950 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:12:55 +08:00

2018-05-15 10:12:55,950 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:12:55,950 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:12:55,950 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:12:55 +08:00

2018-05-15 10:12:55,950 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:12:55 +08:00

2018-05-15 10:12:55,951 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-15 10:12:55,951 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:12:55,951 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:12:55 +08:00

2018-05-15 10:12:55,951 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:12:55,951 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:12:55,951 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:12:55 +08:00

2018-05-15 10:12:55,951 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:12:55 +08:00

2018-05-15 10:12:55,952 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-15 10:12:55,952 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:12:55,952 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:12:55,952 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2' (Type = Int64, IsNullable = false)

2018-05-15 10:12:55,952 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:12:55,952 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:12:55 +08:00

2018-05-15 10:12:55,952 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:12:55,952 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:12:55,952 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:12:55 +08:00

2018-05-15 10:12:55,952 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:12:55 +08:00

2018-05-15 10:12:55,953 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-15 10:12:55,953 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:12:55,953 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:12:55,953 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '3' (Type = Int64, IsNullable = false)

2018-05-15 10:12:55,953 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:12:55,953 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:12:55 +08:00

2018-05-15 10:12:55,953 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:12:55,953 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:12:55,953 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:12:55 +08:00

2018-05-15 10:12:55,954 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:12:55 +08:00

2018-05-15 10:12:55,954 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-15 10:12:55,954 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:12:55,954 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:12:55,954 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:12:55 +08:00

2018-05-15 10:12:55,955 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:12:55,955 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:12:55,955 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:12:55 +08:00

2018-05-15 10:12:55,955 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:12:55 +08:00

2018-05-15 10:12:55,955 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:12:55,955 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:12:55,955 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:12:55,955 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:12:55 +08:00

2018-05-15 10:12:55,955 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:12:55,955 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:12:55,956 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:12:55 +08:00

2018-05-15 10:12:55,956 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:12:55 +08:00

2018-05-15 10:12:55,956 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:12:55,956 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:12:55,956 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-15 10:12:55,956 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:12:55 +08:00

2018-05-15 10:12:55,956 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:12:55,956 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:12:55,956 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:12:55 +08:00

2018-05-15 10:12:55,956 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:12:55 +08:00

2018-05-15 10:12:55,956 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:12:55,956 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:12:55,956 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:12:55,956 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:12:55 +08:00

2018-05-15 10:12:55,957 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:12:55,957 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:12:55,957 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:12:55 +08:00

2018-05-15 10:12:55,957 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:12:55 +08:00

2018-05-15 10:12:55,957 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'平台发放' = [Extent1].[Name]) AND (N'平台扣除' = [Extent1].[Name]) AND (N'积分增加' = [Extent1].[Name])
2018-05-15 10:12:55,957 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:12:55,957 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:12:55 +08:00

2018-05-15 10:12:55,958 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:12:55,958 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:12:55,958 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:12:55 +08:00

2018-05-15 10:12:57,223 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:12:57 +08:00

2018-05-15 10:12:57,223 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-05-15 10:12:57,223 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:12:57,223 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'PlatformUser201805051709360001' (Type = String, Size = 4000)

2018-05-15 10:12:57,223 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:12:57 +08:00

2018-05-15 10:12:57,224 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:12:57,224 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:12:57,224 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:12:57 +08:00

2018-05-15 10:12:57,224 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:12:57 +08:00

2018-05-15 10:12:57,224 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:12:57,224 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:12:57,224 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:12:57,224 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:12:57 +08:00

2018-05-15 10:12:57,224 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:12:57,224 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:12:57,225 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:12:57 +08:00

2018-05-15 10:12:57,225 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:12:57 +08:00

2018-05-15 10:12:57,225 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-15 10:12:57,225 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:12:57,225 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:12:57 +08:00

2018-05-15 10:12:57,226 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:12:57,226 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:12:57,226 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:12:57 +08:00

2018-05-15 10:12:57,226 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:12:57 +08:00

2018-05-15 10:12:57,226 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-15 10:12:57,226 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:12:57,226 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:12:57 +08:00

2018-05-15 10:12:57,226 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:12:57,226 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:12:57,226 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:12:57 +08:00

2018-05-15 10:12:57,226 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:12:57 +08:00

2018-05-15 10:12:57,227 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-15 10:12:57,227 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:12:57,227 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:12:57,227 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:12:57 +08:00

2018-05-15 10:12:57,227 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:12:57,227 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:12:57,227 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:12:57 +08:00

2018-05-15 10:12:57,228 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:12:57 +08:00

2018-05-15 10:12:57,228 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-15 10:12:57,228 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:12:57,228 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:12:57 +08:00

2018-05-15 10:12:57,228 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:12:57,228 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:12:57,228 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:12:57 +08:00

2018-05-15 10:12:57,229 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:12:57 +08:00

2018-05-15 10:12:57,229 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-15 10:12:57,229 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:12:57,229 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:12:57,229 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2' (Type = Int64, IsNullable = false)

2018-05-15 10:12:57,229 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:12:57,229 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:12:57 +08:00

2018-05-15 10:12:57,229 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:12:57,229 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:12:57,230 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:12:57 +08:00

2018-05-15 10:12:57,230 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:12:57 +08:00

2018-05-15 10:12:57,230 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-15 10:12:57,230 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:12:57,230 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:12:57,230 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '3' (Type = Int64, IsNullable = false)

2018-05-15 10:12:57,230 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:12:57,230 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:12:57 +08:00

2018-05-15 10:12:57,230 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:12:57,231 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:12:57,231 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:12:57 +08:00

2018-05-15 10:12:57,231 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:12:57 +08:00

2018-05-15 10:12:57,231 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 3
    ORDER BY [Project1].[CreateTime] DESC
2018-05-15 10:12:57,231 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:12:57,231 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:12:57,231 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:12:57 +08:00

2018-05-15 10:12:57,232 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:12:57,232 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:12:57,232 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:12:57 +08:00

2018-05-15 10:12:57,232 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:12:57 +08:00

2018-05-15 10:12:57,232 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:12:57,232 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:12:57,232 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '6' (Type = Int64, IsNullable = false)

2018-05-15 10:12:57,232 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:12:57 +08:00

2018-05-15 10:12:57,233 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:12:57,233 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:12:57,233 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:12:57 +08:00

2018-05-15 10:12:57,233 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:12:57 +08:00

2018-05-15 10:12:57,233 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:12:57,233 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:12:57,233 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:12:57,233 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:12:57 +08:00

2018-05-15 10:12:57,233 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:12:57,233 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:12:57,233 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:12:57 +08:00

2018-05-15 10:12:57,234 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:12:57 +08:00

2018-05-15 10:12:57,234 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'平台发放' = [Extent1].[Name]) AND (N'平台扣除' = [Extent1].[Name]) AND (N'积分增加' = [Extent1].[Name])
2018-05-15 10:12:57,234 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:12:57,234 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:12:57 +08:00

2018-05-15 10:12:57,234 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:12:57,234 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:12:57,234 [13] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:12:57 +08:00

2018-05-15 10:13:35,725 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:13:35 +08:00

2018-05-15 10:13:35,726 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-05-15 10:13:35,726 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:13:35,726 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'PlatformUser201805051709360001' (Type = String, Size = 4000)

2018-05-15 10:13:35,726 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:13:35 +08:00

2018-05-15 10:13:35,845 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 119 ms with result: SqlDataReader

2018-05-15 10:13:35,845 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:13:35,845 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:13:35 +08:00

2018-05-15 10:13:35,845 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:13:35 +08:00

2018-05-15 10:13:35,845 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:13:35,846 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:13:35,846 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:13:35,846 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:13:35 +08:00

2018-05-15 10:13:35,914 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 68 ms with result: SqlDataReader

2018-05-15 10:13:35,914 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:13:35,915 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:13:35 +08:00

2018-05-15 10:13:35,915 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:13:35 +08:00

2018-05-15 10:13:35,915 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-15 10:13:35,915 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:13:35,916 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:13:35 +08:00

2018-05-15 10:13:35,942 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 26 ms with result: SqlDataReader

2018-05-15 10:13:35,942 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:13:35,942 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:13:35 +08:00

2018-05-15 10:13:35,942 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:13:35 +08:00

2018-05-15 10:13:35,943 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-15 10:13:35,943 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:13:35,943 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:13:35 +08:00

2018-05-15 10:13:35,943 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:13:35,943 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:13:35,944 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:13:35 +08:00

2018-05-15 10:13:35,944 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:13:35 +08:00

2018-05-15 10:13:35,944 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-15 10:13:35,944 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:13:35,944 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:13:35,944 [28] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:13:35 +08:00

2018-05-15 10:13:35,945 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:13:35,945 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:13:35,945 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:13:35 +08:00

2018-05-15 10:13:35,945 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:13:35 +08:00

2018-05-15 10:13:35,945 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-15 10:13:35,945 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:13:35,945 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:13:35 +08:00

2018-05-15 10:13:35,945 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:13:35,945 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:13:35,946 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:13:35 +08:00

2018-05-15 10:13:35,946 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:13:35 +08:00

2018-05-15 10:13:35,946 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-15 10:13:35,946 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:13:35,946 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:13:35,946 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2' (Type = Int64, IsNullable = false)

2018-05-15 10:13:35,946 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:13:35,946 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:13:35 +08:00

2018-05-15 10:13:35,947 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:13:35,947 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:13:35,947 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:13:35 +08:00

2018-05-15 10:13:35,947 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:13:35 +08:00

2018-05-15 10:13:35,947 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-15 10:13:35,947 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:13:35,947 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:13:35,947 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '3' (Type = Int64, IsNullable = false)

2018-05-15 10:13:35,947 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:13:35,947 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:13:35 +08:00

2018-05-15 10:13:35,949 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 10:13:35,949 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:13:35,950 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:13:35 +08:00

2018-05-15 10:13:35,950 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:13:35 +08:00

2018-05-15 10:13:35,950 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-15 10:13:35,950 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:13:35,950 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:13:35,950 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:13:35 +08:00

2018-05-15 10:13:35,963 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 12 ms with result: SqlDataReader

2018-05-15 10:13:35,963 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:13:35,964 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:13:35 +08:00

2018-05-15 10:13:35,964 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:13:35 +08:00

2018-05-15 10:13:35,964 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:13:35,964 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:13:35,964 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:13:35,964 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:13:35 +08:00

2018-05-15 10:13:35,974 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 9 ms with result: SqlDataReader

2018-05-15 10:13:35,974 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:13:35,974 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:13:35 +08:00

2018-05-15 10:13:35,974 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:13:35 +08:00

2018-05-15 10:13:35,974 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:13:35,974 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:13:35,974 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-15 10:13:35,974 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:13:35 +08:00

2018-05-15 10:13:35,975 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:13:35,975 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:13:35,975 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:13:35 +08:00

2018-05-15 10:13:35,975 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:13:35 +08:00

2018-05-15 10:13:35,975 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:13:35,975 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:13:35,975 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:13:35,975 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:13:35 +08:00

2018-05-15 10:13:35,975 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:13:35,975 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:13:35,975 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:13:35 +08:00

2018-05-15 10:13:35,976 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:13:35 +08:00

2018-05-15 10:13:35,976 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'平台发放' = [Extent1].[Name]) AND (N'平台扣除' = [Extent1].[Name]) AND (N'积分增加' = [Extent1].[Name])
2018-05-15 10:13:35,976 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:13:35,976 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:13:35 +08:00

2018-05-15 10:13:35,976 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:13:35,976 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:13:35,976 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:13:35 +08:00

2018-05-15 10:33:56,649 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:33:56 +08:00

2018-05-15 10:33:56,650 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-05-15 10:33:56,650 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:33:56,650 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'PlatformUser201805051709360001' (Type = String, Size = 4000)

2018-05-15 10:33:56,650 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:33:56 +08:00

2018-05-15 10:33:56,652 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 10:33:56,652 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:33:56,652 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:33:56 +08:00

2018-05-15 10:33:56,652 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:33:56 +08:00

2018-05-15 10:33:56,652 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:33:56,652 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:33:56,652 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:33:56,653 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:33:56 +08:00

2018-05-15 10:33:56,653 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:33:56,653 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:33:56,653 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:33:56 +08:00

2018-05-15 10:33:56,653 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:33:56 +08:00

2018-05-15 10:33:56,654 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-15 10:33:56,654 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:33:56,654 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:33:56 +08:00

2018-05-15 10:33:56,655 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 10:33:56,655 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:33:56,655 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:33:56 +08:00

2018-05-15 10:33:56,655 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:33:56 +08:00

2018-05-15 10:33:56,655 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-15 10:33:56,655 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:33:56,655 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:33:56 +08:00

2018-05-15 10:33:56,656 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:33:56,656 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:33:56,656 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:33:56 +08:00

2018-05-15 10:33:56,657 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:33:56 +08:00

2018-05-15 10:33:56,657 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-15 10:33:56,657 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:33:56,657 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:33:56,657 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:33:56 +08:00

2018-05-15 10:33:56,660 [41] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2018-05-15 10:33:56,660 [41] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:33:56,660 [41] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:33:56 +08:00

2018-05-15 10:33:56,661 [41] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:33:56 +08:00

2018-05-15 10:33:56,661 [41] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-15 10:33:56,661 [41] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:33:56,661 [41] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:33:56 +08:00

2018-05-15 10:33:56,662 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 10:33:56,662 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:33:56,663 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:33:56 +08:00

2018-05-15 10:33:56,663 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:33:56 +08:00

2018-05-15 10:33:56,663 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-15 10:33:56,663 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:33:56,663 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:33:56,663 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2' (Type = Int64, IsNullable = false)

2018-05-15 10:33:56,663 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:33:56,663 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:33:56 +08:00

2018-05-15 10:33:56,665 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 10:33:56,665 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:33:56,665 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:33:56 +08:00

2018-05-15 10:33:56,666 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:33:56 +08:00

2018-05-15 10:33:56,666 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-15 10:33:56,666 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:33:56,666 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:33:56,666 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '3' (Type = Int64, IsNullable = false)

2018-05-15 10:33:56,666 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:33:56,666 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:33:56 +08:00

2018-05-15 10:33:56,667 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:33:56,667 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:33:56,667 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:33:56 +08:00

2018-05-15 10:33:56,667 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:33:56 +08:00

2018-05-15 10:33:56,667 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 1
    ORDER BY [Project1].[CreateTime] DESC
2018-05-15 10:33:56,667 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:33:56,667 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:33:56,667 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:33:56 +08:00

2018-05-15 10:33:56,671 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 4 ms with result: SqlDataReader

2018-05-15 10:33:56,671 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:33:56,672 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:33:56 +08:00

2018-05-15 10:33:56,672 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:33:56 +08:00

2018-05-15 10:33:56,672 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:33:56,672 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:33:56,672 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:33:56,672 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:33:56 +08:00

2018-05-15 10:33:56,673 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:33:56,673 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:33:56,673 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:33:56 +08:00

2018-05-15 10:33:56,673 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:33:56 +08:00

2018-05-15 10:33:56,673 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:33:56,673 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:33:56,673 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-15 10:33:56,674 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:33:56 +08:00

2018-05-15 10:33:56,674 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:33:56,674 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:33:56,675 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:33:56 +08:00

2018-05-15 10:33:56,675 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:33:56 +08:00

2018-05-15 10:33:56,675 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:33:56,675 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:33:56,675 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:33:56,675 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:33:56 +08:00

2018-05-15 10:33:56,676 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 10:33:56,676 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:33:56,676 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:33:56 +08:00

2018-05-15 10:33:56,677 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:33:56 +08:00

2018-05-15 10:33:56,677 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'平台发放' = [Extent1].[Name]) AND (N'平台扣除' = [Extent1].[Name]) AND (N'积分增加' = [Extent1].[Name])
2018-05-15 10:33:56,677 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:33:56,677 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:33:56 +08:00

2018-05-15 10:33:56,679 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 10:33:56,679 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:33:56,679 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:33:56 +08:00

2018-05-15 10:33:57,599 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:33:57 +08:00

2018-05-15 10:33:57,599 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-05-15 10:33:57,599 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:33:57,599 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'PlatformUser201805051709360001' (Type = String, Size = 4000)

2018-05-15 10:33:57,599 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:33:57 +08:00

2018-05-15 10:33:57,600 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:33:57,600 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:33:57,600 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:33:57 +08:00

2018-05-15 10:33:57,600 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:33:57 +08:00

2018-05-15 10:33:57,600 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:33:57,600 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:33:57,600 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:33:57,600 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:33:57 +08:00

2018-05-15 10:33:57,601 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:33:57,601 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:33:57,601 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:33:57 +08:00

2018-05-15 10:33:57,601 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:33:57 +08:00

2018-05-15 10:33:57,601 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-15 10:33:57,601 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:33:57,601 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:33:57 +08:00

2018-05-15 10:33:57,602 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:33:57,602 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:33:57,602 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:33:57 +08:00

2018-05-15 10:33:57,602 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:33:57 +08:00

2018-05-15 10:33:57,602 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-15 10:33:57,602 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:33:57,602 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:33:57 +08:00

2018-05-15 10:33:57,602 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:33:57,602 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:33:57,603 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:33:57 +08:00

2018-05-15 10:33:57,603 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:33:57 +08:00

2018-05-15 10:33:57,603 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-15 10:33:57,603 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:33:57,603 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:33:57,603 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:33:57 +08:00

2018-05-15 10:33:57,603 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:33:57,603 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:33:57,604 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:33:57 +08:00

2018-05-15 10:33:57,604 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:33:57 +08:00

2018-05-15 10:33:57,604 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-15 10:33:57,604 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:33:57,604 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:33:57 +08:00

2018-05-15 10:33:57,604 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:33:57,604 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:33:57,604 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:33:57 +08:00

2018-05-15 10:33:57,605 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:33:57 +08:00

2018-05-15 10:33:57,605 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-15 10:33:57,605 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:33:57,605 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:33:57,605 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2' (Type = Int64, IsNullable = false)

2018-05-15 10:33:57,605 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:33:57,605 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:33:57 +08:00

2018-05-15 10:33:57,606 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:33:57,606 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:33:57,606 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:33:57 +08:00

2018-05-15 10:33:57,606 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:33:57 +08:00

2018-05-15 10:33:57,606 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-15 10:33:57,606 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:33:57,606 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:33:57,606 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '3' (Type = Int64, IsNullable = false)

2018-05-15 10:33:57,606 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:33:57,606 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:33:57 +08:00

2018-05-15 10:33:57,607 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:33:57,607 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:33:57,607 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:33:57 +08:00

2018-05-15 10:33:57,607 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:33:57 +08:00

2018-05-15 10:33:57,607 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 2
    ORDER BY [Project1].[CreateTime] DESC
2018-05-15 10:33:57,607 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:33:57,607 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:33:57,607 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:33:57 +08:00

2018-05-15 10:33:57,610 [41] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-15 10:33:57,610 [41] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:33:57,611 [41] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:33:57 +08:00

2018-05-15 10:33:57,611 [41] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:33:57 +08:00

2018-05-15 10:33:57,611 [41] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:33:57,611 [41] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:33:57,611 [41] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:33:57,611 [41] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:33:57 +08:00

2018-05-15 10:33:57,611 [41] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:33:57,612 [41] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:33:57,612 [41] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:33:57 +08:00

2018-05-15 10:33:57,612 [41] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:33:57 +08:00

2018-05-15 10:33:57,612 [41] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:33:57,612 [41] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:33:57,612 [41] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-15 10:33:57,612 [41] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:33:57 +08:00

2018-05-15 10:33:57,612 [41] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:33:57,612 [41] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:33:57,613 [41] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:33:57 +08:00

2018-05-15 10:33:57,613 [41] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:33:57 +08:00

2018-05-15 10:33:57,613 [41] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:33:57,613 [41] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:33:57,613 [41] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:33:57,613 [41] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:33:57 +08:00

2018-05-15 10:33:57,614 [41] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 10:33:57,614 [41] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:33:57,615 [41] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:33:57 +08:00

2018-05-15 10:33:57,615 [41] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:33:57 +08:00

2018-05-15 10:33:57,615 [41] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'平台发放' = [Extent1].[Name]) AND (N'平台扣除' = [Extent1].[Name]) AND (N'积分增加' = [Extent1].[Name])
2018-05-15 10:33:57,615 [41] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:33:57,615 [41] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:33:57 +08:00

2018-05-15 10:33:57,616 [41] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:33:57,616 [41] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:33:57,616 [41] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:33:57 +08:00

2018-05-15 10:34:01,061 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:34:01 +08:00

2018-05-15 10:34:01,061 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-05-15 10:34:01,061 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:34:01,061 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'PlatformUser201805051709360001' (Type = String, Size = 4000)

2018-05-15 10:34:01,061 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:34:01 +08:00

2018-05-15 10:34:01,062 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:34:01,062 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:34:01,062 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:34:01 +08:00

2018-05-15 10:34:01,062 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:34:01 +08:00

2018-05-15 10:34:01,062 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:34:01,062 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:34:01,062 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:34:01,062 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:34:01 +08:00

2018-05-15 10:34:01,062 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:34:01,062 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:34:01,063 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:34:01 +08:00

2018-05-15 10:34:01,063 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:34:01 +08:00

2018-05-15 10:34:01,063 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-15 10:34:01,063 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:34:01,063 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:34:01 +08:00

2018-05-15 10:34:01,063 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:34:01,063 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:34:01,063 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:34:01 +08:00

2018-05-15 10:34:01,064 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:34:01 +08:00

2018-05-15 10:34:01,064 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-15 10:34:01,064 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:34:01,064 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:34:01 +08:00

2018-05-15 10:34:01,064 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:34:01,064 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:34:01,064 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:34:01 +08:00

2018-05-15 10:34:01,064 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:34:01 +08:00

2018-05-15 10:34:01,065 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-15 10:34:01,065 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:34:01,065 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:34:01,065 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:34:01 +08:00

2018-05-15 10:34:01,065 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:34:01,065 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:34:01,065 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:34:01 +08:00

2018-05-15 10:34:01,065 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:34:01 +08:00

2018-05-15 10:34:01,066 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-15 10:34:01,066 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:34:01,066 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:34:01 +08:00

2018-05-15 10:34:01,066 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:34:01,066 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:34:01,066 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:34:01 +08:00

2018-05-15 10:34:01,066 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:34:01 +08:00

2018-05-15 10:34:01,067 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-15 10:34:01,067 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:34:01,067 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:34:01,067 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2' (Type = Int64, IsNullable = false)

2018-05-15 10:34:01,067 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:34:01,067 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:34:01 +08:00

2018-05-15 10:34:01,067 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:34:01,067 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:34:01,067 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:34:01 +08:00

2018-05-15 10:34:01,067 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:34:01 +08:00

2018-05-15 10:34:01,068 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-15 10:34:01,068 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:34:01,068 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:34:01,068 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '3' (Type = Int64, IsNullable = false)

2018-05-15 10:34:01,068 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:34:01,068 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:34:01 +08:00

2018-05-15 10:34:01,068 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:34:01,068 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:34:01,068 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:34:01 +08:00

2018-05-15 10:34:01,068 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:34:01 +08:00

2018-05-15 10:34:01,069 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 1
    ORDER BY [Project1].[CreateTime] DESC
2018-05-15 10:34:01,069 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:34:01,069 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:34:01,069 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:34:01 +08:00

2018-05-15 10:34:01,069 [41] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:34:01,069 [41] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:34:01,069 [41] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:34:01 +08:00

2018-05-15 10:34:01,069 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:34:01 +08:00

2018-05-15 10:34:01,070 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:34:01,070 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:34:01,070 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:34:01,070 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:34:01 +08:00

2018-05-15 10:34:01,070 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:34:01,070 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:34:01,070 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:34:01 +08:00

2018-05-15 10:34:01,070 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:34:01 +08:00

2018-05-15 10:34:01,070 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:34:01,070 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:34:01,070 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-15 10:34:01,070 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:34:01 +08:00

2018-05-15 10:34:01,070 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:34:01,070 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:34:01,070 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:34:01 +08:00

2018-05-15 10:34:01,071 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:34:01 +08:00

2018-05-15 10:34:01,071 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:34:01,071 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:34:01,071 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:34:01,071 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:34:01 +08:00

2018-05-15 10:34:01,071 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:34:01,071 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:34:01,071 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:34:01 +08:00

2018-05-15 10:34:01,071 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:34:01 +08:00

2018-05-15 10:34:01,071 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'平台发放' = [Extent1].[Name]) AND (N'平台扣除' = [Extent1].[Name]) AND (N'积分增加' = [Extent1].[Name])
2018-05-15 10:34:01,071 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:34:01,071 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:34:01 +08:00

2018-05-15 10:34:01,072 [41] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:34:01,072 [41] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:34:01,072 [41] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:34:01 +08:00

2018-05-15 10:34:03,227 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:34:03 +08:00

2018-05-15 10:34:03,227 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-05-15 10:34:03,227 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:34:03,227 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'PlatformUser201805051709360001' (Type = String, Size = 4000)

2018-05-15 10:34:03,227 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:34:03 +08:00

2018-05-15 10:34:03,228 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:34:03,228 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:34:03,228 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:34:03 +08:00

2018-05-15 10:34:03,228 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:34:03 +08:00

2018-05-15 10:34:03,228 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:34:03,228 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:34:03,228 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:34:03,228 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:34:03 +08:00

2018-05-15 10:34:03,229 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:34:03,229 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:34:03,229 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:34:03 +08:00

2018-05-15 10:34:03,229 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:34:03 +08:00

2018-05-15 10:34:03,230 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-15 10:34:03,230 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:34:03,230 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:34:03 +08:00

2018-05-15 10:34:03,230 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:34:03,230 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:34:03,230 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:34:03 +08:00

2018-05-15 10:34:03,230 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:34:03 +08:00

2018-05-15 10:34:03,231 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-15 10:34:03,231 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:34:03,231 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:34:03 +08:00

2018-05-15 10:34:03,231 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:34:03,231 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:34:03,231 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:34:03 +08:00

2018-05-15 10:34:03,231 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:34:03 +08:00

2018-05-15 10:34:03,232 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-15 10:34:03,232 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:34:03,232 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:34:03,232 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:34:03 +08:00

2018-05-15 10:34:03,232 [41] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:34:03,232 [41] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:34:03,232 [41] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:34:03 +08:00

2018-05-15 10:34:03,232 [41] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:34:03 +08:00

2018-05-15 10:34:03,233 [41] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-15 10:34:03,233 [41] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:34:03,233 [41] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:34:03 +08:00

2018-05-15 10:34:03,233 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:34:03,233 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:34:03,233 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:34:03 +08:00

2018-05-15 10:34:03,233 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:34:03 +08:00

2018-05-15 10:34:03,234 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-15 10:34:03,234 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:34:03,234 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:34:03,234 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2' (Type = Int64, IsNullable = false)

2018-05-15 10:34:03,234 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:34:03,234 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:34:03 +08:00

2018-05-15 10:34:03,234 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:34:03,234 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:34:03,234 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:34:03 +08:00

2018-05-15 10:34:03,234 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:34:03 +08:00

2018-05-15 10:34:03,235 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-15 10:34:03,235 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:34:03,235 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:34:03,235 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '3' (Type = Int64, IsNullable = false)

2018-05-15 10:34:03,235 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:34:03,235 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:34:03 +08:00

2018-05-15 10:34:03,235 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:34:03,235 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:34:03,235 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:34:03 +08:00

2018-05-15 10:34:03,236 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:34:03 +08:00

2018-05-15 10:34:03,236 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-15 10:34:03,236 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:34:03,236 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:34:03,236 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:34:03 +08:00

2018-05-15 10:34:03,239 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-15 10:34:03,239 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:34:03,239 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:34:03 +08:00

2018-05-15 10:34:03,239 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:34:03 +08:00

2018-05-15 10:34:03,239 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:34:03,239 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:34:03,239 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:34:03,239 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:34:03 +08:00

2018-05-15 10:34:03,240 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:34:03,240 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:34:03,240 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:34:03 +08:00

2018-05-15 10:34:03,240 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:34:03 +08:00

2018-05-15 10:34:03,240 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:34:03,240 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:34:03,240 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-15 10:34:03,240 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:34:03 +08:00

2018-05-15 10:34:03,240 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:34:03,240 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:34:03,241 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:34:03 +08:00

2018-05-15 10:34:03,241 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:34:03 +08:00

2018-05-15 10:34:03,241 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:34:03,241 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:34:03,241 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:34:03,241 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:34:03 +08:00

2018-05-15 10:34:03,241 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:34:03,241 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:34:03,241 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:34:03 +08:00

2018-05-15 10:34:03,242 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:34:03 +08:00

2018-05-15 10:34:03,242 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'平台发放' = [Extent1].[Name]) AND (N'平台扣除' = [Extent1].[Name]) AND (N'积分增加' = [Extent1].[Name])
2018-05-15 10:34:03,242 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:34:03,242 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:34:03 +08:00

2018-05-15 10:34:03,242 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:34:03,242 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:34:03,242 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:34:03 +08:00

2018-05-15 10:34:04,759 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:34:04 +08:00

2018-05-15 10:34:04,760 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-05-15 10:34:04,760 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:34:04,760 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'PlatformUser201805051709360001' (Type = String, Size = 4000)

2018-05-15 10:34:04,760 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:34:04 +08:00

2018-05-15 10:34:04,760 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:34:04,760 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:34:04,761 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:34:04 +08:00

2018-05-15 10:34:04,761 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:34:04 +08:00

2018-05-15 10:34:04,761 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:34:04,761 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:34:04,761 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:34:04,761 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:34:04 +08:00

2018-05-15 10:34:04,761 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:34:04,761 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:34:04,761 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:34:04 +08:00

2018-05-15 10:34:04,762 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:34:04 +08:00

2018-05-15 10:34:04,762 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-15 10:34:04,762 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:34:04,762 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:34:04 +08:00

2018-05-15 10:34:04,762 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:34:04,762 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:34:04,762 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:34:04 +08:00

2018-05-15 10:34:04,763 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:34:04 +08:00

2018-05-15 10:34:04,763 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-15 10:34:04,763 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:34:04,763 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:34:04 +08:00

2018-05-15 10:34:04,763 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:34:04,763 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:34:04,763 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:34:04 +08:00

2018-05-15 10:34:04,763 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:34:04 +08:00

2018-05-15 10:34:04,764 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-15 10:34:04,764 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:34:04,764 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:34:04,764 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:34:04 +08:00

2018-05-15 10:34:04,764 [41] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:34:04,764 [41] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:34:04,764 [41] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:34:04 +08:00

2018-05-15 10:34:04,765 [41] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:34:04 +08:00

2018-05-15 10:34:04,765 [41] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-15 10:34:04,765 [41] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:34:04,765 [41] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:34:04 +08:00

2018-05-15 10:34:04,765 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:34:04,765 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:34:04,765 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:34:04 +08:00

2018-05-15 10:34:04,766 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:34:04 +08:00

2018-05-15 10:34:04,766 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-15 10:34:04,766 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:34:04,766 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:34:04,766 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2' (Type = Int64, IsNullable = false)

2018-05-15 10:34:04,766 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:34:04,766 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:34:04 +08:00

2018-05-15 10:34:04,766 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:34:04,766 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:34:04,767 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:34:04 +08:00

2018-05-15 10:34:04,767 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:34:04 +08:00

2018-05-15 10:34:04,767 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-15 10:34:04,767 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:34:04,767 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:34:04,767 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '3' (Type = Int64, IsNullable = false)

2018-05-15 10:34:04,767 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:34:04,767 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:34:04 +08:00

2018-05-15 10:34:04,768 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:34:04,768 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:34:04,768 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:34:04 +08:00

2018-05-15 10:34:04,768 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:34:04 +08:00

2018-05-15 10:34:04,768 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 1
    ORDER BY [Project1].[CreateTime] DESC
2018-05-15 10:34:04,768 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:34:04,768 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:34:04,768 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:34:04 +08:00

2018-05-15 10:34:04,769 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:34:04,769 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:34:04,769 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:34:04 +08:00

2018-05-15 10:34:04,769 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:34:04 +08:00

2018-05-15 10:34:04,769 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:34:04,769 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:34:04,769 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:34:04,769 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:34:04 +08:00

2018-05-15 10:34:04,770 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:34:04,770 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:34:04,770 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:34:04 +08:00

2018-05-15 10:34:04,770 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:34:04 +08:00

2018-05-15 10:34:04,770 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:34:04,770 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:34:04,770 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-15 10:34:04,770 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:34:04 +08:00

2018-05-15 10:34:04,770 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:34:04,770 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:34:04,770 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:34:04 +08:00

2018-05-15 10:34:04,770 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:34:04 +08:00

2018-05-15 10:34:04,770 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:34:04,770 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:34:04,770 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:34:04,770 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:34:04 +08:00

2018-05-15 10:34:04,771 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:34:04,771 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:34:04,771 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:34:04 +08:00

2018-05-15 10:34:04,771 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:34:04 +08:00

2018-05-15 10:34:04,771 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'平台发放' = [Extent1].[Name]) AND (N'平台扣除' = [Extent1].[Name]) AND (N'积分增加' = [Extent1].[Name])
2018-05-15 10:34:04,771 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:34:04,771 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:34:04 +08:00

2018-05-15 10:34:04,772 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:34:04,772 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:34:04,772 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:34:04 +08:00

2018-05-15 10:34:05,844 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:34:05 +08:00

2018-05-15 10:34:05,845 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-05-15 10:34:05,845 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:34:05,845 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'PlatformUser201805051709360001' (Type = String, Size = 4000)

2018-05-15 10:34:05,845 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:34:05 +08:00

2018-05-15 10:34:05,845 [41] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:34:05,845 [41] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:34:05,846 [41] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:34:05 +08:00

2018-05-15 10:34:05,846 [41] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:34:05 +08:00

2018-05-15 10:34:05,846 [41] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:34:05,846 [41] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:34:05,846 [41] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:34:05,846 [41] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:34:05 +08:00

2018-05-15 10:34:05,846 [41] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:34:05,846 [41] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:34:05,846 [41] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:34:05 +08:00

2018-05-15 10:34:05,847 [41] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:34:05 +08:00

2018-05-15 10:34:05,847 [41] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-15 10:34:05,847 [41] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:34:05,847 [41] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:34:05 +08:00

2018-05-15 10:34:05,847 [41] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:34:05,847 [41] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:34:05,847 [41] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:34:05 +08:00

2018-05-15 10:34:05,848 [41] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:34:05 +08:00

2018-05-15 10:34:05,848 [41] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-15 10:34:05,848 [41] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:34:05,848 [41] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:34:05 +08:00

2018-05-15 10:34:05,848 [41] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:34:05,848 [41] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:34:05,848 [41] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:34:05 +08:00

2018-05-15 10:34:05,848 [41] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:34:05 +08:00

2018-05-15 10:34:05,849 [41] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-15 10:34:05,849 [41] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:34:05,849 [41] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:34:05,849 [41] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:34:05 +08:00

2018-05-15 10:34:05,849 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:34:05,849 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:34:05,849 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:34:05 +08:00

2018-05-15 10:34:05,849 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:34:05 +08:00

2018-05-15 10:34:05,850 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-15 10:34:05,850 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:34:05,850 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:34:05 +08:00

2018-05-15 10:34:05,850 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:34:05,850 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:34:05,850 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:34:05 +08:00

2018-05-15 10:34:05,850 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:34:05 +08:00

2018-05-15 10:34:05,851 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-15 10:34:05,851 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:34:05,851 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:34:05,851 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2' (Type = Int64, IsNullable = false)

2018-05-15 10:34:05,851 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:34:05,851 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:34:05 +08:00

2018-05-15 10:34:05,851 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:34:05,851 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:34:05,852 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:34:05 +08:00

2018-05-15 10:34:05,852 [41] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:34:05 +08:00

2018-05-15 10:34:05,852 [41] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-15 10:34:05,852 [41] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:34:05,852 [41] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:34:05,852 [41] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '3' (Type = Int64, IsNullable = false)

2018-05-15 10:34:05,852 [41] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:34:05,852 [41] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:34:05 +08:00

2018-05-15 10:34:05,852 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:34:05,852 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:34:05,853 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:34:05 +08:00

2018-05-15 10:34:05,853 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:34:05 +08:00

2018-05-15 10:34:05,853 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 2
    ORDER BY [Project1].[CreateTime] DESC
2018-05-15 10:34:05,853 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:34:05,853 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:34:05,853 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:34:05 +08:00

2018-05-15 10:34:05,854 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:34:05,854 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:34:05,854 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:34:05 +08:00

2018-05-15 10:34:05,854 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:34:05 +08:00

2018-05-15 10:34:05,854 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:34:05,854 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:34:05,854 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:34:05,854 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:34:05 +08:00

2018-05-15 10:34:05,854 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:34:05,854 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:34:05,855 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:34:05 +08:00

2018-05-15 10:34:05,855 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:34:05 +08:00

2018-05-15 10:34:05,855 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:34:05,855 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:34:05,855 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-15 10:34:05,855 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:34:05 +08:00

2018-05-15 10:34:05,855 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:34:05,855 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:34:05,855 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:34:05 +08:00

2018-05-15 10:34:05,855 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:34:05 +08:00

2018-05-15 10:34:05,856 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:34:05,856 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:34:05,856 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:34:05,856 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:34:05 +08:00

2018-05-15 10:34:05,856 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:34:05,856 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:34:05,856 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:34:05 +08:00

2018-05-15 10:34:05,856 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:34:05 +08:00

2018-05-15 10:34:05,857 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'平台发放' = [Extent1].[Name]) AND (N'平台扣除' = [Extent1].[Name]) AND (N'积分增加' = [Extent1].[Name])
2018-05-15 10:34:05,857 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:34:05,857 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:34:05 +08:00

2018-05-15 10:34:05,857 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:34:05,857 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:34:05,857 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:34:05 +08:00

2018-05-15 10:34:07,264 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:34:07 +08:00

2018-05-15 10:34:07,264 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-05-15 10:34:07,264 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:34:07,264 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'PlatformUser201805051709360001' (Type = String, Size = 4000)

2018-05-15 10:34:07,264 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:34:07 +08:00

2018-05-15 10:34:07,265 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:34:07,265 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:34:07,265 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:34:07 +08:00

2018-05-15 10:34:07,265 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:34:07 +08:00

2018-05-15 10:34:07,266 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:34:07,266 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:34:07,266 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:34:07,266 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:34:07 +08:00

2018-05-15 10:34:07,266 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:34:07,266 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:34:07,266 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:34:07 +08:00

2018-05-15 10:34:07,267 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:34:07 +08:00

2018-05-15 10:34:07,267 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-15 10:34:07,267 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:34:07,267 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:34:07 +08:00

2018-05-15 10:34:07,267 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:34:07,267 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:34:07,267 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:34:07 +08:00

2018-05-15 10:34:07,268 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:34:07 +08:00

2018-05-15 10:34:07,268 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-15 10:34:07,268 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:34:07,268 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:34:07 +08:00

2018-05-15 10:34:07,268 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:34:07,268 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:34:07,268 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:34:07 +08:00

2018-05-15 10:34:07,269 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:34:07 +08:00

2018-05-15 10:34:07,269 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-15 10:34:07,269 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:34:07,269 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:34:07,269 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:34:07 +08:00

2018-05-15 10:34:07,269 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:34:07,269 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:34:07,269 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:34:07 +08:00

2018-05-15 10:34:07,270 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:34:07 +08:00

2018-05-15 10:34:07,270 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-15 10:34:07,270 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:34:07,270 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:34:07 +08:00

2018-05-15 10:34:07,270 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:34:07,270 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:34:07,271 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:34:07 +08:00

2018-05-15 10:34:07,271 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:34:07 +08:00

2018-05-15 10:34:07,271 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-15 10:34:07,271 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:34:07,271 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:34:07,271 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2' (Type = Int64, IsNullable = false)

2018-05-15 10:34:07,271 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:34:07,271 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:34:07 +08:00

2018-05-15 10:34:07,272 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:34:07,272 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:34:07,272 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:34:07 +08:00

2018-05-15 10:34:07,272 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:34:07 +08:00

2018-05-15 10:34:07,273 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-15 10:34:07,273 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:34:07,273 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:34:07,273 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '3' (Type = Int64, IsNullable = false)

2018-05-15 10:34:07,273 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:34:07,273 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:34:07 +08:00

2018-05-15 10:34:07,273 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:34:07,273 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:34:07,273 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:34:07 +08:00

2018-05-15 10:34:07,273 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:34:07 +08:00

2018-05-15 10:34:07,274 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 3
    ORDER BY [Project1].[CreateTime] DESC
2018-05-15 10:34:07,274 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:34:07,274 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:34:07,274 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:34:07 +08:00

2018-05-15 10:34:07,277 [41] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-15 10:34:07,277 [41] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:34:07,277 [41] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:34:07 +08:00

2018-05-15 10:34:07,277 [41] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:34:07 +08:00

2018-05-15 10:34:07,277 [41] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:34:07,277 [41] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:34:07,277 [41] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '6' (Type = Int64, IsNullable = false)

2018-05-15 10:34:07,277 [41] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:34:07 +08:00

2018-05-15 10:34:07,278 [41] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:34:07,278 [41] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:34:07,278 [41] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:34:07 +08:00

2018-05-15 10:34:07,278 [41] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:34:07 +08:00

2018-05-15 10:34:07,278 [41] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:34:07,278 [41] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:34:07,278 [41] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:34:07,278 [41] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:34:07 +08:00

2018-05-15 10:34:07,278 [41] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:34:07,278 [41] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:34:07,278 [41] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:34:07 +08:00

2018-05-15 10:34:07,279 [41] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:34:07 +08:00

2018-05-15 10:34:07,279 [41] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'平台发放' = [Extent1].[Name]) AND (N'平台扣除' = [Extent1].[Name]) AND (N'积分增加' = [Extent1].[Name])
2018-05-15 10:34:07,279 [41] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:34:07,279 [41] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:34:07 +08:00

2018-05-15 10:34:07,280 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:34:07,280 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:34:07,280 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:34:07 +08:00

2018-05-15 10:34:11,333 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:34:11 +08:00

2018-05-15 10:34:11,334 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-05-15 10:34:11,334 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:34:11,334 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'PlatformUser201805051709360001' (Type = String, Size = 4000)

2018-05-15 10:34:11,334 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:34:11 +08:00

2018-05-15 10:34:11,334 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:34:11,335 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:34:11,335 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:34:11 +08:00

2018-05-15 10:34:11,335 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:34:11 +08:00

2018-05-15 10:34:11,335 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:34:11,335 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:34:11,335 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:34:11,335 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:34:11 +08:00

2018-05-15 10:34:11,335 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:34:11,335 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:34:11,336 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:34:11 +08:00

2018-05-15 10:34:11,336 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:34:11 +08:00

2018-05-15 10:34:11,336 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-15 10:34:11,336 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:34:11,336 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:34:11 +08:00

2018-05-15 10:34:11,337 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:34:11,337 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:34:11,337 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:34:11 +08:00

2018-05-15 10:34:11,337 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:34:11 +08:00

2018-05-15 10:34:11,337 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-15 10:34:11,337 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:34:11,337 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:34:11 +08:00

2018-05-15 10:34:11,337 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:34:11,337 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:34:11,338 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:34:11 +08:00

2018-05-15 10:34:11,338 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:34:11 +08:00

2018-05-15 10:34:11,338 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-15 10:34:11,338 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:34:11,338 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:34:11,338 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:34:11 +08:00

2018-05-15 10:34:11,338 [41] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:34:11,338 [41] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:34:11,339 [41] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:34:11 +08:00

2018-05-15 10:34:11,339 [41] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:34:11 +08:00

2018-05-15 10:34:11,339 [41] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-15 10:34:11,339 [41] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:34:11,339 [41] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:34:11 +08:00

2018-05-15 10:34:11,339 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:34:11,339 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:34:11,340 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:34:11 +08:00

2018-05-15 10:34:11,340 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:34:11 +08:00

2018-05-15 10:34:11,340 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-15 10:34:11,340 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:34:11,340 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:34:11,340 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2' (Type = Int64, IsNullable = false)

2018-05-15 10:34:11,341 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:34:11,341 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:34:11 +08:00

2018-05-15 10:34:11,341 [41] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:34:11,341 [41] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:34:11,341 [41] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:34:11 +08:00

2018-05-15 10:34:11,341 [41] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:34:11 +08:00

2018-05-15 10:34:11,342 [41] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-15 10:34:11,342 [41] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:34:11,342 [41] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:34:11,342 [41] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '3' (Type = Int64, IsNullable = false)

2018-05-15 10:34:11,342 [41] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:34:11,342 [41] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:34:11 +08:00

2018-05-15 10:34:11,342 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:34:11,343 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:34:11,343 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:34:11 +08:00

2018-05-15 10:34:11,343 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:34:11 +08:00

2018-05-15 10:34:11,343 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-15 10:34:11,343 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:34:11,343 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:34:11,343 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:34:11 +08:00

2018-05-15 10:34:11,344 [41] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:34:11,344 [41] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:34:11,344 [41] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:34:11 +08:00

2018-05-15 10:34:11,344 [41] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:34:11 +08:00

2018-05-15 10:34:11,344 [41] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:34:11,344 [41] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:34:11,344 [41] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:34:11,344 [41] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:34:11 +08:00

2018-05-15 10:34:11,345 [41] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:34:11,345 [41] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:34:11,345 [41] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:34:11 +08:00

2018-05-15 10:34:11,345 [41] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:34:11 +08:00

2018-05-15 10:34:11,345 [41] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:34:11,345 [41] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:34:11,345 [41] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-15 10:34:11,345 [41] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:34:11 +08:00

2018-05-15 10:34:11,345 [41] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:34:11,345 [41] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:34:11,345 [41] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:34:11 +08:00

2018-05-15 10:34:11,346 [41] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:34:11 +08:00

2018-05-15 10:34:11,346 [41] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:34:11,346 [41] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:34:11,346 [41] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:34:11,346 [41] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:34:11 +08:00

2018-05-15 10:34:11,346 [41] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:34:11,346 [41] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:34:11,346 [41] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:34:11 +08:00

2018-05-15 10:34:11,347 [41] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:34:11 +08:00

2018-05-15 10:34:11,347 [41] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'平台发放' = [Extent1].[Name]) AND (N'平台扣除' = [Extent1].[Name]) AND (N'积分增加' = [Extent1].[Name])
2018-05-15 10:34:11,347 [41] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:34:11,347 [41] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:34:11 +08:00

2018-05-15 10:34:11,347 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:34:11,347 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:34:11,347 [32] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:34:11 +08:00

2018-05-15 10:42:57,176 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:42:57 +08:00

2018-05-15 10:42:57,178 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-05-15 10:42:57,178 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:42:57,178 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'PlatformUser201805051709360001' (Type = String, Size = 4000)

2018-05-15 10:42:57,178 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:42:57 +08:00

2018-05-15 10:42:57,178 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:42:57,178 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:42:57,179 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:42:57 +08:00

2018-05-15 10:42:57,179 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:42:57 +08:00

2018-05-15 10:42:57,179 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:42:57,179 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:42:57,179 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:42:57,179 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:42:57 +08:00

2018-05-15 10:42:57,180 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:42:57,180 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:42:57,180 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:42:57 +08:00

2018-05-15 10:42:57,180 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:42:57 +08:00

2018-05-15 10:42:57,181 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-15 10:42:57,181 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:42:57,181 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:42:57 +08:00

2018-05-15 10:42:57,181 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:42:57,181 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:42:57,181 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:42:57 +08:00

2018-05-15 10:42:57,182 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:42:57 +08:00

2018-05-15 10:42:57,182 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-15 10:42:57,182 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:42:57,182 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:42:57 +08:00

2018-05-15 10:42:57,182 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:42:57,182 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:42:57,183 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:42:57 +08:00

2018-05-15 10:42:57,183 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:42:57 +08:00

2018-05-15 10:42:57,183 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-15 10:42:57,183 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:42:57,183 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:42:57,183 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:42:57 +08:00

2018-05-15 10:42:57,184 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:42:57,184 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:42:57,184 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:42:57 +08:00

2018-05-15 10:42:57,184 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:42:57 +08:00

2018-05-15 10:42:57,184 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-15 10:42:57,184 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:42:57,184 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:42:57 +08:00

2018-05-15 10:42:57,185 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:42:57,185 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:42:57,185 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:42:57 +08:00

2018-05-15 10:42:57,185 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:42:57 +08:00

2018-05-15 10:42:57,188 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-15 10:42:57,188 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:42:57,188 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:42:57,188 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2' (Type = Int64, IsNullable = false)

2018-05-15 10:42:57,188 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:42:57,188 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:42:57 +08:00

2018-05-15 10:42:57,189 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:42:57,189 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:42:57,189 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:42:57 +08:00

2018-05-15 10:42:57,190 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:42:57 +08:00

2018-05-15 10:42:57,190 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-15 10:42:57,190 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:42:57,190 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:42:57,190 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '3' (Type = Int64, IsNullable = false)

2018-05-15 10:42:57,190 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:42:57,190 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:42:57 +08:00

2018-05-15 10:42:57,192 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-15 10:42:57,192 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:42:57,193 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:42:57 +08:00

2018-05-15 10:42:57,194 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:42:57 +08:00

2018-05-15 10:42:57,195 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-15 10:42:57,195 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:42:57,195 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:42:57,195 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:42:57 +08:00

2018-05-15 10:42:57,195 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:42:57,195 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:42:57,196 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:42:57 +08:00

2018-05-15 10:42:57,196 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:42:57 +08:00

2018-05-15 10:42:57,196 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:42:57,196 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:42:57,196 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:42:57,196 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:42:57 +08:00

2018-05-15 10:42:57,196 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:42:57,196 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:42:57,196 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:42:57 +08:00

2018-05-15 10:42:57,197 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:42:57 +08:00

2018-05-15 10:42:57,197 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:42:57,197 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:42:57,197 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-15 10:42:57,197 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:42:57 +08:00

2018-05-15 10:42:57,197 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:42:57,197 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:42:57,197 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:42:57 +08:00

2018-05-15 10:42:57,197 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:42:57 +08:00

2018-05-15 10:42:57,197 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:42:57,197 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:42:57,197 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:42:57,197 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:42:57 +08:00

2018-05-15 10:42:57,198 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:42:57,198 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:42:57,198 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:42:57 +08:00

2018-05-15 10:42:57,198 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:42:57 +08:00

2018-05-15 10:42:57,199 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'平台发放' = [Extent1].[Name]) AND (N'平台扣除' = [Extent1].[Name]) AND (N'积分增加' = [Extent1].[Name])
2018-05-15 10:42:57,199 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:42:57,199 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:42:57 +08:00

2018-05-15 10:42:57,199 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:42:57,199 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:42:57,199 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:42:57 +08:00

2018-05-15 10:42:58,822 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:42:58 +08:00

2018-05-15 10:42:58,822 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-05-15 10:42:58,822 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:42:58,822 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'PlatformUser201805051709360001' (Type = String, Size = 4000)

2018-05-15 10:42:58,822 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:42:58 +08:00

2018-05-15 10:42:58,824 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-15 10:42:58,824 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:42:58,825 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:42:58 +08:00

2018-05-15 10:42:58,825 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:42:58 +08:00

2018-05-15 10:42:58,825 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:42:58,825 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:42:58,825 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:42:58,825 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:42:58 +08:00

2018-05-15 10:42:58,826 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:42:58,826 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:42:58,826 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:42:58 +08:00

2018-05-15 10:42:58,826 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:42:58 +08:00

2018-05-15 10:42:58,827 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-15 10:42:58,827 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:42:58,827 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:42:58 +08:00

2018-05-15 10:42:58,827 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:42:58,827 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:42:58,827 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:42:58 +08:00

2018-05-15 10:42:58,827 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:42:58 +08:00

2018-05-15 10:42:58,828 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-15 10:42:58,828 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:42:58,828 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:42:58 +08:00

2018-05-15 10:42:58,828 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:42:58,828 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:42:58,828 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:42:58 +08:00

2018-05-15 10:42:58,828 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:42:58 +08:00

2018-05-15 10:42:58,828 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-15 10:42:58,829 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:42:58,829 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:42:58,829 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:42:58 +08:00

2018-05-15 10:42:58,829 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:42:58,829 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:42:58,829 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:42:58 +08:00

2018-05-15 10:42:58,829 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:42:58 +08:00

2018-05-15 10:42:58,830 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-15 10:42:58,830 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:42:58,830 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:42:58 +08:00

2018-05-15 10:42:58,830 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:42:58,830 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:42:58,830 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:42:58 +08:00

2018-05-15 10:42:58,831 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:42:58 +08:00

2018-05-15 10:42:58,831 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-15 10:42:58,831 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:42:58,831 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:42:58,831 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2' (Type = Int64, IsNullable = false)

2018-05-15 10:42:58,831 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:42:58,831 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:42:58 +08:00

2018-05-15 10:42:58,832 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:42:58,832 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:42:58,832 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:42:58 +08:00

2018-05-15 10:42:58,832 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:42:58 +08:00

2018-05-15 10:42:58,832 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-15 10:42:58,832 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:42:58,832 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:42:58,832 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '3' (Type = Int64, IsNullable = false)

2018-05-15 10:42:58,833 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:42:58,833 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:42:58 +08:00

2018-05-15 10:42:58,833 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:42:58,833 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:42:58,833 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:42:58 +08:00

2018-05-15 10:42:58,833 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:42:58 +08:00

2018-05-15 10:42:58,833 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 1
    ORDER BY [Project1].[CreateTime] DESC
2018-05-15 10:42:58,833 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:42:58,833 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:42:58,834 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:42:58 +08:00

2018-05-15 10:42:58,834 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:42:58,834 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:42:58,834 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:42:58 +08:00

2018-05-15 10:42:58,835 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:42:58 +08:00

2018-05-15 10:42:58,835 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:42:58,835 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:42:58,835 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:42:58,835 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:42:58 +08:00

2018-05-15 10:42:58,835 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:42:58,835 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:42:58,835 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:42:58 +08:00

2018-05-15 10:42:58,835 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:42:58 +08:00

2018-05-15 10:42:58,835 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:42:58,835 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:42:58,835 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-15 10:42:58,836 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:42:58 +08:00

2018-05-15 10:42:58,836 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:42:58,836 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:42:58,836 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:42:58 +08:00

2018-05-15 10:42:58,836 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:42:58 +08:00

2018-05-15 10:42:58,836 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:42:58,836 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:42:58,836 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:42:58,836 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:42:58 +08:00

2018-05-15 10:42:58,836 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:42:58,836 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:42:58,837 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:42:58 +08:00

2018-05-15 10:42:58,837 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:42:58 +08:00

2018-05-15 10:42:58,837 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'平台发放' = [Extent1].[Name]) AND (N'平台扣除' = [Extent1].[Name]) AND (N'积分增加' = [Extent1].[Name])
2018-05-15 10:42:58,837 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:42:58,837 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:42:58 +08:00

2018-05-15 10:42:58,838 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:42:58,838 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:42:58,838 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:42:58 +08:00

2018-05-15 10:43:00,522 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:43:00 +08:00

2018-05-15 10:43:00,523 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-05-15 10:43:00,523 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:00,523 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'PlatformUser201805051709360001' (Type = String, Size = 4000)

2018-05-15 10:43:00,523 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:43:00 +08:00

2018-05-15 10:43:00,523 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:00,523 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:00,524 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:00 +08:00

2018-05-15 10:43:00,524 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:43:00 +08:00

2018-05-15 10:43:00,524 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:43:00,524 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:00,524 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:43:00,524 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:43:00 +08:00

2018-05-15 10:43:00,525 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:00,525 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:00,525 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:00 +08:00

2018-05-15 10:43:00,525 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:43:00 +08:00

2018-05-15 10:43:00,526 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-15 10:43:00,526 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:00,526 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:43:00 +08:00

2018-05-15 10:43:00,526 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:00,526 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:00,526 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:00 +08:00

2018-05-15 10:43:00,526 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:43:00 +08:00

2018-05-15 10:43:00,527 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-15 10:43:00,527 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:00,527 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:43:00 +08:00

2018-05-15 10:43:00,527 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:00,527 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:00,527 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:00 +08:00

2018-05-15 10:43:00,527 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:43:00 +08:00

2018-05-15 10:43:00,528 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-15 10:43:00,528 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:00,528 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:43:00,528 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:43:00 +08:00

2018-05-15 10:43:00,528 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:00,528 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:00,528 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:00 +08:00

2018-05-15 10:43:00,528 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:43:00 +08:00

2018-05-15 10:43:00,528 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-15 10:43:00,529 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:00,529 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:43:00 +08:00

2018-05-15 10:43:00,529 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:00,529 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:00,529 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:00 +08:00

2018-05-15 10:43:00,529 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:43:00 +08:00

2018-05-15 10:43:00,530 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-15 10:43:00,530 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:00,530 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:43:00,530 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2' (Type = Int64, IsNullable = false)

2018-05-15 10:43:00,530 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:43:00,530 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:43:00 +08:00

2018-05-15 10:43:00,530 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:00,530 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:00,531 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:00 +08:00

2018-05-15 10:43:00,531 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:43:00 +08:00

2018-05-15 10:43:00,531 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-15 10:43:00,531 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:00,531 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:43:00,531 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '3' (Type = Int64, IsNullable = false)

2018-05-15 10:43:00,531 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:43:00,531 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:43:00 +08:00

2018-05-15 10:43:00,532 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:00,532 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:00,532 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:00 +08:00

2018-05-15 10:43:00,532 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:43:00 +08:00

2018-05-15 10:43:00,532 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-15 10:43:00,532 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:00,532 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:43:00,532 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:43:00 +08:00

2018-05-15 10:43:00,533 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:00,533 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:00,533 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:00 +08:00

2018-05-15 10:43:00,533 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:43:00 +08:00

2018-05-15 10:43:00,533 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:43:00,533 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:00,534 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:43:00,534 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:43:00 +08:00

2018-05-15 10:43:00,534 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:00,534 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:00,534 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:00 +08:00

2018-05-15 10:43:00,534 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:43:00 +08:00

2018-05-15 10:43:00,534 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:43:00,534 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:00,534 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-15 10:43:00,534 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:43:00 +08:00

2018-05-15 10:43:00,534 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:00,534 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:00,535 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:00 +08:00

2018-05-15 10:43:00,535 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:43:00 +08:00

2018-05-15 10:43:00,535 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:43:00,535 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:00,535 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:43:00,535 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:43:00 +08:00

2018-05-15 10:43:00,535 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:00,535 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:00,535 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:00 +08:00

2018-05-15 10:43:00,536 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:43:00 +08:00

2018-05-15 10:43:00,536 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'平台发放' = [Extent1].[Name]) AND (N'平台扣除' = [Extent1].[Name]) AND (N'积分增加' = [Extent1].[Name])
2018-05-15 10:43:00,536 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:00,536 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:43:00 +08:00

2018-05-15 10:43:00,536 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:00,536 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:00,536 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:00 +08:00

2018-05-15 10:43:01,398 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:43:01 +08:00

2018-05-15 10:43:01,399 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-05-15 10:43:01,399 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:01,399 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'PlatformUser201805051709360001' (Type = String, Size = 4000)

2018-05-15 10:43:01,399 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:43:01 +08:00

2018-05-15 10:43:01,399 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:01,399 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:01,399 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:01 +08:00

2018-05-15 10:43:01,400 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:43:01 +08:00

2018-05-15 10:43:01,400 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:43:01,400 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:01,400 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:43:01,400 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:43:01 +08:00

2018-05-15 10:43:01,400 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:01,400 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:01,400 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:01 +08:00

2018-05-15 10:43:01,401 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:43:01 +08:00

2018-05-15 10:43:01,401 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-15 10:43:01,401 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:01,401 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:43:01 +08:00

2018-05-15 10:43:01,401 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:01,401 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:01,402 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:01 +08:00

2018-05-15 10:43:01,402 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:43:01 +08:00

2018-05-15 10:43:01,402 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-15 10:43:01,402 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:01,402 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:43:01 +08:00

2018-05-15 10:43:01,402 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:01,402 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:01,403 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:01 +08:00

2018-05-15 10:43:01,403 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:43:01 +08:00

2018-05-15 10:43:01,403 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-15 10:43:01,403 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:01,403 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:43:01,403 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:43:01 +08:00

2018-05-15 10:43:01,404 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:01,404 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:01,404 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:01 +08:00

2018-05-15 10:43:01,404 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:43:01 +08:00

2018-05-15 10:43:01,404 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-15 10:43:01,404 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:01,404 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:43:01 +08:00

2018-05-15 10:43:01,405 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:01,405 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:01,405 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:01 +08:00

2018-05-15 10:43:01,405 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:43:01 +08:00

2018-05-15 10:43:01,406 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-15 10:43:01,406 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:01,406 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:43:01,406 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2' (Type = Int64, IsNullable = false)

2018-05-15 10:43:01,406 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:43:01,406 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:43:01 +08:00

2018-05-15 10:43:01,406 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:01,406 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:01,406 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:01 +08:00

2018-05-15 10:43:01,406 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:43:01 +08:00

2018-05-15 10:43:01,407 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-15 10:43:01,407 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:01,407 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:43:01,407 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '3' (Type = Int64, IsNullable = false)

2018-05-15 10:43:01,407 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:43:01,407 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:43:01 +08:00

2018-05-15 10:43:01,407 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:01,407 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:01,407 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:01 +08:00

2018-05-15 10:43:01,408 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:43:01 +08:00

2018-05-15 10:43:01,408 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 1
    ORDER BY [Project1].[CreateTime] DESC
2018-05-15 10:43:01,408 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:01,408 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:43:01,408 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:43:01 +08:00

2018-05-15 10:43:01,409 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:01,409 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:01,409 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:01 +08:00

2018-05-15 10:43:01,409 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:43:01 +08:00

2018-05-15 10:43:01,409 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:43:01,409 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:01,409 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:43:01,409 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:43:01 +08:00

2018-05-15 10:43:01,410 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:01,410 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:01,410 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:01 +08:00

2018-05-15 10:43:01,410 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:43:01 +08:00

2018-05-15 10:43:01,410 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:43:01,410 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:01,410 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-15 10:43:01,410 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:43:01 +08:00

2018-05-15 10:43:01,410 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:01,410 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:01,411 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:01 +08:00

2018-05-15 10:43:01,411 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:43:01 +08:00

2018-05-15 10:43:01,411 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:43:01,411 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:01,411 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:43:01,411 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:43:01 +08:00

2018-05-15 10:43:01,411 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:01,411 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:01,411 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:01 +08:00

2018-05-15 10:43:01,412 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:43:01 +08:00

2018-05-15 10:43:01,412 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'平台发放' = [Extent1].[Name]) AND (N'平台扣除' = [Extent1].[Name]) AND (N'积分增加' = [Extent1].[Name])
2018-05-15 10:43:01,412 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:01,412 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:43:01 +08:00

2018-05-15 10:43:01,412 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:01,412 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:01,412 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:01 +08:00

2018-05-15 10:43:02,582 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:43:02 +08:00

2018-05-15 10:43:02,582 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-05-15 10:43:02,582 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:02,582 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'PlatformUser201805051709360001' (Type = String, Size = 4000)

2018-05-15 10:43:02,583 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:43:02 +08:00

2018-05-15 10:43:02,583 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:02,583 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:02,583 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:02 +08:00

2018-05-15 10:43:02,584 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:43:02 +08:00

2018-05-15 10:43:02,584 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:43:02,584 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:02,584 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:43:02,584 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:43:02 +08:00

2018-05-15 10:43:02,584 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:02,584 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:02,584 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:02 +08:00

2018-05-15 10:43:02,585 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:43:02 +08:00

2018-05-15 10:43:02,585 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-15 10:43:02,585 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:02,585 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:43:02 +08:00

2018-05-15 10:43:02,585 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:02,585 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:02,585 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:02 +08:00

2018-05-15 10:43:02,586 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:43:02 +08:00

2018-05-15 10:43:02,586 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-15 10:43:02,586 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:02,586 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:43:02 +08:00

2018-05-15 10:43:02,586 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:02,587 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:02,587 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:02 +08:00

2018-05-15 10:43:02,587 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:43:02 +08:00

2018-05-15 10:43:02,587 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-15 10:43:02,587 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:02,587 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:43:02,587 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:43:02 +08:00

2018-05-15 10:43:02,588 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:02,588 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:02,588 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:02 +08:00

2018-05-15 10:43:02,588 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:43:02 +08:00

2018-05-15 10:43:02,588 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-15 10:43:02,588 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:02,588 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:43:02 +08:00

2018-05-15 10:43:02,589 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:02,589 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:02,589 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:02 +08:00

2018-05-15 10:43:02,589 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:43:02 +08:00

2018-05-15 10:43:02,589 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-15 10:43:02,589 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:02,589 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:43:02,589 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2' (Type = Int64, IsNullable = false)

2018-05-15 10:43:02,590 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:43:02,590 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:43:02 +08:00

2018-05-15 10:43:02,590 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:02,590 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:02,590 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:02 +08:00

2018-05-15 10:43:02,590 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:43:02 +08:00

2018-05-15 10:43:02,591 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-15 10:43:02,591 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:02,591 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:43:02,591 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '3' (Type = Int64, IsNullable = false)

2018-05-15 10:43:02,591 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:43:02,591 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:43:02 +08:00

2018-05-15 10:43:02,591 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:02,591 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:02,591 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:02 +08:00

2018-05-15 10:43:02,591 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:43:02 +08:00

2018-05-15 10:43:02,592 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 2
    ORDER BY [Project1].[CreateTime] DESC
2018-05-15 10:43:02,592 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:02,592 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:43:02,592 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:43:02 +08:00

2018-05-15 10:43:02,592 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:02,592 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:02,593 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:02 +08:00

2018-05-15 10:43:02,593 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:43:02 +08:00

2018-05-15 10:43:02,593 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:43:02,593 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:02,593 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:43:02,593 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:43:02 +08:00

2018-05-15 10:43:02,593 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:02,593 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:02,593 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:02 +08:00

2018-05-15 10:43:02,593 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:43:02 +08:00

2018-05-15 10:43:02,593 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:43:02,594 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:02,594 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-15 10:43:02,594 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:43:02 +08:00

2018-05-15 10:43:02,594 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:02,594 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:02,594 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:02 +08:00

2018-05-15 10:43:02,594 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:43:02 +08:00

2018-05-15 10:43:02,594 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:43:02,594 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:02,594 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:43:02,594 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:43:02 +08:00

2018-05-15 10:43:02,594 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:02,594 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:02,595 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:02 +08:00

2018-05-15 10:43:02,595 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:43:02 +08:00

2018-05-15 10:43:02,595 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'平台发放' = [Extent1].[Name]) AND (N'平台扣除' = [Extent1].[Name]) AND (N'积分增加' = [Extent1].[Name])
2018-05-15 10:43:02,595 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:02,595 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:43:02 +08:00

2018-05-15 10:43:02,596 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:02,596 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:02,596 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:02 +08:00

2018-05-15 10:43:04,003 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:43:04 +08:00

2018-05-15 10:43:04,003 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-05-15 10:43:04,003 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:04,003 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'PlatformUser201805051709360001' (Type = String, Size = 4000)

2018-05-15 10:43:04,003 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:43:04 +08:00

2018-05-15 10:43:04,004 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:04,004 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:04,004 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:04 +08:00

2018-05-15 10:43:04,004 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:43:04 +08:00

2018-05-15 10:43:04,004 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:43:04,004 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:04,005 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:43:04,005 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:43:04 +08:00

2018-05-15 10:43:04,005 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:04,005 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:04,005 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:04 +08:00

2018-05-15 10:43:04,006 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:43:04 +08:00

2018-05-15 10:43:04,006 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-15 10:43:04,006 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:04,006 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:43:04 +08:00

2018-05-15 10:43:04,006 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:04,006 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:04,006 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:04 +08:00

2018-05-15 10:43:04,007 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:43:04 +08:00

2018-05-15 10:43:04,007 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-15 10:43:04,007 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:04,007 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:43:04 +08:00

2018-05-15 10:43:04,007 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:04,007 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:04,007 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:04 +08:00

2018-05-15 10:43:04,007 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:43:04 +08:00

2018-05-15 10:43:04,008 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-15 10:43:04,008 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:04,008 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:43:04,008 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:43:04 +08:00

2018-05-15 10:43:04,037 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 41 ms with result: SqlDataReader

2018-05-15 10:43:04,037 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:04,037 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:04 +08:00

2018-05-15 10:43:04,037 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:43:04 +08:00

2018-05-15 10:43:04,037 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-15 10:43:04,037 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:04,037 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:43:04 +08:00

2018-05-15 10:43:04,037 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:04,037 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:04,037 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:04 +08:00

2018-05-15 10:43:04,037 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:43:04 +08:00

2018-05-15 10:43:04,037 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-15 10:43:04,037 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:04,037 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:43:04,037 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2' (Type = Int64, IsNullable = false)

2018-05-15 10:43:04,037 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:43:04,037 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:43:04 +08:00

2018-05-15 10:43:04,037 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:04,037 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:04,037 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:04 +08:00

2018-05-15 10:43:04,052 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:43:04 +08:00

2018-05-15 10:43:04,052 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-15 10:43:04,052 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:04,052 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:43:04,052 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '3' (Type = Int64, IsNullable = false)

2018-05-15 10:43:04,052 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:43:04,052 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:43:04 +08:00

2018-05-15 10:43:04,052 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:04,052 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:04,052 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:04 +08:00

2018-05-15 10:43:04,052 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:43:04 +08:00

2018-05-15 10:43:04,052 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 3
    ORDER BY [Project1].[CreateTime] DESC
2018-05-15 10:43:04,052 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:04,052 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:43:04,052 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:43:04 +08:00

2018-05-15 10:43:04,052 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:04,052 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:04,052 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:04 +08:00

2018-05-15 10:43:04,052 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:43:04 +08:00

2018-05-15 10:43:04,052 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:43:04,052 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:04,052 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '6' (Type = Int64, IsNullable = false)

2018-05-15 10:43:04,052 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:43:04 +08:00

2018-05-15 10:43:04,052 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:04,052 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:04,052 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:04 +08:00

2018-05-15 10:43:04,052 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:43:04 +08:00

2018-05-15 10:43:04,052 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:43:04,052 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:04,052 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:43:04,052 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:43:04 +08:00

2018-05-15 10:43:04,052 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:04,052 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:04,052 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:04 +08:00

2018-05-15 10:43:04,052 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:43:04 +08:00

2018-05-15 10:43:04,052 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'平台发放' = [Extent1].[Name]) AND (N'平台扣除' = [Extent1].[Name]) AND (N'积分增加' = [Extent1].[Name])
2018-05-15 10:43:04,052 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:04,052 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:43:04 +08:00

2018-05-15 10:43:04,052 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:04,052 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:04,052 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:04 +08:00

2018-05-15 10:43:07,052 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:43:07 +08:00

2018-05-15 10:43:07,052 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-05-15 10:43:07,052 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:07,052 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'PlatformUser201805051709360001' (Type = String, Size = 4000)

2018-05-15 10:43:07,052 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:43:07 +08:00

2018-05-15 10:43:07,053 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:07,053 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:07,053 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:07 +08:00

2018-05-15 10:43:07,053 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:43:07 +08:00

2018-05-15 10:43:07,053 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:43:07,053 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:07,053 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:43:07,053 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:43:07 +08:00

2018-05-15 10:43:07,053 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:07,053 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:07,053 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:07 +08:00

2018-05-15 10:43:07,054 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:43:07 +08:00

2018-05-15 10:43:07,054 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-15 10:43:07,054 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:07,054 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:43:07 +08:00

2018-05-15 10:43:07,055 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:07,055 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:07,055 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:07 +08:00

2018-05-15 10:43:07,055 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:43:07 +08:00

2018-05-15 10:43:07,055 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-15 10:43:07,055 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:07,055 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:43:07 +08:00

2018-05-15 10:43:07,055 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:07,055 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:07,056 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:07 +08:00

2018-05-15 10:43:07,056 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:43:07 +08:00

2018-05-15 10:43:07,056 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-15 10:43:07,056 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:07,056 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:43:07,056 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:43:07 +08:00

2018-05-15 10:43:07,056 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:07,056 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:07,057 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:07 +08:00

2018-05-15 10:43:07,057 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:43:07 +08:00

2018-05-15 10:43:07,057 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-15 10:43:07,057 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:07,057 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:43:07 +08:00

2018-05-15 10:43:07,057 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:07,057 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:07,058 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:07 +08:00

2018-05-15 10:43:07,058 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:43:07 +08:00

2018-05-15 10:43:07,058 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-15 10:43:07,058 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:07,058 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:43:07,058 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2' (Type = Int64, IsNullable = false)

2018-05-15 10:43:07,058 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:43:07,058 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:43:07 +08:00

2018-05-15 10:43:07,059 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:07,059 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:07,059 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:07 +08:00

2018-05-15 10:43:07,059 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:43:07 +08:00

2018-05-15 10:43:07,059 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-15 10:43:07,059 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:07,059 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:43:07,059 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '3' (Type = Int64, IsNullable = false)

2018-05-15 10:43:07,059 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:43:07,059 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:43:07 +08:00

2018-05-15 10:43:07,060 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:07,060 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:07,060 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:07 +08:00

2018-05-15 10:43:07,060 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:43:07 +08:00

2018-05-15 10:43:07,060 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 2
    ORDER BY [Project1].[CreateTime] DESC
2018-05-15 10:43:07,060 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:07,060 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:43:07,060 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:43:07 +08:00

2018-05-15 10:43:07,061 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:07,061 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:07,061 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:07 +08:00

2018-05-15 10:43:07,061 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:43:07 +08:00

2018-05-15 10:43:07,061 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:43:07,061 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:07,061 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:43:07,061 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:43:07 +08:00

2018-05-15 10:43:07,061 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:07,061 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:07,062 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:07 +08:00

2018-05-15 10:43:07,062 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:43:07 +08:00

2018-05-15 10:43:07,062 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:43:07,062 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:07,062 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-15 10:43:07,062 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:43:07 +08:00

2018-05-15 10:43:07,062 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:07,062 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:07,062 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:07 +08:00

2018-05-15 10:43:07,062 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:43:07 +08:00

2018-05-15 10:43:07,062 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:43:07,062 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:07,062 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:43:07,062 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:43:07 +08:00

2018-05-15 10:43:07,063 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:07,063 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:07,063 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:07 +08:00

2018-05-15 10:43:07,063 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:43:07 +08:00

2018-05-15 10:43:07,063 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'平台发放' = [Extent1].[Name]) AND (N'平台扣除' = [Extent1].[Name]) AND (N'积分增加' = [Extent1].[Name])
2018-05-15 10:43:07,063 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:07,063 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:43:07 +08:00

2018-05-15 10:43:07,064 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:07,064 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:07,064 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:07 +08:00

2018-05-15 10:43:07,536 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:43:07 +08:00

2018-05-15 10:43:07,536 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-05-15 10:43:07,536 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:07,536 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'PlatformUser201805051709360001' (Type = String, Size = 4000)

2018-05-15 10:43:07,536 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:43:07 +08:00

2018-05-15 10:43:07,537 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:07,537 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:07,537 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:07 +08:00

2018-05-15 10:43:07,538 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:43:07 +08:00

2018-05-15 10:43:07,538 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:43:07,538 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:07,538 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:43:07,538 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:43:07 +08:00

2018-05-15 10:43:07,538 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:07,538 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:07,538 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:07 +08:00

2018-05-15 10:43:07,539 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:43:07 +08:00

2018-05-15 10:43:07,539 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-15 10:43:07,539 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:07,539 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:43:07 +08:00

2018-05-15 10:43:07,539 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:07,539 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:07,539 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:07 +08:00

2018-05-15 10:43:07,540 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:43:07 +08:00

2018-05-15 10:43:07,540 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-15 10:43:07,540 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:07,540 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:43:07 +08:00

2018-05-15 10:43:07,540 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:07,540 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:07,540 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:07 +08:00

2018-05-15 10:43:07,540 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:43:07 +08:00

2018-05-15 10:43:07,541 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-15 10:43:07,541 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:07,541 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:43:07,541 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:43:07 +08:00

2018-05-15 10:43:07,542 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:07,542 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:07,542 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:07 +08:00

2018-05-15 10:43:07,542 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:43:07 +08:00

2018-05-15 10:43:07,543 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-15 10:43:07,543 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:07,543 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:43:07 +08:00

2018-05-15 10:43:07,543 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:07,543 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:07,543 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:07 +08:00

2018-05-15 10:43:07,544 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:43:07 +08:00

2018-05-15 10:43:07,544 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-15 10:43:07,544 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:07,544 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:43:07,544 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2' (Type = Int64, IsNullable = false)

2018-05-15 10:43:07,544 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:43:07,544 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:43:07 +08:00

2018-05-15 10:43:07,544 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:07,544 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:07,544 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:07 +08:00

2018-05-15 10:43:07,545 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:43:07 +08:00

2018-05-15 10:43:07,545 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-15 10:43:07,545 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:07,545 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:43:07,545 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '3' (Type = Int64, IsNullable = false)

2018-05-15 10:43:07,545 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:43:07,545 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:43:07 +08:00

2018-05-15 10:43:07,546 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:07,546 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:07,546 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:07 +08:00

2018-05-15 10:43:07,546 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:43:07 +08:00

2018-05-15 10:43:07,546 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 1
    ORDER BY [Project1].[CreateTime] DESC
2018-05-15 10:43:07,546 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:07,546 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:43:07,546 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:43:07 +08:00

2018-05-15 10:43:07,547 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:07,547 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:07,547 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:07 +08:00

2018-05-15 10:43:07,547 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:43:07 +08:00

2018-05-15 10:43:07,547 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:43:07,547 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:07,547 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:43:07,547 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:43:07 +08:00

2018-05-15 10:43:07,547 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:07,547 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:07,548 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:07 +08:00

2018-05-15 10:43:07,548 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:43:07 +08:00

2018-05-15 10:43:07,548 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:43:07,548 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:07,548 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-15 10:43:07,548 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:43:07 +08:00

2018-05-15 10:43:07,548 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:07,548 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:07,548 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:07 +08:00

2018-05-15 10:43:07,548 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:43:07 +08:00

2018-05-15 10:43:07,548 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:43:07,548 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:07,548 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:43:07,548 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:43:07 +08:00

2018-05-15 10:43:07,549 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:07,549 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:07,549 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:07 +08:00

2018-05-15 10:43:07,549 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:43:07 +08:00

2018-05-15 10:43:07,549 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'平台发放' = [Extent1].[Name]) AND (N'平台扣除' = [Extent1].[Name]) AND (N'积分增加' = [Extent1].[Name])
2018-05-15 10:43:07,549 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:07,549 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:43:07 +08:00

2018-05-15 10:43:07,550 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:07,550 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:07,550 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:07 +08:00

2018-05-15 10:43:07,844 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:43:07 +08:00

2018-05-15 10:43:07,845 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-05-15 10:43:07,845 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:07,845 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'PlatformUser201805051709360001' (Type = String, Size = 4000)

2018-05-15 10:43:07,845 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:43:07 +08:00

2018-05-15 10:43:07,845 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:07,845 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:07,846 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:07 +08:00

2018-05-15 10:43:07,846 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:43:07 +08:00

2018-05-15 10:43:07,846 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:43:07,846 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:07,846 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:43:07,846 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:43:07 +08:00

2018-05-15 10:43:07,846 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:07,846 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:07,846 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:07 +08:00

2018-05-15 10:43:07,847 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:43:07 +08:00

2018-05-15 10:43:07,847 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-15 10:43:07,847 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:07,847 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:43:07 +08:00

2018-05-15 10:43:07,847 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:07,847 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:07,847 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:07 +08:00

2018-05-15 10:43:07,848 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:43:07 +08:00

2018-05-15 10:43:07,848 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-15 10:43:07,848 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:07,848 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:43:07 +08:00

2018-05-15 10:43:07,848 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:07,848 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:07,848 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:07 +08:00

2018-05-15 10:43:07,848 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:43:07 +08:00

2018-05-15 10:43:07,849 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-15 10:43:07,849 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:07,849 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:43:07,849 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:43:07 +08:00

2018-05-15 10:43:07,849 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:07,849 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:07,849 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:07 +08:00

2018-05-15 10:43:07,849 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:43:07 +08:00

2018-05-15 10:43:07,850 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-15 10:43:07,850 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:07,850 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:43:07 +08:00

2018-05-15 10:43:07,850 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:07,850 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:07,850 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:07 +08:00

2018-05-15 10:43:07,851 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:43:07 +08:00

2018-05-15 10:43:07,851 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-15 10:43:07,851 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:07,851 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:43:07,851 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2' (Type = Int64, IsNullable = false)

2018-05-15 10:43:07,851 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:43:07,851 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:43:07 +08:00

2018-05-15 10:43:07,852 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:07,852 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:07,852 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:07 +08:00

2018-05-15 10:43:07,852 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:43:07 +08:00

2018-05-15 10:43:07,852 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-15 10:43:07,852 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:07,852 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:43:07,852 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '3' (Type = Int64, IsNullable = false)

2018-05-15 10:43:07,852 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:43:07,852 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:43:07 +08:00

2018-05-15 10:43:07,853 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:07,853 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:07,853 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:07 +08:00

2018-05-15 10:43:07,853 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:43:07 +08:00

2018-05-15 10:43:07,853 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-15 10:43:07,853 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:07,853 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:43:07,853 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:43:07 +08:00

2018-05-15 10:43:07,854 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:07,854 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:07,854 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:07 +08:00

2018-05-15 10:43:07,854 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:43:07 +08:00

2018-05-15 10:43:07,854 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:43:07,855 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:07,855 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:43:07,855 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:43:07 +08:00

2018-05-15 10:43:07,855 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:07,855 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:07,855 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:07 +08:00

2018-05-15 10:43:07,855 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:43:07 +08:00

2018-05-15 10:43:07,855 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:43:07,855 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:07,855 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-15 10:43:07,855 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:43:07 +08:00

2018-05-15 10:43:07,855 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:07,856 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:07,856 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:07 +08:00

2018-05-15 10:43:07,856 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:43:07 +08:00

2018-05-15 10:43:07,856 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:43:07,856 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:07,856 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:43:07,856 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:43:07 +08:00

2018-05-15 10:43:07,856 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:07,856 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:07,856 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:07 +08:00

2018-05-15 10:43:07,857 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:43:07 +08:00

2018-05-15 10:43:07,857 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'平台发放' = [Extent1].[Name]) AND (N'平台扣除' = [Extent1].[Name]) AND (N'积分增加' = [Extent1].[Name])
2018-05-15 10:43:07,857 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:07,857 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:43:07 +08:00

2018-05-15 10:43:07,857 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:07,857 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:07,857 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:07 +08:00

2018-05-15 10:43:28,606 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:43:28 +08:00

2018-05-15 10:43:28,607 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-05-15 10:43:28,607 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:28,607 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'PlatformUser201805051709360001' (Type = String, Size = 4000)

2018-05-15 10:43:28,607 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:43:28 +08:00

2018-05-15 10:43:28,607 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:28,607 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:28,608 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:28 +08:00

2018-05-15 10:43:28,608 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:43:28 +08:00

2018-05-15 10:43:28,608 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:43:28,608 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:28,608 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:43:28,608 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:43:28 +08:00

2018-05-15 10:43:28,608 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:28,608 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:28,609 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:28 +08:00

2018-05-15 10:43:28,609 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:43:28 +08:00

2018-05-15 10:43:28,609 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-15 10:43:28,609 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:28,609 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:43:28 +08:00

2018-05-15 10:43:28,610 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:28,610 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:28,610 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:28 +08:00

2018-05-15 10:43:28,610 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:43:28 +08:00

2018-05-15 10:43:28,610 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-15 10:43:28,610 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:28,610 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:43:28 +08:00

2018-05-15 10:43:28,610 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:28,610 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:28,611 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:28 +08:00

2018-05-15 10:43:28,611 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:43:28 +08:00

2018-05-15 10:43:28,611 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-15 10:43:28,611 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:28,611 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:43:28,611 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:43:28 +08:00

2018-05-15 10:43:28,611 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:28,611 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:28,612 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:28 +08:00

2018-05-15 10:43:28,612 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:43:28 +08:00

2018-05-15 10:43:28,613 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-15 10:43:28,613 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:28,613 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:43:28 +08:00

2018-05-15 10:43:28,613 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:28,613 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:28,613 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:28 +08:00

2018-05-15 10:43:28,613 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:43:28 +08:00

2018-05-15 10:43:28,614 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-15 10:43:28,614 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:28,614 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:43:28,614 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2' (Type = Int64, IsNullable = false)

2018-05-15 10:43:28,614 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:43:28,614 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:43:28 +08:00

2018-05-15 10:43:28,614 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:28,614 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:28,615 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:28 +08:00

2018-05-15 10:43:28,615 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:43:28 +08:00

2018-05-15 10:43:28,615 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-15 10:43:28,615 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:28,615 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:43:28,615 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '3' (Type = Int64, IsNullable = false)

2018-05-15 10:43:28,615 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:43:28,615 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:43:28 +08:00

2018-05-15 10:43:28,616 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:28,616 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:28,616 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:28 +08:00

2018-05-15 10:43:28,616 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:43:28 +08:00

2018-05-15 10:43:28,616 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-15 10:43:28,616 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:28,616 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:43:28,616 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:43:28 +08:00

2018-05-15 10:43:28,617 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:28,617 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:28,617 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:28 +08:00

2018-05-15 10:43:28,617 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:43:28 +08:00

2018-05-15 10:43:28,617 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:43:28,617 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:28,617 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:43:28,617 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:43:28 +08:00

2018-05-15 10:43:28,618 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:28,618 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:28,618 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:28 +08:00

2018-05-15 10:43:28,618 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:43:28 +08:00

2018-05-15 10:43:28,618 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:43:28,618 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:28,618 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-15 10:43:28,618 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:43:28 +08:00

2018-05-15 10:43:28,618 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:28,618 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:28,619 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:28 +08:00

2018-05-15 10:43:28,619 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:43:28 +08:00

2018-05-15 10:43:28,619 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:43:28,619 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:28,619 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:43:28,619 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:43:28 +08:00

2018-05-15 10:43:28,619 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:28,619 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:28,619 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:28 +08:00

2018-05-15 10:43:28,620 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:43:28 +08:00

2018-05-15 10:43:28,620 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'平台发放' = [Extent1].[Name]) AND (N'平台扣除' = [Extent1].[Name]) AND (N'积分增加' = [Extent1].[Name])
2018-05-15 10:43:28,620 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:28,620 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:43:28 +08:00

2018-05-15 10:43:28,621 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:28,621 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:28,621 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:28 +08:00

2018-05-15 10:43:30,531 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:43:30 +08:00

2018-05-15 10:43:30,531 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-05-15 10:43:30,531 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:30,531 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'PlatformUser201805051709360001' (Type = String, Size = 4000)

2018-05-15 10:43:30,531 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:43:30 +08:00

2018-05-15 10:43:30,532 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:30,532 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:30,532 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:30 +08:00

2018-05-15 10:43:30,532 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:43:30 +08:00

2018-05-15 10:43:30,532 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:43:30,532 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:30,533 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:43:30,533 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:43:30 +08:00

2018-05-15 10:43:30,533 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:30,533 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:30,533 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:30 +08:00

2018-05-15 10:43:30,534 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:43:30 +08:00

2018-05-15 10:43:30,534 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-15 10:43:30,534 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:30,534 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:43:30 +08:00

2018-05-15 10:43:30,534 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:30,534 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:30,534 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:30 +08:00

2018-05-15 10:43:30,535 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:43:30 +08:00

2018-05-15 10:43:30,535 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-15 10:43:30,535 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:30,535 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:43:30 +08:00

2018-05-15 10:43:30,535 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:30,535 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:30,535 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:30 +08:00

2018-05-15 10:43:30,535 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:43:30 +08:00

2018-05-15 10:43:30,536 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-15 10:43:30,536 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:30,536 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:43:30,536 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:43:30 +08:00

2018-05-15 10:43:30,536 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:30,536 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:30,536 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:30 +08:00

2018-05-15 10:43:30,537 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:43:30 +08:00

2018-05-15 10:43:30,537 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-15 10:43:30,537 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:30,537 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:43:30 +08:00

2018-05-15 10:43:30,538 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 10:43:30,538 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:30,539 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:30 +08:00

2018-05-15 10:43:30,539 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:43:30 +08:00

2018-05-15 10:43:30,539 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-15 10:43:30,539 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:30,539 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:43:30,539 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2' (Type = Int64, IsNullable = false)

2018-05-15 10:43:30,539 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:43:30,540 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:43:30 +08:00

2018-05-15 10:43:30,540 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:30,540 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:30,540 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:30 +08:00

2018-05-15 10:43:30,540 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:43:30 +08:00

2018-05-15 10:43:30,541 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-15 10:43:30,541 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:30,541 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:43:30,541 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '3' (Type = Int64, IsNullable = false)

2018-05-15 10:43:30,541 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:43:30,541 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:43:30 +08:00

2018-05-15 10:43:30,541 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:30,541 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:30,541 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:30 +08:00

2018-05-15 10:43:30,541 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:43:30 +08:00

2018-05-15 10:43:30,542 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-15 10:43:30,542 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:30,542 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:43:30,542 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:43:30 +08:00

2018-05-15 10:43:30,542 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:30,542 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:30,543 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:30 +08:00

2018-05-15 10:43:30,543 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:43:30 +08:00

2018-05-15 10:43:30,543 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:43:30,543 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:30,543 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:43:30,543 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:43:30 +08:00

2018-05-15 10:43:30,543 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:30,543 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:30,543 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:30 +08:00

2018-05-15 10:43:30,543 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:43:30 +08:00

2018-05-15 10:43:30,544 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:43:30,544 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:30,544 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-15 10:43:30,544 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:43:30 +08:00

2018-05-15 10:43:30,544 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:30,544 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:30,544 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:30 +08:00

2018-05-15 10:43:30,544 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:43:30 +08:00

2018-05-15 10:43:30,544 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:43:30,544 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:30,544 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:43:30,544 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:43:30 +08:00

2018-05-15 10:43:30,544 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:30,544 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:30,545 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:30 +08:00

2018-05-15 10:43:30,545 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:43:30 +08:00

2018-05-15 10:43:30,545 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'平台发放' = [Extent1].[Name]) AND (N'平台扣除' = [Extent1].[Name]) AND (N'积分增加' = [Extent1].[Name])
2018-05-15 10:43:30,545 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:30,545 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:43:30 +08:00

2018-05-15 10:43:30,546 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:30,546 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:30,546 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:30 +08:00

2018-05-15 10:43:31,352 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:43:31 +08:00

2018-05-15 10:43:31,353 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-05-15 10:43:31,353 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:31,353 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'PlatformUser201805051709360001' (Type = String, Size = 4000)

2018-05-15 10:43:31,353 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:43:31 +08:00

2018-05-15 10:43:31,354 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:31,354 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:31,354 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:31 +08:00

2018-05-15 10:43:31,354 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:43:31 +08:00

2018-05-15 10:43:31,354 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:43:31,354 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:31,354 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:43:31,354 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:43:31 +08:00

2018-05-15 10:43:31,355 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:31,355 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:31,355 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:31 +08:00

2018-05-15 10:43:31,355 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:43:31 +08:00

2018-05-15 10:43:31,355 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-15 10:43:31,356 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:31,356 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:43:31 +08:00

2018-05-15 10:43:31,356 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:31,356 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:31,356 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:31 +08:00

2018-05-15 10:43:31,356 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:43:31 +08:00

2018-05-15 10:43:31,356 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-15 10:43:31,356 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:31,356 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:43:31 +08:00

2018-05-15 10:43:31,356 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:31,356 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:31,357 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:31 +08:00

2018-05-15 10:43:31,357 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:43:31 +08:00

2018-05-15 10:43:31,357 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-15 10:43:31,357 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:31,357 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:43:31,357 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:43:31 +08:00

2018-05-15 10:43:31,357 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:31,357 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:31,358 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:31 +08:00

2018-05-15 10:43:31,358 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:43:31 +08:00

2018-05-15 10:43:31,358 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-15 10:43:31,358 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:31,358 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:43:31 +08:00

2018-05-15 10:43:31,358 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:31,358 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:31,359 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:31 +08:00

2018-05-15 10:43:31,359 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:43:31 +08:00

2018-05-15 10:43:31,359 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-15 10:43:31,359 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:31,359 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:43:31,359 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2' (Type = Int64, IsNullable = false)

2018-05-15 10:43:31,359 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:43:31,359 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:43:31 +08:00

2018-05-15 10:43:31,360 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:31,360 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:31,360 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:31 +08:00

2018-05-15 10:43:31,360 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:43:31 +08:00

2018-05-15 10:43:31,360 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-15 10:43:31,360 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:31,360 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:43:31,360 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '3' (Type = Int64, IsNullable = false)

2018-05-15 10:43:31,360 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:43:31,360 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:43:31 +08:00

2018-05-15 10:43:31,361 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:31,361 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:31,361 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:31 +08:00

2018-05-15 10:43:31,361 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:43:31 +08:00

2018-05-15 10:43:31,363 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 1
    ORDER BY [Project1].[CreateTime] DESC
2018-05-15 10:43:31,363 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:31,363 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:43:31,363 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:43:31 +08:00

2018-05-15 10:43:31,364 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:31,364 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:31,364 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:31 +08:00

2018-05-15 10:43:31,365 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:43:31 +08:00

2018-05-15 10:43:31,365 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:43:31,365 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:31,365 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:43:31,365 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:43:31 +08:00

2018-05-15 10:43:31,365 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:31,365 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:31,365 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:31 +08:00

2018-05-15 10:43:31,365 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:43:31 +08:00

2018-05-15 10:43:31,365 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:43:31,365 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:31,365 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-15 10:43:31,365 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:43:31 +08:00

2018-05-15 10:43:31,366 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:31,366 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:31,366 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:31 +08:00

2018-05-15 10:43:31,366 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:43:31 +08:00

2018-05-15 10:43:31,366 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:43:31,366 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:31,366 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:43:31,366 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:43:31 +08:00

2018-05-15 10:43:31,366 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:31,366 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:31,366 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:31 +08:00

2018-05-15 10:43:31,367 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:43:31 +08:00

2018-05-15 10:43:31,367 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'平台发放' = [Extent1].[Name]) AND (N'平台扣除' = [Extent1].[Name]) AND (N'积分增加' = [Extent1].[Name])
2018-05-15 10:43:31,367 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:31,367 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:43:31 +08:00

2018-05-15 10:43:31,367 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:31,367 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:31,368 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:31 +08:00

2018-05-15 10:43:32,728 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:43:32 +08:00

2018-05-15 10:43:32,728 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-05-15 10:43:32,728 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:32,728 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'PlatformUser201805051709360001' (Type = String, Size = 4000)

2018-05-15 10:43:32,728 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:43:32 +08:00

2018-05-15 10:43:32,729 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:32,729 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:32,729 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:32 +08:00

2018-05-15 10:43:32,729 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:43:32 +08:00

2018-05-15 10:43:32,729 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:43:32,729 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:32,729 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:43:32,729 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:43:32 +08:00

2018-05-15 10:43:32,730 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:32,730 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:32,730 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:32 +08:00

2018-05-15 10:43:32,731 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:43:32 +08:00

2018-05-15 10:43:32,731 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-15 10:43:32,731 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:32,731 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:43:32 +08:00

2018-05-15 10:43:32,731 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:32,731 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:32,731 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:32 +08:00

2018-05-15 10:43:32,731 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:43:32 +08:00

2018-05-15 10:43:32,732 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-15 10:43:32,732 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:32,732 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:43:32 +08:00

2018-05-15 10:43:32,732 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:32,732 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:32,732 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:32 +08:00

2018-05-15 10:43:32,732 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:43:32 +08:00

2018-05-15 10:43:32,732 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-15 10:43:32,732 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:32,732 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:43:32,732 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:43:32 +08:00

2018-05-15 10:43:32,733 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:32,733 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:32,733 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:32 +08:00

2018-05-15 10:43:32,733 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:43:32 +08:00

2018-05-15 10:43:32,733 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-15 10:43:32,734 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:32,734 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:43:32 +08:00

2018-05-15 10:43:32,734 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:32,734 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:32,734 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:32 +08:00

2018-05-15 10:43:32,734 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:43:32 +08:00

2018-05-15 10:43:32,735 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-15 10:43:32,735 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:32,735 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:43:32,735 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2' (Type = Int64, IsNullable = false)

2018-05-15 10:43:32,735 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:43:32,735 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:43:32 +08:00

2018-05-15 10:43:32,735 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:32,735 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:32,735 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:32 +08:00

2018-05-15 10:43:32,736 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:43:32 +08:00

2018-05-15 10:43:32,736 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-15 10:43:32,736 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:32,736 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:43:32,736 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '3' (Type = Int64, IsNullable = false)

2018-05-15 10:43:32,736 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:43:32,736 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:43:32 +08:00

2018-05-15 10:43:32,737 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:32,737 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:32,737 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:32 +08:00

2018-05-15 10:43:32,737 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:43:32 +08:00

2018-05-15 10:43:32,737 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 2
    ORDER BY [Project1].[CreateTime] DESC
2018-05-15 10:43:32,737 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:32,737 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:43:32,737 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:43:32 +08:00

2018-05-15 10:43:32,738 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:32,738 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:32,738 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:32 +08:00

2018-05-15 10:43:32,738 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:43:32 +08:00

2018-05-15 10:43:32,738 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:43:32,738 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:32,738 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:43:32,738 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:43:32 +08:00

2018-05-15 10:43:32,738 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:32,738 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:32,739 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:32 +08:00

2018-05-15 10:43:32,739 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:43:32 +08:00

2018-05-15 10:43:32,739 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:43:32,739 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:32,739 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-15 10:43:32,739 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:43:32 +08:00

2018-05-15 10:43:32,739 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:32,739 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:32,739 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:32 +08:00

2018-05-15 10:43:32,739 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:43:32 +08:00

2018-05-15 10:43:32,739 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:43:32,739 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:32,739 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:43:32,739 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:43:32 +08:00

2018-05-15 10:43:32,739 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:32,740 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:32,740 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:32 +08:00

2018-05-15 10:43:32,740 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:43:32 +08:00

2018-05-15 10:43:32,740 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'平台发放' = [Extent1].[Name]) AND (N'平台扣除' = [Extent1].[Name]) AND (N'积分增加' = [Extent1].[Name])
2018-05-15 10:43:32,740 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:32,740 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:43:32 +08:00

2018-05-15 10:43:32,741 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:32,741 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:32,741 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:32 +08:00

2018-05-15 10:43:34,038 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:43:34 +08:00

2018-05-15 10:43:34,039 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-05-15 10:43:34,039 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:34,039 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'PlatformUser201805051709360001' (Type = String, Size = 4000)

2018-05-15 10:43:34,039 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:43:34 +08:00

2018-05-15 10:43:34,039 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:34,039 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:34,040 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:34 +08:00

2018-05-15 10:43:34,040 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:43:34 +08:00

2018-05-15 10:43:34,040 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:43:34,040 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:34,040 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:43:34,040 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:43:34 +08:00

2018-05-15 10:43:34,040 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:34,040 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:34,040 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:34 +08:00

2018-05-15 10:43:34,041 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:43:34 +08:00

2018-05-15 10:43:34,041 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-15 10:43:34,041 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:34,041 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:43:34 +08:00

2018-05-15 10:43:34,041 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:34,041 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:34,041 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:34 +08:00

2018-05-15 10:43:34,042 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:43:34 +08:00

2018-05-15 10:43:34,042 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-15 10:43:34,042 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:34,042 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:43:34 +08:00

2018-05-15 10:43:34,042 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:34,042 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:34,042 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:34 +08:00

2018-05-15 10:43:34,042 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:43:34 +08:00

2018-05-15 10:43:34,043 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-15 10:43:34,043 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:34,043 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:43:34,043 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:43:34 +08:00

2018-05-15 10:43:34,043 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:34,043 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:34,043 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:34 +08:00

2018-05-15 10:43:34,043 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:43:34 +08:00

2018-05-15 10:43:34,043 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-15 10:43:34,043 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:34,043 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:43:34 +08:00

2018-05-15 10:43:34,044 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:34,044 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:34,044 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:34 +08:00

2018-05-15 10:43:34,044 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:43:34 +08:00

2018-05-15 10:43:34,045 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-15 10:43:34,045 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:34,045 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:43:34,045 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2' (Type = Int64, IsNullable = false)

2018-05-15 10:43:34,045 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:43:34,045 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:43:34 +08:00

2018-05-15 10:43:34,045 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:34,045 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:34,045 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:34 +08:00

2018-05-15 10:43:34,045 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:43:34 +08:00

2018-05-15 10:43:34,046 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-15 10:43:34,046 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:34,046 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:43:34,046 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '3' (Type = Int64, IsNullable = false)

2018-05-15 10:43:34,046 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:43:34,046 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:43:34 +08:00

2018-05-15 10:43:34,046 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:34,046 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:34,046 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:34 +08:00

2018-05-15 10:43:34,046 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:43:34 +08:00

2018-05-15 10:43:34,047 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 1
    ORDER BY [Project1].[CreateTime] DESC
2018-05-15 10:43:34,047 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:34,047 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:43:34,047 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:43:34 +08:00

2018-05-15 10:43:34,047 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:34,047 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:34,047 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:34 +08:00

2018-05-15 10:43:34,048 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:43:34 +08:00

2018-05-15 10:43:34,048 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:43:34,048 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:34,048 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:43:34,048 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:43:34 +08:00

2018-05-15 10:43:34,048 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:34,048 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:34,048 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:34 +08:00

2018-05-15 10:43:34,048 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:43:34 +08:00

2018-05-15 10:43:34,048 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:43:34,048 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:34,048 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-15 10:43:34,048 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:43:34 +08:00

2018-05-15 10:43:34,048 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:34,048 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:34,049 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:34 +08:00

2018-05-15 10:43:34,049 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:43:34 +08:00

2018-05-15 10:43:34,049 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:43:34,049 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:34,049 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:43:34,049 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:43:34 +08:00

2018-05-15 10:43:34,049 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:34,049 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:34,049 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:34 +08:00

2018-05-15 10:43:34,049 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:43:34 +08:00

2018-05-15 10:43:34,050 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'平台发放' = [Extent1].[Name]) AND (N'平台扣除' = [Extent1].[Name]) AND (N'积分增加' = [Extent1].[Name])
2018-05-15 10:43:34,050 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:34,050 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:43:34 +08:00

2018-05-15 10:43:34,050 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:34,050 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:34,050 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:34 +08:00

2018-05-15 10:43:34,654 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:43:34 +08:00

2018-05-15 10:43:34,654 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-05-15 10:43:34,654 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:34,654 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'PlatformUser201805051709360001' (Type = String, Size = 4000)

2018-05-15 10:43:34,654 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:43:34 +08:00

2018-05-15 10:43:34,655 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:34,655 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:34,655 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:34 +08:00

2018-05-15 10:43:34,655 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:43:34 +08:00

2018-05-15 10:43:34,655 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:43:34,655 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:34,655 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:43:34,655 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:43:34 +08:00

2018-05-15 10:43:34,656 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:34,656 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:34,656 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:34 +08:00

2018-05-15 10:43:34,656 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:43:34 +08:00

2018-05-15 10:43:34,656 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-15 10:43:34,656 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:34,656 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:43:34 +08:00

2018-05-15 10:43:34,657 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:34,657 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:34,657 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:34 +08:00

2018-05-15 10:43:34,657 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:43:34 +08:00

2018-05-15 10:43:34,657 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-15 10:43:34,657 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:34,657 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:43:34 +08:00

2018-05-15 10:43:34,657 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:34,657 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:34,657 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:34 +08:00

2018-05-15 10:43:34,658 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:43:34 +08:00

2018-05-15 10:43:34,658 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-15 10:43:34,658 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:34,658 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:43:34,658 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:43:34 +08:00

2018-05-15 10:43:34,658 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:34,658 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:34,658 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:34 +08:00

2018-05-15 10:43:34,659 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:43:34 +08:00

2018-05-15 10:43:34,659 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-15 10:43:34,659 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:34,659 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:43:34 +08:00

2018-05-15 10:43:34,659 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:34,659 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:34,660 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:34 +08:00

2018-05-15 10:43:34,660 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:43:34 +08:00

2018-05-15 10:43:34,660 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-15 10:43:34,660 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:34,660 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:43:34,660 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2' (Type = Int64, IsNullable = false)

2018-05-15 10:43:34,660 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:43:34,660 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:43:34 +08:00

2018-05-15 10:43:34,660 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:34,661 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:34,661 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:34 +08:00

2018-05-15 10:43:34,661 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:43:34 +08:00

2018-05-15 10:43:34,661 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-15 10:43:34,661 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:34,661 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:43:34,661 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '3' (Type = Int64, IsNullable = false)

2018-05-15 10:43:34,661 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:43:34,661 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:43:34 +08:00

2018-05-15 10:43:34,662 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:34,662 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:34,662 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:34 +08:00

2018-05-15 10:43:34,662 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:43:34 +08:00

2018-05-15 10:43:34,662 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-15 10:43:34,662 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:34,662 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:43:34,662 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:43:34 +08:00

2018-05-15 10:43:34,663 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:34,663 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:34,663 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:34 +08:00

2018-05-15 10:43:34,663 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:43:34 +08:00

2018-05-15 10:43:34,663 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:43:34,663 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:34,663 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:43:34,663 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:43:34 +08:00

2018-05-15 10:43:34,663 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:34,663 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:34,663 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:34 +08:00

2018-05-15 10:43:34,663 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:43:34 +08:00

2018-05-15 10:43:34,664 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:43:34,664 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:34,664 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-15 10:43:34,664 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:43:34 +08:00

2018-05-15 10:43:34,664 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:34,664 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:34,664 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:34 +08:00

2018-05-15 10:43:34,664 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:43:34 +08:00

2018-05-15 10:43:34,664 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:43:34,664 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:34,664 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:43:34,664 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:43:34 +08:00

2018-05-15 10:43:34,664 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:34,664 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:34,664 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:34 +08:00

2018-05-15 10:43:34,665 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:43:34 +08:00

2018-05-15 10:43:34,665 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'平台发放' = [Extent1].[Name]) AND (N'平台扣除' = [Extent1].[Name]) AND (N'积分增加' = [Extent1].[Name])
2018-05-15 10:43:34,665 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:34,665 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:43:34 +08:00

2018-05-15 10:43:34,665 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:34,665 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:34,665 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:34 +08:00

2018-05-15 10:43:35,212 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:43:35 +08:00

2018-05-15 10:43:35,212 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-05-15 10:43:35,212 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:35,212 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'PlatformUser201805051709360001' (Type = String, Size = 4000)

2018-05-15 10:43:35,212 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:43:35 +08:00

2018-05-15 10:43:35,213 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 10:43:35,213 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:35,214 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:35 +08:00

2018-05-15 10:43:35,214 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:43:35 +08:00

2018-05-15 10:43:35,214 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:43:35,214 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:35,214 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:43:35,214 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:43:35 +08:00

2018-05-15 10:43:35,214 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:35,214 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:35,214 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:35 +08:00

2018-05-15 10:43:35,215 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:43:35 +08:00

2018-05-15 10:43:35,215 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-15 10:43:35,215 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:35,215 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:43:35 +08:00

2018-05-15 10:43:35,215 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:35,215 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:35,215 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:35 +08:00

2018-05-15 10:43:35,216 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:43:35 +08:00

2018-05-15 10:43:35,216 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-15 10:43:35,216 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:35,216 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:43:35 +08:00

2018-05-15 10:43:35,216 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:35,216 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:35,216 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:35 +08:00

2018-05-15 10:43:35,216 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:43:35 +08:00

2018-05-15 10:43:35,216 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-15 10:43:35,216 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:35,217 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:43:35,217 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:43:35 +08:00

2018-05-15 10:43:35,217 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:35,217 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:35,217 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:35 +08:00

2018-05-15 10:43:35,217 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:43:35 +08:00

2018-05-15 10:43:35,217 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-15 10:43:35,217 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:35,217 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:43:35 +08:00

2018-05-15 10:43:35,218 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:35,218 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:35,218 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:35 +08:00

2018-05-15 10:43:35,218 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:43:35 +08:00

2018-05-15 10:43:35,218 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-15 10:43:35,218 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:35,218 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:43:35,219 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2' (Type = Int64, IsNullable = false)

2018-05-15 10:43:35,219 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:43:35,219 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:43:35 +08:00

2018-05-15 10:43:35,219 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:35,219 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:35,219 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:35 +08:00

2018-05-15 10:43:35,219 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:43:35 +08:00

2018-05-15 10:43:35,220 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-15 10:43:35,220 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:35,220 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:43:35,220 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '3' (Type = Int64, IsNullable = false)

2018-05-15 10:43:35,220 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:43:35,220 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:43:35 +08:00

2018-05-15 10:43:35,220 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:35,220 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:35,220 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:35 +08:00

2018-05-15 10:43:35,221 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:43:35 +08:00

2018-05-15 10:43:35,221 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 1
    ORDER BY [Project1].[CreateTime] DESC
2018-05-15 10:43:35,221 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:35,221 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:43:35,221 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:43:35 +08:00

2018-05-15 10:43:35,221 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:35,221 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:35,222 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:35 +08:00

2018-05-15 10:43:35,222 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:43:35 +08:00

2018-05-15 10:43:35,222 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:43:35,222 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:35,222 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:43:35,222 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:43:35 +08:00

2018-05-15 10:43:35,222 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:35,222 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:35,222 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:35 +08:00

2018-05-15 10:43:35,222 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:43:35 +08:00

2018-05-15 10:43:35,223 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:43:35,223 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:35,223 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-15 10:43:35,223 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:43:35 +08:00

2018-05-15 10:43:35,223 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:35,223 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:35,223 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:35 +08:00

2018-05-15 10:43:35,223 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:43:35 +08:00

2018-05-15 10:43:35,223 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:43:35,223 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:35,223 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:43:35,223 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:43:35 +08:00

2018-05-15 10:43:35,223 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:35,223 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:35,223 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:35 +08:00

2018-05-15 10:43:35,224 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:43:35 +08:00

2018-05-15 10:43:35,224 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'平台发放' = [Extent1].[Name]) AND (N'平台扣除' = [Extent1].[Name]) AND (N'积分增加' = [Extent1].[Name])
2018-05-15 10:43:35,224 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:35,224 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:43:35 +08:00

2018-05-15 10:43:35,224 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:35,224 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:35,225 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:35 +08:00

2018-05-15 10:43:35,715 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:43:35 +08:00

2018-05-15 10:43:35,715 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-05-15 10:43:35,715 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:35,715 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'PlatformUser201805051709360001' (Type = String, Size = 4000)

2018-05-15 10:43:35,715 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:43:35 +08:00

2018-05-15 10:43:35,716 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:35,716 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:35,716 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:35 +08:00

2018-05-15 10:43:35,716 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:43:35 +08:00

2018-05-15 10:43:35,716 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:43:35,716 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:35,716 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:43:35,716 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:43:35 +08:00

2018-05-15 10:43:35,717 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:35,717 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:35,717 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:35 +08:00

2018-05-15 10:43:35,717 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:43:35 +08:00

2018-05-15 10:43:35,717 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-15 10:43:35,717 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:35,717 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:43:35 +08:00

2018-05-15 10:43:35,718 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:35,718 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:35,718 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:35 +08:00

2018-05-15 10:43:35,718 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:43:35 +08:00

2018-05-15 10:43:35,718 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-15 10:43:35,718 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:35,718 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:43:35 +08:00

2018-05-15 10:43:35,719 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:35,719 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:35,719 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:35 +08:00

2018-05-15 10:43:35,719 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:43:35 +08:00

2018-05-15 10:43:35,719 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-15 10:43:35,719 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:35,719 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:43:35,719 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:43:35 +08:00

2018-05-15 10:43:35,721 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 10:43:35,721 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:35,721 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:35 +08:00

2018-05-15 10:43:35,721 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:43:35 +08:00

2018-05-15 10:43:35,721 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-15 10:43:35,721 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:35,721 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:43:35 +08:00

2018-05-15 10:43:35,722 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:35,722 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:35,722 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:35 +08:00

2018-05-15 10:43:35,722 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:43:35 +08:00

2018-05-15 10:43:35,722 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-15 10:43:35,723 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:35,723 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:43:35,723 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2' (Type = Int64, IsNullable = false)

2018-05-15 10:43:35,723 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:43:35,723 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:43:35 +08:00

2018-05-15 10:43:35,723 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:35,723 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:35,723 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:35 +08:00

2018-05-15 10:43:35,723 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:43:35 +08:00

2018-05-15 10:43:35,724 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-15 10:43:35,724 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:35,724 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:43:35,724 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '3' (Type = Int64, IsNullable = false)

2018-05-15 10:43:35,724 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:43:35,724 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:43:35 +08:00

2018-05-15 10:43:35,724 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:35,724 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:35,724 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:35 +08:00

2018-05-15 10:43:35,724 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:43:35 +08:00

2018-05-15 10:43:35,724 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 2
    ORDER BY [Project1].[CreateTime] DESC
2018-05-15 10:43:35,725 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:35,725 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:43:35,725 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:43:35 +08:00

2018-05-15 10:43:35,725 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:35,725 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:35,725 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:35 +08:00

2018-05-15 10:43:35,725 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:43:35 +08:00

2018-05-15 10:43:35,725 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:43:35,725 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:35,725 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:43:35,725 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:43:35 +08:00

2018-05-15 10:43:35,726 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:35,726 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:35,726 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:35 +08:00

2018-05-15 10:43:35,726 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:43:35 +08:00

2018-05-15 10:43:35,726 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:43:35,726 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:35,726 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-15 10:43:35,726 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:43:35 +08:00

2018-05-15 10:43:35,726 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:35,726 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:35,726 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:35 +08:00

2018-05-15 10:43:35,726 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:43:35 +08:00

2018-05-15 10:43:35,726 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:43:35,727 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:35,727 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:43:35,727 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:43:35 +08:00

2018-05-15 10:43:35,727 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:35,727 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:35,727 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:35 +08:00

2018-05-15 10:43:35,727 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:43:35 +08:00

2018-05-15 10:43:35,727 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'平台发放' = [Extent1].[Name]) AND (N'平台扣除' = [Extent1].[Name]) AND (N'积分增加' = [Extent1].[Name])
2018-05-15 10:43:35,727 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:35,727 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:43:35 +08:00

2018-05-15 10:43:35,728 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:35,728 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:35,729 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:35 +08:00

2018-05-15 10:43:36,308 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:43:36 +08:00

2018-05-15 10:43:36,308 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-05-15 10:43:36,308 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:36,308 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'PlatformUser201805051709360001' (Type = String, Size = 4000)

2018-05-15 10:43:36,308 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:43:36 +08:00

2018-05-15 10:43:36,309 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:36,309 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:36,309 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:36 +08:00

2018-05-15 10:43:36,309 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:43:36 +08:00

2018-05-15 10:43:36,309 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:43:36,309 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:36,309 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:43:36,309 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:43:36 +08:00

2018-05-15 10:43:36,310 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:36,310 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:36,310 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:36 +08:00

2018-05-15 10:43:36,310 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:43:36 +08:00

2018-05-15 10:43:36,311 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-15 10:43:36,311 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:36,311 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:43:36 +08:00

2018-05-15 10:43:36,311 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:36,311 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:36,311 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:36 +08:00

2018-05-15 10:43:36,311 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:43:36 +08:00

2018-05-15 10:43:36,311 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-15 10:43:36,311 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:36,311 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:43:36 +08:00

2018-05-15 10:43:36,311 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:36,312 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:36,312 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:36 +08:00

2018-05-15 10:43:36,312 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:43:36 +08:00

2018-05-15 10:43:36,312 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-15 10:43:36,312 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:36,312 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:43:36,312 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:43:36 +08:00

2018-05-15 10:43:36,312 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:36,312 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:36,313 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:36 +08:00

2018-05-15 10:43:36,313 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:43:36 +08:00

2018-05-15 10:43:36,313 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-15 10:43:36,313 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:36,313 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:43:36 +08:00

2018-05-15 10:43:36,313 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:36,313 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:36,314 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:36 +08:00

2018-05-15 10:43:36,314 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:43:36 +08:00

2018-05-15 10:43:36,314 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-15 10:43:36,314 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:36,314 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:43:36,314 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2' (Type = Int64, IsNullable = false)

2018-05-15 10:43:36,314 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:43:36,314 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:43:36 +08:00

2018-05-15 10:43:36,315 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:36,315 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:36,315 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:36 +08:00

2018-05-15 10:43:36,315 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:43:36 +08:00

2018-05-15 10:43:36,316 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-15 10:43:36,316 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:36,316 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:43:36,316 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '3' (Type = Int64, IsNullable = false)

2018-05-15 10:43:36,316 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:43:36,316 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:43:36 +08:00

2018-05-15 10:43:36,316 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:36,316 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:36,316 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:36 +08:00

2018-05-15 10:43:36,317 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:43:36 +08:00

2018-05-15 10:43:36,317 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 3
    ORDER BY [Project1].[CreateTime] DESC
2018-05-15 10:43:36,317 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:36,317 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:43:36,317 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:43:36 +08:00

2018-05-15 10:43:36,317 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:36,317 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:36,318 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:36 +08:00

2018-05-15 10:43:36,318 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:43:36 +08:00

2018-05-15 10:43:36,318 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:43:36,318 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:36,318 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '6' (Type = Int64, IsNullable = false)

2018-05-15 10:43:36,318 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:43:36 +08:00

2018-05-15 10:43:36,318 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:36,318 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:36,318 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:36 +08:00

2018-05-15 10:43:36,318 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:43:36 +08:00

2018-05-15 10:43:36,318 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:43:36,318 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:36,318 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:43:36,318 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:43:36 +08:00

2018-05-15 10:43:36,319 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:36,319 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:36,319 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:36 +08:00

2018-05-15 10:43:36,319 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:43:36 +08:00

2018-05-15 10:43:36,319 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'平台发放' = [Extent1].[Name]) AND (N'平台扣除' = [Extent1].[Name]) AND (N'积分增加' = [Extent1].[Name])
2018-05-15 10:43:36,319 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:36,319 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:43:36 +08:00

2018-05-15 10:43:36,320 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:36,320 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:36,320 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:36 +08:00

2018-05-15 10:43:37,805 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:43:37 +08:00

2018-05-15 10:43:37,806 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-05-15 10:43:37,806 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:37,806 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'PlatformUser201805051709360001' (Type = String, Size = 4000)

2018-05-15 10:43:37,806 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:43:37 +08:00

2018-05-15 10:43:37,806 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:37,806 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:37,806 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:37 +08:00

2018-05-15 10:43:37,807 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:43:37 +08:00

2018-05-15 10:43:37,807 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:43:37,807 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:37,807 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:43:37,807 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:43:37 +08:00

2018-05-15 10:43:37,807 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:37,807 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:37,807 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:37 +08:00

2018-05-15 10:43:37,808 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:43:37 +08:00

2018-05-15 10:43:37,808 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-15 10:43:37,808 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:37,808 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:43:37 +08:00

2018-05-15 10:43:37,808 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:37,808 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:37,808 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:37 +08:00

2018-05-15 10:43:37,808 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:43:37 +08:00

2018-05-15 10:43:37,808 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-15 10:43:37,808 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:37,808 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:43:37 +08:00

2018-05-15 10:43:37,809 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:37,809 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:37,809 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:37 +08:00

2018-05-15 10:43:37,809 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:43:37 +08:00

2018-05-15 10:43:37,809 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-15 10:43:37,809 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:37,809 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:43:37,809 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:43:37 +08:00

2018-05-15 10:43:37,809 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:37,809 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:37,810 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:37 +08:00

2018-05-15 10:43:37,810 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:43:37 +08:00

2018-05-15 10:43:37,810 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-15 10:43:37,810 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:37,810 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:43:37 +08:00

2018-05-15 10:43:37,810 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:37,810 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:37,811 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:37 +08:00

2018-05-15 10:43:37,811 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:43:37 +08:00

2018-05-15 10:43:37,811 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-15 10:43:37,811 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:37,811 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:43:37,811 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2' (Type = Int64, IsNullable = false)

2018-05-15 10:43:37,811 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:43:37,811 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:43:37 +08:00

2018-05-15 10:43:37,812 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:37,812 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:37,812 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:37 +08:00

2018-05-15 10:43:37,812 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:43:37 +08:00

2018-05-15 10:43:37,812 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-15 10:43:37,812 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:37,813 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:43:37,813 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '3' (Type = Int64, IsNullable = false)

2018-05-15 10:43:37,813 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:43:37,813 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:43:37 +08:00

2018-05-15 10:43:37,813 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:37,813 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:37,813 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:37 +08:00

2018-05-15 10:43:37,813 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:43:37 +08:00

2018-05-15 10:43:37,813 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-15 10:43:37,814 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:37,814 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:43:37,814 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:43:37 +08:00

2018-05-15 10:43:37,814 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:37,814 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:37,814 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:37 +08:00

2018-05-15 10:43:37,814 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:43:37 +08:00

2018-05-15 10:43:37,815 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:43:37,815 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:37,815 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:43:37,815 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:43:37 +08:00

2018-05-15 10:43:37,815 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:37,815 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:37,815 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:37 +08:00

2018-05-15 10:43:37,815 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:43:37 +08:00

2018-05-15 10:43:37,815 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:43:37,815 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:37,815 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-15 10:43:37,815 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:43:37 +08:00

2018-05-15 10:43:37,815 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:37,815 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:37,816 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:37 +08:00

2018-05-15 10:43:37,816 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:43:37 +08:00

2018-05-15 10:43:37,816 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:43:37,816 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:37,816 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:43:37,816 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:43:37 +08:00

2018-05-15 10:43:37,816 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:37,816 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:37,816 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:37 +08:00

2018-05-15 10:43:37,816 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:43:37 +08:00

2018-05-15 10:43:37,817 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'平台发放' = [Extent1].[Name]) AND (N'平台扣除' = [Extent1].[Name]) AND (N'积分增加' = [Extent1].[Name])
2018-05-15 10:43:37,817 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:37,817 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:43:37 +08:00

2018-05-15 10:43:37,817 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:37,817 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:37,817 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:37 +08:00

2018-05-15 10:43:38,304 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:43:38 +08:00

2018-05-15 10:43:38,304 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-05-15 10:43:38,304 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:38,304 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'PlatformUser201805051709360001' (Type = String, Size = 4000)

2018-05-15 10:43:38,304 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:43:38 +08:00

2018-05-15 10:43:38,305 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:38,305 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:38,305 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:38 +08:00

2018-05-15 10:43:38,305 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:43:38 +08:00

2018-05-15 10:43:38,305 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:43:38,305 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:38,305 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:43:38,306 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:43:38 +08:00

2018-05-15 10:43:38,306 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:38,306 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:38,306 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:38 +08:00

2018-05-15 10:43:38,306 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:43:38 +08:00

2018-05-15 10:43:38,307 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-15 10:43:38,307 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:38,307 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:43:38 +08:00

2018-05-15 10:43:38,307 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:38,307 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:38,307 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:38 +08:00

2018-05-15 10:43:38,307 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:43:38 +08:00

2018-05-15 10:43:38,307 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-15 10:43:38,307 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:38,307 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:43:38 +08:00

2018-05-15 10:43:38,307 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:38,307 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:38,308 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:38 +08:00

2018-05-15 10:43:38,308 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:43:38 +08:00

2018-05-15 10:43:38,308 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-15 10:43:38,308 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:38,308 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:43:38,308 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:43:38 +08:00

2018-05-15 10:43:38,308 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:38,308 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:38,308 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:38 +08:00

2018-05-15 10:43:38,309 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:43:38 +08:00

2018-05-15 10:43:38,309 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-15 10:43:38,309 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:38,309 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:43:38 +08:00

2018-05-15 10:43:38,309 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:38,309 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:38,309 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:38 +08:00

2018-05-15 10:43:38,310 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:43:38 +08:00

2018-05-15 10:43:38,310 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-15 10:43:38,310 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:38,310 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:43:38,310 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2' (Type = Int64, IsNullable = false)

2018-05-15 10:43:38,310 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:43:38,310 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:43:38 +08:00

2018-05-15 10:43:38,310 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:38,311 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:38,311 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:38 +08:00

2018-05-15 10:43:38,311 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:43:38 +08:00

2018-05-15 10:43:38,311 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-15 10:43:38,311 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:38,311 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:43:38,311 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '3' (Type = Int64, IsNullable = false)

2018-05-15 10:43:38,311 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:43:38,311 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:43:38 +08:00

2018-05-15 10:43:38,312 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:38,312 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:38,312 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:38 +08:00

2018-05-15 10:43:38,312 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:43:38 +08:00

2018-05-15 10:43:38,312 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 1
    ORDER BY [Project1].[CreateTime] DESC
2018-05-15 10:43:38,312 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:38,312 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:43:38,312 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:43:38 +08:00

2018-05-15 10:43:38,313 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:38,313 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:38,313 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:38 +08:00

2018-05-15 10:43:38,313 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:43:38 +08:00

2018-05-15 10:43:38,313 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:43:38,313 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:38,313 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:43:38,313 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:43:38 +08:00

2018-05-15 10:43:38,313 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:38,313 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:38,314 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:38 +08:00

2018-05-15 10:43:38,314 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:43:38 +08:00

2018-05-15 10:43:38,314 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:43:38,314 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:38,314 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-15 10:43:38,314 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:43:38 +08:00

2018-05-15 10:43:38,314 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:38,314 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:38,314 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:38 +08:00

2018-05-15 10:43:38,314 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:43:38 +08:00

2018-05-15 10:43:38,314 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:43:38,314 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:38,314 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:43:38,314 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:43:38 +08:00

2018-05-15 10:43:38,315 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:38,315 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:38,315 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:38 +08:00

2018-05-15 10:43:38,315 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:43:38 +08:00

2018-05-15 10:43:38,315 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'平台发放' = [Extent1].[Name]) AND (N'平台扣除' = [Extent1].[Name]) AND (N'积分增加' = [Extent1].[Name])
2018-05-15 10:43:38,315 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:38,315 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:43:38 +08:00

2018-05-15 10:43:38,316 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:38,316 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:38,316 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:38 +08:00

2018-05-15 10:43:38,754 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:43:38 +08:00

2018-05-15 10:43:38,754 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-05-15 10:43:38,754 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:38,754 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'PlatformUser201805051709360001' (Type = String, Size = 4000)

2018-05-15 10:43:38,754 [9] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:43:38 +08:00

2018-05-15 10:43:38,754 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:38,754 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:38,755 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:38 +08:00

2018-05-15 10:43:38,755 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:43:38 +08:00

2018-05-15 10:43:38,755 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:43:38,755 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:38,755 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:43:38,755 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:43:38 +08:00

2018-05-15 10:43:38,755 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:38,755 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:38,755 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:38 +08:00

2018-05-15 10:43:38,756 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:43:38 +08:00

2018-05-15 10:43:38,756 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-15 10:43:38,756 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:38,756 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:43:38 +08:00

2018-05-15 10:43:38,756 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:38,756 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:38,756 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:38 +08:00

2018-05-15 10:43:38,756 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:43:38 +08:00

2018-05-15 10:43:38,757 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-15 10:43:38,757 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:38,757 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:43:38 +08:00

2018-05-15 10:43:38,757 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:38,757 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:38,757 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:38 +08:00

2018-05-15 10:43:38,757 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:43:38 +08:00

2018-05-15 10:43:38,757 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-15 10:43:38,757 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:38,757 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:43:38,757 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:43:38 +08:00

2018-05-15 10:43:38,758 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:38,758 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:38,758 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:38 +08:00

2018-05-15 10:43:38,758 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:43:38 +08:00

2018-05-15 10:43:38,758 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-15 10:43:38,758 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:38,759 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:43:38 +08:00

2018-05-15 10:43:38,759 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:38,759 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:38,759 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:38 +08:00

2018-05-15 10:43:38,759 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:43:38 +08:00

2018-05-15 10:43:38,760 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-15 10:43:38,760 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:38,760 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:43:38,760 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2' (Type = Int64, IsNullable = false)

2018-05-15 10:43:38,760 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:43:38,760 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:43:38 +08:00

2018-05-15 10:43:38,760 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:38,760 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:38,760 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:38 +08:00

2018-05-15 10:43:38,761 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:43:38 +08:00

2018-05-15 10:43:38,761 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-15 10:43:38,761 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:38,761 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:43:38,761 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '3' (Type = Int64, IsNullable = false)

2018-05-15 10:43:38,761 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:43:38,761 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:43:38 +08:00

2018-05-15 10:43:38,761 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:38,761 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:38,762 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:38 +08:00

2018-05-15 10:43:38,762 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:43:38 +08:00

2018-05-15 10:43:38,762 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 2
    ORDER BY [Project1].[CreateTime] DESC
2018-05-15 10:43:38,762 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:38,762 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:43:38,762 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:43:38 +08:00

2018-05-15 10:43:38,763 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:38,763 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:38,763 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:38 +08:00

2018-05-15 10:43:38,763 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:43:38 +08:00

2018-05-15 10:43:38,763 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:43:38,763 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:38,763 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:43:38,763 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:43:38 +08:00

2018-05-15 10:43:38,763 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:38,763 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:38,763 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:38 +08:00

2018-05-15 10:43:38,764 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:43:38 +08:00

2018-05-15 10:43:38,764 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:43:38,764 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:38,764 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-15 10:43:38,764 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:43:38 +08:00

2018-05-15 10:43:38,764 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:38,764 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:38,764 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:38 +08:00

2018-05-15 10:43:38,764 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:43:38 +08:00

2018-05-15 10:43:38,764 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:43:38,764 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:38,764 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:43:38,764 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:43:38 +08:00

2018-05-15 10:43:38,765 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:38,765 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:38,765 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:38 +08:00

2018-05-15 10:43:38,765 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:43:38 +08:00

2018-05-15 10:43:38,765 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'平台发放' = [Extent1].[Name]) AND (N'平台扣除' = [Extent1].[Name]) AND (N'积分增加' = [Extent1].[Name])
2018-05-15 10:43:38,765 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:38,765 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:43:38 +08:00

2018-05-15 10:43:38,766 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:38,766 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:38,766 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:38 +08:00

2018-05-15 10:43:39,187 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:43:39 +08:00

2018-05-15 10:43:39,187 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-05-15 10:43:39,187 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:39,187 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'PlatformUser201805051709360001' (Type = String, Size = 4000)

2018-05-15 10:43:39,187 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:43:39 +08:00

2018-05-15 10:43:39,188 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:39,188 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:39,188 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:39 +08:00

2018-05-15 10:43:39,188 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:43:39 +08:00

2018-05-15 10:43:39,188 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:43:39,188 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:39,188 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:43:39,188 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:43:39 +08:00

2018-05-15 10:43:39,188 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:39,189 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:39,189 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:39 +08:00

2018-05-15 10:43:39,189 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:43:39 +08:00

2018-05-15 10:43:39,189 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-15 10:43:39,189 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:39,189 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:43:39 +08:00

2018-05-15 10:43:39,190 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:39,190 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:39,190 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:39 +08:00

2018-05-15 10:43:39,190 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:43:39 +08:00

2018-05-15 10:43:39,190 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-15 10:43:39,190 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:39,190 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:43:39 +08:00

2018-05-15 10:43:39,190 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:39,190 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:39,191 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:39 +08:00

2018-05-15 10:43:39,191 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:43:39 +08:00

2018-05-15 10:43:39,191 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-15 10:43:39,191 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:39,191 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:43:39,191 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:43:39 +08:00

2018-05-15 10:43:39,192 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:39,192 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:39,192 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:39 +08:00

2018-05-15 10:43:39,192 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:43:39 +08:00

2018-05-15 10:43:39,192 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-15 10:43:39,192 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:39,192 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:43:39 +08:00

2018-05-15 10:43:39,193 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:39,193 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:39,193 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:39 +08:00

2018-05-15 10:43:39,193 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:43:39 +08:00

2018-05-15 10:43:39,193 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-15 10:43:39,193 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:39,193 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:43:39,193 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2' (Type = Int64, IsNullable = false)

2018-05-15 10:43:39,193 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:43:39,193 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:43:39 +08:00

2018-05-15 10:43:39,194 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:39,194 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:39,194 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:39 +08:00

2018-05-15 10:43:39,194 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:43:39 +08:00

2018-05-15 10:43:39,194 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-15 10:43:39,195 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:39,195 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:43:39,195 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '3' (Type = Int64, IsNullable = false)

2018-05-15 10:43:39,195 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:43:39,195 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:43:39 +08:00

2018-05-15 10:43:39,195 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:39,195 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:39,195 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:39 +08:00

2018-05-15 10:43:39,195 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:43:39 +08:00

2018-05-15 10:43:39,196 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 3
    ORDER BY [Project1].[CreateTime] DESC
2018-05-15 10:43:39,196 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:39,196 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:43:39,196 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:43:39 +08:00

2018-05-15 10:43:39,196 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:39,196 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:39,196 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:39 +08:00

2018-05-15 10:43:39,196 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:43:39 +08:00

2018-05-15 10:43:39,197 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:43:39,197 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:39,197 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '6' (Type = Int64, IsNullable = false)

2018-05-15 10:43:39,197 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:43:39 +08:00

2018-05-15 10:43:39,197 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:39,197 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:39,197 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:39 +08:00

2018-05-15 10:43:39,197 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:43:39 +08:00

2018-05-15 10:43:39,197 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:43:39,197 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:39,197 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:43:39,197 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:43:39 +08:00

2018-05-15 10:43:39,197 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:39,197 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:39,198 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:39 +08:00

2018-05-15 10:43:39,198 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:43:39 +08:00

2018-05-15 10:43:39,198 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'平台发放' = [Extent1].[Name]) AND (N'平台扣除' = [Extent1].[Name]) AND (N'积分增加' = [Extent1].[Name])
2018-05-15 10:43:39,198 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:39,198 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:43:39 +08:00

2018-05-15 10:43:39,199 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:39,199 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:39,199 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:39 +08:00

2018-05-15 10:43:40,772 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:43:40 +08:00

2018-05-15 10:43:40,773 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-05-15 10:43:40,773 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:40,773 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'PlatformUser201805051709360001' (Type = String, Size = 4000)

2018-05-15 10:43:40,773 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:43:40 +08:00

2018-05-15 10:43:40,773 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:40,773 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:40,774 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:40 +08:00

2018-05-15 10:43:40,774 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:43:40 +08:00

2018-05-15 10:43:40,774 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:43:40,774 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:40,774 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:43:40,774 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:43:40 +08:00

2018-05-15 10:43:40,774 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:40,774 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:40,774 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:40 +08:00

2018-05-15 10:43:40,775 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:43:40 +08:00

2018-05-15 10:43:40,775 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-15 10:43:40,775 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:40,775 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:43:40 +08:00

2018-05-15 10:43:40,775 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:40,775 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:40,775 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:40 +08:00

2018-05-15 10:43:40,775 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:43:40 +08:00

2018-05-15 10:43:40,776 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-15 10:43:40,776 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:40,776 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:43:40 +08:00

2018-05-15 10:43:40,776 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:40,776 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:40,776 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:40 +08:00

2018-05-15 10:43:40,776 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:43:40 +08:00

2018-05-15 10:43:40,776 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-15 10:43:40,776 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:40,776 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:43:40,776 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:43:40 +08:00

2018-05-15 10:43:40,777 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:40,777 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:40,777 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:40 +08:00

2018-05-15 10:43:40,777 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:43:40 +08:00

2018-05-15 10:43:40,777 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-15 10:43:40,777 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:40,777 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:43:40 +08:00

2018-05-15 10:43:40,777 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:40,777 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:40,778 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:40 +08:00

2018-05-15 10:43:40,778 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:43:40 +08:00

2018-05-15 10:43:40,778 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-15 10:43:40,778 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:40,778 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:43:40,778 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2' (Type = Int64, IsNullable = false)

2018-05-15 10:43:40,778 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:43:40,778 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:43:40 +08:00

2018-05-15 10:43:40,778 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:40,779 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:40,779 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:40 +08:00

2018-05-15 10:43:40,779 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:43:40 +08:00

2018-05-15 10:43:40,779 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-15 10:43:40,779 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:40,779 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:43:40,779 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '3' (Type = Int64, IsNullable = false)

2018-05-15 10:43:40,779 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:43:40,779 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:43:40 +08:00

2018-05-15 10:43:40,780 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:40,780 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:40,780 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:40 +08:00

2018-05-15 10:43:40,780 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:43:40 +08:00

2018-05-15 10:43:40,780 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-15 10:43:40,780 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:40,780 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:43:40,780 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:43:40 +08:00

2018-05-15 10:43:40,781 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:40,781 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:40,781 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:40 +08:00

2018-05-15 10:43:40,781 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:43:40 +08:00

2018-05-15 10:43:40,781 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:43:40,781 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:40,781 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:43:40,781 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:43:40 +08:00

2018-05-15 10:43:40,781 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:40,781 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:40,782 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:40 +08:00

2018-05-15 10:43:40,782 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:43:40 +08:00

2018-05-15 10:43:40,782 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:43:40,782 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:40,782 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-15 10:43:40,782 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:43:40 +08:00

2018-05-15 10:43:40,782 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:40,782 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:40,782 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:40 +08:00

2018-05-15 10:43:40,782 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:43:40 +08:00

2018-05-15 10:43:40,782 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:43:40,782 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:40,782 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:43:40,782 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:43:40 +08:00

2018-05-15 10:43:40,783 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:40,783 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:40,783 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:40 +08:00

2018-05-15 10:43:40,783 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:43:40 +08:00

2018-05-15 10:43:40,783 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'平台发放' = [Extent1].[Name]) AND (N'平台扣除' = [Extent1].[Name]) AND (N'积分增加' = [Extent1].[Name])
2018-05-15 10:43:40,783 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:40,783 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:43:40 +08:00

2018-05-15 10:43:40,784 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:40,784 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:40,784 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:40 +08:00

2018-05-15 10:43:41,267 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:43:41 +08:00

2018-05-15 10:43:41,267 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-05-15 10:43:41,267 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:41,267 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'PlatformUser201805051709360001' (Type = String, Size = 4000)

2018-05-15 10:43:41,267 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:43:41 +08:00

2018-05-15 10:43:41,268 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:41,268 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:41,268 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:41 +08:00

2018-05-15 10:43:41,268 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:43:41 +08:00

2018-05-15 10:43:41,268 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:43:41,268 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:41,268 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:43:41,268 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:43:41 +08:00

2018-05-15 10:43:41,268 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:41,268 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:41,268 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:41 +08:00

2018-05-15 10:43:41,269 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:43:41 +08:00

2018-05-15 10:43:41,269 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-15 10:43:41,269 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:41,269 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:43:41 +08:00

2018-05-15 10:43:41,270 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:41,270 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:41,270 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:41 +08:00

2018-05-15 10:43:41,270 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:43:41 +08:00

2018-05-15 10:43:41,271 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-15 10:43:41,271 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:41,271 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:43:41 +08:00

2018-05-15 10:43:41,271 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:41,271 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:41,271 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:41 +08:00

2018-05-15 10:43:41,271 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:43:41 +08:00

2018-05-15 10:43:41,271 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-15 10:43:41,271 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:41,272 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:43:41,272 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:43:41 +08:00

2018-05-15 10:43:41,272 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:41,272 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:41,272 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:41 +08:00

2018-05-15 10:43:41,272 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:43:41 +08:00

2018-05-15 10:43:41,273 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-15 10:43:41,273 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:41,273 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:43:41 +08:00

2018-05-15 10:43:41,273 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:41,273 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:41,273 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:41 +08:00

2018-05-15 10:43:41,273 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:43:41 +08:00

2018-05-15 10:43:41,274 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-15 10:43:41,274 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:41,274 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:43:41,274 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2' (Type = Int64, IsNullable = false)

2018-05-15 10:43:41,274 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:43:41,274 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:43:41 +08:00

2018-05-15 10:43:41,274 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:41,274 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:41,274 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:41 +08:00

2018-05-15 10:43:41,275 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:43:41 +08:00

2018-05-15 10:43:41,275 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-15 10:43:41,275 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:41,275 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:43:41,275 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '3' (Type = Int64, IsNullable = false)

2018-05-15 10:43:41,275 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:43:41,275 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:43:41 +08:00

2018-05-15 10:43:41,275 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:41,275 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:41,275 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:41 +08:00

2018-05-15 10:43:41,276 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:43:41 +08:00

2018-05-15 10:43:41,276 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 1
    ORDER BY [Project1].[CreateTime] DESC
2018-05-15 10:43:41,276 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:41,276 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:43:41,276 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:43:41 +08:00

2018-05-15 10:43:41,276 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:41,276 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:41,277 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:41 +08:00

2018-05-15 10:43:41,277 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:43:41 +08:00

2018-05-15 10:43:41,277 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:43:41,277 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:41,277 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:43:41,277 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:43:41 +08:00

2018-05-15 10:43:41,277 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:41,277 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:41,277 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:41 +08:00

2018-05-15 10:43:41,277 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:43:41 +08:00

2018-05-15 10:43:41,277 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:43:41,277 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:41,277 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-15 10:43:41,277 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:43:41 +08:00

2018-05-15 10:43:41,278 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:41,278 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:41,278 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:41 +08:00

2018-05-15 10:43:41,278 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:43:41 +08:00

2018-05-15 10:43:41,278 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:43:41,278 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:41,278 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:43:41,278 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:43:41 +08:00

2018-05-15 10:43:41,278 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:41,278 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:41,278 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:41 +08:00

2018-05-15 10:43:41,279 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:43:41 +08:00

2018-05-15 10:43:41,279 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'平台发放' = [Extent1].[Name]) AND (N'平台扣除' = [Extent1].[Name]) AND (N'积分增加' = [Extent1].[Name])
2018-05-15 10:43:41,279 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:41,279 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:43:41 +08:00

2018-05-15 10:43:41,279 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:41,279 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:41,279 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:41 +08:00

2018-05-15 10:43:41,677 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:43:41 +08:00

2018-05-15 10:43:41,677 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-05-15 10:43:41,677 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:41,678 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'PlatformUser201805051709360001' (Type = String, Size = 4000)

2018-05-15 10:43:41,678 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:43:41 +08:00

2018-05-15 10:43:41,678 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:41,678 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:41,678 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:41 +08:00

2018-05-15 10:43:41,678 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:43:41 +08:00

2018-05-15 10:43:41,678 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:43:41,678 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:41,678 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:43:41,679 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:43:41 +08:00

2018-05-15 10:43:41,679 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:41,679 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:41,679 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:41 +08:00

2018-05-15 10:43:41,679 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:43:41 +08:00

2018-05-15 10:43:41,680 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-15 10:43:41,680 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:41,680 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:43:41 +08:00

2018-05-15 10:43:41,680 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:41,680 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:41,680 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:41 +08:00

2018-05-15 10:43:41,680 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:43:41 +08:00

2018-05-15 10:43:41,680 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-15 10:43:41,680 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:41,681 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:43:41 +08:00

2018-05-15 10:43:41,681 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:41,681 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:41,681 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:41 +08:00

2018-05-15 10:43:41,681 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:43:41 +08:00

2018-05-15 10:43:41,681 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-15 10:43:41,681 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:41,681 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:43:41,681 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:43:41 +08:00

2018-05-15 10:43:41,682 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:41,682 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:41,682 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:41 +08:00

2018-05-15 10:43:41,682 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:43:41 +08:00

2018-05-15 10:43:41,682 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-15 10:43:41,682 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:41,682 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:43:41 +08:00

2018-05-15 10:43:41,683 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:41,683 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:41,683 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:41 +08:00

2018-05-15 10:43:41,683 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:43:41 +08:00

2018-05-15 10:43:41,683 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-15 10:43:41,683 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:41,683 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:43:41,683 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2' (Type = Int64, IsNullable = false)

2018-05-15 10:43:41,683 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:43:41,683 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:43:41 +08:00

2018-05-15 10:43:41,684 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:41,684 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:41,684 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:41 +08:00

2018-05-15 10:43:41,684 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:43:41 +08:00

2018-05-15 10:43:41,684 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-15 10:43:41,685 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:41,685 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:43:41,685 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '3' (Type = Int64, IsNullable = false)

2018-05-15 10:43:41,685 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:43:41,685 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:43:41 +08:00

2018-05-15 10:43:41,685 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:41,685 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:41,685 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:41 +08:00

2018-05-15 10:43:41,685 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:43:41 +08:00

2018-05-15 10:43:41,686 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 2
    ORDER BY [Project1].[CreateTime] DESC
2018-05-15 10:43:41,686 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:41,686 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:43:41,686 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:43:41 +08:00

2018-05-15 10:43:41,686 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:41,686 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:41,687 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:41 +08:00

2018-05-15 10:43:41,687 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:43:41 +08:00

2018-05-15 10:43:41,687 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:43:41,687 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:41,687 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:43:41,687 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:43:41 +08:00

2018-05-15 10:43:41,687 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:41,687 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:41,687 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:41 +08:00

2018-05-15 10:43:41,687 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:43:41 +08:00

2018-05-15 10:43:41,687 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:43:41,687 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:41,687 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-15 10:43:41,687 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:43:41 +08:00

2018-05-15 10:43:41,688 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:41,688 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:41,688 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:41 +08:00

2018-05-15 10:43:41,688 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:43:41 +08:00

2018-05-15 10:43:41,688 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:43:41,688 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:41,688 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:43:41,688 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:43:41 +08:00

2018-05-15 10:43:41,688 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:41,688 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:41,688 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:41 +08:00

2018-05-15 10:43:41,689 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:43:41 +08:00

2018-05-15 10:43:41,689 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'平台发放' = [Extent1].[Name]) AND (N'平台扣除' = [Extent1].[Name]) AND (N'积分增加' = [Extent1].[Name])
2018-05-15 10:43:41,689 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:41,689 [17] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:43:41 +08:00

2018-05-15 10:43:41,689 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:41,689 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:41,689 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:41 +08:00

2018-05-15 10:43:42,069 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:43:42 +08:00

2018-05-15 10:43:42,071 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-05-15 10:43:42,071 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:42,071 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'PlatformUser201805051709360001' (Type = String, Size = 4000)

2018-05-15 10:43:42,071 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:43:42 +08:00

2018-05-15 10:43:42,071 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:42,071 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:42,071 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:42 +08:00

2018-05-15 10:43:42,072 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:43:42 +08:00

2018-05-15 10:43:42,072 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:43:42,072 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:42,072 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:43:42,072 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:43:42 +08:00

2018-05-15 10:43:42,072 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:42,072 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:42,072 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:42 +08:00

2018-05-15 10:43:42,073 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:43:42 +08:00

2018-05-15 10:43:42,073 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-15 10:43:42,073 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:42,073 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:43:42 +08:00

2018-05-15 10:43:42,073 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:42,073 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:42,073 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:42 +08:00

2018-05-15 10:43:42,073 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:43:42 +08:00

2018-05-15 10:43:42,074 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-15 10:43:42,074 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:42,074 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:43:42 +08:00

2018-05-15 10:43:42,074 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:42,074 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:42,074 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:42 +08:00

2018-05-15 10:43:42,074 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:43:42 +08:00

2018-05-15 10:43:42,074 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-15 10:43:42,074 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:42,074 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:43:42,075 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:43:42 +08:00

2018-05-15 10:43:42,075 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:42,075 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:42,075 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:42 +08:00

2018-05-15 10:43:42,075 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:43:42 +08:00

2018-05-15 10:43:42,076 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-15 10:43:42,076 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:42,076 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:43:42 +08:00

2018-05-15 10:43:42,076 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:42,076 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:42,076 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:42 +08:00

2018-05-15 10:43:42,077 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:43:42 +08:00

2018-05-15 10:43:42,077 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-15 10:43:42,077 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:42,077 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:43:42,077 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2' (Type = Int64, IsNullable = false)

2018-05-15 10:43:42,077 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:43:42,077 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:43:42 +08:00

2018-05-15 10:43:42,077 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:42,077 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:42,077 [22] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:42 +08:00

2018-05-15 10:43:42,078 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:43:42 +08:00

2018-05-15 10:43:42,078 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-15 10:43:42,078 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:42,078 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:43:42,078 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '3' (Type = Int64, IsNullable = false)

2018-05-15 10:43:42,078 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:43:42,078 [21] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:43:42 +08:00

2018-05-15 10:43:42,079 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:42,079 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:42,079 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:42 +08:00

2018-05-15 10:43:42,079 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:43:42 +08:00

2018-05-15 10:43:42,080 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 3
    ORDER BY [Project1].[CreateTime] DESC
2018-05-15 10:43:42,080 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:42,080 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:43:42,080 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:43:42 +08:00

2018-05-15 10:43:42,080 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:42,080 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:42,080 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:42 +08:00

2018-05-15 10:43:42,081 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:43:42 +08:00

2018-05-15 10:43:42,081 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:43:42,081 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:42,081 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '6' (Type = Int64, IsNullable = false)

2018-05-15 10:43:42,081 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:43:42 +08:00

2018-05-15 10:43:42,081 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:42,081 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:42,081 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:42 +08:00

2018-05-15 10:43:42,081 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:43:42 +08:00

2018-05-15 10:43:42,081 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:43:42,081 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:42,081 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:43:42,081 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:43:42 +08:00

2018-05-15 10:43:42,082 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:42,082 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:42,082 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:42 +08:00

2018-05-15 10:43:42,082 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:43:42 +08:00

2018-05-15 10:43:42,082 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'平台发放' = [Extent1].[Name]) AND (N'平台扣除' = [Extent1].[Name]) AND (N'积分增加' = [Extent1].[Name])
2018-05-15 10:43:42,082 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:42,082 [5] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:43:42 +08:00

2018-05-15 10:43:42,083 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:43:42,083 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:43:42,083 [18] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:43:42 +08:00

2018-05-15 10:53:29,667 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:53:29 +08:00

2018-05-15 10:53:29,679 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：
SELECT Count(*)
FROM INFORMATION_SCHEMA.TABLES AS t
WHERE t.TABLE_SCHEMA + '.' + t.TABLE_NAME IN ('dbo.T_AdminLogs','dbo.T_Admins','dbo.T_Permissions','dbo.T_PermissionTypes','dbo.T_IntegralTypes','dbo.T_Journals','dbo.T_PlatformUsers','dbo.T_PlatformUserTypes','dbo.T_JournalTypes','dbo.T_NavBars','dbo.T_Settings','dbo.T_SettingTypes','dbo.T_States','dbo.T_TakeCashes','dbo.T_AdminPermissions')
    OR t.TABLE_NAME = 'EdmMetadata'
2018-05-15 10:53:29,679 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:53:29,679 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:53:29 +08:00

2018-05-15 10:53:29,683 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: 15

2018-05-15 10:53:29,683 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:53:29,683 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:53:29 +08:00

2018-05-15 10:53:29,775 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:53:29 +08:00

2018-05-15 10:53:30,697 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[__MigrationHistory] AS [Extent1]
        WHERE [Extent1].[ContextKey] = @p__linq__0
    )  AS [GroupBy1]
2018-05-15 10:53:30,697 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:53:30,697 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'IMS.Service.MyDbContext' (Type = String, Size = 4000)

2018-05-15 10:53:30,697 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:53:30 +08:00

2018-05-15 10:53:30,697 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Failed in 2 ms with error: 对象名 'dbo.__MigrationHistory' 无效。

2018-05-15 10:53:30,697 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:53:30,697 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:53:30 +08:00

2018-05-15 10:53:30,697 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:53:30 +08:00

2018-05-15 10:53:30,697 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[__MigrationHistory] AS [Extent1]
    )  AS [GroupBy1]
2018-05-15 10:53:30,697 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:53:30,697 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:53:30 +08:00

2018-05-15 10:53:30,697 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Failed in 0 ms with error: 对象名 'dbo.__MigrationHistory' 无效。

2018-05-15 10:53:30,697 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:53:30,697 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:53:30 +08:00

2018-05-15 10:53:30,853 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:53:30 +08:00

2018-05-15 10:53:31,010 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-05-15 10:53:31,010 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:53:31,010 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'PlatformUser201805051709360001' (Type = String, Size = 4000)

2018-05-15 10:53:31,010 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:53:31 +08:00

2018-05-15 10:53:31,025 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 9 ms with result: SqlDataReader

2018-05-15 10:53:31,025 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:53:31,088 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:53:31 +08:00

2018-05-15 10:53:31,103 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:53:31 +08:00

2018-05-15 10:53:31,135 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:53:31,135 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:53:31,135 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:53:31,135 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:53:31 +08:00

2018-05-15 10:53:31,135 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:53:31,135 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:53:31,166 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:53:31 +08:00

2018-05-15 10:53:31,182 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:53:31 +08:00

2018-05-15 10:53:31,182 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-15 10:53:31,182 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:53:31,182 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:53:31 +08:00

2018-05-15 10:53:31,182 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:53:31,182 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:53:31,182 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:53:31 +08:00

2018-05-15 10:53:31,182 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:53:31 +08:00

2018-05-15 10:53:31,182 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-15 10:53:31,182 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:53:31,182 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:53:31 +08:00

2018-05-15 10:53:31,182 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:53:31,182 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:53:31,182 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:53:31 +08:00

2018-05-15 10:53:31,197 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:53:31 +08:00

2018-05-15 10:53:31,213 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-15 10:53:31,213 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:53:31,213 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:53:31,213 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:53:31 +08:00

2018-05-15 10:53:31,213 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-15 10:53:31,213 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:53:31,228 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:53:31 +08:00

2018-05-15 10:53:31,228 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:53:31 +08:00

2018-05-15 10:53:31,228 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-15 10:53:31,228 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:53:31,228 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:53:31 +08:00

2018-05-15 10:53:31,228 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:53:31,228 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:53:31,228 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:53:31 +08:00

2018-05-15 10:53:31,244 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:53:31 +08:00

2018-05-15 10:53:31,244 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-15 10:53:31,244 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:53:31,244 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:53:31,244 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2' (Type = Int64, IsNullable = false)

2018-05-15 10:53:31,244 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:53:31,244 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:53:31 +08:00

2018-05-15 10:53:31,260 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-15 10:53:31,260 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:53:31,260 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:53:31 +08:00

2018-05-15 10:53:31,260 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:53:31 +08:00

2018-05-15 10:53:31,260 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-15 10:53:31,260 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:53:31,260 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:53:31,260 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '3' (Type = Int64, IsNullable = false)

2018-05-15 10:53:31,260 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:53:31,260 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:53:31 +08:00

2018-05-15 10:53:31,260 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:53:31,260 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:53:31,260 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:53:31 +08:00

2018-05-15 10:53:31,275 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:53:31 +08:00

2018-05-15 10:53:31,307 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-15 10:53:31,307 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:53:31,307 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:53:31,307 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:53:31 +08:00

2018-05-15 10:53:31,307 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2018-05-15 10:53:31,307 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:53:31,307 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:53:31 +08:00

2018-05-15 10:53:31,322 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:53:31 +08:00

2018-05-15 10:53:31,322 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:53:31,322 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:53:31,322 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:53:31,322 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:53:31 +08:00

2018-05-15 10:53:31,322 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:53:31,322 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:53:31,322 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:53:31 +08:00

2018-05-15 10:53:31,338 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:53:31 +08:00

2018-05-15 10:53:31,338 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:53:31,338 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:53:31,338 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-15 10:53:31,338 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:53:31 +08:00

2018-05-15 10:53:31,338 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:53:31,338 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:53:31,338 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:53:31 +08:00

2018-05-15 10:53:31,338 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:53:31 +08:00

2018-05-15 10:53:31,338 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:53:31,338 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:53:31,338 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:53:31,338 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:53:31 +08:00

2018-05-15 10:53:31,338 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:53:31,338 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:53:31,338 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:53:31 +08:00

2018-05-15 10:53:31,338 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:53:31 +08:00

2018-05-15 10:53:31,338 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'平台发放' = [Extent1].[Name]) AND (N'平台扣除' = [Extent1].[Name]) AND (N'积分增加' = [Extent1].[Name])
2018-05-15 10:53:31,338 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:53:31,338 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:53:31 +08:00

2018-05-15 10:53:31,338 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:53:31,338 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:53:31,338 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:53:31 +08:00

2018-05-15 10:53:38,541 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:53:38 +08:00

2018-05-15 10:53:38,541 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-05-15 10:53:38,542 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:53:38,542 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'PlatformUser201805051709360001' (Type = String, Size = 4000)

2018-05-15 10:53:38,542 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:53:38 +08:00

2018-05-15 10:53:38,581 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 39 ms with result: SqlDataReader

2018-05-15 10:53:38,581 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:53:38,581 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:53:38 +08:00

2018-05-15 10:53:38,582 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:53:38 +08:00

2018-05-15 10:53:38,582 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:53:38,582 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:53:38,582 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:53:38,582 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:53:38 +08:00

2018-05-15 10:53:38,619 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 36 ms with result: SqlDataReader

2018-05-15 10:53:38,619 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:53:38,619 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:53:38 +08:00

2018-05-15 10:53:38,620 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:53:38 +08:00

2018-05-15 10:53:38,620 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-15 10:53:38,620 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:53:38,620 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:53:38 +08:00

2018-05-15 10:53:38,677 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 57 ms with result: SqlDataReader

2018-05-15 10:53:38,677 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:53:38,678 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:53:38 +08:00

2018-05-15 10:53:38,678 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:53:38 +08:00

2018-05-15 10:53:38,678 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-15 10:53:38,678 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:53:38,678 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:53:38 +08:00

2018-05-15 10:53:38,762 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 84 ms with result: SqlDataReader

2018-05-15 10:53:38,762 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:53:38,762 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:53:38 +08:00

2018-05-15 10:53:38,763 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:53:38 +08:00

2018-05-15 10:53:38,763 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-15 10:53:38,763 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:53:38,763 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:53:38,763 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:53:38 +08:00

2018-05-15 10:53:38,808 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 44 ms with result: SqlDataReader

2018-05-15 10:53:38,808 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:53:38,808 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:53:38 +08:00

2018-05-15 10:53:38,808 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:53:38 +08:00

2018-05-15 10:53:38,808 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-15 10:53:38,809 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:53:38,809 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:53:38 +08:00

2018-05-15 10:53:38,867 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 58 ms with result: SqlDataReader

2018-05-15 10:53:38,868 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:53:38,868 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:53:38 +08:00

2018-05-15 10:53:38,868 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:53:38 +08:00

2018-05-15 10:53:38,868 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-15 10:53:38,869 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:53:38,869 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:53:38,869 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2' (Type = Int64, IsNullable = false)

2018-05-15 10:53:38,869 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:53:38,869 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:53:38 +08:00

2018-05-15 10:53:38,881 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 12 ms with result: SqlDataReader

2018-05-15 10:53:38,881 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:53:38,881 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:53:38 +08:00

2018-05-15 10:53:38,882 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:53:38 +08:00

2018-05-15 10:53:38,882 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-15 10:53:38,882 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:53:38,882 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:53:38,882 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '3' (Type = Int64, IsNullable = false)

2018-05-15 10:53:38,882 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:53:38,882 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:53:38 +08:00

2018-05-15 10:53:38,883 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:53:38,883 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:53:38,883 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:53:38 +08:00

2018-05-15 10:53:38,886 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:53:38 +08:00

2018-05-15 10:53:38,887 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-15 10:53:38,887 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:53:38,887 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:53:38,888 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:53:38 +08:00

2018-05-15 10:53:38,924 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 36 ms with result: SqlDataReader

2018-05-15 10:53:38,924 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:53:38,925 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:53:38 +08:00

2018-05-15 10:53:38,925 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:53:38 +08:00

2018-05-15 10:53:38,925 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:53:38,925 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:53:38,925 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:53:38,925 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:53:38 +08:00

2018-05-15 10:53:38,925 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:53:38,925 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:53:38,926 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:53:38 +08:00

2018-05-15 10:53:38,926 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:53:38 +08:00

2018-05-15 10:53:38,926 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:53:38,926 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:53:38,926 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-15 10:53:38,926 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:53:38 +08:00

2018-05-15 10:53:38,926 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:53:38,926 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:53:38,926 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:53:38 +08:00

2018-05-15 10:53:38,927 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:53:38 +08:00

2018-05-15 10:53:38,927 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:53:38,927 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:53:38,927 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:53:38,927 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:53:38 +08:00

2018-05-15 10:53:38,927 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:53:38,927 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:53:38,927 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:53:38 +08:00

2018-05-15 10:53:38,928 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:53:38 +08:00

2018-05-15 10:53:38,928 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'平台发放' = [Extent1].[Name]) AND (N'平台扣除' = [Extent1].[Name]) AND (N'积分增加' = [Extent1].[Name])
2018-05-15 10:53:38,928 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:53:38,928 [19] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:53:38 +08:00

2018-05-15 10:53:38,928 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:53:38,928 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:53:38,928 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:53:38 +08:00

2018-05-15 10:55:56,632 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:55:56 +08:00

2018-05-15 10:55:56,632 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-05-15 10:55:56,632 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:55:56,633 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'PlatformUser201805051709360001' (Type = String, Size = 4000)

2018-05-15 10:55:56,633 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:55:56 +08:00

2018-05-15 10:55:56,633 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:55:56,633 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:55:56,634 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:55:56 +08:00

2018-05-15 10:55:56,634 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:55:56 +08:00

2018-05-15 10:55:56,634 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:55:56,634 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:55:56,634 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:55:56,634 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:55:56 +08:00

2018-05-15 10:55:56,635 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 10:55:56,636 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:55:56,636 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:55:56 +08:00

2018-05-15 10:55:56,636 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:55:56 +08:00

2018-05-15 10:55:56,636 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-15 10:55:56,637 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:55:56,637 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:55:56 +08:00

2018-05-15 10:55:56,637 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:55:56,637 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:55:56,637 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:55:56 +08:00

2018-05-15 10:55:56,637 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:55:56 +08:00

2018-05-15 10:55:56,637 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-15 10:55:56,637 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:55:56,637 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:55:56 +08:00

2018-05-15 10:55:56,638 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:55:56,638 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:55:56,638 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:55:56 +08:00

2018-05-15 10:55:56,638 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:55:56 +08:00

2018-05-15 10:55:56,638 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-15 10:55:56,638 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:55:56,638 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:55:56,638 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:55:56 +08:00

2018-05-15 10:55:56,639 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 10:55:56,639 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:55:56,640 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:55:56 +08:00

2018-05-15 10:55:56,640 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:55:56 +08:00

2018-05-15 10:55:56,640 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-15 10:55:56,640 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:55:56,640 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:55:56 +08:00

2018-05-15 10:55:56,641 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:55:56,641 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:55:56,641 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:55:56 +08:00

2018-05-15 10:55:56,641 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:55:56 +08:00

2018-05-15 10:55:56,641 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-15 10:55:56,642 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:55:56,642 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:55:56,642 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2' (Type = Int64, IsNullable = false)

2018-05-15 10:55:56,642 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:55:56,642 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:55:56 +08:00

2018-05-15 10:55:56,642 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:55:56,642 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:55:56,643 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:55:56 +08:00

2018-05-15 10:55:56,643 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:55:56 +08:00

2018-05-15 10:55:56,643 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-15 10:55:56,643 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:55:56,643 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:55:56,643 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '3' (Type = Int64, IsNullable = false)

2018-05-15 10:55:56,643 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:55:56,643 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:55:56 +08:00

2018-05-15 10:55:56,644 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:55:56,644 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:55:56,644 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:55:56 +08:00

2018-05-15 10:55:56,644 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:55:56 +08:00

2018-05-15 10:55:56,645 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-15 10:55:56,645 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:55:56,645 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:55:56,645 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:55:56 +08:00

2018-05-15 10:55:56,653 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 8 ms with result: SqlDataReader

2018-05-15 10:55:56,653 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:55:56,653 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:55:56 +08:00

2018-05-15 10:55:56,654 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:55:56 +08:00

2018-05-15 10:55:56,654 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:55:56,654 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:55:56,654 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:55:56,654 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:55:56 +08:00

2018-05-15 10:55:56,654 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:55:56,654 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:55:56,655 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:55:56 +08:00

2018-05-15 10:55:56,655 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:55:56 +08:00

2018-05-15 10:55:56,655 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:55:56,655 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:55:56,655 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-15 10:55:56,655 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:55:56 +08:00

2018-05-15 10:55:56,655 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:55:56,655 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:55:56,655 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:55:56 +08:00

2018-05-15 10:55:56,656 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:55:56 +08:00

2018-05-15 10:55:56,656 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:55:56,656 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:55:56,656 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:55:56,656 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:55:56 +08:00

2018-05-15 10:55:56,656 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:55:56,656 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:55:56,656 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:55:56 +08:00

2018-05-15 10:55:56,656 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:55:56 +08:00

2018-05-15 10:55:56,657 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'平台发放' = [Extent1].[Name]) AND (N'平台扣除' = [Extent1].[Name]) AND (N'积分增加' = [Extent1].[Name])
2018-05-15 10:55:56,657 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:55:56,657 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:55:56 +08:00

2018-05-15 10:55:56,658 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 10:55:56,658 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:55:56,658 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:55:56 +08:00

2018-05-15 10:55:59,865 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:55:59 +08:00

2018-05-15 10:55:59,865 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-05-15 10:55:59,865 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:55:59,865 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'PlatformUser201805051709360001' (Type = String, Size = 4000)

2018-05-15 10:55:59,865 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:55:59 +08:00

2018-05-15 10:55:59,867 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-15 10:55:59,868 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:55:59,868 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:55:59 +08:00

2018-05-15 10:55:59,868 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:55:59 +08:00

2018-05-15 10:55:59,868 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:55:59,868 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:55:59,868 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:55:59,868 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:55:59 +08:00

2018-05-15 10:55:59,875 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 6 ms with result: SqlDataReader

2018-05-15 10:55:59,875 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:55:59,875 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:55:59 +08:00

2018-05-15 10:55:59,876 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:55:59 +08:00

2018-05-15 10:55:59,876 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-15 10:55:59,876 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:55:59,876 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:55:59 +08:00

2018-05-15 10:55:59,877 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:55:59,877 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:55:59,877 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:55:59 +08:00

2018-05-15 10:55:59,877 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:55:59 +08:00

2018-05-15 10:55:59,877 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-15 10:55:59,877 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:55:59,877 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:55:59 +08:00

2018-05-15 10:55:59,877 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:55:59,877 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:55:59,878 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:55:59 +08:00

2018-05-15 10:55:59,878 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:55:59 +08:00

2018-05-15 10:55:59,878 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-15 10:55:59,878 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:55:59,878 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:55:59,878 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:55:59 +08:00

2018-05-15 10:55:59,883 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 5 ms with result: SqlDataReader

2018-05-15 10:55:59,883 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:55:59,884 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:55:59 +08:00

2018-05-15 10:55:59,884 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:55:59 +08:00

2018-05-15 10:55:59,884 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-15 10:55:59,884 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:55:59,885 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:55:59 +08:00

2018-05-15 10:55:59,885 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:55:59,885 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:55:59,885 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:55:59 +08:00

2018-05-15 10:55:59,885 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:55:59 +08:00

2018-05-15 10:55:59,886 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-15 10:55:59,886 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:55:59,886 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:55:59,886 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2' (Type = Int64, IsNullable = false)

2018-05-15 10:55:59,886 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:55:59,886 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:55:59 +08:00

2018-05-15 10:55:59,886 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:55:59,886 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:55:59,887 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:55:59 +08:00

2018-05-15 10:55:59,887 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:55:59 +08:00

2018-05-15 10:55:59,887 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-15 10:55:59,887 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:55:59,887 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:55:59,887 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '3' (Type = Int64, IsNullable = false)

2018-05-15 10:55:59,887 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:55:59,887 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:55:59 +08:00

2018-05-15 10:55:59,888 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:55:59,888 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:55:59,888 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:55:59 +08:00

2018-05-15 10:55:59,888 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:55:59 +08:00

2018-05-15 10:55:59,888 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-15 10:55:59,888 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:55:59,888 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:55:59,888 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:55:59 +08:00

2018-05-15 10:55:59,889 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:55:59,889 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:55:59,889 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:55:59 +08:00

2018-05-15 10:55:59,889 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:55:59 +08:00

2018-05-15 10:55:59,889 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:55:59,889 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:55:59,889 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:55:59,891 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:55:59 +08:00

2018-05-15 10:55:59,892 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:55:59,892 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:55:59,892 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:55:59 +08:00

2018-05-15 10:55:59,892 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:55:59 +08:00

2018-05-15 10:55:59,892 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:55:59,892 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:55:59,892 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-15 10:55:59,892 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:55:59 +08:00

2018-05-15 10:55:59,892 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:55:59,892 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:55:59,893 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:55:59 +08:00

2018-05-15 10:55:59,893 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:55:59 +08:00

2018-05-15 10:55:59,893 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:55:59,893 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:55:59,893 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:55:59,893 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:55:59 +08:00

2018-05-15 10:55:59,893 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:55:59,893 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:55:59,893 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:55:59 +08:00

2018-05-15 10:55:59,894 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:55:59 +08:00

2018-05-15 10:55:59,894 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'平台发放' = [Extent1].[Name]) AND (N'平台扣除' = [Extent1].[Name]) AND (N'积分增加' = [Extent1].[Name])
2018-05-15 10:55:59,894 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:55:59,894 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:55:59 +08:00

2018-05-15 10:55:59,894 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:55:59,894 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:55:59,894 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:55:59 +08:00

2018-05-15 10:57:09,900 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:57:09 +08:00

2018-05-15 10:57:09,901 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-05-15 10:57:09,901 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:57:09,901 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'PlatformUser201805051709360001' (Type = String, Size = 4000)

2018-05-15 10:57:09,901 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:57:09 +08:00

2018-05-15 10:57:09,923 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 21 ms with result: SqlDataReader

2018-05-15 10:57:09,923 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:57:09,923 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:57:09 +08:00

2018-05-15 10:57:09,923 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:57:09 +08:00

2018-05-15 10:57:09,923 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:57:09,923 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:57:09,923 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:57:09,923 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:57:09 +08:00

2018-05-15 10:57:09,924 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:57:09,924 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:57:09,924 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:57:09 +08:00

2018-05-15 10:57:09,925 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:57:09 +08:00

2018-05-15 10:57:09,925 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-15 10:57:09,925 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:57:09,925 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:57:09 +08:00

2018-05-15 10:57:09,926 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:57:09,926 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:57:09,926 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:57:09 +08:00

2018-05-15 10:57:09,926 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:57:09 +08:00

2018-05-15 10:57:09,926 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-15 10:57:09,926 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:57:09,926 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:57:09 +08:00

2018-05-15 10:57:09,926 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:57:09,926 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:57:09,926 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:57:09 +08:00

2018-05-15 10:57:09,927 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:57:09 +08:00

2018-05-15 10:57:09,927 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-15 10:57:09,927 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:57:09,927 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:57:09,927 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:57:09 +08:00

2018-05-15 10:57:09,927 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:57:09,927 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:57:09,927 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:57:09 +08:00

2018-05-15 10:57:09,929 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:57:09 +08:00

2018-05-15 10:57:09,929 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-15 10:57:09,929 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:57:09,929 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:57:09 +08:00

2018-05-15 10:57:09,929 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:57:09,929 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:57:09,930 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:57:09 +08:00

2018-05-15 10:57:09,930 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:57:09 +08:00

2018-05-15 10:57:09,931 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-15 10:57:09,931 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:57:09,931 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:57:09,931 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2' (Type = Int64, IsNullable = false)

2018-05-15 10:57:09,931 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:57:09,931 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:57:09 +08:00

2018-05-15 10:57:09,932 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:57:09,932 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:57:09,932 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:57:09 +08:00

2018-05-15 10:57:09,932 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:57:09 +08:00

2018-05-15 10:57:09,932 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-15 10:57:09,932 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:57:09,932 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:57:09,932 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '3' (Type = Int64, IsNullable = false)

2018-05-15 10:57:09,932 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:57:09,933 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:57:09 +08:00

2018-05-15 10:57:09,933 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:57:09,933 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:57:09,933 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:57:09 +08:00

2018-05-15 10:57:09,933 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:57:09 +08:00

2018-05-15 10:57:09,933 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-15 10:57:09,934 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:57:09,934 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:57:09,934 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:57:09 +08:00

2018-05-15 10:57:09,934 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:57:09,934 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:57:09,934 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:57:09 +08:00

2018-05-15 10:57:09,934 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:57:09 +08:00

2018-05-15 10:57:09,935 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:57:09,935 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:57:09,935 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:57:09,935 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:57:09 +08:00

2018-05-15 10:57:09,935 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:57:09,935 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:57:09,935 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:57:09 +08:00

2018-05-15 10:57:09,935 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:57:09 +08:00

2018-05-15 10:57:09,935 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:57:09,935 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:57:09,935 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-15 10:57:09,935 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:57:09 +08:00

2018-05-15 10:57:09,936 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:57:09,936 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:57:09,936 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:57:09 +08:00

2018-05-15 10:57:09,936 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:57:09 +08:00

2018-05-15 10:57:09,936 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:57:09,936 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:57:09,936 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:57:09,936 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:57:09 +08:00

2018-05-15 10:57:09,936 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:57:09,936 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:57:09,936 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:57:09 +08:00

2018-05-15 10:57:09,937 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:57:09 +08:00

2018-05-15 10:57:09,937 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'平台发放' = [Extent1].[Name]) AND (N'平台扣除' = [Extent1].[Name]) AND (N'积分增加' = [Extent1].[Name])
2018-05-15 10:57:09,937 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:57:09,937 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:57:09 +08:00

2018-05-15 10:57:09,938 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:57:09,938 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:57:09,938 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:57:09 +08:00

2018-05-15 10:58:33,356 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:58:33 +08:00

2018-05-15 10:58:33,369 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：
SELECT Count(*)
FROM INFORMATION_SCHEMA.TABLES AS t
WHERE t.TABLE_SCHEMA + '.' + t.TABLE_NAME IN ('dbo.T_AdminLogs','dbo.T_Admins','dbo.T_Permissions','dbo.T_PermissionTypes','dbo.T_IntegralTypes','dbo.T_Journals','dbo.T_PlatformUsers','dbo.T_PlatformUserTypes','dbo.T_JournalTypes','dbo.T_NavBars','dbo.T_Settings','dbo.T_SettingTypes','dbo.T_States','dbo.T_TakeCashes','dbo.T_AdminPermissions')
    OR t.TABLE_NAME = 'EdmMetadata'
2018-05-15 10:58:33,369 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:58:33,369 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:58:33 +08:00

2018-05-15 10:58:33,427 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 56 ms with result: 15

2018-05-15 10:58:33,427 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:58:33,427 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:58:33 +08:00

2018-05-15 10:58:33,523 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:58:33 +08:00

2018-05-15 10:58:34,427 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[__MigrationHistory] AS [Extent1]
        WHERE [Extent1].[ContextKey] = @p__linq__0
    )  AS [GroupBy1]
2018-05-15 10:58:34,427 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:58:34,431 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'IMS.Service.MyDbContext' (Type = String, Size = 4000)

2018-05-15 10:58:34,431 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:58:34 +08:00

2018-05-15 10:58:34,431 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Failed in 1 ms with error: 对象名 'dbo.__MigrationHistory' 无效。

2018-05-15 10:58:34,431 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:58:34,431 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:58:34 +08:00

2018-05-15 10:58:34,435 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:58:34 +08:00

2018-05-15 10:58:34,435 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT(1) AS [A1]
        FROM [dbo].[__MigrationHistory] AS [Extent1]
    )  AS [GroupBy1]
2018-05-15 10:58:34,435 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:58:34,435 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:58:34 +08:00

2018-05-15 10:58:34,435 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Failed in 0 ms with error: 对象名 'dbo.__MigrationHistory' 无效。

2018-05-15 10:58:34,435 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:58:34,435 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:58:34 +08:00

2018-05-15 10:58:34,575 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:58:34 +08:00

2018-05-15 10:58:34,707 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-05-15 10:58:34,707 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:58:34,707 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'PlatformUser201805051709360001' (Type = String, Size = 4000)

2018-05-15 10:58:34,711 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:58:34 +08:00

2018-05-15 10:58:34,719 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 9 ms with result: SqlDataReader

2018-05-15 10:58:34,719 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:58:34,791 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:58:34 +08:00

2018-05-15 10:58:34,803 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:58:34 +08:00

2018-05-15 10:58:34,835 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:58:34,835 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:58:34,835 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:58:34,835 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:58:34 +08:00

2018-05-15 10:58:34,835 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:58:34,835 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:58:34,871 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:58:34 +08:00

2018-05-15 10:58:34,887 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:58:34 +08:00

2018-05-15 10:58:34,895 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-15 10:58:34,895 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:58:34,895 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:58:34 +08:00

2018-05-15 10:58:34,895 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:58:34,895 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:58:34,895 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:58:34 +08:00

2018-05-15 10:58:34,895 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:58:34 +08:00

2018-05-15 10:58:34,899 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-15 10:58:34,899 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:58:34,899 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:58:34 +08:00

2018-05-15 10:58:34,899 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:58:34,899 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:58:34,899 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:58:34 +08:00

2018-05-15 10:58:34,911 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:58:34 +08:00

2018-05-15 10:58:34,919 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
    )  AS [GroupBy1]
2018-05-15 10:58:34,919 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:58:34,919 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:58:34,919 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:58:34 +08:00

2018-05-15 10:58:34,927 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 5 ms with result: SqlDataReader

2018-05-15 10:58:34,927 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:58:34,931 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:58:34 +08:00

2018-05-15 10:58:34,935 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:58:34 +08:00

2018-05-15 10:58:34,935 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-15 10:58:34,935 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:58:34,935 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:58:34 +08:00

2018-05-15 10:58:34,935 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:58:34,935 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:58:34,935 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:58:34 +08:00

2018-05-15 10:58:34,947 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:58:34 +08:00

2018-05-15 10:58:34,963 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-15 10:58:34,963 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:58:34,963 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:58:34,963 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2' (Type = Int64, IsNullable = false)

2018-05-15 10:58:34,963 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:58:34,963 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:58:34 +08:00

2018-05-15 10:58:34,963 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 2 ms with result: SqlDataReader

2018-05-15 10:58:34,963 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:58:34,971 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:58:34 +08:00

2018-05-15 10:58:34,971 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:58:34 +08:00

2018-05-15 10:58:34,971 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[ToIntegralTypeId] = @p__linq__1) AND ([Extent1].[PlatformUserId] = @p__linq__2)
    )  AS [GroupBy1]
2018-05-15 10:58:34,971 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:58:34,971 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:58:34,971 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '3' (Type = Int64, IsNullable = false)

2018-05-15 10:58:34,971 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:58:34,971 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:58:34 +08:00

2018-05-15 10:58:34,975 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:58:34,975 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:58:34,975 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:58:34 +08:00

2018-05-15 10:58:34,979 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:58:34 +08:00

2018-05-15 10:58:35,015 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-15 10:58:35,015 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:58:35,015 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:58:35,015 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:58:35 +08:00

2018-05-15 10:58:35,019 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 4 ms with result: SqlDataReader

2018-05-15 10:58:35,019 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:58:35,027 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:58:35 +08:00

2018-05-15 10:58:35,030 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:58:35 +08:00

2018-05-15 10:58:35,039 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:58:35,039 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:58:35,039 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:58:35,039 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:58:35 +08:00

2018-05-15 10:58:35,040 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:58:35,040 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:58:35,043 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:58:35 +08:00

2018-05-15 10:58:35,044 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:58:35 +08:00

2018-05-15 10:58:35,046 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:58:35,046 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:58:35,046 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-15 10:58:35,046 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:58:35 +08:00

2018-05-15 10:58:35,046 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:58:35,046 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:58:35,047 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:58:35 +08:00

2018-05-15 10:58:35,048 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:58:35 +08:00

2018-05-15 10:58:35,049 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:58:35,049 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:58:35,049 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:58:35,049 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:58:35 +08:00

2018-05-15 10:58:35,049 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:58:35,049 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:58:35,050 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:58:35 +08:00

2018-05-15 10:58:35,054 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:58:35 +08:00

2018-05-15 10:58:35,065 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Name] IN (N'平台发放',N'平台扣除',N'积分增加'))
2018-05-15 10:58:35,065 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:58:35,065 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:58:35 +08:00

2018-05-15 10:58:35,068 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2018-05-15 10:58:35,068 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:58:35,069 [20] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:58:35 +08:00

2018-05-15 10:58:39,936 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:58:39 +08:00

2018-05-15 10:58:39,936 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-05-15 10:58:39,936 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:58:39,936 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'PlatformUser201805051709360001' (Type = String, Size = 4000)

2018-05-15 10:58:39,936 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:58:39 +08:00

2018-05-15 10:58:39,942 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 5 ms with result: SqlDataReader

2018-05-15 10:58:39,942 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:58:39,942 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:58:39 +08:00

2018-05-15 10:58:39,942 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:58:39 +08:00

2018-05-15 10:58:39,943 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:58:39,943 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:58:39,943 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:58:39,943 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:58:39 +08:00

2018-05-15 10:58:39,943 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:58:39,943 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:58:39,943 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:58:39 +08:00

2018-05-15 10:58:39,944 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:58:39 +08:00

2018-05-15 10:58:39,944 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-15 10:58:39,944 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:58:39,944 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:58:39 +08:00

2018-05-15 10:58:39,945 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:58:39,945 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:58:39,945 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:58:39 +08:00

2018-05-15 10:58:39,946 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:58:39 +08:00

2018-05-15 10:58:39,946 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-15 10:58:39,946 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:58:39,946 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:58:39 +08:00

2018-05-15 10:58:39,946 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:58:39,946 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:58:39,946 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:58:39 +08:00

2018-05-15 10:58:39,947 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:58:39 +08:00

2018-05-15 10:58:39,948 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1)
    )  AS [GroupBy1]
2018-05-15 10:58:39,948 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:58:39,949 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:58:39,949 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '1' (Type = Int64)

2018-05-15 10:58:39,949 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:58:39 +08:00

2018-05-15 10:58:39,952 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2018-05-15 10:58:39,952 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:58:39,952 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:58:39 +08:00

2018-05-15 10:58:39,953 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:58:39 +08:00

2018-05-15 10:58:39,953 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-15 10:58:39,953 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:58:39,953 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:58:39 +08:00

2018-05-15 10:58:39,954 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:58:39,954 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:58:39,954 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:58:39 +08:00

2018-05-15 10:58:39,954 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:58:39 +08:00

2018-05-15 10:58:39,956 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1) AND ([Extent1].[ToIntegralTypeId] = @p__linq__2) AND ([Extent1].[PlatformUserId] = @p__linq__3)
    )  AS [GroupBy1]
2018-05-15 10:58:39,956 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:58:39,956 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:58:39,956 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '1' (Type = Int64)

2018-05-15 10:58:39,956 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2' (Type = Int64, IsNullable = false)

2018-05-15 10:58:39,956 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:58:39,956 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:58:39 +08:00

2018-05-15 10:58:39,960 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2018-05-15 10:58:39,960 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:58:39,960 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:58:39 +08:00

2018-05-15 10:58:39,961 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:58:39 +08:00

2018-05-15 10:58:39,962 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1) AND ([Extent1].[ToIntegralTypeId] = @p__linq__2) AND ([Extent1].[PlatformUserId] = @p__linq__3)
    )  AS [GroupBy1]
2018-05-15 10:58:39,962 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:58:39,962 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:58:39,962 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '1' (Type = Int64)

2018-05-15 10:58:39,962 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '3' (Type = Int64, IsNullable = false)

2018-05-15 10:58:39,962 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:58:39,962 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:58:39 +08:00

2018-05-15 10:58:39,963 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:58:39,963 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:58:39,963 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:58:39 +08:00

2018-05-15 10:58:39,963 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:58:39 +08:00

2018-05-15 10:58:39,965 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-15 10:58:39,965 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:58:39,965 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:58:39,965 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '1' (Type = Int64)

2018-05-15 10:58:39,965 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:58:39 +08:00

2018-05-15 10:58:39,970 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 4 ms with result: SqlDataReader

2018-05-15 10:58:39,970 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:58:39,971 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:58:39 +08:00

2018-05-15 10:58:39,971 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:58:39 +08:00

2018-05-15 10:58:39,971 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:58:39,971 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:58:39,971 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:58:39,971 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:58:39 +08:00

2018-05-15 10:58:39,972 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:58:39,972 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:58:39,972 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:58:39 +08:00

2018-05-15 10:58:39,972 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:58:39 +08:00

2018-05-15 10:58:39,972 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:58:39,972 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:58:39,972 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-15 10:58:39,972 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:58:39 +08:00

2018-05-15 10:58:39,972 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:58:39,973 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:58:39,973 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:58:39 +08:00

2018-05-15 10:58:39,973 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:58:39 +08:00

2018-05-15 10:58:39,973 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:58:39,973 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:58:39,973 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:58:39,973 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:58:39 +08:00

2018-05-15 10:58:39,973 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:58:39,973 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:58:39,974 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:58:39 +08:00

2018-05-15 10:58:39,974 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:58:39 +08:00

2018-05-15 10:58:39,974 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Name] IN (N'平台发放',N'平台扣除',N'积分增加'))
2018-05-15 10:58:39,974 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:58:39,974 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:58:39 +08:00

2018-05-15 10:58:39,975 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:58:39,975 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:58:39,975 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:58:39 +08:00

2018-05-15 10:58:41,814 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:58:41 +08:00

2018-05-15 10:58:41,814 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-05-15 10:58:41,815 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:58:41,815 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'PlatformUser201805051709360001' (Type = String, Size = 4000)

2018-05-15 10:58:41,815 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:58:41 +08:00

2018-05-15 10:58:41,815 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:58:41,815 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:58:41,815 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:58:41 +08:00

2018-05-15 10:58:41,816 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:58:41 +08:00

2018-05-15 10:58:41,816 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:58:41,816 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:58:41,816 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:58:41,816 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:58:41 +08:00

2018-05-15 10:58:41,838 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 21 ms with result: SqlDataReader

2018-05-15 10:58:41,838 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:58:41,838 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:58:41 +08:00

2018-05-15 10:58:41,838 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:58:41 +08:00

2018-05-15 10:58:41,839 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-15 10:58:41,839 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:58:41,839 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:58:41 +08:00

2018-05-15 10:58:41,844 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 5 ms with result: SqlDataReader

2018-05-15 10:58:41,844 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:58:41,844 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:58:41 +08:00

2018-05-15 10:58:41,844 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:58:41 +08:00

2018-05-15 10:58:41,845 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-15 10:58:41,845 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:58:41,845 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:58:41 +08:00

2018-05-15 10:58:41,846 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:58:41,846 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:58:41,846 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:58:41 +08:00

2018-05-15 10:58:41,846 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:58:41 +08:00

2018-05-15 10:58:41,846 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1)
    )  AS [GroupBy1]
2018-05-15 10:58:41,846 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:58:41,846 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:58:41,846 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '1' (Type = Int64)

2018-05-15 10:58:41,846 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:58:41 +08:00

2018-05-15 10:58:41,847 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:58:41,847 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:58:41,848 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:58:41 +08:00

2018-05-15 10:58:41,850 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:58:41 +08:00

2018-05-15 10:58:41,850 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-15 10:58:41,850 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:58:41,850 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:58:41 +08:00

2018-05-15 10:58:41,851 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:58:41,851 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:58:41,851 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:58:41 +08:00

2018-05-15 10:58:41,851 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:58:41 +08:00

2018-05-15 10:58:41,852 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1) AND ([Extent1].[ToIntegralTypeId] = @p__linq__2) AND ([Extent1].[PlatformUserId] = @p__linq__3)
    )  AS [GroupBy1]
2018-05-15 10:58:41,852 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:58:41,852 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:58:41,852 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '1' (Type = Int64)

2018-05-15 10:58:41,852 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2' (Type = Int64, IsNullable = false)

2018-05-15 10:58:41,852 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:58:41,852 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:58:41 +08:00

2018-05-15 10:58:41,853 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:58:41,853 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:58:41,853 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:58:41 +08:00

2018-05-15 10:58:41,853 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:58:41 +08:00

2018-05-15 10:58:41,854 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1) AND ([Extent1].[ToIntegralTypeId] = @p__linq__2) AND ([Extent1].[PlatformUserId] = @p__linq__3)
    )  AS [GroupBy1]
2018-05-15 10:58:41,854 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:58:41,854 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:58:41,854 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '1' (Type = Int64)

2018-05-15 10:58:41,854 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '3' (Type = Int64, IsNullable = false)

2018-05-15 10:58:41,854 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:58:41,854 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:58:41 +08:00

2018-05-15 10:58:41,854 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:58:41,854 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:58:41,854 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:58:41 +08:00

2018-05-15 10:58:41,855 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:58:41 +08:00

2018-05-15 10:58:41,858 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 1
    ORDER BY [Project1].[CreateTime] DESC
2018-05-15 10:58:41,858 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:58:41,858 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:58:41,858 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '1' (Type = Int64)

2018-05-15 10:58:41,858 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:58:41 +08:00

2018-05-15 10:58:41,862 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2018-05-15 10:58:41,862 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:58:41,862 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:58:41 +08:00

2018-05-15 10:58:41,862 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:58:41 +08:00

2018-05-15 10:58:41,862 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:58:41,863 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:58:41,863 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:58:41,863 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:58:41 +08:00

2018-05-15 10:58:41,863 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:58:41,863 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:58:41,863 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:58:41 +08:00

2018-05-15 10:58:41,863 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:58:41 +08:00

2018-05-15 10:58:41,864 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:58:41,864 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:58:41,864 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-15 10:58:41,864 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:58:41 +08:00

2018-05-15 10:58:41,864 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:58:41,864 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:58:41,864 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:58:41 +08:00

2018-05-15 10:58:41,864 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:58:41 +08:00

2018-05-15 10:58:41,865 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:58:41,865 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:58:41,865 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:58:41,865 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:58:41 +08:00

2018-05-15 10:58:41,865 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:58:41,865 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:58:41,865 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:58:41 +08:00

2018-05-15 10:58:41,866 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:58:41 +08:00

2018-05-15 10:58:41,866 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Name] IN (N'平台发放',N'平台扣除',N'积分增加'))
2018-05-15 10:58:41,866 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:58:41,866 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:58:41 +08:00

2018-05-15 10:58:41,868 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 10:58:41,868 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:58:41,868 [14] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:58:41 +08:00

2018-05-15 10:58:42,493 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:58:42 +08:00

2018-05-15 10:58:42,494 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-05-15 10:58:42,495 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:58:42,495 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'PlatformUser201805051709360001' (Type = String, Size = 4000)

2018-05-15 10:58:42,495 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:58:42 +08:00

2018-05-15 10:58:42,495 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:58:42,495 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:58:42,495 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:58:42 +08:00

2018-05-15 10:58:42,495 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:58:42 +08:00

2018-05-15 10:58:42,496 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:58:42,496 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:58:42,496 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:58:42,496 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:58:42 +08:00

2018-05-15 10:58:42,496 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:58:42,496 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:58:42,497 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:58:42 +08:00

2018-05-15 10:58:42,497 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:58:42 +08:00

2018-05-15 10:58:42,497 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-15 10:58:42,497 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:58:42,497 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:58:42 +08:00

2018-05-15 10:58:42,498 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:58:42,498 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:58:42,498 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:58:42 +08:00

2018-05-15 10:58:42,498 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:58:42 +08:00

2018-05-15 10:58:42,498 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-15 10:58:42,498 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:58:42,498 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:58:42 +08:00

2018-05-15 10:58:42,498 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:58:42,498 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:58:42,499 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:58:42 +08:00

2018-05-15 10:58:42,499 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:58:42 +08:00

2018-05-15 10:58:42,499 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1)
    )  AS [GroupBy1]
2018-05-15 10:58:42,499 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:58:42,499 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:58:42,499 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '1' (Type = Int64)

2018-05-15 10:58:42,499 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:58:42 +08:00

2018-05-15 10:58:42,499 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:58:42,499 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:58:42,500 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:58:42 +08:00

2018-05-15 10:58:42,500 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:58:42 +08:00

2018-05-15 10:58:42,500 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-15 10:58:42,500 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:58:42,500 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:58:42 +08:00

2018-05-15 10:58:42,501 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:58:42,501 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:58:42,501 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:58:42 +08:00

2018-05-15 10:58:42,501 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:58:42 +08:00

2018-05-15 10:58:42,501 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1) AND ([Extent1].[ToIntegralTypeId] = @p__linq__2) AND ([Extent1].[PlatformUserId] = @p__linq__3)
    )  AS [GroupBy1]
2018-05-15 10:58:42,501 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:58:42,501 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:58:42,501 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '1' (Type = Int64)

2018-05-15 10:58:42,501 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2' (Type = Int64, IsNullable = false)

2018-05-15 10:58:42,501 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:58:42,501 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:58:42 +08:00

2018-05-15 10:58:42,502 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:58:42,502 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:58:42,506 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:58:42 +08:00

2018-05-15 10:58:42,507 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:58:42 +08:00

2018-05-15 10:58:42,507 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1) AND ([Extent1].[ToIntegralTypeId] = @p__linq__2) AND ([Extent1].[PlatformUserId] = @p__linq__3)
    )  AS [GroupBy1]
2018-05-15 10:58:42,507 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:58:42,507 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:58:42,507 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '1' (Type = Int64)

2018-05-15 10:58:42,507 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '3' (Type = Int64, IsNullable = false)

2018-05-15 10:58:42,507 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:58:42,507 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:58:42 +08:00

2018-05-15 10:58:42,518 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 9 ms with result: SqlDataReader

2018-05-15 10:58:42,518 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:58:42,518 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:58:42 +08:00

2018-05-15 10:58:42,519 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:58:42 +08:00

2018-05-15 10:58:42,521 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 2
    ORDER BY [Project1].[CreateTime] DESC
2018-05-15 10:58:42,521 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:58:42,521 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:58:42,521 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '1' (Type = Int64)

2018-05-15 10:58:42,521 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:58:42 +08:00

2018-05-15 10:58:42,524 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 3 ms with result: SqlDataReader

2018-05-15 10:58:42,525 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:58:42,525 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:58:42 +08:00

2018-05-15 10:58:42,525 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:58:42 +08:00

2018-05-15 10:58:42,525 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:58:42,525 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:58:42,525 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:58:42,525 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:58:42 +08:00

2018-05-15 10:58:42,525 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:58:42,526 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:58:42,526 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:58:42 +08:00

2018-05-15 10:58:42,526 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:58:42 +08:00

2018-05-15 10:58:42,526 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:58:42,526 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:58:42,526 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '2' (Type = Int64, IsNullable = false)

2018-05-15 10:58:42,526 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:58:42 +08:00

2018-05-15 10:58:42,526 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:58:42,526 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:58:42,526 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:58:42 +08:00

2018-05-15 10:58:42,526 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:58:42 +08:00

2018-05-15 10:58:42,526 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:58:42,527 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:58:42,527 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:58:42,527 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:58:42 +08:00

2018-05-15 10:58:42,527 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:58:42,527 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:58:42,527 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:58:42 +08:00

2018-05-15 10:58:42,528 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:58:42 +08:00

2018-05-15 10:58:42,528 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Name] IN (N'平台发放',N'平台扣除',N'积分增加'))
2018-05-15 10:58:42,528 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:58:42,528 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:58:42 +08:00

2018-05-15 10:58:42,529 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:58:42,529 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:58:42,529 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:58:42 +08:00

2018-05-15 10:58:45,490 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:58:45 +08:00

2018-05-15 10:58:45,490 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-05-15 10:58:45,490 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:58:45,490 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'PlatformUser201805051709360001' (Type = String, Size = 4000)

2018-05-15 10:58:45,490 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:58:45 +08:00

2018-05-15 10:58:45,491 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:58:45,491 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:58:45,491 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:58:45 +08:00

2018-05-15 10:58:45,491 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:58:45 +08:00

2018-05-15 10:58:45,491 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:58:45,491 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:58:45,491 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:58:45,491 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:58:45 +08:00

2018-05-15 10:58:45,492 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:58:45,492 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:58:45,492 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:58:45 +08:00

2018-05-15 10:58:45,493 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:58:45 +08:00

2018-05-15 10:58:45,493 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-15 10:58:45,493 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:58:45,493 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:58:45 +08:00

2018-05-15 10:58:45,494 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:58:45,494 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:58:45,494 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:58:45 +08:00

2018-05-15 10:58:45,494 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:58:45 +08:00

2018-05-15 10:58:45,494 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-15 10:58:45,495 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:58:45,495 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:58:45 +08:00

2018-05-15 10:58:45,495 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:58:45,495 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:58:45,495 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:58:45 +08:00

2018-05-15 10:58:45,495 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:58:45 +08:00

2018-05-15 10:58:45,495 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1)
    )  AS [GroupBy1]
2018-05-15 10:58:45,495 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:58:45,495 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:58:45,496 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '6' (Type = Int64)

2018-05-15 10:58:45,496 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:58:45 +08:00

2018-05-15 10:58:45,496 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:58:45,496 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:58:45,496 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:58:45 +08:00

2018-05-15 10:58:45,496 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:58:45 +08:00

2018-05-15 10:58:45,496 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-15 10:58:45,496 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:58:45,497 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:58:45 +08:00

2018-05-15 10:58:45,497 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:58:45,497 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:58:45,497 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:58:45 +08:00

2018-05-15 10:58:45,497 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:58:45 +08:00

2018-05-15 10:58:45,498 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1) AND ([Extent1].[ToIntegralTypeId] = @p__linq__2) AND ([Extent1].[PlatformUserId] = @p__linq__3)
    )  AS [GroupBy1]
2018-05-15 10:58:45,498 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:58:45,498 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:58:45,498 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '6' (Type = Int64)

2018-05-15 10:58:45,498 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2' (Type = Int64, IsNullable = false)

2018-05-15 10:58:45,504 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:58:45,504 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:58:45 +08:00

2018-05-15 10:58:45,510 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 5 ms with result: SqlDataReader

2018-05-15 10:58:45,510 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:58:45,510 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:58:45 +08:00

2018-05-15 10:58:45,510 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:58:45 +08:00

2018-05-15 10:58:45,511 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1) AND ([Extent1].[ToIntegralTypeId] = @p__linq__2) AND ([Extent1].[PlatformUserId] = @p__linq__3)
    )  AS [GroupBy1]
2018-05-15 10:58:45,511 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:58:45,511 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:58:45,511 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '6' (Type = Int64)

2018-05-15 10:58:45,511 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '3' (Type = Int64, IsNullable = false)

2018-05-15 10:58:45,511 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:58:45,511 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:58:45 +08:00

2018-05-15 10:58:45,512 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:58:45,512 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:58:45,512 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:58:45 +08:00

2018-05-15 10:58:45,512 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:58:45 +08:00

2018-05-15 10:58:45,513 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-15 10:58:45,513 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:58:45,513 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:58:45,513 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '6' (Type = Int64)

2018-05-15 10:58:45,513 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:58:45 +08:00

2018-05-15 10:58:45,513 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:58:45,514 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:58:45,514 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:58:45 +08:00

2018-05-15 10:58:45,514 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:58:45 +08:00

2018-05-15 10:58:45,514 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:58:45,514 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:58:45,514 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '6' (Type = Int64, IsNullable = false)

2018-05-15 10:58:45,514 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:58:45 +08:00

2018-05-15 10:58:45,515 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:58:45,515 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:58:45,515 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:58:45 +08:00

2018-05-15 10:58:45,515 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:58:45 +08:00

2018-05-15 10:58:45,515 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:58:45,515 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:58:45,515 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:58:45,515 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:58:45 +08:00

2018-05-15 10:58:45,515 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:58:45,515 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:58:45,516 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:58:45 +08:00

2018-05-15 10:58:45,516 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:58:45 +08:00

2018-05-15 10:58:45,516 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Name] IN (N'平台发放',N'平台扣除',N'积分增加'))
2018-05-15 10:58:45,516 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:58:45,516 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:58:45 +08:00

2018-05-15 10:58:45,517 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:58:45,517 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:58:45,517 [23] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:58:45 +08:00

2018-05-15 10:59:01,970 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:59:01 +08:00

2018-05-15 10:59:01,971 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-05-15 10:59:01,971 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:01,971 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'PlatformUser201805051709360001' (Type = String, Size = 4000)

2018-05-15 10:59:01,971 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:59:01 +08:00

2018-05-15 10:59:01,971 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:59:01,972 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:01,972 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:59:01 +08:00

2018-05-15 10:59:01,972 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:59:01 +08:00

2018-05-15 10:59:01,972 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:59:01,972 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:01,972 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:59:01,972 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:59:01 +08:00

2018-05-15 10:59:01,973 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:59:01,973 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:01,973 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:59:01 +08:00

2018-05-15 10:59:01,973 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:59:01 +08:00

2018-05-15 10:59:01,974 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-15 10:59:01,974 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:01,974 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:59:01 +08:00

2018-05-15 10:59:01,974 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:59:01,974 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:01,974 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:59:01 +08:00

2018-05-15 10:59:01,974 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:59:01 +08:00

2018-05-15 10:59:01,975 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-15 10:59:01,975 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:01,975 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:59:01 +08:00

2018-05-15 10:59:01,975 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:59:01,975 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:01,975 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:59:01 +08:00

2018-05-15 10:59:01,975 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:59:01 +08:00

2018-05-15 10:59:01,975 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1)
    )  AS [GroupBy1]
2018-05-15 10:59:01,975 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:01,975 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:59:01,975 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '1' (Type = Int64)

2018-05-15 10:59:01,975 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:59:01 +08:00

2018-05-15 10:59:01,976 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:59:01,976 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:01,976 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:59:01 +08:00

2018-05-15 10:59:01,976 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:59:01 +08:00

2018-05-15 10:59:01,976 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-15 10:59:01,976 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:01,976 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:59:01 +08:00

2018-05-15 10:59:01,977 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:59:01,977 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:01,977 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:59:01 +08:00

2018-05-15 10:59:01,977 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:59:01 +08:00

2018-05-15 10:59:01,978 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1) AND ([Extent1].[ToIntegralTypeId] = @p__linq__2) AND ([Extent1].[PlatformUserId] = @p__linq__3)
    )  AS [GroupBy1]
2018-05-15 10:59:01,978 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:01,978 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:59:01,978 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '1' (Type = Int64)

2018-05-15 10:59:01,978 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '2' (Type = Int64, IsNullable = false)

2018-05-15 10:59:01,978 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:59:01,979 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:59:01 +08:00

2018-05-15 10:59:01,979 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:59:01,979 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:01,979 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:59:01 +08:00

2018-05-15 10:59:01,985 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:59:01 +08:00

2018-05-15 10:59:01,986 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1) AND ([Extent1].[ToIntegralTypeId] = @p__linq__2) AND ([Extent1].[PlatformUserId] = @p__linq__3)
    )  AS [GroupBy1]
2018-05-15 10:59:01,986 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:01,986 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:59:01,986 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '1' (Type = Int64)

2018-05-15 10:59:01,986 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__2: '3' (Type = Int64, IsNullable = false)

2018-05-15 10:59:01,986 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__3: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:59:01,986 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:59:01 +08:00

2018-05-15 10:59:01,988 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 1 ms with result: SqlDataReader

2018-05-15 10:59:01,988 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:01,988 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:59:01 +08:00

2018-05-15 10:59:01,988 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:59:01 +08:00

2018-05-15 10:59:01,992 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (1) 
    [Project1].[Id] AS [Id], 
    [Project1].[PlatformUserId] AS [PlatformUserId], 
    [Project1].[ToPlatformUserId] AS [ToPlatformUserId], 
    [Project1].[FormPlatformUserId] AS [FormPlatformUserId], 
    [Project1].[JournalTypeId] AS [JournalTypeId], 
    [Project1].[IntegralTypeId] AS [IntegralTypeId], 
    [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
    [Project1].[Journal01] AS [Journal01], 
    [Project1].[Description] AS [Description], 
    [Project1].[InIntegral] AS [InIntegral], 
    [Project1].[OutIntegral] AS [OutIntegral], 
    [Project1].[Integral] AS [Integral], 
    [Project1].[Amount] AS [Amount], 
    [Project1].[Tip] AS [Tip], 
    [Project1].[CreateTime] AS [CreateTime], 
    [Project1].[IsDeleted] AS [IsDeleted]
    FROM ( SELECT [Project1].[Id] AS [Id], [Project1].[PlatformUserId] AS [PlatformUserId], [Project1].[ToPlatformUserId] AS [ToPlatformUserId], [Project1].[FormPlatformUserId] AS [FormPlatformUserId], [Project1].[JournalTypeId] AS [JournalTypeId], [Project1].[IntegralTypeId] AS [IntegralTypeId], [Project1].[ToIntegralTypeId] AS [ToIntegralTypeId], [Project1].[Journal01] AS [Journal01], [Project1].[Description] AS [Description], [Project1].[InIntegral] AS [InIntegral], [Project1].[OutIntegral] AS [OutIntegral], [Project1].[Integral] AS [Integral], [Project1].[Amount] AS [Amount], [Project1].[Tip] AS [Tip], [Project1].[CreateTime] AS [CreateTime], [Project1].[IsDeleted] AS [IsDeleted], row_number() OVER (ORDER BY [Project1].[CreateTime] DESC) AS [row_number]
        FROM ( SELECT 
            [Extent1].[Id] AS [Id], 
            [Extent1].[PlatformUserId] AS [PlatformUserId], 
            [Extent1].[ToPlatformUserId] AS [ToPlatformUserId], 
            [Extent1].[FormPlatformUserId] AS [FormPlatformUserId], 
            [Extent1].[JournalTypeId] AS [JournalTypeId], 
            [Extent1].[IntegralTypeId] AS [IntegralTypeId], 
            [Extent1].[ToIntegralTypeId] AS [ToIntegralTypeId], 
            [Extent1].[Journal01] AS [Journal01], 
            [Extent1].[Description] AS [Description], 
            [Extent1].[InIntegral] AS [InIntegral], 
            [Extent1].[OutIntegral] AS [OutIntegral], 
            [Extent1].[Integral] AS [Integral], 
            [Extent1].[Amount] AS [Amount], 
            [Extent1].[Tip] AS [Tip], 
            [Extent1].[CreateTime] AS [CreateTime], 
            [Extent1].[IsDeleted] AS [IsDeleted]
            FROM [dbo].[T_Journals] AS [Extent1]
            WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1)
        )  AS [Project1]
    )  AS [Project1]
    WHERE [Project1].[row_number] > 0
    ORDER BY [Project1].[CreateTime] DESC
2018-05-15 10:59:01,992 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:01,992 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:59:01,992 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '1' (Type = Int64)

2018-05-15 10:59:01,992 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:59:01 +08:00

2018-05-15 10:59:01,993 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:59:01,993 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:01,994 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:59:01 +08:00

2018-05-15 10:59:01,994 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:59:01 +08:00

2018-05-15 10:59:01,994 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:59:01,994 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:01,994 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:59:01,994 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:59:01 +08:00

2018-05-15 10:59:01,995 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:59:01,995 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:01,995 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:59:01 +08:00

2018-05-15 10:59:01,995 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:59:01 +08:00

2018-05-15 10:59:01,995 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:59:01,995 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:01,995 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '3' (Type = Int64, IsNullable = false)

2018-05-15 10:59:01,995 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:59:01 +08:00

2018-05-15 10:59:01,996 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:59:01,996 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:01,996 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:59:01 +08:00

2018-05-15 10:59:01,996 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:59:01 +08:00

2018-05-15 10:59:01,996 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:59:01,996 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:01,996 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:59:01,996 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:59:01 +08:00

2018-05-15 10:59:01,996 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:59:01,997 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:01,997 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:59:01 +08:00

2018-05-15 10:59:01,997 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:59:01 +08:00

2018-05-15 10:59:01,997 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Platform] AS [Platform], 
    [Extent1].[Merchant] AS [Merchant], 
    [Extent1].[Customer] AS [Customer], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_JournalTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Name] IN (N'平台发放',N'平台扣除',N'积分增加'))
2018-05-15 10:59:01,997 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:01,997 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:59:01 +08:00

2018-05-15 10:59:01,998 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:59:01,998 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:01,998 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:59:01 +08:00

2018-05-15 10:59:09,002 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:59:09 +08:00

2018-05-15 10:59:09,002 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[Mobile] = @p__linq__0)
2018-05-15 10:59:09,002 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:09,002 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: 'PlatformUser201805051709360001' (Type = String, Size = 4000)

2018-05-15 10:59:09,002 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:59:09 +08:00

2018-05-15 10:59:09,003 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:59:09,003 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:09,003 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:59:09 +08:00

2018-05-15 10:59:09,003 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:59:09 +08:00

2018-05-15 10:59:09,003 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUserTypes] AS [Extent1]
    WHERE [Extent1].[Id] = @EntityKeyValue1
2018-05-15 10:59:09,004 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:09,004 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- EntityKeyValue1: '1' (Type = Int64, IsNullable = false)

2018-05-15 10:59:09,004 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:59:09 +08:00

2018-05-15 10:59:09,004 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:59:09,004 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:09,004 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:59:09 +08:00

2018-05-15 10:59:09,005 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:59:09 +08:00

2018-05-15 10:59:09,005 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'商家积分' = [Extent1].[Name])
2018-05-15 10:59:09,005 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:09,005 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:59:09 +08:00

2018-05-15 10:59:09,005 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:59:09,006 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:09,006 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:59:09 +08:00

2018-05-15 10:59:09,006 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection at 2018/5/15 10:59:09 +08:00

2018-05-15 10:59:09,006 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Name] AS [Name], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_IntegralTypes] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'消费积分' = [Extent1].[Name])
2018-05-15 10:59:09,006 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:09,006 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing at 2018/5/15 10:59:09 +08:00

2018-05-15 10:59:09,006 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:59:09,006 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:09,006 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:59:09 +08:00

2018-05-15 10:59:09,006 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:59:09 +08:00

2018-05-15 10:59:09,007 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        COUNT_BIG(1) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1)
    )  AS [GroupBy1]
2018-05-15 10:59:09,007 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:09,007 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

2018-05-15 10:59:09,007 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__1: '2' (Type = Int64)

2018-05-15 10:59:09,007 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:59:09 +08:00

2018-05-15 10:59:09,007 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:59:09,007 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:09,007 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:59:09 +08:00

2018-05-15 10:59:09,008 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:59:09 +08:00

2018-05-15 10:59:09,008 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT TOP (2) 
    [Extent1].[Id] AS [Id], 
    [Extent1].[Mobile] AS [Mobile], 
    [Extent1].[Code] AS [Code], 
    [Extent1].[Description] AS [Description], 
    [Extent1].[PlatformIntegral] AS [PlatformIntegral], 
    [Extent1].[GivingIntegral] AS [GivingIntegral], 
    [Extent1].[UseIntegral] AS [UseIntegral], 
    [Extent1].[Salt] AS [Salt], 
    [Extent1].[Password] AS [Password], 
    [Extent1].[TradePassword] AS [TradePassword], 
    [Extent1].[ErrorCount] AS [ErrorCount], 
    [Extent1].[ErrorTime] AS [ErrorTime], 
    [Extent1].[IsEnabled] AS [IsEnabled], 
    [Extent1].[PlatformUserTypeId] AS [PlatformUserTypeId], 
    [Extent1].[CreateTime] AS [CreateTime], 
    [Extent1].[IsDeleted] AS [IsDeleted]
    FROM [dbo].[T_PlatformUsers] AS [Extent1]
    WHERE (0 = [Extent1].[IsDeleted]) AND (N'PlatformUser201805051709360001' = [Extent1].[Mobile])
2018-05-15 10:59:09,008 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:09,008 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Executing asynchronously at 2018/5/15 10:59:09 +08:00

2018-05-15 10:59:09,008 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- Completed in 0 ms with result: SqlDataReader

2018-05-15 10:59:09,008 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:09,008 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Closed connection at 2018/5/15 10:59:09 +08:00

2018-05-15 10:59:09,009 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：Opened connection asynchronously at 2018/5/15 10:59:09 +08:00

2018-05-15 10:59:09,014 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：SELECT 
    [GroupBy1].[A1] AS [C1]
    FROM ( SELECT 
        SUM([Extent1].[OutIntegral]) AS [A1]
        FROM [dbo].[T_Journals] AS [Extent1]
        WHERE (0 = [Extent1].[IsDeleted]) AND ([Extent1].[PlatformUserId] = @p__linq__0) AND ([Extent1].[JournalTypeId] = @p__linq__1) AND ([Extent1].[ToIntegralTypeId] = @p__linq__2) AND ([Extent1].[PlatformUserId] = @p__linq__3)
    )  AS [GroupBy1]
2018-05-15 10:59:09,014 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：

2018-05-15 10:59:09,014 [16] DEBUG IMS.Service.MyDbContext - EF执行SQL：-- p__linq__0: '1' (Type = Int64)

